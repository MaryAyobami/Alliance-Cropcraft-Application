var Ey=Object.defineProperty;var Ty=(e,t,s)=>t in e?Ey(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s;var U=(e,t,s)=>(Ty(e,typeof t!="symbol"?t+"":t,s),s);function Dy(e,t){for(var s=0;s<t.length;s++){const n=t[s];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function s(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=s(i);fetch(i.href,a)}})();function Ry(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Lx={exports:{}},uo={},Fx={exports:{}},ne={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ea=Symbol.for("react.element"),Ly=Symbol.for("react.portal"),Fy=Symbol.for("react.fragment"),Ay=Symbol.for("react.strict_mode"),Oy=Symbol.for("react.profiler"),zy=Symbol.for("react.provider"),Iy=Symbol.for("react.context"),By=Symbol.for("react.forward_ref"),Wy=Symbol.for("react.suspense"),Hy=Symbol.for("react.memo"),Uy=Symbol.for("react.lazy"),bh=Symbol.iterator;function $y(e){return e===null||typeof e!="object"?null:(e=bh&&e[bh]||e["@@iterator"],typeof e=="function"?e:null)}var Ax={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ox=Object.assign,zx={};function Er(e,t,s){this.props=e,this.context=t,this.refs=zx,this.updater=s||Ax}Er.prototype.isReactComponent={};Er.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Er.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Ix(){}Ix.prototype=Er.prototype;function Xd(e,t,s){this.props=e,this.context=t,this.refs=zx,this.updater=s||Ax}var Qd=Xd.prototype=new Ix;Qd.constructor=Xd;Ox(Qd,Er.prototype);Qd.isPureReactComponent=!0;var jh=Array.isArray,Bx=Object.prototype.hasOwnProperty,Kd={current:null},Wx={key:!0,ref:!0,__self:!0,__source:!0};function Hx(e,t,s){var n,i={},a=null,l=null;if(t!=null)for(n in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(a=""+t.key),t)Bx.call(t,n)&&!Wx.hasOwnProperty(n)&&(i[n]=t[n]);var o=arguments.length-2;if(o===1)i.children=s;else if(1<o){for(var c=Array(o),d=0;d<o;d++)c[d]=arguments[d+2];i.children=c}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)i[n]===void 0&&(i[n]=o[n]);return{$$typeof:ea,type:e,key:a,ref:l,props:i,_owner:Kd.current}}function Vy(e,t){return{$$typeof:ea,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Gd(e){return typeof e=="object"&&e!==null&&e.$$typeof===ea}function Yy(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(s){return t[s]})}var wh=/\/+/g;function Ho(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Yy(""+e.key):t.toString(36)}function Qa(e,t,s,n,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case ea:case Ly:l=!0}}if(l)return l=e,i=i(l),e=n===""?"."+Ho(l,0):n,jh(i)?(s="",e!=null&&(s=e.replace(wh,"$&/")+"/"),Qa(i,t,s,"",function(d){return d})):i!=null&&(Gd(i)&&(i=Vy(i,s+(!i.key||l&&l.key===i.key?"":(""+i.key).replace(wh,"$&/")+"/")+e)),t.push(i)),1;if(l=0,n=n===""?".":n+":",jh(e))for(var o=0;o<e.length;o++){a=e[o];var c=n+Ho(a,o);l+=Qa(a,t,s,c,i)}else if(c=$y(e),typeof c=="function")for(e=c.call(e),o=0;!(a=e.next()).done;)a=a.value,c=n+Ho(a,o++),l+=Qa(a,t,s,c,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function ma(e,t,s){if(e==null)return e;var n=[],i=0;return Qa(e,n,"","",function(a){return t.call(s,a,i++)}),n}function qy(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(s){(e._status===0||e._status===-1)&&(e._status=1,e._result=s)},function(s){(e._status===0||e._status===-1)&&(e._status=2,e._result=s)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var st={current:null},Ka={transition:null},Xy={ReactCurrentDispatcher:st,ReactCurrentBatchConfig:Ka,ReactCurrentOwner:Kd};function Ux(){throw Error("act(...) is not supported in production builds of React.")}ne.Children={map:ma,forEach:function(e,t,s){ma(e,function(){t.apply(this,arguments)},s)},count:function(e){var t=0;return ma(e,function(){t++}),t},toArray:function(e){return ma(e,function(t){return t})||[]},only:function(e){if(!Gd(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ne.Component=Er;ne.Fragment=Fy;ne.Profiler=Oy;ne.PureComponent=Xd;ne.StrictMode=Ay;ne.Suspense=Wy;ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Xy;ne.act=Ux;ne.cloneElement=function(e,t,s){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Ox({},e.props),i=e.key,a=e.ref,l=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,l=Kd.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in t)Bx.call(t,c)&&!Wx.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&o!==void 0?o[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=s;else if(1<c){o=Array(c);for(var d=0;d<c;d++)o[d]=arguments[d+2];n.children=o}return{$$typeof:ea,type:e.type,key:i,ref:a,props:n,_owner:l}};ne.createContext=function(e){return e={$$typeof:Iy,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:zy,_context:e},e.Consumer=e};ne.createElement=Hx;ne.createFactory=function(e){var t=Hx.bind(null,e);return t.type=e,t};ne.createRef=function(){return{current:null}};ne.forwardRef=function(e){return{$$typeof:By,render:e}};ne.isValidElement=Gd;ne.lazy=function(e){return{$$typeof:Uy,_payload:{_status:-1,_result:e},_init:qy}};ne.memo=function(e,t){return{$$typeof:Hy,type:e,compare:t===void 0?null:t}};ne.startTransition=function(e){var t=Ka.transition;Ka.transition={};try{e()}finally{Ka.transition=t}};ne.unstable_act=Ux;ne.useCallback=function(e,t){return st.current.useCallback(e,t)};ne.useContext=function(e){return st.current.useContext(e)};ne.useDebugValue=function(){};ne.useDeferredValue=function(e){return st.current.useDeferredValue(e)};ne.useEffect=function(e,t){return st.current.useEffect(e,t)};ne.useId=function(){return st.current.useId()};ne.useImperativeHandle=function(e,t,s){return st.current.useImperativeHandle(e,t,s)};ne.useInsertionEffect=function(e,t){return st.current.useInsertionEffect(e,t)};ne.useLayoutEffect=function(e,t){return st.current.useLayoutEffect(e,t)};ne.useMemo=function(e,t){return st.current.useMemo(e,t)};ne.useReducer=function(e,t,s){return st.current.useReducer(e,t,s)};ne.useRef=function(e){return st.current.useRef(e)};ne.useState=function(e){return st.current.useState(e)};ne.useSyncExternalStore=function(e,t,s){return st.current.useSyncExternalStore(e,t,s)};ne.useTransition=function(){return st.current.useTransition()};ne.version="18.3.1";Fx.exports=ne;var N=Fx.exports;const ta=Ry(N),Qy=Dy({__proto__:null,default:ta},[N]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ky=N,Gy=Symbol.for("react.element"),Jy=Symbol.for("react.fragment"),Zy=Object.prototype.hasOwnProperty,ev=Ky.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,tv={key:!0,ref:!0,__self:!0,__source:!0};function $x(e,t,s){var n,i={},a=null,l=null;s!==void 0&&(a=""+s),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(l=t.ref);for(n in t)Zy.call(t,n)&&!tv.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:Gy,type:e,key:a,ref:l,props:i,_owner:ev.current}}uo.Fragment=Jy;uo.jsx=$x;uo.jsxs=$x;Lx.exports=uo;var r=Lx.exports,Rc={},Vx={exports:{}},jt={},Yx={exports:{}},qx={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(M,F){var B=M.length;M.push(F);e:for(;0<B;){var D=B-1>>>1,q=M[D];if(0<i(q,F))M[D]=F,M[B]=q,B=D;else break e}}function s(M){return M.length===0?null:M[0]}function n(M){if(M.length===0)return null;var F=M[0],B=M.pop();if(B!==F){M[0]=B;e:for(var D=0,q=M.length,R=q>>>1;D<R;){var Y=2*(D+1)-1,Z=M[Y],J=Y+1,z=M[J];if(0>i(Z,B))J<q&&0>i(z,Z)?(M[D]=z,M[J]=B,D=J):(M[D]=Z,M[Y]=B,D=Y);else if(J<q&&0>i(z,B))M[D]=z,M[J]=B,D=J;else break e}}return F}function i(M,F){var B=M.sortIndex-F.sortIndex;return B!==0?B:M.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var l=Date,o=l.now();e.unstable_now=function(){return l.now()-o}}var c=[],d=[],u=1,h=null,f=3,v=!1,p=!1,y=!1,b=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(M){for(var F=s(d);F!==null;){if(F.callback===null)n(d);else if(F.startTime<=M)n(d),F.sortIndex=F.expirationTime,t(c,F);else break;F=s(d)}}function j(M){if(y=!1,g(M),!p)if(s(c)!==null)p=!0,P(w);else{var F=s(d);F!==null&&W(j,F.startTime-M)}}function w(M,F){p=!1,y&&(y=!1,m(S),S=-1),v=!0;var B=f;try{for(g(F),h=s(c);h!==null&&(!(h.expirationTime>F)||M&&!C());){var D=h.callback;if(typeof D=="function"){h.callback=null,f=h.priorityLevel;var q=D(h.expirationTime<=F);F=e.unstable_now(),typeof q=="function"?h.callback=q:h===s(c)&&n(c),g(F)}else n(c);h=s(c)}if(h!==null)var R=!0;else{var Y=s(d);Y!==null&&W(j,Y.startTime-F),R=!1}return R}finally{h=null,f=B,v=!1}}var _=!1,k=null,S=-1,A=5,O=-1;function C(){return!(e.unstable_now()-O<A)}function L(){if(k!==null){var M=e.unstable_now();O=M;var F=!0;try{F=k(!0,M)}finally{F?V():(_=!1,k=null)}}else _=!1}var V;if(typeof x=="function")V=function(){x(L)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,H=K.port2;K.port1.onmessage=L,V=function(){H.postMessage(null)}}else V=function(){b(L,0)};function P(M){k=M,_||(_=!0,V())}function W(M,F){S=b(function(){M(e.unstable_now())},F)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(M){M.callback=null},e.unstable_continueExecution=function(){p||v||(p=!0,P(w))},e.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<M?Math.floor(1e3/M):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return s(c)},e.unstable_next=function(M){switch(f){case 1:case 2:case 3:var F=3;break;default:F=f}var B=f;f=F;try{return M()}finally{f=B}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(M,F){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var B=f;f=M;try{return F()}finally{f=B}},e.unstable_scheduleCallback=function(M,F,B){var D=e.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?D+B:D):B=D,M){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=B+q,M={id:u++,callback:F,priorityLevel:M,startTime:B,expirationTime:q,sortIndex:-1},B>D?(M.sortIndex=B,t(d,M),s(c)===null&&M===s(d)&&(y?(m(S),S=-1):y=!0,W(j,B-D))):(M.sortIndex=q,t(c,M),p||v||(p=!0,P(w))),M},e.unstable_shouldYield=C,e.unstable_wrapCallback=function(M){var F=f;return function(){var B=f;f=F;try{return M.apply(this,arguments)}finally{f=B}}}})(qx);Yx.exports=qx;var sv=Yx.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nv=N,bt=sv;function I(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=1;s<arguments.length;s++)t+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Xx=new Set,ki={};function Vn(e,t){br(e,t),br(e+"Capture",t)}function br(e,t){for(ki[e]=t,e=0;e<t.length;e++)Xx.add(t[e])}var vs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Lc=Object.prototype.hasOwnProperty,rv=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Nh={},_h={};function iv(e){return Lc.call(_h,e)?!0:Lc.call(Nh,e)?!1:rv.test(e)?_h[e]=!0:(Nh[e]=!0,!1)}function av(e,t,s,n){if(s!==null&&s.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:s!==null?!s.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function lv(e,t,s,n){if(t===null||typeof t>"u"||av(e,t,s,n))return!0;if(n)return!1;if(s!==null)switch(s.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function nt(e,t,s,n,i,a,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=s,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=l}var Ue={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ue[e]=new nt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ue[t]=new nt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ue[e]=new nt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ue[e]=new nt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ue[e]=new nt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ue[e]=new nt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ue[e]=new nt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ue[e]=new nt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ue[e]=new nt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Jd=/[\-:]([a-z])/g;function Zd(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Jd,Zd);Ue[t]=new nt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Jd,Zd);Ue[t]=new nt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Jd,Zd);Ue[t]=new nt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ue[e]=new nt(e,1,!1,e.toLowerCase(),null,!1,!1)});Ue.xlinkHref=new nt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ue[e]=new nt(e,1,!1,e.toLowerCase(),null,!0,!0)});function eu(e,t,s,n){var i=Ue.hasOwnProperty(t)?Ue[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(lv(t,s,i,n)&&(s=null),n||i===null?iv(t)&&(s===null?e.removeAttribute(t):e.setAttribute(t,""+s)):i.mustUseProperty?e[i.propertyName]=s===null?i.type===3?!1:"":s:(t=i.attributeName,n=i.attributeNamespace,s===null?e.removeAttribute(t):(i=i.type,s=i===3||i===4&&s===!0?"":""+s,n?e.setAttributeNS(n,t,s):e.setAttribute(t,s))))}var _s=nv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,fa=Symbol.for("react.element"),er=Symbol.for("react.portal"),tr=Symbol.for("react.fragment"),tu=Symbol.for("react.strict_mode"),Fc=Symbol.for("react.profiler"),Qx=Symbol.for("react.provider"),Kx=Symbol.for("react.context"),su=Symbol.for("react.forward_ref"),Ac=Symbol.for("react.suspense"),Oc=Symbol.for("react.suspense_list"),nu=Symbol.for("react.memo"),Ms=Symbol.for("react.lazy"),Gx=Symbol.for("react.offscreen"),kh=Symbol.iterator;function Ir(e){return e===null||typeof e!="object"?null:(e=kh&&e[kh]||e["@@iterator"],typeof e=="function"?e:null)}var we=Object.assign,Uo;function si(e){if(Uo===void 0)try{throw Error()}catch(s){var t=s.stack.trim().match(/\n( *(at )?)/);Uo=t&&t[1]||""}return`
`+Uo+e}var $o=!1;function Vo(e,t){if(!e||$o)return"";$o=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var n=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){n=d}e.call(t.prototype)}else{try{throw Error()}catch(d){n=d}e()}}catch(d){if(d&&n&&typeof d.stack=="string"){for(var i=d.stack.split(`
`),a=n.stack.split(`
`),l=i.length-1,o=a.length-1;1<=l&&0<=o&&i[l]!==a[o];)o--;for(;1<=l&&0<=o;l--,o--)if(i[l]!==a[o]){if(l!==1||o!==1)do if(l--,o--,0>o||i[l]!==a[o]){var c=`
`+i[l].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=l&&0<=o);break}}}finally{$o=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:"")?si(e):""}function ov(e){switch(e.tag){case 5:return si(e.type);case 16:return si("Lazy");case 13:return si("Suspense");case 19:return si("SuspenseList");case 0:case 2:case 15:return e=Vo(e.type,!1),e;case 11:return e=Vo(e.type.render,!1),e;case 1:return e=Vo(e.type,!0),e;default:return""}}function zc(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case tr:return"Fragment";case er:return"Portal";case Fc:return"Profiler";case tu:return"StrictMode";case Ac:return"Suspense";case Oc:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Kx:return(e.displayName||"Context")+".Consumer";case Qx:return(e._context.displayName||"Context")+".Provider";case su:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case nu:return t=e.displayName||null,t!==null?t:zc(e.type)||"Memo";case Ms:t=e._payload,e=e._init;try{return zc(e(t))}catch{}}return null}function cv(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return zc(t);case 8:return t===tu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Zs(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Jx(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function dv(e){var t=Jx(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var i=s.get,a=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(l){n=""+l,a.call(this,l)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return n},setValue:function(l){n=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function xa(e){e._valueTracker||(e._valueTracker=dv(e))}function Zx(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var s=t.getValue(),n="";return e&&(n=Jx(e)?e.checked?"true":"false":e.value),e=n,e!==s?(t.setValue(e),!0):!1}function vl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ic(e,t){var s=t.checked;return we({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??e._wrapperState.initialChecked})}function Sh(e,t){var s=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;s=Zs(t.value!=null?t.value:s),e._wrapperState={initialChecked:n,initialValue:s,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function ep(e,t){t=t.checked,t!=null&&eu(e,"checked",t,!1)}function Bc(e,t){ep(e,t);var s=Zs(t.value),n=t.type;if(s!=null)n==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+s):e.value!==""+s&&(e.value=""+s);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Wc(e,t.type,s):t.hasOwnProperty("defaultValue")&&Wc(e,t.type,Zs(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Ch(e,t,s){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,s||t===e.value||(e.value=t),e.defaultValue=t}s=e.name,s!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,s!==""&&(e.name=s)}function Wc(e,t,s){(t!=="number"||vl(e.ownerDocument)!==e)&&(s==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+s&&(e.defaultValue=""+s))}var ni=Array.isArray;function hr(e,t,s,n){if(e=e.options,t){t={};for(var i=0;i<s.length;i++)t["$"+s[i]]=!0;for(s=0;s<e.length;s++)i=t.hasOwnProperty("$"+e[s].value),e[s].selected!==i&&(e[s].selected=i),i&&n&&(e[s].defaultSelected=!0)}else{for(s=""+Zs(s),t=null,i=0;i<e.length;i++){if(e[i].value===s){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Hc(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(I(91));return we({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ph(e,t){var s=t.value;if(s==null){if(s=t.children,t=t.defaultValue,s!=null){if(t!=null)throw Error(I(92));if(ni(s)){if(1<s.length)throw Error(I(93));s=s[0]}t=s}t==null&&(t=""),s=t}e._wrapperState={initialValue:Zs(s)}}function tp(e,t){var s=Zs(t.value),n=Zs(t.defaultValue);s!=null&&(s=""+s,s!==e.value&&(e.value=s),t.defaultValue==null&&e.defaultValue!==s&&(e.defaultValue=s)),n!=null&&(e.defaultValue=""+n)}function Mh(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function sp(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Uc(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?sp(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var pa,np=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,s,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,s,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(pa=pa||document.createElement("div"),pa.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=pa.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Si(e,t){if(t){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=t;return}}e.textContent=t}var hi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},uv=["Webkit","ms","Moz","O"];Object.keys(hi).forEach(function(e){uv.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),hi[t]=hi[e]})});function rp(e,t,s){return t==null||typeof t=="boolean"||t===""?"":s||typeof t!="number"||t===0||hi.hasOwnProperty(e)&&hi[e]?(""+t).trim():t+"px"}function ip(e,t){e=e.style;for(var s in t)if(t.hasOwnProperty(s)){var n=s.indexOf("--")===0,i=rp(s,t[s],n);s==="float"&&(s="cssFloat"),n?e.setProperty(s,i):e[s]=i}}var hv=we({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function $c(e,t){if(t){if(hv[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(I(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(I(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(I(61))}if(t.style!=null&&typeof t.style!="object")throw Error(I(62))}}function Vc(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Yc=null;function ru(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var qc=null,mr=null,fr=null;function Eh(e){if(e=ra(e)){if(typeof qc!="function")throw Error(I(280));var t=e.stateNode;t&&(t=po(t),qc(e.stateNode,e.type,t))}}function ap(e){mr?fr?fr.push(e):fr=[e]:mr=e}function lp(){if(mr){var e=mr,t=fr;if(fr=mr=null,Eh(e),t)for(e=0;e<t.length;e++)Eh(t[e])}}function op(e,t){return e(t)}function cp(){}var Yo=!1;function dp(e,t,s){if(Yo)return e(t,s);Yo=!0;try{return op(e,t,s)}finally{Yo=!1,(mr!==null||fr!==null)&&(cp(),lp())}}function Ci(e,t){var s=e.stateNode;if(s===null)return null;var n=po(s);if(n===null)return null;s=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(I(231,t,typeof s));return s}var Xc=!1;if(vs)try{var Br={};Object.defineProperty(Br,"passive",{get:function(){Xc=!0}}),window.addEventListener("test",Br,Br),window.removeEventListener("test",Br,Br)}catch{Xc=!1}function mv(e,t,s,n,i,a,l,o,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(s,d)}catch(u){this.onError(u)}}var mi=!1,bl=null,jl=!1,Qc=null,fv={onError:function(e){mi=!0,bl=e}};function xv(e,t,s,n,i,a,l,o,c){mi=!1,bl=null,mv.apply(fv,arguments)}function pv(e,t,s,n,i,a,l,o,c){if(xv.apply(this,arguments),mi){if(mi){var d=bl;mi=!1,bl=null}else throw Error(I(198));jl||(jl=!0,Qc=d)}}function Yn(e){var t=e,s=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(s=t.return),e=t.return;while(e)}return t.tag===3?s:null}function up(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Th(e){if(Yn(e)!==e)throw Error(I(188))}function gv(e){var t=e.alternate;if(!t){if(t=Yn(e),t===null)throw Error(I(188));return t!==e?null:e}for(var s=e,n=t;;){var i=s.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){s=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===s)return Th(i),e;if(a===n)return Th(i),t;a=a.sibling}throw Error(I(188))}if(s.return!==n.return)s=i,n=a;else{for(var l=!1,o=i.child;o;){if(o===s){l=!0,s=i,n=a;break}if(o===n){l=!0,n=i,s=a;break}o=o.sibling}if(!l){for(o=a.child;o;){if(o===s){l=!0,s=a,n=i;break}if(o===n){l=!0,n=a,s=i;break}o=o.sibling}if(!l)throw Error(I(189))}}if(s.alternate!==n)throw Error(I(190))}if(s.tag!==3)throw Error(I(188));return s.stateNode.current===s?e:t}function hp(e){return e=gv(e),e!==null?mp(e):null}function mp(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=mp(e);if(t!==null)return t;e=e.sibling}return null}var fp=bt.unstable_scheduleCallback,Dh=bt.unstable_cancelCallback,yv=bt.unstable_shouldYield,vv=bt.unstable_requestPaint,Se=bt.unstable_now,bv=bt.unstable_getCurrentPriorityLevel,iu=bt.unstable_ImmediatePriority,xp=bt.unstable_UserBlockingPriority,wl=bt.unstable_NormalPriority,jv=bt.unstable_LowPriority,pp=bt.unstable_IdlePriority,ho=null,ts=null;function wv(e){if(ts&&typeof ts.onCommitFiberRoot=="function")try{ts.onCommitFiberRoot(ho,e,void 0,(e.current.flags&128)===128)}catch{}}var It=Math.clz32?Math.clz32:kv,Nv=Math.log,_v=Math.LN2;function kv(e){return e>>>=0,e===0?32:31-(Nv(e)/_v|0)|0}var ga=64,ya=4194304;function ri(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Nl(e,t){var s=e.pendingLanes;if(s===0)return 0;var n=0,i=e.suspendedLanes,a=e.pingedLanes,l=s&268435455;if(l!==0){var o=l&~i;o!==0?n=ri(o):(a&=l,a!==0&&(n=ri(a)))}else l=s&~i,l!==0?n=ri(l):a!==0&&(n=ri(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(n&4&&(n|=s&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)s=31-It(t),i=1<<s,n|=e[s],t&=~i;return n}function Sv(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Cv(e,t){for(var s=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var l=31-It(a),o=1<<l,c=i[l];c===-1?(!(o&s)||o&n)&&(i[l]=Sv(o,t)):c<=t&&(e.expiredLanes|=o),a&=~o}}function Kc(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function gp(){var e=ga;return ga<<=1,!(ga&4194240)&&(ga=64),e}function qo(e){for(var t=[],s=0;31>s;s++)t.push(e);return t}function sa(e,t,s){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-It(t),e[t]=s}function Pv(e,t){var s=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<s;){var i=31-It(s),a=1<<i;t[i]=0,n[i]=-1,e[i]=-1,s&=~a}}function au(e,t){var s=e.entangledLanes|=t;for(e=e.entanglements;s;){var n=31-It(s),i=1<<n;i&t|e[n]&t&&(e[n]|=t),s&=~i}}var ue=0;function yp(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var vp,lu,bp,jp,wp,Gc=!1,va=[],Us=null,$s=null,Vs=null,Pi=new Map,Mi=new Map,Ts=[],Mv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Rh(e,t){switch(e){case"focusin":case"focusout":Us=null;break;case"dragenter":case"dragleave":$s=null;break;case"mouseover":case"mouseout":Vs=null;break;case"pointerover":case"pointerout":Pi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mi.delete(t.pointerId)}}function Wr(e,t,s,n,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:s,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},t!==null&&(t=ra(t),t!==null&&lu(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Ev(e,t,s,n,i){switch(t){case"focusin":return Us=Wr(Us,e,t,s,n,i),!0;case"dragenter":return $s=Wr($s,e,t,s,n,i),!0;case"mouseover":return Vs=Wr(Vs,e,t,s,n,i),!0;case"pointerover":var a=i.pointerId;return Pi.set(a,Wr(Pi.get(a)||null,e,t,s,n,i)),!0;case"gotpointercapture":return a=i.pointerId,Mi.set(a,Wr(Mi.get(a)||null,e,t,s,n,i)),!0}return!1}function Np(e){var t=_n(e.target);if(t!==null){var s=Yn(t);if(s!==null){if(t=s.tag,t===13){if(t=up(s),t!==null){e.blockedOn=t,wp(e.priority,function(){bp(s)});return}}else if(t===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ga(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var s=Jc(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(s===null){s=e.nativeEvent;var n=new s.constructor(s.type,s);Yc=n,s.target.dispatchEvent(n),Yc=null}else return t=ra(s),t!==null&&lu(t),e.blockedOn=s,!1;t.shift()}return!0}function Lh(e,t,s){Ga(e)&&s.delete(t)}function Tv(){Gc=!1,Us!==null&&Ga(Us)&&(Us=null),$s!==null&&Ga($s)&&($s=null),Vs!==null&&Ga(Vs)&&(Vs=null),Pi.forEach(Lh),Mi.forEach(Lh)}function Hr(e,t){e.blockedOn===t&&(e.blockedOn=null,Gc||(Gc=!0,bt.unstable_scheduleCallback(bt.unstable_NormalPriority,Tv)))}function Ei(e){function t(i){return Hr(i,e)}if(0<va.length){Hr(va[0],e);for(var s=1;s<va.length;s++){var n=va[s];n.blockedOn===e&&(n.blockedOn=null)}}for(Us!==null&&Hr(Us,e),$s!==null&&Hr($s,e),Vs!==null&&Hr(Vs,e),Pi.forEach(t),Mi.forEach(t),s=0;s<Ts.length;s++)n=Ts[s],n.blockedOn===e&&(n.blockedOn=null);for(;0<Ts.length&&(s=Ts[0],s.blockedOn===null);)Np(s),s.blockedOn===null&&Ts.shift()}var xr=_s.ReactCurrentBatchConfig,_l=!0;function Dv(e,t,s,n){var i=ue,a=xr.transition;xr.transition=null;try{ue=1,ou(e,t,s,n)}finally{ue=i,xr.transition=a}}function Rv(e,t,s,n){var i=ue,a=xr.transition;xr.transition=null;try{ue=4,ou(e,t,s,n)}finally{ue=i,xr.transition=a}}function ou(e,t,s,n){if(_l){var i=Jc(e,t,s,n);if(i===null)nc(e,t,n,kl,s),Rh(e,n);else if(Ev(i,e,t,s,n))n.stopPropagation();else if(Rh(e,n),t&4&&-1<Mv.indexOf(e)){for(;i!==null;){var a=ra(i);if(a!==null&&vp(a),a=Jc(e,t,s,n),a===null&&nc(e,t,n,kl,s),a===i)break;i=a}i!==null&&n.stopPropagation()}else nc(e,t,n,null,s)}}var kl=null;function Jc(e,t,s,n){if(kl=null,e=ru(n),e=_n(e),e!==null)if(t=Yn(e),t===null)e=null;else if(s=t.tag,s===13){if(e=up(t),e!==null)return e;e=null}else if(s===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return kl=e,null}function _p(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(bv()){case iu:return 1;case xp:return 4;case wl:case jv:return 16;case pp:return 536870912;default:return 16}default:return 16}}var Rs=null,cu=null,Ja=null;function kp(){if(Ja)return Ja;var e,t=cu,s=t.length,n,i="value"in Rs?Rs.value:Rs.textContent,a=i.length;for(e=0;e<s&&t[e]===i[e];e++);var l=s-e;for(n=1;n<=l&&t[s-n]===i[a-n];n++);return Ja=i.slice(e,1<n?1-n:void 0)}function Za(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ba(){return!0}function Fh(){return!1}function wt(e){function t(s,n,i,a,l){this._reactName=s,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=l,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(s=e[o],this[o]=s?s(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?ba:Fh,this.isPropagationStopped=Fh,this}return we(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=ba)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=ba)},persist:function(){},isPersistent:ba}),t}var Tr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},du=wt(Tr),na=we({},Tr,{view:0,detail:0}),Lv=wt(na),Xo,Qo,Ur,mo=we({},na,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:uu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ur&&(Ur&&e.type==="mousemove"?(Xo=e.screenX-Ur.screenX,Qo=e.screenY-Ur.screenY):Qo=Xo=0,Ur=e),Xo)},movementY:function(e){return"movementY"in e?e.movementY:Qo}}),Ah=wt(mo),Fv=we({},mo,{dataTransfer:0}),Av=wt(Fv),Ov=we({},na,{relatedTarget:0}),Ko=wt(Ov),zv=we({},Tr,{animationName:0,elapsedTime:0,pseudoElement:0}),Iv=wt(zv),Bv=we({},Tr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Wv=wt(Bv),Hv=we({},Tr,{data:0}),Oh=wt(Hv),Uv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$v={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Vv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Yv(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Vv[e])?!!t[e]:!1}function uu(){return Yv}var qv=we({},na,{key:function(e){if(e.key){var t=Uv[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Za(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?$v[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:uu,charCode:function(e){return e.type==="keypress"?Za(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Za(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Xv=wt(qv),Qv=we({},mo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zh=wt(Qv),Kv=we({},na,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:uu}),Gv=wt(Kv),Jv=we({},Tr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Zv=wt(Jv),eb=we({},mo,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),tb=wt(eb),sb=[9,13,27,32],hu=vs&&"CompositionEvent"in window,fi=null;vs&&"documentMode"in document&&(fi=document.documentMode);var nb=vs&&"TextEvent"in window&&!fi,Sp=vs&&(!hu||fi&&8<fi&&11>=fi),Ih=String.fromCharCode(32),Bh=!1;function Cp(e,t){switch(e){case"keyup":return sb.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Pp(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var sr=!1;function rb(e,t){switch(e){case"compositionend":return Pp(t);case"keypress":return t.which!==32?null:(Bh=!0,Ih);case"textInput":return e=t.data,e===Ih&&Bh?null:e;default:return null}}function ib(e,t){if(sr)return e==="compositionend"||!hu&&Cp(e,t)?(e=kp(),Ja=cu=Rs=null,sr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Sp&&t.locale!=="ko"?null:t.data;default:return null}}var ab={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!ab[e.type]:t==="textarea"}function Mp(e,t,s,n){ap(n),t=Sl(t,"onChange"),0<t.length&&(s=new du("onChange","change",null,s,n),e.push({event:s,listeners:t}))}var xi=null,Ti=null;function lb(e){Bp(e,0)}function fo(e){var t=ir(e);if(Zx(t))return e}function ob(e,t){if(e==="change")return t}var Ep=!1;if(vs){var Go;if(vs){var Jo="oninput"in document;if(!Jo){var Hh=document.createElement("div");Hh.setAttribute("oninput","return;"),Jo=typeof Hh.oninput=="function"}Go=Jo}else Go=!1;Ep=Go&&(!document.documentMode||9<document.documentMode)}function Uh(){xi&&(xi.detachEvent("onpropertychange",Tp),Ti=xi=null)}function Tp(e){if(e.propertyName==="value"&&fo(Ti)){var t=[];Mp(t,Ti,e,ru(e)),dp(lb,t)}}function cb(e,t,s){e==="focusin"?(Uh(),xi=t,Ti=s,xi.attachEvent("onpropertychange",Tp)):e==="focusout"&&Uh()}function db(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return fo(Ti)}function ub(e,t){if(e==="click")return fo(t)}function hb(e,t){if(e==="input"||e==="change")return fo(t)}function mb(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ht=typeof Object.is=="function"?Object.is:mb;function Di(e,t){if(Ht(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var s=Object.keys(e),n=Object.keys(t);if(s.length!==n.length)return!1;for(n=0;n<s.length;n++){var i=s[n];if(!Lc.call(t,i)||!Ht(e[i],t[i]))return!1}return!0}function $h(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Vh(e,t){var s=$h(e);e=0;for(var n;s;){if(s.nodeType===3){if(n=e+s.textContent.length,e<=t&&n>=t)return{node:s,offset:t-e};e=n}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=$h(s)}}function Dp(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Dp(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Rp(){for(var e=window,t=vl();t instanceof e.HTMLIFrameElement;){try{var s=typeof t.contentWindow.location.href=="string"}catch{s=!1}if(s)e=t.contentWindow;else break;t=vl(e.document)}return t}function mu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function fb(e){var t=Rp(),s=e.focusedElem,n=e.selectionRange;if(t!==s&&s&&s.ownerDocument&&Dp(s.ownerDocument.documentElement,s)){if(n!==null&&mu(s)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in s)s.selectionStart=t,s.selectionEnd=Math.min(e,s.value.length);else if(e=(t=s.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=s.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!e.extend&&a>n&&(i=n,n=a,a=i),i=Vh(s,a);var l=Vh(s,n);i&&l&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}}for(t=[],e=s;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<t.length;s++)e=t[s],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var xb=vs&&"documentMode"in document&&11>=document.documentMode,nr=null,Zc=null,pi=null,ed=!1;function Yh(e,t,s){var n=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;ed||nr==null||nr!==vl(n)||(n=nr,"selectionStart"in n&&mu(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),pi&&Di(pi,n)||(pi=n,n=Sl(Zc,"onSelect"),0<n.length&&(t=new du("onSelect","select",null,t,s),e.push({event:t,listeners:n}),t.target=nr)))}function ja(e,t){var s={};return s[e.toLowerCase()]=t.toLowerCase(),s["Webkit"+e]="webkit"+t,s["Moz"+e]="moz"+t,s}var rr={animationend:ja("Animation","AnimationEnd"),animationiteration:ja("Animation","AnimationIteration"),animationstart:ja("Animation","AnimationStart"),transitionend:ja("Transition","TransitionEnd")},Zo={},Lp={};vs&&(Lp=document.createElement("div").style,"AnimationEvent"in window||(delete rr.animationend.animation,delete rr.animationiteration.animation,delete rr.animationstart.animation),"TransitionEvent"in window||delete rr.transitionend.transition);function xo(e){if(Zo[e])return Zo[e];if(!rr[e])return e;var t=rr[e],s;for(s in t)if(t.hasOwnProperty(s)&&s in Lp)return Zo[e]=t[s];return e}var Fp=xo("animationend"),Ap=xo("animationiteration"),Op=xo("animationstart"),zp=xo("transitionend"),Ip=new Map,qh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function an(e,t){Ip.set(e,t),Vn(t,[e])}for(var ec=0;ec<qh.length;ec++){var tc=qh[ec],pb=tc.toLowerCase(),gb=tc[0].toUpperCase()+tc.slice(1);an(pb,"on"+gb)}an(Fp,"onAnimationEnd");an(Ap,"onAnimationIteration");an(Op,"onAnimationStart");an("dblclick","onDoubleClick");an("focusin","onFocus");an("focusout","onBlur");an(zp,"onTransitionEnd");br("onMouseEnter",["mouseout","mouseover"]);br("onMouseLeave",["mouseout","mouseover"]);br("onPointerEnter",["pointerout","pointerover"]);br("onPointerLeave",["pointerout","pointerover"]);Vn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Vn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Vn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Vn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Vn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Vn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ii="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),yb=new Set("cancel close invalid load scroll toggle".split(" ").concat(ii));function Xh(e,t,s){var n=e.type||"unknown-event";e.currentTarget=s,pv(n,t,void 0,e),e.currentTarget=null}function Bp(e,t){t=(t&4)!==0;for(var s=0;s<e.length;s++){var n=e[s],i=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var l=n.length-1;0<=l;l--){var o=n[l],c=o.instance,d=o.currentTarget;if(o=o.listener,c!==a&&i.isPropagationStopped())break e;Xh(i,o,d),a=c}else for(l=0;l<n.length;l++){if(o=n[l],c=o.instance,d=o.currentTarget,o=o.listener,c!==a&&i.isPropagationStopped())break e;Xh(i,o,d),a=c}}}if(jl)throw e=Qc,jl=!1,Qc=null,e}function xe(e,t){var s=t[id];s===void 0&&(s=t[id]=new Set);var n=e+"__bubble";s.has(n)||(Wp(t,e,2,!1),s.add(n))}function sc(e,t,s){var n=0;t&&(n|=4),Wp(s,e,n,t)}var wa="_reactListening"+Math.random().toString(36).slice(2);function Ri(e){if(!e[wa]){e[wa]=!0,Xx.forEach(function(s){s!=="selectionchange"&&(yb.has(s)||sc(s,!1,e),sc(s,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[wa]||(t[wa]=!0,sc("selectionchange",!1,t))}}function Wp(e,t,s,n){switch(_p(t)){case 1:var i=Dv;break;case 4:i=Rv;break;default:i=ou}s=i.bind(null,t,s,e),i=void 0,!Xc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,s,{capture:!0,passive:i}):e.addEventListener(t,s,!0):i!==void 0?e.addEventListener(t,s,{passive:i}):e.addEventListener(t,s,!1)}function nc(e,t,s,n,i){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var l=n.tag;if(l===3||l===4){var o=n.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(l===4)for(l=n.return;l!==null;){var c=l.tag;if((c===3||c===4)&&(c=l.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;l=l.return}for(;o!==null;){if(l=_n(o),l===null)return;if(c=l.tag,c===5||c===6){n=a=l;continue e}o=o.parentNode}}n=n.return}dp(function(){var d=a,u=ru(s),h=[];e:{var f=Ip.get(e);if(f!==void 0){var v=du,p=e;switch(e){case"keypress":if(Za(s)===0)break e;case"keydown":case"keyup":v=Xv;break;case"focusin":p="focus",v=Ko;break;case"focusout":p="blur",v=Ko;break;case"beforeblur":case"afterblur":v=Ko;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=Ah;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=Av;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=Gv;break;case Fp:case Ap:case Op:v=Iv;break;case zp:v=Zv;break;case"scroll":v=Lv;break;case"wheel":v=tb;break;case"copy":case"cut":case"paste":v=Wv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=zh}var y=(t&4)!==0,b=!y&&e==="scroll",m=y?f!==null?f+"Capture":null:f;y=[];for(var x=d,g;x!==null;){g=x;var j=g.stateNode;if(g.tag===5&&j!==null&&(g=j,m!==null&&(j=Ci(x,m),j!=null&&y.push(Li(x,j,g)))),b)break;x=x.return}0<y.length&&(f=new v(f,p,null,s,u),h.push({event:f,listeners:y}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",f&&s!==Yc&&(p=s.relatedTarget||s.fromElement)&&(_n(p)||p[bs]))break e;if((v||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,v?(p=s.relatedTarget||s.toElement,v=d,p=p?_n(p):null,p!==null&&(b=Yn(p),p!==b||p.tag!==5&&p.tag!==6)&&(p=null)):(v=null,p=d),v!==p)){if(y=Ah,j="onMouseLeave",m="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(y=zh,j="onPointerLeave",m="onPointerEnter",x="pointer"),b=v==null?f:ir(v),g=p==null?f:ir(p),f=new y(j,x+"leave",v,s,u),f.target=b,f.relatedTarget=g,j=null,_n(u)===d&&(y=new y(m,x+"enter",p,s,u),y.target=g,y.relatedTarget=b,j=y),b=j,v&&p)t:{for(y=v,m=p,x=0,g=y;g;g=Qn(g))x++;for(g=0,j=m;j;j=Qn(j))g++;for(;0<x-g;)y=Qn(y),x--;for(;0<g-x;)m=Qn(m),g--;for(;x--;){if(y===m||m!==null&&y===m.alternate)break t;y=Qn(y),m=Qn(m)}y=null}else y=null;v!==null&&Qh(h,f,v,y,!1),p!==null&&b!==null&&Qh(h,b,p,y,!0)}}e:{if(f=d?ir(d):window,v=f.nodeName&&f.nodeName.toLowerCase(),v==="select"||v==="input"&&f.type==="file")var w=ob;else if(Wh(f))if(Ep)w=hb;else{w=db;var _=cb}else(v=f.nodeName)&&v.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(w=ub);if(w&&(w=w(e,d))){Mp(h,w,s,u);break e}_&&_(e,f,d),e==="focusout"&&(_=f._wrapperState)&&_.controlled&&f.type==="number"&&Wc(f,"number",f.value)}switch(_=d?ir(d):window,e){case"focusin":(Wh(_)||_.contentEditable==="true")&&(nr=_,Zc=d,pi=null);break;case"focusout":pi=Zc=nr=null;break;case"mousedown":ed=!0;break;case"contextmenu":case"mouseup":case"dragend":ed=!1,Yh(h,s,u);break;case"selectionchange":if(xb)break;case"keydown":case"keyup":Yh(h,s,u)}var k;if(hu)e:{switch(e){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else sr?Cp(e,s)&&(S="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(S="onCompositionStart");S&&(Sp&&s.locale!=="ko"&&(sr||S!=="onCompositionStart"?S==="onCompositionEnd"&&sr&&(k=kp()):(Rs=u,cu="value"in Rs?Rs.value:Rs.textContent,sr=!0)),_=Sl(d,S),0<_.length&&(S=new Oh(S,e,null,s,u),h.push({event:S,listeners:_}),k?S.data=k:(k=Pp(s),k!==null&&(S.data=k)))),(k=nb?rb(e,s):ib(e,s))&&(d=Sl(d,"onBeforeInput"),0<d.length&&(u=new Oh("onBeforeInput","beforeinput",null,s,u),h.push({event:u,listeners:d}),u.data=k))}Bp(h,t)})}function Li(e,t,s){return{instance:e,listener:t,currentTarget:s}}function Sl(e,t){for(var s=t+"Capture",n=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=Ci(e,s),a!=null&&n.unshift(Li(e,a,i)),a=Ci(e,t),a!=null&&n.push(Li(e,a,i))),e=e.return}return n}function Qn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Qh(e,t,s,n,i){for(var a=t._reactName,l=[];s!==null&&s!==n;){var o=s,c=o.alternate,d=o.stateNode;if(c!==null&&c===n)break;o.tag===5&&d!==null&&(o=d,i?(c=Ci(s,a),c!=null&&l.unshift(Li(s,c,o))):i||(c=Ci(s,a),c!=null&&l.push(Li(s,c,o)))),s=s.return}l.length!==0&&e.push({event:t,listeners:l})}var vb=/\r\n?/g,bb=/\u0000|\uFFFD/g;function Kh(e){return(typeof e=="string"?e:""+e).replace(vb,`
`).replace(bb,"")}function Na(e,t,s){if(t=Kh(t),Kh(e)!==t&&s)throw Error(I(425))}function Cl(){}var td=null,sd=null;function nd(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var rd=typeof setTimeout=="function"?setTimeout:void 0,jb=typeof clearTimeout=="function"?clearTimeout:void 0,Gh=typeof Promise=="function"?Promise:void 0,wb=typeof queueMicrotask=="function"?queueMicrotask:typeof Gh<"u"?function(e){return Gh.resolve(null).then(e).catch(Nb)}:rd;function Nb(e){setTimeout(function(){throw e})}function rc(e,t){var s=t,n=0;do{var i=s.nextSibling;if(e.removeChild(s),i&&i.nodeType===8)if(s=i.data,s==="/$"){if(n===0){e.removeChild(i),Ei(t);return}n--}else s!=="$"&&s!=="$?"&&s!=="$!"||n++;s=i}while(s);Ei(t)}function Ys(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Jh(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(t===0)return e;t--}else s==="/$"&&t++}e=e.previousSibling}return null}var Dr=Math.random().toString(36).slice(2),Jt="__reactFiber$"+Dr,Fi="__reactProps$"+Dr,bs="__reactContainer$"+Dr,id="__reactEvents$"+Dr,_b="__reactListeners$"+Dr,kb="__reactHandles$"+Dr;function _n(e){var t=e[Jt];if(t)return t;for(var s=e.parentNode;s;){if(t=s[bs]||s[Jt]){if(s=t.alternate,t.child!==null||s!==null&&s.child!==null)for(e=Jh(e);e!==null;){if(s=e[Jt])return s;e=Jh(e)}return t}e=s,s=e.parentNode}return null}function ra(e){return e=e[Jt]||e[bs],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ir(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(I(33))}function po(e){return e[Fi]||null}var ad=[],ar=-1;function ln(e){return{current:e}}function pe(e){0>ar||(e.current=ad[ar],ad[ar]=null,ar--)}function fe(e,t){ar++,ad[ar]=e.current,e.current=t}var en={},Ge=ln(en),ut=ln(!1),Fn=en;function jr(e,t){var s=e.type.contextTypes;if(!s)return en;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in s)i[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function ht(e){return e=e.childContextTypes,e!=null}function Pl(){pe(ut),pe(Ge)}function Zh(e,t,s){if(Ge.current!==en)throw Error(I(168));fe(Ge,t),fe(ut,s)}function Hp(e,t,s){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return s;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(I(108,cv(e)||"Unknown",i));return we({},s,n)}function Ml(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||en,Fn=Ge.current,fe(Ge,e),fe(ut,ut.current),!0}function em(e,t,s){var n=e.stateNode;if(!n)throw Error(I(169));s?(e=Hp(e,t,Fn),n.__reactInternalMemoizedMergedChildContext=e,pe(ut),pe(Ge),fe(Ge,e)):pe(ut),fe(ut,s)}var cs=null,go=!1,ic=!1;function Up(e){cs===null?cs=[e]:cs.push(e)}function Sb(e){go=!0,Up(e)}function on(){if(!ic&&cs!==null){ic=!0;var e=0,t=ue;try{var s=cs;for(ue=1;e<s.length;e++){var n=s[e];do n=n(!0);while(n!==null)}cs=null,go=!1}catch(i){throw cs!==null&&(cs=cs.slice(e+1)),fp(iu,on),i}finally{ue=t,ic=!1}}return null}var lr=[],or=0,El=null,Tl=0,_t=[],kt=0,An=null,hs=1,ms="";function yn(e,t){lr[or++]=Tl,lr[or++]=El,El=e,Tl=t}function $p(e,t,s){_t[kt++]=hs,_t[kt++]=ms,_t[kt++]=An,An=e;var n=hs;e=ms;var i=32-It(n)-1;n&=~(1<<i),s+=1;var a=32-It(t)+i;if(30<a){var l=i-i%5;a=(n&(1<<l)-1).toString(32),n>>=l,i-=l,hs=1<<32-It(t)+i|s<<i|n,ms=a+e}else hs=1<<a|s<<i|n,ms=e}function fu(e){e.return!==null&&(yn(e,1),$p(e,1,0))}function xu(e){for(;e===El;)El=lr[--or],lr[or]=null,Tl=lr[--or],lr[or]=null;for(;e===An;)An=_t[--kt],_t[kt]=null,ms=_t[--kt],_t[kt]=null,hs=_t[--kt],_t[kt]=null}var vt=null,gt=null,ge=!1,Ot=null;function Vp(e,t){var s=Ct(5,null,null,0);s.elementType="DELETED",s.stateNode=t,s.return=e,t=e.deletions,t===null?(e.deletions=[s],e.flags|=16):t.push(s)}function tm(e,t){switch(e.tag){case 5:var s=e.type;return t=t.nodeType!==1||s.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,vt=e,gt=Ys(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,vt=e,gt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(s=An!==null?{id:hs,overflow:ms}:null,e.memoizedState={dehydrated:t,treeContext:s,retryLane:1073741824},s=Ct(18,null,null,0),s.stateNode=t,s.return=e,e.child=s,vt=e,gt=null,!0):!1;default:return!1}}function ld(e){return(e.mode&1)!==0&&(e.flags&128)===0}function od(e){if(ge){var t=gt;if(t){var s=t;if(!tm(e,t)){if(ld(e))throw Error(I(418));t=Ys(s.nextSibling);var n=vt;t&&tm(e,t)?Vp(n,s):(e.flags=e.flags&-4097|2,ge=!1,vt=e)}}else{if(ld(e))throw Error(I(418));e.flags=e.flags&-4097|2,ge=!1,vt=e}}}function sm(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;vt=e}function _a(e){if(e!==vt)return!1;if(!ge)return sm(e),ge=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!nd(e.type,e.memoizedProps)),t&&(t=gt)){if(ld(e))throw Yp(),Error(I(418));for(;t;)Vp(e,t),t=Ys(t.nextSibling)}if(sm(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(I(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"){if(t===0){gt=Ys(e.nextSibling);break e}t--}else s!=="$"&&s!=="$!"&&s!=="$?"||t++}e=e.nextSibling}gt=null}}else gt=vt?Ys(e.stateNode.nextSibling):null;return!0}function Yp(){for(var e=gt;e;)e=Ys(e.nextSibling)}function wr(){gt=vt=null,ge=!1}function pu(e){Ot===null?Ot=[e]:Ot.push(e)}var Cb=_s.ReactCurrentBatchConfig;function $r(e,t,s){if(e=s.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(I(309));var n=s.stateNode}if(!n)throw Error(I(147,e));var i=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(l){var o=i.refs;l===null?delete o[a]:o[a]=l},t._stringRef=a,t)}if(typeof e!="string")throw Error(I(284));if(!s._owner)throw Error(I(290,e))}return e}function ka(e,t){throw e=Object.prototype.toString.call(t),Error(I(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function nm(e){var t=e._init;return t(e._payload)}function qp(e){function t(m,x){if(e){var g=m.deletions;g===null?(m.deletions=[x],m.flags|=16):g.push(x)}}function s(m,x){if(!e)return null;for(;x!==null;)t(m,x),x=x.sibling;return null}function n(m,x){for(m=new Map;x!==null;)x.key!==null?m.set(x.key,x):m.set(x.index,x),x=x.sibling;return m}function i(m,x){return m=Ks(m,x),m.index=0,m.sibling=null,m}function a(m,x,g){return m.index=g,e?(g=m.alternate,g!==null?(g=g.index,g<x?(m.flags|=2,x):g):(m.flags|=2,x)):(m.flags|=1048576,x)}function l(m){return e&&m.alternate===null&&(m.flags|=2),m}function o(m,x,g,j){return x===null||x.tag!==6?(x=hc(g,m.mode,j),x.return=m,x):(x=i(x,g),x.return=m,x)}function c(m,x,g,j){var w=g.type;return w===tr?u(m,x,g.props.children,j,g.key):x!==null&&(x.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Ms&&nm(w)===x.type)?(j=i(x,g.props),j.ref=$r(m,x,g),j.return=m,j):(j=al(g.type,g.key,g.props,null,m.mode,j),j.ref=$r(m,x,g),j.return=m,j)}function d(m,x,g,j){return x===null||x.tag!==4||x.stateNode.containerInfo!==g.containerInfo||x.stateNode.implementation!==g.implementation?(x=mc(g,m.mode,j),x.return=m,x):(x=i(x,g.children||[]),x.return=m,x)}function u(m,x,g,j,w){return x===null||x.tag!==7?(x=Tn(g,m.mode,j,w),x.return=m,x):(x=i(x,g),x.return=m,x)}function h(m,x,g){if(typeof x=="string"&&x!==""||typeof x=="number")return x=hc(""+x,m.mode,g),x.return=m,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case fa:return g=al(x.type,x.key,x.props,null,m.mode,g),g.ref=$r(m,null,x),g.return=m,g;case er:return x=mc(x,m.mode,g),x.return=m,x;case Ms:var j=x._init;return h(m,j(x._payload),g)}if(ni(x)||Ir(x))return x=Tn(x,m.mode,g,null),x.return=m,x;ka(m,x)}return null}function f(m,x,g,j){var w=x!==null?x.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return w!==null?null:o(m,x,""+g,j);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case fa:return g.key===w?c(m,x,g,j):null;case er:return g.key===w?d(m,x,g,j):null;case Ms:return w=g._init,f(m,x,w(g._payload),j)}if(ni(g)||Ir(g))return w!==null?null:u(m,x,g,j,null);ka(m,g)}return null}function v(m,x,g,j,w){if(typeof j=="string"&&j!==""||typeof j=="number")return m=m.get(g)||null,o(x,m,""+j,w);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case fa:return m=m.get(j.key===null?g:j.key)||null,c(x,m,j,w);case er:return m=m.get(j.key===null?g:j.key)||null,d(x,m,j,w);case Ms:var _=j._init;return v(m,x,g,_(j._payload),w)}if(ni(j)||Ir(j))return m=m.get(g)||null,u(x,m,j,w,null);ka(x,j)}return null}function p(m,x,g,j){for(var w=null,_=null,k=x,S=x=0,A=null;k!==null&&S<g.length;S++){k.index>S?(A=k,k=null):A=k.sibling;var O=f(m,k,g[S],j);if(O===null){k===null&&(k=A);break}e&&k&&O.alternate===null&&t(m,k),x=a(O,x,S),_===null?w=O:_.sibling=O,_=O,k=A}if(S===g.length)return s(m,k),ge&&yn(m,S),w;if(k===null){for(;S<g.length;S++)k=h(m,g[S],j),k!==null&&(x=a(k,x,S),_===null?w=k:_.sibling=k,_=k);return ge&&yn(m,S),w}for(k=n(m,k);S<g.length;S++)A=v(k,m,S,g[S],j),A!==null&&(e&&A.alternate!==null&&k.delete(A.key===null?S:A.key),x=a(A,x,S),_===null?w=A:_.sibling=A,_=A);return e&&k.forEach(function(C){return t(m,C)}),ge&&yn(m,S),w}function y(m,x,g,j){var w=Ir(g);if(typeof w!="function")throw Error(I(150));if(g=w.call(g),g==null)throw Error(I(151));for(var _=w=null,k=x,S=x=0,A=null,O=g.next();k!==null&&!O.done;S++,O=g.next()){k.index>S?(A=k,k=null):A=k.sibling;var C=f(m,k,O.value,j);if(C===null){k===null&&(k=A);break}e&&k&&C.alternate===null&&t(m,k),x=a(C,x,S),_===null?w=C:_.sibling=C,_=C,k=A}if(O.done)return s(m,k),ge&&yn(m,S),w;if(k===null){for(;!O.done;S++,O=g.next())O=h(m,O.value,j),O!==null&&(x=a(O,x,S),_===null?w=O:_.sibling=O,_=O);return ge&&yn(m,S),w}for(k=n(m,k);!O.done;S++,O=g.next())O=v(k,m,S,O.value,j),O!==null&&(e&&O.alternate!==null&&k.delete(O.key===null?S:O.key),x=a(O,x,S),_===null?w=O:_.sibling=O,_=O);return e&&k.forEach(function(L){return t(m,L)}),ge&&yn(m,S),w}function b(m,x,g,j){if(typeof g=="object"&&g!==null&&g.type===tr&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case fa:e:{for(var w=g.key,_=x;_!==null;){if(_.key===w){if(w=g.type,w===tr){if(_.tag===7){s(m,_.sibling),x=i(_,g.props.children),x.return=m,m=x;break e}}else if(_.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Ms&&nm(w)===_.type){s(m,_.sibling),x=i(_,g.props),x.ref=$r(m,_,g),x.return=m,m=x;break e}s(m,_);break}else t(m,_);_=_.sibling}g.type===tr?(x=Tn(g.props.children,m.mode,j,g.key),x.return=m,m=x):(j=al(g.type,g.key,g.props,null,m.mode,j),j.ref=$r(m,x,g),j.return=m,m=j)}return l(m);case er:e:{for(_=g.key;x!==null;){if(x.key===_)if(x.tag===4&&x.stateNode.containerInfo===g.containerInfo&&x.stateNode.implementation===g.implementation){s(m,x.sibling),x=i(x,g.children||[]),x.return=m,m=x;break e}else{s(m,x);break}else t(m,x);x=x.sibling}x=mc(g,m.mode,j),x.return=m,m=x}return l(m);case Ms:return _=g._init,b(m,x,_(g._payload),j)}if(ni(g))return p(m,x,g,j);if(Ir(g))return y(m,x,g,j);ka(m,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,x!==null&&x.tag===6?(s(m,x.sibling),x=i(x,g),x.return=m,m=x):(s(m,x),x=hc(g,m.mode,j),x.return=m,m=x),l(m)):s(m,x)}return b}var Nr=qp(!0),Xp=qp(!1),Dl=ln(null),Rl=null,cr=null,gu=null;function yu(){gu=cr=Rl=null}function vu(e){var t=Dl.current;pe(Dl),e._currentValue=t}function cd(e,t,s){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===s)break;e=e.return}}function pr(e,t){Rl=e,gu=cr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(dt=!0),e.firstContext=null)}function Tt(e){var t=e._currentValue;if(gu!==e)if(e={context:e,memoizedValue:t,next:null},cr===null){if(Rl===null)throw Error(I(308));cr=e,Rl.dependencies={lanes:0,firstContext:e}}else cr=cr.next=e;return t}var kn=null;function bu(e){kn===null?kn=[e]:kn.push(e)}function Qp(e,t,s,n){var i=t.interleaved;return i===null?(s.next=s,bu(t)):(s.next=i.next,i.next=s),t.interleaved=s,js(e,n)}function js(e,t){e.lanes|=t;var s=e.alternate;for(s!==null&&(s.lanes|=t),s=e,e=e.return;e!==null;)e.childLanes|=t,s=e.alternate,s!==null&&(s.childLanes|=t),s=e,e=e.return;return s.tag===3?s.stateNode:null}var Es=!1;function ju(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Kp(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ps(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function qs(e,t,s){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,re&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,js(e,s)}return i=n.interleaved,i===null?(t.next=t,bu(n)):(t.next=i.next,i.next=t),n.interleaved=t,js(e,s)}function el(e,t,s){if(t=t.updateQueue,t!==null&&(t=t.shared,(s&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,s|=n,t.lanes=s,au(e,s)}}function rm(e,t){var s=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,s===n)){var i=null,a=null;if(s=s.firstBaseUpdate,s!==null){do{var l={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};a===null?i=a=l:a=a.next=l,s=s.next}while(s!==null);a===null?i=a=t:a=a.next=t}else i=a=t;s={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=t:e.next=t,s.lastBaseUpdate=t}function Ll(e,t,s,n){var i=e.updateQueue;Es=!1;var a=i.firstBaseUpdate,l=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var c=o,d=c.next;c.next=null,l===null?a=d:l.next=d,l=c;var u=e.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==l&&(o===null?u.firstBaseUpdate=d:o.next=d,u.lastBaseUpdate=c))}if(a!==null){var h=i.baseState;l=0,u=d=c=null,o=a;do{var f=o.lane,v=o.eventTime;if((n&f)===f){u!==null&&(u=u.next={eventTime:v,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,y=o;switch(f=t,v=s,y.tag){case 1:if(p=y.payload,typeof p=="function"){h=p.call(v,h,f);break e}h=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=y.payload,f=typeof p=="function"?p.call(v,h,f):p,f==null)break e;h=we({},h,f);break e;case 2:Es=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,f=i.effects,f===null?i.effects=[o]:f.push(o))}else v={eventTime:v,lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(d=u=v,c=h):u=u.next=v,l|=f;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;f=o,o=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(1);if(u===null&&(c=h),i.baseState=c,i.firstBaseUpdate=d,i.lastBaseUpdate=u,t=i.shared.interleaved,t!==null){i=t;do l|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);zn|=l,e.lanes=l,e.memoizedState=h}}function im(e,t,s){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=s,typeof i!="function")throw Error(I(191,i));i.call(n)}}}var ia={},ss=ln(ia),Ai=ln(ia),Oi=ln(ia);function Sn(e){if(e===ia)throw Error(I(174));return e}function wu(e,t){switch(fe(Oi,t),fe(Ai,e),fe(ss,ia),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Uc(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Uc(t,e)}pe(ss),fe(ss,t)}function _r(){pe(ss),pe(Ai),pe(Oi)}function Gp(e){Sn(Oi.current);var t=Sn(ss.current),s=Uc(t,e.type);t!==s&&(fe(Ai,e),fe(ss,s))}function Nu(e){Ai.current===e&&(pe(ss),pe(Ai))}var be=ln(0);function Fl(e){for(var t=e;t!==null;){if(t.tag===13){var s=t.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ac=[];function _u(){for(var e=0;e<ac.length;e++)ac[e]._workInProgressVersionPrimary=null;ac.length=0}var tl=_s.ReactCurrentDispatcher,lc=_s.ReactCurrentBatchConfig,On=0,je=null,De=null,Ae=null,Al=!1,gi=!1,zi=0,Pb=0;function Ve(){throw Error(I(321))}function ku(e,t){if(t===null)return!1;for(var s=0;s<t.length&&s<e.length;s++)if(!Ht(e[s],t[s]))return!1;return!0}function Su(e,t,s,n,i,a){if(On=a,je=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,tl.current=e===null||e.memoizedState===null?Db:Rb,e=s(n,i),gi){a=0;do{if(gi=!1,zi=0,25<=a)throw Error(I(301));a+=1,Ae=De=null,t.updateQueue=null,tl.current=Lb,e=s(n,i)}while(gi)}if(tl.current=Ol,t=De!==null&&De.next!==null,On=0,Ae=De=je=null,Al=!1,t)throw Error(I(300));return e}function Cu(){var e=zi!==0;return zi=0,e}function Kt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ae===null?je.memoizedState=Ae=e:Ae=Ae.next=e,Ae}function Dt(){if(De===null){var e=je.alternate;e=e!==null?e.memoizedState:null}else e=De.next;var t=Ae===null?je.memoizedState:Ae.next;if(t!==null)Ae=t,De=e;else{if(e===null)throw Error(I(310));De=e,e={memoizedState:De.memoizedState,baseState:De.baseState,baseQueue:De.baseQueue,queue:De.queue,next:null},Ae===null?je.memoizedState=Ae=e:Ae=Ae.next=e}return Ae}function Ii(e,t){return typeof t=="function"?t(e):t}function oc(e){var t=Dt(),s=t.queue;if(s===null)throw Error(I(311));s.lastRenderedReducer=e;var n=De,i=n.baseQueue,a=s.pending;if(a!==null){if(i!==null){var l=i.next;i.next=a.next,a.next=l}n.baseQueue=i=a,s.pending=null}if(i!==null){a=i.next,n=n.baseState;var o=l=null,c=null,d=a;do{var u=d.lane;if((On&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:e(n,d.action);else{var h={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(o=c=h,l=n):c=c.next=h,je.lanes|=u,zn|=u}d=d.next}while(d!==null&&d!==a);c===null?l=n:c.next=o,Ht(n,t.memoizedState)||(dt=!0),t.memoizedState=n,t.baseState=l,t.baseQueue=c,s.lastRenderedState=n}if(e=s.interleaved,e!==null){i=e;do a=i.lane,je.lanes|=a,zn|=a,i=i.next;while(i!==e)}else i===null&&(s.lanes=0);return[t.memoizedState,s.dispatch]}function cc(e){var t=Dt(),s=t.queue;if(s===null)throw Error(I(311));s.lastRenderedReducer=e;var n=s.dispatch,i=s.pending,a=t.memoizedState;if(i!==null){s.pending=null;var l=i=i.next;do a=e(a,l.action),l=l.next;while(l!==i);Ht(a,t.memoizedState)||(dt=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),s.lastRenderedState=a}return[a,n]}function Jp(){}function Zp(e,t){var s=je,n=Dt(),i=t(),a=!Ht(n.memoizedState,i);if(a&&(n.memoizedState=i,dt=!0),n=n.queue,Pu(s0.bind(null,s,n,e),[e]),n.getSnapshot!==t||a||Ae!==null&&Ae.memoizedState.tag&1){if(s.flags|=2048,Bi(9,t0.bind(null,s,n,i,t),void 0,null),ze===null)throw Error(I(349));On&30||e0(s,t,i)}return i}function e0(e,t,s){e.flags|=16384,e={getSnapshot:t,value:s},t=je.updateQueue,t===null?(t={lastEffect:null,stores:null},je.updateQueue=t,t.stores=[e]):(s=t.stores,s===null?t.stores=[e]:s.push(e))}function t0(e,t,s,n){t.value=s,t.getSnapshot=n,n0(t)&&r0(e)}function s0(e,t,s){return s(function(){n0(t)&&r0(e)})}function n0(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!Ht(e,s)}catch{return!0}}function r0(e){var t=js(e,1);t!==null&&Bt(t,e,1,-1)}function am(e){var t=Kt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ii,lastRenderedState:e},t.queue=e,e=e.dispatch=Tb.bind(null,je,e),[t.memoizedState,e]}function Bi(e,t,s,n){return e={tag:e,create:t,destroy:s,deps:n,next:null},t=je.updateQueue,t===null?(t={lastEffect:null,stores:null},je.updateQueue=t,t.lastEffect=e.next=e):(s=t.lastEffect,s===null?t.lastEffect=e.next=e:(n=s.next,s.next=e,e.next=n,t.lastEffect=e)),e}function i0(){return Dt().memoizedState}function sl(e,t,s,n){var i=Kt();je.flags|=e,i.memoizedState=Bi(1|t,s,void 0,n===void 0?null:n)}function yo(e,t,s,n){var i=Dt();n=n===void 0?null:n;var a=void 0;if(De!==null){var l=De.memoizedState;if(a=l.destroy,n!==null&&ku(n,l.deps)){i.memoizedState=Bi(t,s,a,n);return}}je.flags|=e,i.memoizedState=Bi(1|t,s,a,n)}function lm(e,t){return sl(8390656,8,e,t)}function Pu(e,t){return yo(2048,8,e,t)}function a0(e,t){return yo(4,2,e,t)}function l0(e,t){return yo(4,4,e,t)}function o0(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function c0(e,t,s){return s=s!=null?s.concat([e]):null,yo(4,4,o0.bind(null,t,e),s)}function Mu(){}function d0(e,t){var s=Dt();t=t===void 0?null:t;var n=s.memoizedState;return n!==null&&t!==null&&ku(t,n[1])?n[0]:(s.memoizedState=[e,t],e)}function u0(e,t){var s=Dt();t=t===void 0?null:t;var n=s.memoizedState;return n!==null&&t!==null&&ku(t,n[1])?n[0]:(e=e(),s.memoizedState=[e,t],e)}function h0(e,t,s){return On&21?(Ht(s,t)||(s=gp(),je.lanes|=s,zn|=s,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,dt=!0),e.memoizedState=s)}function Mb(e,t){var s=ue;ue=s!==0&&4>s?s:4,e(!0);var n=lc.transition;lc.transition={};try{e(!1),t()}finally{ue=s,lc.transition=n}}function m0(){return Dt().memoizedState}function Eb(e,t,s){var n=Qs(e);if(s={lane:n,action:s,hasEagerState:!1,eagerState:null,next:null},f0(e))x0(t,s);else if(s=Qp(e,t,s,n),s!==null){var i=tt();Bt(s,e,n,i),p0(s,t,n)}}function Tb(e,t,s){var n=Qs(e),i={lane:n,action:s,hasEagerState:!1,eagerState:null,next:null};if(f0(e))x0(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var l=t.lastRenderedState,o=a(l,s);if(i.hasEagerState=!0,i.eagerState=o,Ht(o,l)){var c=t.interleaved;c===null?(i.next=i,bu(t)):(i.next=c.next,c.next=i),t.interleaved=i;return}}catch{}finally{}s=Qp(e,t,i,n),s!==null&&(i=tt(),Bt(s,e,n,i),p0(s,t,n))}}function f0(e){var t=e.alternate;return e===je||t!==null&&t===je}function x0(e,t){gi=Al=!0;var s=e.pending;s===null?t.next=t:(t.next=s.next,s.next=t),e.pending=t}function p0(e,t,s){if(s&4194240){var n=t.lanes;n&=e.pendingLanes,s|=n,t.lanes=s,au(e,s)}}var Ol={readContext:Tt,useCallback:Ve,useContext:Ve,useEffect:Ve,useImperativeHandle:Ve,useInsertionEffect:Ve,useLayoutEffect:Ve,useMemo:Ve,useReducer:Ve,useRef:Ve,useState:Ve,useDebugValue:Ve,useDeferredValue:Ve,useTransition:Ve,useMutableSource:Ve,useSyncExternalStore:Ve,useId:Ve,unstable_isNewReconciler:!1},Db={readContext:Tt,useCallback:function(e,t){return Kt().memoizedState=[e,t===void 0?null:t],e},useContext:Tt,useEffect:lm,useImperativeHandle:function(e,t,s){return s=s!=null?s.concat([e]):null,sl(4194308,4,o0.bind(null,t,e),s)},useLayoutEffect:function(e,t){return sl(4194308,4,e,t)},useInsertionEffect:function(e,t){return sl(4,2,e,t)},useMemo:function(e,t){var s=Kt();return t=t===void 0?null:t,e=e(),s.memoizedState=[e,t],e},useReducer:function(e,t,s){var n=Kt();return t=s!==void 0?s(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Eb.bind(null,je,e),[n.memoizedState,e]},useRef:function(e){var t=Kt();return e={current:e},t.memoizedState=e},useState:am,useDebugValue:Mu,useDeferredValue:function(e){return Kt().memoizedState=e},useTransition:function(){var e=am(!1),t=e[0];return e=Mb.bind(null,e[1]),Kt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,s){var n=je,i=Kt();if(ge){if(s===void 0)throw Error(I(407));s=s()}else{if(s=t(),ze===null)throw Error(I(349));On&30||e0(n,t,s)}i.memoizedState=s;var a={value:s,getSnapshot:t};return i.queue=a,lm(s0.bind(null,n,a,e),[e]),n.flags|=2048,Bi(9,t0.bind(null,n,a,s,t),void 0,null),s},useId:function(){var e=Kt(),t=ze.identifierPrefix;if(ge){var s=ms,n=hs;s=(n&~(1<<32-It(n)-1)).toString(32)+s,t=":"+t+"R"+s,s=zi++,0<s&&(t+="H"+s.toString(32)),t+=":"}else s=Pb++,t=":"+t+"r"+s.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Rb={readContext:Tt,useCallback:d0,useContext:Tt,useEffect:Pu,useImperativeHandle:c0,useInsertionEffect:a0,useLayoutEffect:l0,useMemo:u0,useReducer:oc,useRef:i0,useState:function(){return oc(Ii)},useDebugValue:Mu,useDeferredValue:function(e){var t=Dt();return h0(t,De.memoizedState,e)},useTransition:function(){var e=oc(Ii)[0],t=Dt().memoizedState;return[e,t]},useMutableSource:Jp,useSyncExternalStore:Zp,useId:m0,unstable_isNewReconciler:!1},Lb={readContext:Tt,useCallback:d0,useContext:Tt,useEffect:Pu,useImperativeHandle:c0,useInsertionEffect:a0,useLayoutEffect:l0,useMemo:u0,useReducer:cc,useRef:i0,useState:function(){return cc(Ii)},useDebugValue:Mu,useDeferredValue:function(e){var t=Dt();return De===null?t.memoizedState=e:h0(t,De.memoizedState,e)},useTransition:function(){var e=cc(Ii)[0],t=Dt().memoizedState;return[e,t]},useMutableSource:Jp,useSyncExternalStore:Zp,useId:m0,unstable_isNewReconciler:!1};function Ft(e,t){if(e&&e.defaultProps){t=we({},t),e=e.defaultProps;for(var s in e)t[s]===void 0&&(t[s]=e[s]);return t}return t}function dd(e,t,s,n){t=e.memoizedState,s=s(n,t),s=s==null?t:we({},t,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var vo={isMounted:function(e){return(e=e._reactInternals)?Yn(e)===e:!1},enqueueSetState:function(e,t,s){e=e._reactInternals;var n=tt(),i=Qs(e),a=ps(n,i);a.payload=t,s!=null&&(a.callback=s),t=qs(e,a,i),t!==null&&(Bt(t,e,i,n),el(t,e,i))},enqueueReplaceState:function(e,t,s){e=e._reactInternals;var n=tt(),i=Qs(e),a=ps(n,i);a.tag=1,a.payload=t,s!=null&&(a.callback=s),t=qs(e,a,i),t!==null&&(Bt(t,e,i,n),el(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var s=tt(),n=Qs(e),i=ps(s,n);i.tag=2,t!=null&&(i.callback=t),t=qs(e,i,n),t!==null&&(Bt(t,e,n,s),el(t,e,n))}};function om(e,t,s,n,i,a,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,l):t.prototype&&t.prototype.isPureReactComponent?!Di(s,n)||!Di(i,a):!0}function g0(e,t,s){var n=!1,i=en,a=t.contextType;return typeof a=="object"&&a!==null?a=Tt(a):(i=ht(t)?Fn:Ge.current,n=t.contextTypes,a=(n=n!=null)?jr(e,i):en),t=new t(s,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=vo,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function cm(e,t,s,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(s,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(s,n),t.state!==e&&vo.enqueueReplaceState(t,t.state,null)}function ud(e,t,s,n){var i=e.stateNode;i.props=s,i.state=e.memoizedState,i.refs={},ju(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=Tt(a):(a=ht(t)?Fn:Ge.current,i.context=jr(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(dd(e,t,a,s),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&vo.enqueueReplaceState(i,i.state,null),Ll(e,s,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function kr(e,t){try{var s="",n=t;do s+=ov(n),n=n.return;while(n);var i=s}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function dc(e,t,s){return{value:e,source:null,stack:s??null,digest:t??null}}function hd(e,t){try{console.error(t.value)}catch(s){setTimeout(function(){throw s})}}var Fb=typeof WeakMap=="function"?WeakMap:Map;function y0(e,t,s){s=ps(-1,s),s.tag=3,s.payload={element:null};var n=t.value;return s.callback=function(){Il||(Il=!0,wd=n),hd(e,t)},s}function v0(e,t,s){s=ps(-1,s),s.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;s.payload=function(){return n(i)},s.callback=function(){hd(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(s.callback=function(){hd(e,t),typeof n!="function"&&(Xs===null?Xs=new Set([this]):Xs.add(this));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),s}function dm(e,t,s){var n=e.pingCache;if(n===null){n=e.pingCache=new Fb;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(s)||(i.add(s),e=Qb.bind(null,e,t,s),t.then(e,e))}function um(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function hm(e,t,s,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(t=ps(-1,1),t.tag=2,qs(s,t,1))),s.lanes|=1),e)}var Ab=_s.ReactCurrentOwner,dt=!1;function et(e,t,s,n){t.child=e===null?Xp(t,null,s,n):Nr(t,e.child,s,n)}function mm(e,t,s,n,i){s=s.render;var a=t.ref;return pr(t,i),n=Su(e,t,s,n,a,i),s=Cu(),e!==null&&!dt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,ws(e,t,i)):(ge&&s&&fu(t),t.flags|=1,et(e,t,n,i),t.child)}function fm(e,t,s,n,i){if(e===null){var a=s.type;return typeof a=="function"&&!Ou(a)&&a.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(t.tag=15,t.type=a,b0(e,t,a,n,i)):(e=al(s.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var l=a.memoizedProps;if(s=s.compare,s=s!==null?s:Di,s(l,n)&&e.ref===t.ref)return ws(e,t,i)}return t.flags|=1,e=Ks(a,n),e.ref=t.ref,e.return=t,t.child=e}function b0(e,t,s,n,i){if(e!==null){var a=e.memoizedProps;if(Di(a,n)&&e.ref===t.ref)if(dt=!1,t.pendingProps=n=a,(e.lanes&i)!==0)e.flags&131072&&(dt=!0);else return t.lanes=e.lanes,ws(e,t,i)}return md(e,t,s,n,i)}function j0(e,t,s){var n=t.pendingProps,i=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},fe(ur,pt),pt|=s;else{if(!(s&1073741824))return e=a!==null?a.baseLanes|s:s,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,fe(ur,pt),pt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:s,fe(ur,pt),pt|=n}else a!==null?(n=a.baseLanes|s,t.memoizedState=null):n=s,fe(ur,pt),pt|=n;return et(e,t,i,s),t.child}function w0(e,t){var s=t.ref;(e===null&&s!==null||e!==null&&e.ref!==s)&&(t.flags|=512,t.flags|=2097152)}function md(e,t,s,n,i){var a=ht(s)?Fn:Ge.current;return a=jr(t,a),pr(t,i),s=Su(e,t,s,n,a,i),n=Cu(),e!==null&&!dt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,ws(e,t,i)):(ge&&n&&fu(t),t.flags|=1,et(e,t,s,i),t.child)}function xm(e,t,s,n,i){if(ht(s)){var a=!0;Ml(t)}else a=!1;if(pr(t,i),t.stateNode===null)nl(e,t),g0(t,s,n),ud(t,s,n,i),n=!0;else if(e===null){var l=t.stateNode,o=t.memoizedProps;l.props=o;var c=l.context,d=s.contextType;typeof d=="object"&&d!==null?d=Tt(d):(d=ht(s)?Fn:Ge.current,d=jr(t,d));var u=s.getDerivedStateFromProps,h=typeof u=="function"||typeof l.getSnapshotBeforeUpdate=="function";h||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==n||c!==d)&&cm(t,l,n,d),Es=!1;var f=t.memoizedState;l.state=f,Ll(t,n,l,i),c=t.memoizedState,o!==n||f!==c||ut.current||Es?(typeof u=="function"&&(dd(t,s,u,n),c=t.memoizedState),(o=Es||om(t,s,o,n,f,c,d))?(h||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),l.props=n,l.state=c,l.context=d,n=o):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{l=t.stateNode,Kp(e,t),o=t.memoizedProps,d=t.type===t.elementType?o:Ft(t.type,o),l.props=d,h=t.pendingProps,f=l.context,c=s.contextType,typeof c=="object"&&c!==null?c=Tt(c):(c=ht(s)?Fn:Ge.current,c=jr(t,c));var v=s.getDerivedStateFromProps;(u=typeof v=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==h||f!==c)&&cm(t,l,n,c),Es=!1,f=t.memoizedState,l.state=f,Ll(t,n,l,i);var p=t.memoizedState;o!==h||f!==p||ut.current||Es?(typeof v=="function"&&(dd(t,s,v,n),p=t.memoizedState),(d=Es||om(t,s,d,n,f,p,c)||!1)?(u||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(n,p,c),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(n,p,c)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=p),l.props=n,l.state=p,l.context=c,n=d):(typeof l.componentDidUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),n=!1)}return fd(e,t,s,n,a,i)}function fd(e,t,s,n,i,a){w0(e,t);var l=(t.flags&128)!==0;if(!n&&!l)return i&&em(t,s,!1),ws(e,t,a);n=t.stateNode,Ab.current=t;var o=l&&typeof s.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&l?(t.child=Nr(t,e.child,null,a),t.child=Nr(t,null,o,a)):et(e,t,o,a),t.memoizedState=n.state,i&&em(t,s,!0),t.child}function N0(e){var t=e.stateNode;t.pendingContext?Zh(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Zh(e,t.context,!1),wu(e,t.containerInfo)}function pm(e,t,s,n,i){return wr(),pu(i),t.flags|=256,et(e,t,s,n),t.child}var xd={dehydrated:null,treeContext:null,retryLane:0};function pd(e){return{baseLanes:e,cachePool:null,transitions:null}}function _0(e,t,s){var n=t.pendingProps,i=be.current,a=!1,l=(t.flags&128)!==0,o;if((o=l)||(o=e!==null&&e.memoizedState===null?!1:(i&2)!==0),o?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),fe(be,i&1),e===null)return od(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=n.children,e=n.fallback,a?(n=t.mode,a=t.child,l={mode:"hidden",children:l},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=l):a=wo(l,n,0,null),e=Tn(e,n,s,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=pd(s),t.memoizedState=xd,e):Eu(t,l));if(i=e.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return Ob(e,t,l,n,o,i,s);if(a){a=n.fallback,l=t.mode,i=e.child,o=i.sibling;var c={mode:"hidden",children:n.children};return!(l&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Ks(i,c),n.subtreeFlags=i.subtreeFlags&14680064),o!==null?a=Ks(o,a):(a=Tn(a,l,s,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,l=e.child.memoizedState,l=l===null?pd(s):{baseLanes:l.baseLanes|s,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~s,t.memoizedState=xd,n}return a=e.child,e=a.sibling,n=Ks(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=s),n.return=t,n.sibling=null,e!==null&&(s=t.deletions,s===null?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=n,t.memoizedState=null,n}function Eu(e,t){return t=wo({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Sa(e,t,s,n){return n!==null&&pu(n),Nr(t,e.child,null,s),e=Eu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Ob(e,t,s,n,i,a,l){if(s)return t.flags&256?(t.flags&=-257,n=dc(Error(I(422))),Sa(e,t,l,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,i=t.mode,n=wo({mode:"visible",children:n.children},i,0,null),a=Tn(a,i,l,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&Nr(t,e.child,null,l),t.child.memoizedState=pd(l),t.memoizedState=xd,a);if(!(t.mode&1))return Sa(e,t,l,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var o=n.dgst;return n=o,a=Error(I(419)),n=dc(a,n,void 0),Sa(e,t,l,n)}if(o=(l&e.childLanes)!==0,dt||o){if(n=ze,n!==null){switch(l&-l){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|l)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,js(e,i),Bt(n,e,i,-1))}return Au(),n=dc(Error(I(421))),Sa(e,t,l,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=Kb.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,gt=Ys(i.nextSibling),vt=t,ge=!0,Ot=null,e!==null&&(_t[kt++]=hs,_t[kt++]=ms,_t[kt++]=An,hs=e.id,ms=e.overflow,An=t),t=Eu(t,n.children),t.flags|=4096,t)}function gm(e,t,s){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),cd(e.return,t,s)}function uc(e,t,s,n,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:s,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=s,a.tailMode=i)}function k0(e,t,s){var n=t.pendingProps,i=n.revealOrder,a=n.tail;if(et(e,t,n.children,s),n=be.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&gm(e,s,t);else if(e.tag===19)gm(e,s,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(fe(be,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(s=t.child,i=null;s!==null;)e=s.alternate,e!==null&&Fl(e)===null&&(i=s),s=s.sibling;s=i,s===null?(i=t.child,t.child=null):(i=s.sibling,s.sibling=null),uc(t,!1,i,s,a);break;case"backwards":for(s=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Fl(e)===null){t.child=i;break}e=i.sibling,i.sibling=s,s=i,i=e}uc(t,!0,s,null,a);break;case"together":uc(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function nl(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ws(e,t,s){if(e!==null&&(t.dependencies=e.dependencies),zn|=t.lanes,!(s&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(I(153));if(t.child!==null){for(e=t.child,s=Ks(e,e.pendingProps),t.child=s,s.return=t;e.sibling!==null;)e=e.sibling,s=s.sibling=Ks(e,e.pendingProps),s.return=t;s.sibling=null}return t.child}function zb(e,t,s){switch(t.tag){case 3:N0(t),wr();break;case 5:Gp(t);break;case 1:ht(t.type)&&Ml(t);break;case 4:wu(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;fe(Dl,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(fe(be,be.current&1),t.flags|=128,null):s&t.child.childLanes?_0(e,t,s):(fe(be,be.current&1),e=ws(e,t,s),e!==null?e.sibling:null);fe(be,be.current&1);break;case 19:if(n=(s&t.childLanes)!==0,e.flags&128){if(n)return k0(e,t,s);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),fe(be,be.current),n)break;return null;case 22:case 23:return t.lanes=0,j0(e,t,s)}return ws(e,t,s)}var S0,gd,C0,P0;S0=function(e,t){for(var s=t.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return;s=s.return}s.sibling.return=s.return,s=s.sibling}};gd=function(){};C0=function(e,t,s,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,Sn(ss.current);var a=null;switch(s){case"input":i=Ic(e,i),n=Ic(e,n),a=[];break;case"select":i=we({},i,{value:void 0}),n=we({},n,{value:void 0}),a=[];break;case"textarea":i=Hc(e,i),n=Hc(e,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Cl)}$c(s,n);var l;s=null;for(d in i)if(!n.hasOwnProperty(d)&&i.hasOwnProperty(d)&&i[d]!=null)if(d==="style"){var o=i[d];for(l in o)o.hasOwnProperty(l)&&(s||(s={}),s[l]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(ki.hasOwnProperty(d)?a||(a=[]):(a=a||[]).push(d,null));for(d in n){var c=n[d];if(o=i!=null?i[d]:void 0,n.hasOwnProperty(d)&&c!==o&&(c!=null||o!=null))if(d==="style")if(o){for(l in o)!o.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(s||(s={}),s[l]="");for(l in c)c.hasOwnProperty(l)&&o[l]!==c[l]&&(s||(s={}),s[l]=c[l])}else s||(a||(a=[]),a.push(d,s)),s=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(a=a||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(ki.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&xe("scroll",e),a||o===c||(a=[])):(a=a||[]).push(d,c))}s&&(a=a||[]).push("style",s);var d=a;(t.updateQueue=d)&&(t.flags|=4)}};P0=function(e,t,s,n){s!==n&&(t.flags|=4)};function Vr(e,t){if(!ge)switch(e.tailMode){case"hidden":t=e.tail;for(var s=null;t!==null;)t.alternate!==null&&(s=t),t=t.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var n=null;s!==null;)s.alternate!==null&&(n=s),s=s.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Ye(e){var t=e.alternate!==null&&e.alternate.child===e.child,s=0,n=0;if(t)for(var i=e.child;i!==null;)s|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)s|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=s,t}function Ib(e,t,s){var n=t.pendingProps;switch(xu(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ye(t),null;case 1:return ht(t.type)&&Pl(),Ye(t),null;case 3:return n=t.stateNode,_r(),pe(ut),pe(Ge),_u(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(_a(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ot!==null&&(kd(Ot),Ot=null))),gd(e,t),Ye(t),null;case 5:Nu(t);var i=Sn(Oi.current);if(s=t.type,e!==null&&t.stateNode!=null)C0(e,t,s,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(I(166));return Ye(t),null}if(e=Sn(ss.current),_a(t)){n=t.stateNode,s=t.type;var a=t.memoizedProps;switch(n[Jt]=t,n[Fi]=a,e=(t.mode&1)!==0,s){case"dialog":xe("cancel",n),xe("close",n);break;case"iframe":case"object":case"embed":xe("load",n);break;case"video":case"audio":for(i=0;i<ii.length;i++)xe(ii[i],n);break;case"source":xe("error",n);break;case"img":case"image":case"link":xe("error",n),xe("load",n);break;case"details":xe("toggle",n);break;case"input":Sh(n,a),xe("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},xe("invalid",n);break;case"textarea":Ph(n,a),xe("invalid",n)}$c(s,a),i=null;for(var l in a)if(a.hasOwnProperty(l)){var o=a[l];l==="children"?typeof o=="string"?n.textContent!==o&&(a.suppressHydrationWarning!==!0&&Na(n.textContent,o,e),i=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&Na(n.textContent,o,e),i=["children",""+o]):ki.hasOwnProperty(l)&&o!=null&&l==="onScroll"&&xe("scroll",n)}switch(s){case"input":xa(n),Ch(n,a,!0);break;case"textarea":xa(n),Mh(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=Cl)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{l=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=sp(s)),e==="http://www.w3.org/1999/xhtml"?s==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=l.createElement(s,{is:n.is}):(e=l.createElement(s),s==="select"&&(l=e,n.multiple?l.multiple=!0:n.size&&(l.size=n.size))):e=l.createElementNS(e,s),e[Jt]=t,e[Fi]=n,S0(e,t,!1,!1),t.stateNode=e;e:{switch(l=Vc(s,n),s){case"dialog":xe("cancel",e),xe("close",e),i=n;break;case"iframe":case"object":case"embed":xe("load",e),i=n;break;case"video":case"audio":for(i=0;i<ii.length;i++)xe(ii[i],e);i=n;break;case"source":xe("error",e),i=n;break;case"img":case"image":case"link":xe("error",e),xe("load",e),i=n;break;case"details":xe("toggle",e),i=n;break;case"input":Sh(e,n),i=Ic(e,n),xe("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=we({},n,{value:void 0}),xe("invalid",e);break;case"textarea":Ph(e,n),i=Hc(e,n),xe("invalid",e);break;default:i=n}$c(s,i),o=i;for(a in o)if(o.hasOwnProperty(a)){var c=o[a];a==="style"?ip(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&np(e,c)):a==="children"?typeof c=="string"?(s!=="textarea"||c!=="")&&Si(e,c):typeof c=="number"&&Si(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(ki.hasOwnProperty(a)?c!=null&&a==="onScroll"&&xe("scroll",e):c!=null&&eu(e,a,c,l))}switch(s){case"input":xa(e),Ch(e,n,!1);break;case"textarea":xa(e),Mh(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Zs(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?hr(e,!!n.multiple,a,!1):n.defaultValue!=null&&hr(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Cl)}switch(s){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ye(t),null;case 6:if(e&&t.stateNode!=null)P0(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(I(166));if(s=Sn(Oi.current),Sn(ss.current),_a(t)){if(n=t.stateNode,s=t.memoizedProps,n[Jt]=t,(a=n.nodeValue!==s)&&(e=vt,e!==null))switch(e.tag){case 3:Na(n.nodeValue,s,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Na(n.nodeValue,s,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(s.nodeType===9?s:s.ownerDocument).createTextNode(n),n[Jt]=t,t.stateNode=n}return Ye(t),null;case 13:if(pe(be),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ge&&gt!==null&&t.mode&1&&!(t.flags&128))Yp(),wr(),t.flags|=98560,a=!1;else if(a=_a(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(I(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(I(317));a[Jt]=t}else wr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ye(t),a=!1}else Ot!==null&&(kd(Ot),Ot=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=s,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||be.current&1?Le===0&&(Le=3):Au())),t.updateQueue!==null&&(t.flags|=4),Ye(t),null);case 4:return _r(),gd(e,t),e===null&&Ri(t.stateNode.containerInfo),Ye(t),null;case 10:return vu(t.type._context),Ye(t),null;case 17:return ht(t.type)&&Pl(),Ye(t),null;case 19:if(pe(be),a=t.memoizedState,a===null)return Ye(t),null;if(n=(t.flags&128)!==0,l=a.rendering,l===null)if(n)Vr(a,!1);else{if(Le!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=Fl(e),l!==null){for(t.flags|=128,Vr(a,!1),n=l.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=s,s=t.child;s!==null;)a=s,e=n,a.flags&=14680066,l=a.alternate,l===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return fe(be,be.current&1|2),t.child}e=e.sibling}a.tail!==null&&Se()>Sr&&(t.flags|=128,n=!0,Vr(a,!1),t.lanes=4194304)}else{if(!n)if(e=Fl(l),e!==null){if(t.flags|=128,n=!0,s=e.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),Vr(a,!0),a.tail===null&&a.tailMode==="hidden"&&!l.alternate&&!ge)return Ye(t),null}else 2*Se()-a.renderingStartTime>Sr&&s!==1073741824&&(t.flags|=128,n=!0,Vr(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(s=a.last,s!==null?s.sibling=l:t.child=l,a.last=l)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Se(),t.sibling=null,s=be.current,fe(be,n?s&1|2:s&1),t):(Ye(t),null);case 22:case 23:return Fu(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?pt&1073741824&&(Ye(t),t.subtreeFlags&6&&(t.flags|=8192)):Ye(t),null;case 24:return null;case 25:return null}throw Error(I(156,t.tag))}function Bb(e,t){switch(xu(t),t.tag){case 1:return ht(t.type)&&Pl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return _r(),pe(ut),pe(Ge),_u(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Nu(t),null;case 13:if(pe(be),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(I(340));wr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return pe(be),null;case 4:return _r(),null;case 10:return vu(t.type._context),null;case 22:case 23:return Fu(),null;case 24:return null;default:return null}}var Ca=!1,Xe=!1,Wb=typeof WeakSet=="function"?WeakSet:Set,$=null;function dr(e,t){var s=e.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(n){Ne(e,t,n)}else s.current=null}function yd(e,t,s){try{s()}catch(n){Ne(e,t,n)}}var ym=!1;function Hb(e,t){if(td=_l,e=Rp(),mu(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var n=s.getSelection&&s.getSelection();if(n&&n.rangeCount!==0){s=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{s.nodeType,a.nodeType}catch{s=null;break e}var l=0,o=-1,c=-1,d=0,u=0,h=e,f=null;t:for(;;){for(var v;h!==s||i!==0&&h.nodeType!==3||(o=l+i),h!==a||n!==0&&h.nodeType!==3||(c=l+n),h.nodeType===3&&(l+=h.nodeValue.length),(v=h.firstChild)!==null;)f=h,h=v;for(;;){if(h===e)break t;if(f===s&&++d===i&&(o=l),f===a&&++u===n&&(c=l),(v=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=v}s=o===-1||c===-1?null:{start:o,end:c}}else s=null}s=s||{start:0,end:0}}else s=null;for(sd={focusedElem:e,selectionRange:s},_l=!1,$=t;$!==null;)if(t=$,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,$=e;else for(;$!==null;){t=$;try{var p=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var y=p.memoizedProps,b=p.memoizedState,m=t.stateNode,x=m.getSnapshotBeforeUpdate(t.elementType===t.type?y:Ft(t.type,y),b);m.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(I(163))}}catch(j){Ne(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,$=e;break}$=t.return}return p=ym,ym=!1,p}function yi(e,t,s){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&yd(t,s,a)}i=i.next}while(i!==n)}}function bo(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var s=t=t.next;do{if((s.tag&e)===e){var n=s.create;s.destroy=n()}s=s.next}while(s!==t)}}function vd(e){var t=e.ref;if(t!==null){var s=e.stateNode;switch(e.tag){case 5:e=s;break;default:e=s}typeof t=="function"?t(e):t.current=e}}function M0(e){var t=e.alternate;t!==null&&(e.alternate=null,M0(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Jt],delete t[Fi],delete t[id],delete t[_b],delete t[kb])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function E0(e){return e.tag===5||e.tag===3||e.tag===4}function vm(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||E0(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function bd(e,t,s){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?s.nodeType===8?s.parentNode.insertBefore(e,t):s.insertBefore(e,t):(s.nodeType===8?(t=s.parentNode,t.insertBefore(e,s)):(t=s,t.appendChild(e)),s=s._reactRootContainer,s!=null||t.onclick!==null||(t.onclick=Cl));else if(n!==4&&(e=e.child,e!==null))for(bd(e,t,s),e=e.sibling;e!==null;)bd(e,t,s),e=e.sibling}function jd(e,t,s){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?s.insertBefore(e,t):s.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(jd(e,t,s),e=e.sibling;e!==null;)jd(e,t,s),e=e.sibling}var Ie=null,At=!1;function Ss(e,t,s){for(s=s.child;s!==null;)T0(e,t,s),s=s.sibling}function T0(e,t,s){if(ts&&typeof ts.onCommitFiberUnmount=="function")try{ts.onCommitFiberUnmount(ho,s)}catch{}switch(s.tag){case 5:Xe||dr(s,t);case 6:var n=Ie,i=At;Ie=null,Ss(e,t,s),Ie=n,At=i,Ie!==null&&(At?(e=Ie,s=s.stateNode,e.nodeType===8?e.parentNode.removeChild(s):e.removeChild(s)):Ie.removeChild(s.stateNode));break;case 18:Ie!==null&&(At?(e=Ie,s=s.stateNode,e.nodeType===8?rc(e.parentNode,s):e.nodeType===1&&rc(e,s),Ei(e)):rc(Ie,s.stateNode));break;case 4:n=Ie,i=At,Ie=s.stateNode.containerInfo,At=!0,Ss(e,t,s),Ie=n,At=i;break;case 0:case 11:case 14:case 15:if(!Xe&&(n=s.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,l=a.destroy;a=a.tag,l!==void 0&&(a&2||a&4)&&yd(s,t,l),i=i.next}while(i!==n)}Ss(e,t,s);break;case 1:if(!Xe&&(dr(s,t),n=s.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=s.memoizedProps,n.state=s.memoizedState,n.componentWillUnmount()}catch(o){Ne(s,t,o)}Ss(e,t,s);break;case 21:Ss(e,t,s);break;case 22:s.mode&1?(Xe=(n=Xe)||s.memoizedState!==null,Ss(e,t,s),Xe=n):Ss(e,t,s);break;default:Ss(e,t,s)}}function bm(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var s=e.stateNode;s===null&&(s=e.stateNode=new Wb),t.forEach(function(n){var i=Gb.bind(null,e,n);s.has(n)||(s.add(n),n.then(i,i))})}}function Lt(e,t){var s=t.deletions;if(s!==null)for(var n=0;n<s.length;n++){var i=s[n];try{var a=e,l=t,o=l;e:for(;o!==null;){switch(o.tag){case 5:Ie=o.stateNode,At=!1;break e;case 3:Ie=o.stateNode.containerInfo,At=!0;break e;case 4:Ie=o.stateNode.containerInfo,At=!0;break e}o=o.return}if(Ie===null)throw Error(I(160));T0(a,l,i),Ie=null,At=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(d){Ne(i,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)D0(t,e),t=t.sibling}function D0(e,t){var s=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Lt(t,e),qt(e),n&4){try{yi(3,e,e.return),bo(3,e)}catch(y){Ne(e,e.return,y)}try{yi(5,e,e.return)}catch(y){Ne(e,e.return,y)}}break;case 1:Lt(t,e),qt(e),n&512&&s!==null&&dr(s,s.return);break;case 5:if(Lt(t,e),qt(e),n&512&&s!==null&&dr(s,s.return),e.flags&32){var i=e.stateNode;try{Si(i,"")}catch(y){Ne(e,e.return,y)}}if(n&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,l=s!==null?s.memoizedProps:a,o=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&ep(i,a),Vc(o,l);var d=Vc(o,a);for(l=0;l<c.length;l+=2){var u=c[l],h=c[l+1];u==="style"?ip(i,h):u==="dangerouslySetInnerHTML"?np(i,h):u==="children"?Si(i,h):eu(i,u,h,d)}switch(o){case"input":Bc(i,a);break;case"textarea":tp(i,a);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var v=a.value;v!=null?hr(i,!!a.multiple,v,!1):f!==!!a.multiple&&(a.defaultValue!=null?hr(i,!!a.multiple,a.defaultValue,!0):hr(i,!!a.multiple,a.multiple?[]:"",!1))}i[Fi]=a}catch(y){Ne(e,e.return,y)}}break;case 6:if(Lt(t,e),qt(e),n&4){if(e.stateNode===null)throw Error(I(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(y){Ne(e,e.return,y)}}break;case 3:if(Lt(t,e),qt(e),n&4&&s!==null&&s.memoizedState.isDehydrated)try{Ei(t.containerInfo)}catch(y){Ne(e,e.return,y)}break;case 4:Lt(t,e),qt(e);break;case 13:Lt(t,e),qt(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(Ru=Se())),n&4&&bm(e);break;case 22:if(u=s!==null&&s.memoizedState!==null,e.mode&1?(Xe=(d=Xe)||u,Lt(t,e),Xe=d):Lt(t,e),qt(e),n&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!u&&e.mode&1)for($=e,u=e.child;u!==null;){for(h=$=u;$!==null;){switch(f=$,v=f.child,f.tag){case 0:case 11:case 14:case 15:yi(4,f,f.return);break;case 1:dr(f,f.return);var p=f.stateNode;if(typeof p.componentWillUnmount=="function"){n=f,s=f.return;try{t=n,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(y){Ne(n,s,y)}}break;case 5:dr(f,f.return);break;case 22:if(f.memoizedState!==null){wm(h);continue}}v!==null?(v.return=f,$=v):wm(h)}u=u.sibling}e:for(u=null,h=e;;){if(h.tag===5){if(u===null){u=h;try{i=h.stateNode,d?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=h.stateNode,c=h.memoizedProps.style,l=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=rp("display",l))}catch(y){Ne(e,e.return,y)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(y){Ne(e,e.return,y)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Lt(t,e),qt(e),n&4&&bm(e);break;case 21:break;default:Lt(t,e),qt(e)}}function qt(e){var t=e.flags;if(t&2){try{e:{for(var s=e.return;s!==null;){if(E0(s)){var n=s;break e}s=s.return}throw Error(I(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Si(i,""),n.flags&=-33);var a=vm(e);jd(e,a,i);break;case 3:case 4:var l=n.stateNode.containerInfo,o=vm(e);bd(e,o,l);break;default:throw Error(I(161))}}catch(c){Ne(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Ub(e,t,s){$=e,R0(e)}function R0(e,t,s){for(var n=(e.mode&1)!==0;$!==null;){var i=$,a=i.child;if(i.tag===22&&n){var l=i.memoizedState!==null||Ca;if(!l){var o=i.alternate,c=o!==null&&o.memoizedState!==null||Xe;o=Ca;var d=Xe;if(Ca=l,(Xe=c)&&!d)for($=i;$!==null;)l=$,c=l.child,l.tag===22&&l.memoizedState!==null?Nm(i):c!==null?(c.return=l,$=c):Nm(i);for(;a!==null;)$=a,R0(a),a=a.sibling;$=i,Ca=o,Xe=d}jm(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,$=a):jm(e)}}function jm(e){for(;$!==null;){var t=$;if(t.flags&8772){var s=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Xe||bo(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Xe)if(s===null)n.componentDidMount();else{var i=t.elementType===t.type?s.memoizedProps:Ft(t.type,s.memoizedProps);n.componentDidUpdate(i,s.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&im(t,a,n);break;case 3:var l=t.updateQueue;if(l!==null){if(s=null,t.child!==null)switch(t.child.tag){case 5:s=t.child.stateNode;break;case 1:s=t.child.stateNode}im(t,l,s)}break;case 5:var o=t.stateNode;if(s===null&&t.flags&4){s=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&s.focus();break;case"img":c.src&&(s.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&Ei(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(I(163))}Xe||t.flags&512&&vd(t)}catch(f){Ne(t,t.return,f)}}if(t===e){$=null;break}if(s=t.sibling,s!==null){s.return=t.return,$=s;break}$=t.return}}function wm(e){for(;$!==null;){var t=$;if(t===e){$=null;break}var s=t.sibling;if(s!==null){s.return=t.return,$=s;break}$=t.return}}function Nm(e){for(;$!==null;){var t=$;try{switch(t.tag){case 0:case 11:case 15:var s=t.return;try{bo(4,t)}catch(c){Ne(t,s,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(c){Ne(t,i,c)}}var a=t.return;try{vd(t)}catch(c){Ne(t,a,c)}break;case 5:var l=t.return;try{vd(t)}catch(c){Ne(t,l,c)}}}catch(c){Ne(t,t.return,c)}if(t===e){$=null;break}var o=t.sibling;if(o!==null){o.return=t.return,$=o;break}$=t.return}}var $b=Math.ceil,zl=_s.ReactCurrentDispatcher,Tu=_s.ReactCurrentOwner,Mt=_s.ReactCurrentBatchConfig,re=0,ze=null,Ee=null,He=0,pt=0,ur=ln(0),Le=0,Wi=null,zn=0,jo=0,Du=0,vi=null,ot=null,Ru=0,Sr=1/0,os=null,Il=!1,wd=null,Xs=null,Pa=!1,Ls=null,Bl=0,bi=0,Nd=null,rl=-1,il=0;function tt(){return re&6?Se():rl!==-1?rl:rl=Se()}function Qs(e){return e.mode&1?re&2&&He!==0?He&-He:Cb.transition!==null?(il===0&&(il=gp()),il):(e=ue,e!==0||(e=window.event,e=e===void 0?16:_p(e.type)),e):1}function Bt(e,t,s,n){if(50<bi)throw bi=0,Nd=null,Error(I(185));sa(e,s,n),(!(re&2)||e!==ze)&&(e===ze&&(!(re&2)&&(jo|=s),Le===4&&Ds(e,He)),mt(e,n),s===1&&re===0&&!(t.mode&1)&&(Sr=Se()+500,go&&on()))}function mt(e,t){var s=e.callbackNode;Cv(e,t);var n=Nl(e,e===ze?He:0);if(n===0)s!==null&&Dh(s),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(s!=null&&Dh(s),t===1)e.tag===0?Sb(_m.bind(null,e)):Up(_m.bind(null,e)),wb(function(){!(re&6)&&on()}),s=null;else{switch(yp(n)){case 1:s=iu;break;case 4:s=xp;break;case 16:s=wl;break;case 536870912:s=pp;break;default:s=wl}s=W0(s,L0.bind(null,e))}e.callbackPriority=t,e.callbackNode=s}}function L0(e,t){if(rl=-1,il=0,re&6)throw Error(I(327));var s=e.callbackNode;if(gr()&&e.callbackNode!==s)return null;var n=Nl(e,e===ze?He:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Wl(e,n);else{t=n;var i=re;re|=2;var a=A0();(ze!==e||He!==t)&&(os=null,Sr=Se()+500,En(e,t));do try{qb();break}catch(o){F0(e,o)}while(1);yu(),zl.current=a,re=i,Ee!==null?t=0:(ze=null,He=0,t=Le)}if(t!==0){if(t===2&&(i=Kc(e),i!==0&&(n=i,t=_d(e,i))),t===1)throw s=Wi,En(e,0),Ds(e,n),mt(e,Se()),s;if(t===6)Ds(e,n);else{if(i=e.current.alternate,!(n&30)&&!Vb(i)&&(t=Wl(e,n),t===2&&(a=Kc(e),a!==0&&(n=a,t=_d(e,a))),t===1))throw s=Wi,En(e,0),Ds(e,n),mt(e,Se()),s;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(I(345));case 2:vn(e,ot,os);break;case 3:if(Ds(e,n),(n&130023424)===n&&(t=Ru+500-Se(),10<t)){if(Nl(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){tt(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=rd(vn.bind(null,e,ot,os),t);break}vn(e,ot,os);break;case 4:if(Ds(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var l=31-It(n);a=1<<l,l=t[l],l>i&&(i=l),n&=~a}if(n=i,n=Se()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*$b(n/1960))-n,10<n){e.timeoutHandle=rd(vn.bind(null,e,ot,os),n);break}vn(e,ot,os);break;case 5:vn(e,ot,os);break;default:throw Error(I(329))}}}return mt(e,Se()),e.callbackNode===s?L0.bind(null,e):null}function _d(e,t){var s=vi;return e.current.memoizedState.isDehydrated&&(En(e,t).flags|=256),e=Wl(e,t),e!==2&&(t=ot,ot=s,t!==null&&kd(t)),e}function kd(e){ot===null?ot=e:ot.push.apply(ot,e)}function Vb(e){for(var t=e;;){if(t.flags&16384){var s=t.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var n=0;n<s.length;n++){var i=s[n],a=i.getSnapshot;i=i.value;try{if(!Ht(a(),i))return!1}catch{return!1}}}if(s=t.child,t.subtreeFlags&16384&&s!==null)s.return=t,t=s;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ds(e,t){for(t&=~Du,t&=~jo,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var s=31-It(t),n=1<<s;e[s]=-1,t&=~n}}function _m(e){if(re&6)throw Error(I(327));gr();var t=Nl(e,0);if(!(t&1))return mt(e,Se()),null;var s=Wl(e,t);if(e.tag!==0&&s===2){var n=Kc(e);n!==0&&(t=n,s=_d(e,n))}if(s===1)throw s=Wi,En(e,0),Ds(e,t),mt(e,Se()),s;if(s===6)throw Error(I(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,vn(e,ot,os),mt(e,Se()),null}function Lu(e,t){var s=re;re|=1;try{return e(t)}finally{re=s,re===0&&(Sr=Se()+500,go&&on())}}function In(e){Ls!==null&&Ls.tag===0&&!(re&6)&&gr();var t=re;re|=1;var s=Mt.transition,n=ue;try{if(Mt.transition=null,ue=1,e)return e()}finally{ue=n,Mt.transition=s,re=t,!(re&6)&&on()}}function Fu(){pt=ur.current,pe(ur)}function En(e,t){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(s!==-1&&(e.timeoutHandle=-1,jb(s)),Ee!==null)for(s=Ee.return;s!==null;){var n=s;switch(xu(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Pl();break;case 3:_r(),pe(ut),pe(Ge),_u();break;case 5:Nu(n);break;case 4:_r();break;case 13:pe(be);break;case 19:pe(be);break;case 10:vu(n.type._context);break;case 22:case 23:Fu()}s=s.return}if(ze=e,Ee=e=Ks(e.current,null),He=pt=t,Le=0,Wi=null,Du=jo=zn=0,ot=vi=null,kn!==null){for(t=0;t<kn.length;t++)if(s=kn[t],n=s.interleaved,n!==null){s.interleaved=null;var i=n.next,a=s.pending;if(a!==null){var l=a.next;a.next=i,n.next=l}s.pending=n}kn=null}return e}function F0(e,t){do{var s=Ee;try{if(yu(),tl.current=Ol,Al){for(var n=je.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Al=!1}if(On=0,Ae=De=je=null,gi=!1,zi=0,Tu.current=null,s===null||s.return===null){Le=1,Wi=t,Ee=null;break}e:{var a=e,l=s.return,o=s,c=t;if(t=He,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=o,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var v=um(l);if(v!==null){v.flags&=-257,hm(v,l,o,a,t),v.mode&1&&dm(a,d,t),t=v,c=d;var p=t.updateQueue;if(p===null){var y=new Set;y.add(c),t.updateQueue=y}else p.add(c);break e}else{if(!(t&1)){dm(a,d,t),Au();break e}c=Error(I(426))}}else if(ge&&o.mode&1){var b=um(l);if(b!==null){!(b.flags&65536)&&(b.flags|=256),hm(b,l,o,a,t),pu(kr(c,o));break e}}a=c=kr(c,o),Le!==4&&(Le=2),vi===null?vi=[a]:vi.push(a),a=l;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var m=y0(a,c,t);rm(a,m);break e;case 1:o=c;var x=a.type,g=a.stateNode;if(!(a.flags&128)&&(typeof x.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Xs===null||!Xs.has(g)))){a.flags|=65536,t&=-t,a.lanes|=t;var j=v0(a,o,t);rm(a,j);break e}}a=a.return}while(a!==null)}z0(s)}catch(w){t=w,Ee===s&&s!==null&&(Ee=s=s.return);continue}break}while(1)}function A0(){var e=zl.current;return zl.current=Ol,e===null?Ol:e}function Au(){(Le===0||Le===3||Le===2)&&(Le=4),ze===null||!(zn&268435455)&&!(jo&268435455)||Ds(ze,He)}function Wl(e,t){var s=re;re|=2;var n=A0();(ze!==e||He!==t)&&(os=null,En(e,t));do try{Yb();break}catch(i){F0(e,i)}while(1);if(yu(),re=s,zl.current=n,Ee!==null)throw Error(I(261));return ze=null,He=0,Le}function Yb(){for(;Ee!==null;)O0(Ee)}function qb(){for(;Ee!==null&&!yv();)O0(Ee)}function O0(e){var t=B0(e.alternate,e,pt);e.memoizedProps=e.pendingProps,t===null?z0(e):Ee=t,Tu.current=null}function z0(e){var t=e;do{var s=t.alternate;if(e=t.return,t.flags&32768){if(s=Bb(s,t),s!==null){s.flags&=32767,Ee=s;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Le=6,Ee=null;return}}else if(s=Ib(s,t,pt),s!==null){Ee=s;return}if(t=t.sibling,t!==null){Ee=t;return}Ee=t=e}while(t!==null);Le===0&&(Le=5)}function vn(e,t,s){var n=ue,i=Mt.transition;try{Mt.transition=null,ue=1,Xb(e,t,s,n)}finally{Mt.transition=i,ue=n}return null}function Xb(e,t,s,n){do gr();while(Ls!==null);if(re&6)throw Error(I(327));s=e.finishedWork;var i=e.finishedLanes;if(s===null)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error(I(177));e.callbackNode=null,e.callbackPriority=0;var a=s.lanes|s.childLanes;if(Pv(e,a),e===ze&&(Ee=ze=null,He=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||Pa||(Pa=!0,W0(wl,function(){return gr(),null})),a=(s.flags&15990)!==0,s.subtreeFlags&15990||a){a=Mt.transition,Mt.transition=null;var l=ue;ue=1;var o=re;re|=4,Tu.current=null,Hb(e,s),D0(s,e),fb(sd),_l=!!td,sd=td=null,e.current=s,Ub(s),vv(),re=o,ue=l,Mt.transition=a}else e.current=s;if(Pa&&(Pa=!1,Ls=e,Bl=i),a=e.pendingLanes,a===0&&(Xs=null),wv(s.stateNode),mt(e,Se()),t!==null)for(n=e.onRecoverableError,s=0;s<t.length;s++)i=t[s],n(i.value,{componentStack:i.stack,digest:i.digest});if(Il)throw Il=!1,e=wd,wd=null,e;return Bl&1&&e.tag!==0&&gr(),a=e.pendingLanes,a&1?e===Nd?bi++:(bi=0,Nd=e):bi=0,on(),null}function gr(){if(Ls!==null){var e=yp(Bl),t=Mt.transition,s=ue;try{if(Mt.transition=null,ue=16>e?16:e,Ls===null)var n=!1;else{if(e=Ls,Ls=null,Bl=0,re&6)throw Error(I(331));var i=re;for(re|=4,$=e.current;$!==null;){var a=$,l=a.child;if($.flags&16){var o=a.deletions;if(o!==null){for(var c=0;c<o.length;c++){var d=o[c];for($=d;$!==null;){var u=$;switch(u.tag){case 0:case 11:case 15:yi(8,u,a)}var h=u.child;if(h!==null)h.return=u,$=h;else for(;$!==null;){u=$;var f=u.sibling,v=u.return;if(M0(u),u===d){$=null;break}if(f!==null){f.return=v,$=f;break}$=v}}}var p=a.alternate;if(p!==null){var y=p.child;if(y!==null){p.child=null;do{var b=y.sibling;y.sibling=null,y=b}while(y!==null)}}$=a}}if(a.subtreeFlags&2064&&l!==null)l.return=a,$=l;else e:for(;$!==null;){if(a=$,a.flags&2048)switch(a.tag){case 0:case 11:case 15:yi(9,a,a.return)}var m=a.sibling;if(m!==null){m.return=a.return,$=m;break e}$=a.return}}var x=e.current;for($=x;$!==null;){l=$;var g=l.child;if(l.subtreeFlags&2064&&g!==null)g.return=l,$=g;else e:for(l=x;$!==null;){if(o=$,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:bo(9,o)}}catch(w){Ne(o,o.return,w)}if(o===l){$=null;break e}var j=o.sibling;if(j!==null){j.return=o.return,$=j;break e}$=o.return}}if(re=i,on(),ts&&typeof ts.onPostCommitFiberRoot=="function")try{ts.onPostCommitFiberRoot(ho,e)}catch{}n=!0}return n}finally{ue=s,Mt.transition=t}}return!1}function km(e,t,s){t=kr(s,t),t=y0(e,t,1),e=qs(e,t,1),t=tt(),e!==null&&(sa(e,1,t),mt(e,t))}function Ne(e,t,s){if(e.tag===3)km(e,e,s);else for(;t!==null;){if(t.tag===3){km(t,e,s);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Xs===null||!Xs.has(n))){e=kr(s,e),e=v0(t,e,1),t=qs(t,e,1),e=tt(),t!==null&&(sa(t,1,e),mt(t,e));break}}t=t.return}}function Qb(e,t,s){var n=e.pingCache;n!==null&&n.delete(t),t=tt(),e.pingedLanes|=e.suspendedLanes&s,ze===e&&(He&s)===s&&(Le===4||Le===3&&(He&130023424)===He&&500>Se()-Ru?En(e,0):Du|=s),mt(e,t)}function I0(e,t){t===0&&(e.mode&1?(t=ya,ya<<=1,!(ya&130023424)&&(ya=4194304)):t=1);var s=tt();e=js(e,t),e!==null&&(sa(e,t,s),mt(e,s))}function Kb(e){var t=e.memoizedState,s=0;t!==null&&(s=t.retryLane),I0(e,s)}function Gb(e,t){var s=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(s=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(I(314))}n!==null&&n.delete(t),I0(e,s)}var B0;B0=function(e,t,s){if(e!==null)if(e.memoizedProps!==t.pendingProps||ut.current)dt=!0;else{if(!(e.lanes&s)&&!(t.flags&128))return dt=!1,zb(e,t,s);dt=!!(e.flags&131072)}else dt=!1,ge&&t.flags&1048576&&$p(t,Tl,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;nl(e,t),e=t.pendingProps;var i=jr(t,Ge.current);pr(t,s),i=Su(null,t,n,e,i,s);var a=Cu();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ht(n)?(a=!0,Ml(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,ju(t),i.updater=vo,t.stateNode=i,i._reactInternals=t,ud(t,n,e,s),t=fd(null,t,n,!0,a,s)):(t.tag=0,ge&&a&&fu(t),et(null,t,i,s),t=t.child),t;case 16:n=t.elementType;e:{switch(nl(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=Zb(n),e=Ft(n,e),i){case 0:t=md(null,t,n,e,s);break e;case 1:t=xm(null,t,n,e,s);break e;case 11:t=mm(null,t,n,e,s);break e;case 14:t=fm(null,t,n,Ft(n.type,e),s);break e}throw Error(I(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Ft(n,i),md(e,t,n,i,s);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Ft(n,i),xm(e,t,n,i,s);case 3:e:{if(N0(t),e===null)throw Error(I(387));n=t.pendingProps,a=t.memoizedState,i=a.element,Kp(e,t),Ll(t,n,null,s);var l=t.memoizedState;if(n=l.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=kr(Error(I(423)),t),t=pm(e,t,n,s,i);break e}else if(n!==i){i=kr(Error(I(424)),t),t=pm(e,t,n,s,i);break e}else for(gt=Ys(t.stateNode.containerInfo.firstChild),vt=t,ge=!0,Ot=null,s=Xp(t,null,n,s),t.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(wr(),n===i){t=ws(e,t,s);break e}et(e,t,n,s)}t=t.child}return t;case 5:return Gp(t),e===null&&od(t),n=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,l=i.children,nd(n,i)?l=null:a!==null&&nd(n,a)&&(t.flags|=32),w0(e,t),et(e,t,l,s),t.child;case 6:return e===null&&od(t),null;case 13:return _0(e,t,s);case 4:return wu(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Nr(t,null,n,s):et(e,t,n,s),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Ft(n,i),mm(e,t,n,i,s);case 7:return et(e,t,t.pendingProps,s),t.child;case 8:return et(e,t,t.pendingProps.children,s),t.child;case 12:return et(e,t,t.pendingProps.children,s),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,a=t.memoizedProps,l=i.value,fe(Dl,n._currentValue),n._currentValue=l,a!==null)if(Ht(a.value,l)){if(a.children===i.children&&!ut.current){t=ws(e,t,s);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var o=a.dependencies;if(o!==null){l=a.child;for(var c=o.firstContext;c!==null;){if(c.context===n){if(a.tag===1){c=ps(-1,s&-s),c.tag=2;var d=a.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}a.lanes|=s,c=a.alternate,c!==null&&(c.lanes|=s),cd(a.return,s,t),o.lanes|=s;break}c=c.next}}else if(a.tag===10)l=a.type===t.type?null:a.child;else if(a.tag===18){if(l=a.return,l===null)throw Error(I(341));l.lanes|=s,o=l.alternate,o!==null&&(o.lanes|=s),cd(l,s,t),l=a.sibling}else l=a.child;if(l!==null)l.return=a;else for(l=a;l!==null;){if(l===t){l=null;break}if(a=l.sibling,a!==null){a.return=l.return,l=a;break}l=l.return}a=l}et(e,t,i.children,s),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,pr(t,s),i=Tt(i),n=n(i),t.flags|=1,et(e,t,n,s),t.child;case 14:return n=t.type,i=Ft(n,t.pendingProps),i=Ft(n.type,i),fm(e,t,n,i,s);case 15:return b0(e,t,t.type,t.pendingProps,s);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Ft(n,i),nl(e,t),t.tag=1,ht(n)?(e=!0,Ml(t)):e=!1,pr(t,s),g0(t,n,i),ud(t,n,i,s),fd(null,t,n,!0,e,s);case 19:return k0(e,t,s);case 22:return j0(e,t,s)}throw Error(I(156,t.tag))};function W0(e,t){return fp(e,t)}function Jb(e,t,s,n){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ct(e,t,s,n){return new Jb(e,t,s,n)}function Ou(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Zb(e){if(typeof e=="function")return Ou(e)?1:0;if(e!=null){if(e=e.$$typeof,e===su)return 11;if(e===nu)return 14}return 2}function Ks(e,t){var s=e.alternate;return s===null?(s=Ct(e.tag,t,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=t,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&14680064,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,t=e.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function al(e,t,s,n,i,a){var l=2;if(n=e,typeof e=="function")Ou(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case tr:return Tn(s.children,i,a,t);case tu:l=8,i|=8;break;case Fc:return e=Ct(12,s,t,i|2),e.elementType=Fc,e.lanes=a,e;case Ac:return e=Ct(13,s,t,i),e.elementType=Ac,e.lanes=a,e;case Oc:return e=Ct(19,s,t,i),e.elementType=Oc,e.lanes=a,e;case Gx:return wo(s,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Qx:l=10;break e;case Kx:l=9;break e;case su:l=11;break e;case nu:l=14;break e;case Ms:l=16,n=null;break e}throw Error(I(130,e==null?e:typeof e,""))}return t=Ct(l,s,t,i),t.elementType=e,t.type=n,t.lanes=a,t}function Tn(e,t,s,n){return e=Ct(7,e,n,t),e.lanes=s,e}function wo(e,t,s,n){return e=Ct(22,e,n,t),e.elementType=Gx,e.lanes=s,e.stateNode={isHidden:!1},e}function hc(e,t,s){return e=Ct(6,e,null,t),e.lanes=s,e}function mc(e,t,s){return t=Ct(4,e.children!==null?e.children:[],e.key,t),t.lanes=s,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function e1(e,t,s,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=qo(0),this.expirationTimes=qo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qo(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function zu(e,t,s,n,i,a,l,o,c){return e=new e1(e,t,s,o,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Ct(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},ju(a),e}function t1(e,t,s){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:er,key:n==null?null:""+n,children:e,containerInfo:t,implementation:s}}function H0(e){if(!e)return en;e=e._reactInternals;e:{if(Yn(e)!==e||e.tag!==1)throw Error(I(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ht(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(I(171))}if(e.tag===1){var s=e.type;if(ht(s))return Hp(e,s,t)}return t}function U0(e,t,s,n,i,a,l,o,c){return e=zu(s,n,!0,e,i,a,l,o,c),e.context=H0(null),s=e.current,n=tt(),i=Qs(s),a=ps(n,i),a.callback=t??null,qs(s,a,i),e.current.lanes=i,sa(e,i,n),mt(e,n),e}function No(e,t,s,n){var i=t.current,a=tt(),l=Qs(i);return s=H0(s),t.context===null?t.context=s:t.pendingContext=s,t=ps(a,l),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=qs(i,t,l),e!==null&&(Bt(e,i,l,a),el(e,i,l)),l}function Hl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Sm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<t?s:t}}function Iu(e,t){Sm(e,t),(e=e.alternate)&&Sm(e,t)}function s1(){return null}var $0=typeof reportError=="function"?reportError:function(e){console.error(e)};function Bu(e){this._internalRoot=e}_o.prototype.render=Bu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(I(409));No(e,t,null,null)};_o.prototype.unmount=Bu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;In(function(){No(null,e,null,null)}),t[bs]=null}};function _o(e){this._internalRoot=e}_o.prototype.unstable_scheduleHydration=function(e){if(e){var t=jp();e={blockedOn:null,target:e,priority:t};for(var s=0;s<Ts.length&&t!==0&&t<Ts[s].priority;s++);Ts.splice(s,0,e),s===0&&Np(e)}};function Wu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ko(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Cm(){}function n1(e,t,s,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var d=Hl(l);a.call(d)}}var l=U0(t,n,e,0,null,!1,!1,"",Cm);return e._reactRootContainer=l,e[bs]=l.current,Ri(e.nodeType===8?e.parentNode:e),In(),l}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var o=n;n=function(){var d=Hl(c);o.call(d)}}var c=zu(e,0,!1,null,null,!1,!1,"",Cm);return e._reactRootContainer=c,e[bs]=c.current,Ri(e.nodeType===8?e.parentNode:e),In(function(){No(t,c,s,n)}),c}function So(e,t,s,n,i){var a=s._reactRootContainer;if(a){var l=a;if(typeof i=="function"){var o=i;i=function(){var c=Hl(l);o.call(c)}}No(t,l,e,i)}else l=n1(s,t,e,i,n);return Hl(l)}vp=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var s=ri(t.pendingLanes);s!==0&&(au(t,s|1),mt(t,Se()),!(re&6)&&(Sr=Se()+500,on()))}break;case 13:In(function(){var n=js(e,1);if(n!==null){var i=tt();Bt(n,e,1,i)}}),Iu(e,1)}};lu=function(e){if(e.tag===13){var t=js(e,134217728);if(t!==null){var s=tt();Bt(t,e,134217728,s)}Iu(e,134217728)}};bp=function(e){if(e.tag===13){var t=Qs(e),s=js(e,t);if(s!==null){var n=tt();Bt(s,e,t,n)}Iu(e,t)}};jp=function(){return ue};wp=function(e,t){var s=ue;try{return ue=e,t()}finally{ue=s}};qc=function(e,t,s){switch(t){case"input":if(Bc(e,s),t=s.name,s.type==="radio"&&t!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<s.length;t++){var n=s[t];if(n!==e&&n.form===e.form){var i=po(n);if(!i)throw Error(I(90));Zx(n),Bc(n,i)}}}break;case"textarea":tp(e,s);break;case"select":t=s.value,t!=null&&hr(e,!!s.multiple,t,!1)}};op=Lu;cp=In;var r1={usingClientEntryPoint:!1,Events:[ra,ir,po,ap,lp,Lu]},Yr={findFiberByHostInstance:_n,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},i1={bundleType:Yr.bundleType,version:Yr.version,rendererPackageName:Yr.rendererPackageName,rendererConfig:Yr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_s.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=hp(e),e===null?null:e.stateNode},findFiberByHostInstance:Yr.findFiberByHostInstance||s1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ma=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ma.isDisabled&&Ma.supportsFiber)try{ho=Ma.inject(i1),ts=Ma}catch{}}jt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=r1;jt.createPortal=function(e,t){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Wu(t))throw Error(I(200));return t1(e,t,null,s)};jt.createRoot=function(e,t){if(!Wu(e))throw Error(I(299));var s=!1,n="",i=$0;return t!=null&&(t.unstable_strictMode===!0&&(s=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=zu(e,1,!1,null,null,s,!1,n,i),e[bs]=t.current,Ri(e.nodeType===8?e.parentNode:e),new Bu(t)};jt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(I(188)):(e=Object.keys(e).join(","),Error(I(268,e)));return e=hp(t),e=e===null?null:e.stateNode,e};jt.flushSync=function(e){return In(e)};jt.hydrate=function(e,t,s){if(!ko(t))throw Error(I(200));return So(null,e,t,!0,s)};jt.hydrateRoot=function(e,t,s){if(!Wu(e))throw Error(I(405));var n=s!=null&&s.hydratedSources||null,i=!1,a="",l=$0;if(s!=null&&(s.unstable_strictMode===!0&&(i=!0),s.identifierPrefix!==void 0&&(a=s.identifierPrefix),s.onRecoverableError!==void 0&&(l=s.onRecoverableError)),t=U0(t,null,e,1,s??null,i,!1,a,l),e[bs]=t.current,Ri(e),n)for(e=0;e<n.length;e++)s=n[e],i=s._getVersion,i=i(s._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[s,i]:t.mutableSourceEagerHydrationData.push(s,i);return new _o(t)};jt.render=function(e,t,s){if(!ko(t))throw Error(I(200));return So(null,e,t,!1,s)};jt.unmountComponentAtNode=function(e){if(!ko(e))throw Error(I(40));return e._reactRootContainer?(In(function(){So(null,null,e,!1,function(){e._reactRootContainer=null,e[bs]=null})}),!0):!1};jt.unstable_batchedUpdates=Lu;jt.unstable_renderSubtreeIntoContainer=function(e,t,s,n){if(!ko(s))throw Error(I(200));if(e==null||e._reactInternals===void 0)throw Error(I(38));return So(e,t,s,!1,n)};jt.version="18.3.1-next-f1338f8080-20240426";function V0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(V0)}catch(e){console.error(e)}}V0(),Vx.exports=jt;var a1=Vx.exports,Pm=a1;Rc.createRoot=Pm.createRoot,Rc.hydrateRoot=Pm.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Hi(){return Hi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},Hi.apply(this,arguments)}var Fs;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Fs||(Fs={}));const Mm="popstate";function l1(e){e===void 0&&(e={});function t(n,i){let{pathname:a,search:l,hash:o}=n.location;return Sd("",{pathname:a,search:l,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function s(n,i){return typeof i=="string"?i:Ul(i)}return c1(t,s,null,e)}function Pe(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Y0(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function o1(){return Math.random().toString(36).substr(2,8)}function Em(e,t){return{usr:e.state,key:e.key,idx:t}}function Sd(e,t,s,n){return s===void 0&&(s=null),Hi({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Rr(t):t,{state:s,key:t&&t.key||n||o1()})}function Ul(e){let{pathname:t="/",search:s="",hash:n=""}=e;return s&&s!=="?"&&(t+=s.charAt(0)==="?"?s:"?"+s),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Rr(e){let t={};if(e){let s=e.indexOf("#");s>=0&&(t.hash=e.substr(s),e=e.substr(0,s));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function c1(e,t,s,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:a=!1}=n,l=i.history,o=Fs.Pop,c=null,d=u();d==null&&(d=0,l.replaceState(Hi({},l.state,{idx:d}),""));function u(){return(l.state||{idx:null}).idx}function h(){o=Fs.Pop;let b=u(),m=b==null?null:b-d;d=b,c&&c({action:o,location:y.location,delta:m})}function f(b,m){o=Fs.Push;let x=Sd(y.location,b,m);s&&s(x,b),d=u()+1;let g=Em(x,d),j=y.createHref(x);try{l.pushState(g,"",j)}catch(w){if(w instanceof DOMException&&w.name==="DataCloneError")throw w;i.location.assign(j)}a&&c&&c({action:o,location:y.location,delta:1})}function v(b,m){o=Fs.Replace;let x=Sd(y.location,b,m);s&&s(x,b),d=u();let g=Em(x,d),j=y.createHref(x);l.replaceState(g,"",j),a&&c&&c({action:o,location:y.location,delta:0})}function p(b){let m=i.location.origin!=="null"?i.location.origin:i.location.href,x=typeof b=="string"?b:Ul(b);return x=x.replace(/ $/,"%20"),Pe(m,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,m)}let y={get action(){return o},get location(){return e(i,l)},listen(b){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(Mm,h),c=b,()=>{i.removeEventListener(Mm,h),c=null}},createHref(b){return t(i,b)},createURL:p,encodeLocation(b){let m=p(b);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:f,replace:v,go(b){return l.go(b)}};return y}var Tm;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Tm||(Tm={}));function d1(e,t,s){return s===void 0&&(s="/"),u1(e,t,s,!1)}function u1(e,t,s,n){let i=typeof t=="string"?Rr(t):t,a=Hu(i.pathname||"/",s);if(a==null)return null;let l=q0(e);h1(l);let o=null;for(let c=0;o==null&&c<l.length;++c){let d=N1(a);o=j1(l[c],d,n)}return o}function q0(e,t,s,n){t===void 0&&(t=[]),s===void 0&&(s=[]),n===void 0&&(n="");let i=(a,l,o)=>{let c={relativePath:o===void 0?a.path||"":o,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};c.relativePath.startsWith("/")&&(Pe(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let d=Gs([n,c.relativePath]),u=s.concat(c);a.children&&a.children.length>0&&(Pe(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),q0(a.children,t,u,d)),!(a.path==null&&!a.index)&&t.push({path:d,score:v1(d,a.index),routesMeta:u})};return e.forEach((a,l)=>{var o;if(a.path===""||!((o=a.path)!=null&&o.includes("?")))i(a,l);else for(let c of X0(a.path))i(a,l,c)}),t}function X0(e){let t=e.split("/");if(t.length===0)return[];let[s,...n]=t,i=s.endsWith("?"),a=s.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let l=X0(n.join("/")),o=[];return o.push(...l.map(c=>c===""?a:[a,c].join("/"))),i&&o.push(...l),o.map(c=>e.startsWith("/")&&c===""?"/":c)}function h1(e){e.sort((t,s)=>t.score!==s.score?s.score-t.score:b1(t.routesMeta.map(n=>n.childrenIndex),s.routesMeta.map(n=>n.childrenIndex)))}const m1=/^:[\w-]+$/,f1=3,x1=2,p1=1,g1=10,y1=-2,Dm=e=>e==="*";function v1(e,t){let s=e.split("/"),n=s.length;return s.some(Dm)&&(n+=y1),t&&(n+=x1),s.filter(i=>!Dm(i)).reduce((i,a)=>i+(m1.test(a)?f1:a===""?p1:g1),n)}function b1(e,t){return e.length===t.length&&e.slice(0,-1).every((n,i)=>n===t[i])?e[e.length-1]-t[t.length-1]:0}function j1(e,t,s){s===void 0&&(s=!1);let{routesMeta:n}=e,i={},a="/",l=[];for(let o=0;o<n.length;++o){let c=n[o],d=o===n.length-1,u=a==="/"?t:t.slice(a.length)||"/",h=Rm({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),f=c.route;if(!h&&d&&s&&!n[n.length-1].route.index&&(h=Rm({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},u)),!h)return null;Object.assign(i,h.params),l.push({params:i,pathname:Gs([a,h.pathname]),pathnameBase:C1(Gs([a,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(a=Gs([a,h.pathnameBase]))}return l}function Rm(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[s,n]=w1(e.path,e.caseSensitive,e.end),i=t.match(s);if(!i)return null;let a=i[0],l=a.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:n.reduce((d,u,h)=>{let{paramName:f,isOptional:v}=u;if(f==="*"){let y=o[h]||"";l=a.slice(0,a.length-y.length).replace(/(.)\/+$/,"$1")}const p=o[h];return v&&!p?d[f]=void 0:d[f]=(p||"").replace(/%2F/g,"/"),d},{}),pathname:a,pathnameBase:l,pattern:e}}function w1(e,t,s){t===void 0&&(t=!1),s===void 0&&(s=!0),Y0(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,o,c)=>(n.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function N1(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Y0(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Hu(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let s=t.endsWith("/")?t.length-1:t.length,n=e.charAt(s);return n&&n!=="/"?null:e.slice(s)||"/"}function _1(e,t){t===void 0&&(t="/");let{pathname:s,search:n="",hash:i=""}=typeof e=="string"?Rr(e):e;return{pathname:s?s.startsWith("/")?s:k1(s,t):t,search:P1(n),hash:M1(i)}}function k1(e,t){let s=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?s.length>1&&s.pop():i!=="."&&s.push(i)}),s.length>1?s.join("/"):"/"}function fc(e,t,s,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+s+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function S1(e){return e.filter((t,s)=>s===0||t.route.path&&t.route.path.length>0)}function Uu(e,t){let s=S1(e);return t?s.map((n,i)=>i===s.length-1?n.pathname:n.pathnameBase):s.map(n=>n.pathnameBase)}function $u(e,t,s,n){n===void 0&&(n=!1);let i;typeof e=="string"?i=Rr(e):(i=Hi({},e),Pe(!i.pathname||!i.pathname.includes("?"),fc("?","pathname","search",i)),Pe(!i.pathname||!i.pathname.includes("#"),fc("#","pathname","hash",i)),Pe(!i.search||!i.search.includes("#"),fc("#","search","hash",i)));let a=e===""||i.pathname==="",l=a?"/":i.pathname,o;if(l==null)o=s;else{let h=t.length-1;if(!n&&l.startsWith("..")){let f=l.split("/");for(;f[0]==="..";)f.shift(),h-=1;i.pathname=f.join("/")}o=h>=0?t[h]:"/"}let c=_1(i,o),d=l&&l!=="/"&&l.endsWith("/"),u=(a||l===".")&&s.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}const Gs=e=>e.join("/").replace(/\/\/+/g,"/"),C1=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),P1=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,M1=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function E1(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Q0=["post","put","patch","delete"];new Set(Q0);const T1=["get",...Q0];new Set(T1);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ui(){return Ui=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},Ui.apply(this,arguments)}const Vu=N.createContext(null),D1=N.createContext(null),cn=N.createContext(null),Co=N.createContext(null),ks=N.createContext({outlet:null,matches:[],isDataRoute:!1}),K0=N.createContext(null);function R1(e,t){let{relative:s}=t===void 0?{}:t;Lr()||Pe(!1);let{basename:n,navigator:i}=N.useContext(cn),{hash:a,pathname:l,search:o}=J0(e,{relative:s}),c=l;return n!=="/"&&(c=l==="/"?n:Gs([n,l])),i.createHref({pathname:c,search:o,hash:a})}function Lr(){return N.useContext(Co)!=null}function dn(){return Lr()||Pe(!1),N.useContext(Co).location}function G0(e){N.useContext(cn).static||N.useLayoutEffect(e)}function Rt(){let{isDataRoute:e}=N.useContext(ks);return e?Y1():L1()}function L1(){Lr()||Pe(!1);let e=N.useContext(Vu),{basename:t,future:s,navigator:n}=N.useContext(cn),{matches:i}=N.useContext(ks),{pathname:a}=dn(),l=JSON.stringify(Uu(i,s.v7_relativeSplatPath)),o=N.useRef(!1);return G0(()=>{o.current=!0}),N.useCallback(function(d,u){if(u===void 0&&(u={}),!o.current)return;if(typeof d=="number"){n.go(d);return}let h=$u(d,JSON.parse(l),a,u.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Gs([t,h.pathname])),(u.replace?n.replace:n.push)(h,u.state,u)},[t,n,l,a,e])}function Yu(){let{matches:e}=N.useContext(ks),t=e[e.length-1];return t?t.params:{}}function J0(e,t){let{relative:s}=t===void 0?{}:t,{future:n}=N.useContext(cn),{matches:i}=N.useContext(ks),{pathname:a}=dn(),l=JSON.stringify(Uu(i,n.v7_relativeSplatPath));return N.useMemo(()=>$u(e,JSON.parse(l),a,s==="path"),[e,l,a,s])}function F1(e,t){return A1(e,t)}function A1(e,t,s,n){Lr()||Pe(!1);let{navigator:i}=N.useContext(cn),{matches:a}=N.useContext(ks),l=a[a.length-1],o=l?l.params:{};l&&l.pathname;let c=l?l.pathnameBase:"/";l&&l.route;let d=dn(),u;if(t){var h;let b=typeof t=="string"?Rr(t):t;c==="/"||(h=b.pathname)!=null&&h.startsWith(c)||Pe(!1),u=b}else u=d;let f=u.pathname||"/",v=f;if(c!=="/"){let b=c.replace(/^\//,"").split("/");v="/"+f.replace(/^\//,"").split("/").slice(b.length).join("/")}let p=d1(e,{pathname:v}),y=W1(p&&p.map(b=>Object.assign({},b,{params:Object.assign({},o,b.params),pathname:Gs([c,i.encodeLocation?i.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?c:Gs([c,i.encodeLocation?i.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),a,s,n);return t&&y?N.createElement(Co.Provider,{value:{location:Ui({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Fs.Pop}},y):y}function O1(){let e=V1(),t=E1(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),s=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},a=null;return N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},t),s?N.createElement("pre",{style:i},s):null,a)}const z1=N.createElement(O1,null);class I1 extends N.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,s){return s.location!==t.location||s.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:s.error,location:s.location,revalidation:t.revalidation||s.revalidation}}componentDidCatch(t,s){console.error("React Router caught the following error during render",t,s)}render(){return this.state.error!==void 0?N.createElement(ks.Provider,{value:this.props.routeContext},N.createElement(K0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function B1(e){let{routeContext:t,match:s,children:n}=e,i=N.useContext(Vu);return i&&i.static&&i.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=s.route.id),N.createElement(ks.Provider,{value:t},n)}function W1(e,t,s,n){var i;if(t===void 0&&(t=[]),s===void 0&&(s=null),n===void 0&&(n=null),e==null){var a;if(!s)return null;if(s.errors)e=s.matches;else if((a=n)!=null&&a.v7_partialHydration&&t.length===0&&!s.initialized&&s.matches.length>0)e=s.matches;else return null}let l=e,o=(i=s)==null?void 0:i.errors;if(o!=null){let u=l.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);u>=0||Pe(!1),l=l.slice(0,Math.min(l.length,u+1))}let c=!1,d=-1;if(s&&n&&n.v7_partialHydration)for(let u=0;u<l.length;u++){let h=l[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(d=u),h.route.id){let{loaderData:f,errors:v}=s,p=h.route.loader&&f[h.route.id]===void 0&&(!v||v[h.route.id]===void 0);if(h.route.lazy||p){c=!0,d>=0?l=l.slice(0,d+1):l=[l[0]];break}}}return l.reduceRight((u,h,f)=>{let v,p=!1,y=null,b=null;s&&(v=o&&h.route.id?o[h.route.id]:void 0,y=h.route.errorElement||z1,c&&(d<0&&f===0?(q1("route-fallback",!1),p=!0,b=null):d===f&&(p=!0,b=h.route.hydrateFallbackElement||null)));let m=t.concat(l.slice(0,f+1)),x=()=>{let g;return v?g=y:p?g=b:h.route.Component?g=N.createElement(h.route.Component,null):h.route.element?g=h.route.element:g=u,N.createElement(B1,{match:h,routeContext:{outlet:u,matches:m,isDataRoute:s!=null},children:g})};return s&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?N.createElement(I1,{location:s.location,revalidation:s.revalidation,component:y,error:v,children:x(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):x()},null)}var Z0=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Z0||{}),$l=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}($l||{});function H1(e){let t=N.useContext(Vu);return t||Pe(!1),t}function U1(e){let t=N.useContext(D1);return t||Pe(!1),t}function $1(e){let t=N.useContext(ks);return t||Pe(!1),t}function eg(e){let t=$1(),s=t.matches[t.matches.length-1];return s.route.id||Pe(!1),s.route.id}function V1(){var e;let t=N.useContext(K0),s=U1($l.UseRouteError),n=eg($l.UseRouteError);return t!==void 0?t:(e=s.errors)==null?void 0:e[n]}function Y1(){let{router:e}=H1(Z0.UseNavigateStable),t=eg($l.UseNavigateStable),s=N.useRef(!1);return G0(()=>{s.current=!0}),N.useCallback(function(i,a){a===void 0&&(a={}),s.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,Ui({fromRouteId:t},a)))},[e,t])}const Lm={};function q1(e,t,s){!t&&!Lm[e]&&(Lm[e]=!0)}function X1(e,t){e==null||e.v7_startTransition,(e==null?void 0:e.v7_relativeSplatPath)===void 0&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}function Vl(e){let{to:t,replace:s,state:n,relative:i}=e;Lr()||Pe(!1);let{future:a,static:l}=N.useContext(cn),{matches:o}=N.useContext(ks),{pathname:c}=dn(),d=Rt(),u=$u(t,Uu(o,a.v7_relativeSplatPath),c,i==="path"),h=JSON.stringify(u);return N.useEffect(()=>d(JSON.parse(h),{replace:s,state:n,relative:i}),[d,h,i,s,n]),null}function ke(e){Pe(!1)}function Q1(e){let{basename:t="/",children:s=null,location:n,navigationType:i=Fs.Pop,navigator:a,static:l=!1,future:o}=e;Lr()&&Pe(!1);let c=t.replace(/^\/*/,"/"),d=N.useMemo(()=>({basename:c,navigator:a,static:l,future:Ui({v7_relativeSplatPath:!1},o)}),[c,o,a,l]);typeof n=="string"&&(n=Rr(n));let{pathname:u="/",search:h="",hash:f="",state:v=null,key:p="default"}=n,y=N.useMemo(()=>{let b=Hu(u,c);return b==null?null:{location:{pathname:b,search:h,hash:f,state:v,key:p},navigationType:i}},[c,u,h,f,v,p,i]);return y==null?null:N.createElement(cn.Provider,{value:d},N.createElement(Co.Provider,{children:s,value:y}))}function K1(e){let{children:t,location:s}=e;return F1(Cd(t),s)}new Promise(()=>{});function Cd(e,t){t===void 0&&(t=[]);let s=[];return N.Children.forEach(e,(n,i)=>{if(!N.isValidElement(n))return;let a=[...t,i];if(n.type===N.Fragment){s.push.apply(s,Cd(n.props.children,a));return}n.type!==ke&&Pe(!1),!n.props.index||!n.props.children||Pe(!1);let l={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(l.children=Cd(n.props.children,a)),s.push(l)}),s}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Pd(){return Pd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},Pd.apply(this,arguments)}function G1(e,t){if(e==null)return{};var s={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(s[i]=e[i]);return s}function J1(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Z1(e,t){return e.button===0&&(!t||t==="_self")&&!J1(e)}function Md(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,s)=>{let n=e[s];return t.concat(Array.isArray(n)?n.map(i=>[s,i]):[[s,n]])},[]))}function ej(e,t){let s=Md(e);return t&&t.forEach((n,i)=>{s.has(i)||t.getAll(i).forEach(a=>{s.append(i,a)})}),s}const tj=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],sj="6";try{window.__reactRouterVersion=sj}catch{}const nj="startTransition",Fm=Qy[nj];function rj(e){let{basename:t,children:s,future:n,window:i}=e,a=N.useRef();a.current==null&&(a.current=l1({window:i,v5Compat:!0}));let l=a.current,[o,c]=N.useState({action:l.action,location:l.location}),{v7_startTransition:d}=n||{},u=N.useCallback(h=>{d&&Fm?Fm(()=>c(h)):c(h)},[c,d]);return N.useLayoutEffect(()=>l.listen(u),[l,u]),N.useEffect(()=>X1(n),[n]),N.createElement(Q1,{basename:t,children:s,location:o.location,navigationType:o.action,navigator:l,future:n})}const ij=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",aj=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Et=N.forwardRef(function(t,s){let{onClick:n,relative:i,reloadDocument:a,replace:l,state:o,target:c,to:d,preventScrollReset:u,viewTransition:h}=t,f=G1(t,tj),{basename:v}=N.useContext(cn),p,y=!1;if(typeof d=="string"&&aj.test(d)&&(p=d,ij))try{let g=new URL(window.location.href),j=d.startsWith("//")?new URL(g.protocol+d):new URL(d),w=Hu(j.pathname,v);j.origin===g.origin&&w!=null?d=w+j.search+j.hash:y=!0}catch{}let b=R1(d,{relative:i}),m=lj(d,{replace:l,state:o,target:c,preventScrollReset:u,relative:i,viewTransition:h});function x(g){n&&n(g),g.defaultPrevented||m(g)}return N.createElement("a",Pd({},f,{href:p||b,onClick:y||a?n:x,ref:s,target:c}))});var Am;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Am||(Am={}));var Om;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Om||(Om={}));function lj(e,t){let{target:s,replace:n,state:i,preventScrollReset:a,relative:l,viewTransition:o}=t===void 0?{}:t,c=Rt(),d=dn(),u=J0(e,{relative:l});return N.useCallback(h=>{if(Z1(h,s)){h.preventDefault();let f=n!==void 0?n:Ul(d)===Ul(u);c(e,{replace:f,state:i,preventScrollReset:a,relative:l,viewTransition:o})}},[d,c,u,n,i,s,e,a,l,o])}function tg(e){let t=N.useRef(Md(e)),s=N.useRef(!1),n=dn(),i=N.useMemo(()=>ej(n.search,s.current?null:t.current),[n.search]),a=Rt(),l=N.useCallback((o,c)=>{const d=Md(typeof o=="function"?o(i):o);s.current=!0,a("?"+d,c)},[a,i]);return[i,l]}function sg(e,t){return function(){return e.apply(t,arguments)}}const{toString:oj}=Object.prototype,{getPrototypeOf:qu}=Object,{iterator:Po,toStringTag:ng}=Symbol,Mo=(e=>t=>{const s=oj.call(t);return e[s]||(e[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),$t=e=>(e=e.toLowerCase(),t=>Mo(t)===e),Eo=e=>t=>typeof t===e,{isArray:Fr}=Array,$i=Eo("undefined");function aa(e){return e!==null&&!$i(e)&&e.constructor!==null&&!$i(e.constructor)&&ft(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const rg=$t("ArrayBuffer");function cj(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&rg(e.buffer),t}const dj=Eo("string"),ft=Eo("function"),ig=Eo("number"),la=e=>e!==null&&typeof e=="object",uj=e=>e===!0||e===!1,ll=e=>{if(Mo(e)!=="object")return!1;const t=qu(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(ng in e)&&!(Po in e)},hj=e=>{if(!la(e)||aa(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},mj=$t("Date"),fj=$t("File"),xj=$t("Blob"),pj=$t("FileList"),gj=e=>la(e)&&ft(e.pipe),yj=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||ft(e.append)&&((t=Mo(e))==="formdata"||t==="object"&&ft(e.toString)&&e.toString()==="[object FormData]"))},vj=$t("URLSearchParams"),[bj,jj,wj,Nj]=["ReadableStream","Request","Response","Headers"].map($t),_j=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function oa(e,t,{allOwnKeys:s=!1}={}){if(e===null||typeof e>"u")return;let n,i;if(typeof e!="object"&&(e=[e]),Fr(e))for(n=0,i=e.length;n<i;n++)t.call(null,e[n],n,e);else{if(aa(e))return;const a=s?Object.getOwnPropertyNames(e):Object.keys(e),l=a.length;let o;for(n=0;n<l;n++)o=a[n],t.call(null,e[o],o,e)}}function ag(e,t){if(aa(e))return null;t=t.toLowerCase();const s=Object.keys(e);let n=s.length,i;for(;n-- >0;)if(i=s[n],t===i.toLowerCase())return i;return null}const Cn=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),lg=e=>!$i(e)&&e!==Cn;function Ed(){const{caseless:e}=lg(this)&&this||{},t={},s=(n,i)=>{const a=e&&ag(t,i)||i;ll(t[a])&&ll(n)?t[a]=Ed(t[a],n):ll(n)?t[a]=Ed({},n):Fr(n)?t[a]=n.slice():t[a]=n};for(let n=0,i=arguments.length;n<i;n++)arguments[n]&&oa(arguments[n],s);return t}const kj=(e,t,s,{allOwnKeys:n}={})=>(oa(t,(i,a)=>{s&&ft(i)?e[a]=sg(i,s):e[a]=i},{allOwnKeys:n}),e),Sj=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Cj=(e,t,s,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),s&&Object.assign(e.prototype,s)},Pj=(e,t,s,n)=>{let i,a,l;const o={};if(t=t||{},e==null)return t;do{for(i=Object.getOwnPropertyNames(e),a=i.length;a-- >0;)l=i[a],(!n||n(l,e,t))&&!o[l]&&(t[l]=e[l],o[l]=!0);e=s!==!1&&qu(e)}while(e&&(!s||s(e,t))&&e!==Object.prototype);return t},Mj=(e,t,s)=>{e=String(e),(s===void 0||s>e.length)&&(s=e.length),s-=t.length;const n=e.indexOf(t,s);return n!==-1&&n===s},Ej=e=>{if(!e)return null;if(Fr(e))return e;let t=e.length;if(!ig(t))return null;const s=new Array(t);for(;t-- >0;)s[t]=e[t];return s},Tj=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&qu(Uint8Array)),Dj=(e,t)=>{const n=(e&&e[Po]).call(e);let i;for(;(i=n.next())&&!i.done;){const a=i.value;t.call(e,a[0],a[1])}},Rj=(e,t)=>{let s;const n=[];for(;(s=e.exec(t))!==null;)n.push(s);return n},Lj=$t("HTMLFormElement"),Fj=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(s,n,i){return n.toUpperCase()+i}),zm=(({hasOwnProperty:e})=>(t,s)=>e.call(t,s))(Object.prototype),Aj=$t("RegExp"),og=(e,t)=>{const s=Object.getOwnPropertyDescriptors(e),n={};oa(s,(i,a)=>{let l;(l=t(i,a,e))!==!1&&(n[a]=l||i)}),Object.defineProperties(e,n)},Oj=e=>{og(e,(t,s)=>{if(ft(e)&&["arguments","caller","callee"].indexOf(s)!==-1)return!1;const n=e[s];if(ft(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")})}})},zj=(e,t)=>{const s={},n=i=>{i.forEach(a=>{s[a]=!0})};return Fr(e)?n(e):n(String(e).split(t)),s},Ij=()=>{},Bj=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function Wj(e){return!!(e&&ft(e.append)&&e[ng]==="FormData"&&e[Po])}const Hj=e=>{const t=new Array(10),s=(n,i)=>{if(la(n)){if(t.indexOf(n)>=0)return;if(aa(n))return n;if(!("toJSON"in n)){t[i]=n;const a=Fr(n)?[]:{};return oa(n,(l,o)=>{const c=s(l,i+1);!$i(c)&&(a[o]=c)}),t[i]=void 0,a}}return n};return s(e,0)},Uj=$t("AsyncFunction"),$j=e=>e&&(la(e)||ft(e))&&ft(e.then)&&ft(e.catch),cg=((e,t)=>e?setImmediate:t?((s,n)=>(Cn.addEventListener("message",({source:i,data:a})=>{i===Cn&&a===s&&n.length&&n.shift()()},!1),i=>{n.push(i),Cn.postMessage(s,"*")}))(`axios@${Math.random()}`,[]):s=>setTimeout(s))(typeof setImmediate=="function",ft(Cn.postMessage)),Vj=typeof queueMicrotask<"u"?queueMicrotask.bind(Cn):typeof process<"u"&&process.nextTick||cg,Yj=e=>e!=null&&ft(e[Po]),T={isArray:Fr,isArrayBuffer:rg,isBuffer:aa,isFormData:yj,isArrayBufferView:cj,isString:dj,isNumber:ig,isBoolean:uj,isObject:la,isPlainObject:ll,isEmptyObject:hj,isReadableStream:bj,isRequest:jj,isResponse:wj,isHeaders:Nj,isUndefined:$i,isDate:mj,isFile:fj,isBlob:xj,isRegExp:Aj,isFunction:ft,isStream:gj,isURLSearchParams:vj,isTypedArray:Tj,isFileList:pj,forEach:oa,merge:Ed,extend:kj,trim:_j,stripBOM:Sj,inherits:Cj,toFlatObject:Pj,kindOf:Mo,kindOfTest:$t,endsWith:Mj,toArray:Ej,forEachEntry:Dj,matchAll:Rj,isHTMLForm:Lj,hasOwnProperty:zm,hasOwnProp:zm,reduceDescriptors:og,freezeMethods:Oj,toObjectSet:zj,toCamelCase:Fj,noop:Ij,toFiniteNumber:Bj,findKey:ag,global:Cn,isContextDefined:lg,isSpecCompliantForm:Wj,toJSONObject:Hj,isAsyncFn:Uj,isThenable:$j,setImmediate:cg,asap:Vj,isIterable:Yj};function te(e,t,s,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),s&&(this.config=s),n&&(this.request=n),i&&(this.response=i,this.status=i.status?i.status:null)}T.inherits(te,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:T.toJSONObject(this.config),code:this.code,status:this.status}}});const dg=te.prototype,ug={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{ug[e]={value:e}});Object.defineProperties(te,ug);Object.defineProperty(dg,"isAxiosError",{value:!0});te.from=(e,t,s,n,i,a)=>{const l=Object.create(dg);return T.toFlatObject(e,l,function(c){return c!==Error.prototype},o=>o!=="isAxiosError"),te.call(l,e.message,t,s,n,i),l.cause=e,l.name=e.name,a&&Object.assign(l,a),l};const qj=null;function Td(e){return T.isPlainObject(e)||T.isArray(e)}function hg(e){return T.endsWith(e,"[]")?e.slice(0,-2):e}function Im(e,t,s){return e?e.concat(t).map(function(i,a){return i=hg(i),!s&&a?"["+i+"]":i}).join(s?".":""):t}function Xj(e){return T.isArray(e)&&!e.some(Td)}const Qj=T.toFlatObject(T,{},null,function(t){return/^is[A-Z]/.test(t)});function To(e,t,s){if(!T.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,s=T.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,b){return!T.isUndefined(b[y])});const n=s.metaTokens,i=s.visitor||u,a=s.dots,l=s.indexes,c=(s.Blob||typeof Blob<"u"&&Blob)&&T.isSpecCompliantForm(t);if(!T.isFunction(i))throw new TypeError("visitor must be a function");function d(p){if(p===null)return"";if(T.isDate(p))return p.toISOString();if(T.isBoolean(p))return p.toString();if(!c&&T.isBlob(p))throw new te("Blob is not supported. Use a Buffer instead.");return T.isArrayBuffer(p)||T.isTypedArray(p)?c&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function u(p,y,b){let m=p;if(p&&!b&&typeof p=="object"){if(T.endsWith(y,"{}"))y=n?y:y.slice(0,-2),p=JSON.stringify(p);else if(T.isArray(p)&&Xj(p)||(T.isFileList(p)||T.endsWith(y,"[]"))&&(m=T.toArray(p)))return y=hg(y),m.forEach(function(g,j){!(T.isUndefined(g)||g===null)&&t.append(l===!0?Im([y],j,a):l===null?y:y+"[]",d(g))}),!1}return Td(p)?!0:(t.append(Im(b,y,a),d(p)),!1)}const h=[],f=Object.assign(Qj,{defaultVisitor:u,convertValue:d,isVisitable:Td});function v(p,y){if(!T.isUndefined(p)){if(h.indexOf(p)!==-1)throw Error("Circular reference detected in "+y.join("."));h.push(p),T.forEach(p,function(m,x){(!(T.isUndefined(m)||m===null)&&i.call(t,m,T.isString(x)?x.trim():x,y,f))===!0&&v(m,y?y.concat(x):[x])}),h.pop()}}if(!T.isObject(e))throw new TypeError("data must be an object");return v(e),t}function Bm(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function Xu(e,t){this._pairs=[],e&&To(e,this,t)}const mg=Xu.prototype;mg.append=function(t,s){this._pairs.push([t,s])};mg.toString=function(t){const s=t?function(n){return t.call(this,n,Bm)}:Bm;return this._pairs.map(function(i){return s(i[0])+"="+s(i[1])},"").join("&")};function Kj(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function fg(e,t,s){if(!t)return e;const n=s&&s.encode||Kj;T.isFunction(s)&&(s={serialize:s});const i=s&&s.serialize;let a;if(i?a=i(t,s):a=T.isURLSearchParams(t)?t.toString():new Xu(t,s).toString(n),a){const l=e.indexOf("#");l!==-1&&(e=e.slice(0,l)),e+=(e.indexOf("?")===-1?"?":"&")+a}return e}class Gj{constructor(){this.handlers=[]}use(t,s,n){return this.handlers.push({fulfilled:t,rejected:s,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){T.forEach(this.handlers,function(n){n!==null&&t(n)})}}const Wm=Gj,xg={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Jj=typeof URLSearchParams<"u"?URLSearchParams:Xu,Zj=typeof FormData<"u"?FormData:null,ew=typeof Blob<"u"?Blob:null,tw={isBrowser:!0,classes:{URLSearchParams:Jj,FormData:Zj,Blob:ew},protocols:["http","https","file","blob","url","data"]},Qu=typeof window<"u"&&typeof document<"u",Dd=typeof navigator=="object"&&navigator||void 0,sw=Qu&&(!Dd||["ReactNative","NativeScript","NS"].indexOf(Dd.product)<0),nw=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),rw=Qu&&window.location.href||"http://localhost",iw=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Qu,hasStandardBrowserEnv:sw,hasStandardBrowserWebWorkerEnv:nw,navigator:Dd,origin:rw},Symbol.toStringTag,{value:"Module"})),Qe={...iw,...tw};function aw(e,t){return To(e,new Qe.classes.URLSearchParams,{visitor:function(s,n,i,a){return Qe.isNode&&T.isBuffer(s)?(this.append(n,s.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)},...t})}function lw(e){return T.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function ow(e){const t={},s=Object.keys(e);let n;const i=s.length;let a;for(n=0;n<i;n++)a=s[n],t[a]=e[a];return t}function pg(e){function t(s,n,i,a){let l=s[a++];if(l==="__proto__")return!0;const o=Number.isFinite(+l),c=a>=s.length;return l=!l&&T.isArray(i)?i.length:l,c?(T.hasOwnProp(i,l)?i[l]=[i[l],n]:i[l]=n,!o):((!i[l]||!T.isObject(i[l]))&&(i[l]=[]),t(s,n,i[l],a)&&T.isArray(i[l])&&(i[l]=ow(i[l])),!o)}if(T.isFormData(e)&&T.isFunction(e.entries)){const s={};return T.forEachEntry(e,(n,i)=>{t(lw(n),i,s,0)}),s}return null}function cw(e,t,s){if(T.isString(e))try{return(t||JSON.parse)(e),T.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(s||JSON.stringify)(e)}const Ku={transitional:xg,adapter:["xhr","http","fetch"],transformRequest:[function(t,s){const n=s.getContentType()||"",i=n.indexOf("application/json")>-1,a=T.isObject(t);if(a&&T.isHTMLForm(t)&&(t=new FormData(t)),T.isFormData(t))return i?JSON.stringify(pg(t)):t;if(T.isArrayBuffer(t)||T.isBuffer(t)||T.isStream(t)||T.isFile(t)||T.isBlob(t)||T.isReadableStream(t))return t;if(T.isArrayBufferView(t))return t.buffer;if(T.isURLSearchParams(t))return s.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let o;if(a){if(n.indexOf("application/x-www-form-urlencoded")>-1)return aw(t,this.formSerializer).toString();if((o=T.isFileList(t))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return To(o?{"files[]":t}:t,c&&new c,this.formSerializer)}}return a||i?(s.setContentType("application/json",!1),cw(t)):t}],transformResponse:[function(t){const s=this.transitional||Ku.transitional,n=s&&s.forcedJSONParsing,i=this.responseType==="json";if(T.isResponse(t)||T.isReadableStream(t))return t;if(t&&T.isString(t)&&(n&&!this.responseType||i)){const l=!(s&&s.silentJSONParsing)&&i;try{return JSON.parse(t)}catch(o){if(l)throw o.name==="SyntaxError"?te.from(o,te.ERR_BAD_RESPONSE,this,null,this.response):o}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Qe.classes.FormData,Blob:Qe.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};T.forEach(["delete","get","head","post","put","patch"],e=>{Ku.headers[e]={}});const Gu=Ku,dw=T.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),uw=e=>{const t={};let s,n,i;return e&&e.split(`
`).forEach(function(l){i=l.indexOf(":"),s=l.substring(0,i).trim().toLowerCase(),n=l.substring(i+1).trim(),!(!s||t[s]&&dw[s])&&(s==="set-cookie"?t[s]?t[s].push(n):t[s]=[n]:t[s]=t[s]?t[s]+", "+n:n)}),t},Hm=Symbol("internals");function qr(e){return e&&String(e).trim().toLowerCase()}function ol(e){return e===!1||e==null?e:T.isArray(e)?e.map(ol):String(e)}function hw(e){const t=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=s.exec(e);)t[n[1]]=n[2];return t}const mw=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function xc(e,t,s,n,i){if(T.isFunction(n))return n.call(this,t,s);if(i&&(t=s),!!T.isString(t)){if(T.isString(n))return t.indexOf(n)!==-1;if(T.isRegExp(n))return n.test(t)}}function fw(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,s,n)=>s.toUpperCase()+n)}function xw(e,t){const s=T.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+s,{value:function(i,a,l){return this[n].call(this,t,i,a,l)},configurable:!0})})}class Do{constructor(t){t&&this.set(t)}set(t,s,n){const i=this;function a(o,c,d){const u=qr(c);if(!u)throw new Error("header name must be a non-empty string");const h=T.findKey(i,u);(!h||i[h]===void 0||d===!0||d===void 0&&i[h]!==!1)&&(i[h||c]=ol(o))}const l=(o,c)=>T.forEach(o,(d,u)=>a(d,u,c));if(T.isPlainObject(t)||t instanceof this.constructor)l(t,s);else if(T.isString(t)&&(t=t.trim())&&!mw(t))l(uw(t),s);else if(T.isObject(t)&&T.isIterable(t)){let o={},c,d;for(const u of t){if(!T.isArray(u))throw TypeError("Object iterator must return a key-value pair");o[d=u[0]]=(c=o[d])?T.isArray(c)?[...c,u[1]]:[c,u[1]]:u[1]}l(o,s)}else t!=null&&a(s,t,n);return this}get(t,s){if(t=qr(t),t){const n=T.findKey(this,t);if(n){const i=this[n];if(!s)return i;if(s===!0)return hw(i);if(T.isFunction(s))return s.call(this,i,n);if(T.isRegExp(s))return s.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,s){if(t=qr(t),t){const n=T.findKey(this,t);return!!(n&&this[n]!==void 0&&(!s||xc(this,this[n],n,s)))}return!1}delete(t,s){const n=this;let i=!1;function a(l){if(l=qr(l),l){const o=T.findKey(n,l);o&&(!s||xc(n,n[o],o,s))&&(delete n[o],i=!0)}}return T.isArray(t)?t.forEach(a):a(t),i}clear(t){const s=Object.keys(this);let n=s.length,i=!1;for(;n--;){const a=s[n];(!t||xc(this,this[a],a,t,!0))&&(delete this[a],i=!0)}return i}normalize(t){const s=this,n={};return T.forEach(this,(i,a)=>{const l=T.findKey(n,a);if(l){s[l]=ol(i),delete s[a];return}const o=t?fw(a):String(a).trim();o!==a&&delete s[a],s[o]=ol(i),n[o]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const s=Object.create(null);return T.forEach(this,(n,i)=>{n!=null&&n!==!1&&(s[i]=t&&T.isArray(n)?n.join(", "):n)}),s}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,s])=>t+": "+s).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...s){const n=new this(t);return s.forEach(i=>n.set(i)),n}static accessor(t){const n=(this[Hm]=this[Hm]={accessors:{}}).accessors,i=this.prototype;function a(l){const o=qr(l);n[o]||(xw(i,l),n[o]=!0)}return T.isArray(t)?t.forEach(a):a(t),this}}Do.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);T.reduceDescriptors(Do.prototype,({value:e},t)=>{let s=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[s]=n}}});T.freezeMethods(Do);const Wt=Do;function pc(e,t){const s=this||Gu,n=t||s,i=Wt.from(n.headers);let a=n.data;return T.forEach(e,function(o){a=o.call(s,a,i.normalize(),t?t.status:void 0)}),i.normalize(),a}function gg(e){return!!(e&&e.__CANCEL__)}function Ar(e,t,s){te.call(this,e??"canceled",te.ERR_CANCELED,t,s),this.name="CanceledError"}T.inherits(Ar,te,{__CANCEL__:!0});function yg(e,t,s){const n=s.config.validateStatus;!s.status||!n||n(s.status)?e(s):t(new te("Request failed with status code "+s.status,[te.ERR_BAD_REQUEST,te.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))}function pw(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function gw(e,t){e=e||10;const s=new Array(e),n=new Array(e);let i=0,a=0,l;return t=t!==void 0?t:1e3,function(c){const d=Date.now(),u=n[a];l||(l=d),s[i]=c,n[i]=d;let h=a,f=0;for(;h!==i;)f+=s[h++],h=h%e;if(i=(i+1)%e,i===a&&(a=(a+1)%e),d-l<t)return;const v=u&&d-u;return v?Math.round(f*1e3/v):void 0}}function yw(e,t){let s=0,n=1e3/t,i,a;const l=(d,u=Date.now())=>{s=u,i=null,a&&(clearTimeout(a),a=null),e(...d)};return[(...d)=>{const u=Date.now(),h=u-s;h>=n?l(d,u):(i=d,a||(a=setTimeout(()=>{a=null,l(i)},n-h)))},()=>i&&l(i)]}const Yl=(e,t,s=3)=>{let n=0;const i=gw(50,250);return yw(a=>{const l=a.loaded,o=a.lengthComputable?a.total:void 0,c=l-n,d=i(c),u=l<=o;n=l;const h={loaded:l,total:o,progress:o?l/o:void 0,bytes:c,rate:d||void 0,estimated:d&&o&&u?(o-l)/d:void 0,event:a,lengthComputable:o!=null,[t?"download":"upload"]:!0};e(h)},s)},Um=(e,t)=>{const s=e!=null;return[n=>t[0]({lengthComputable:s,total:e,loaded:n}),t[1]]},$m=e=>(...t)=>T.asap(()=>e(...t)),vw=Qe.hasStandardBrowserEnv?((e,t)=>s=>(s=new URL(s,Qe.origin),e.protocol===s.protocol&&e.host===s.host&&(t||e.port===s.port)))(new URL(Qe.origin),Qe.navigator&&/(msie|trident)/i.test(Qe.navigator.userAgent)):()=>!0,bw=Qe.hasStandardBrowserEnv?{write(e,t,s,n,i,a){const l=[e+"="+encodeURIComponent(t)];T.isNumber(s)&&l.push("expires="+new Date(s).toGMTString()),T.isString(n)&&l.push("path="+n),T.isString(i)&&l.push("domain="+i),a===!0&&l.push("secure"),document.cookie=l.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function jw(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function ww(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function vg(e,t,s){let n=!jw(t);return e&&(n||s==!1)?ww(e,t):t}const Vm=e=>e instanceof Wt?{...e}:e;function Bn(e,t){t=t||{};const s={};function n(d,u,h,f){return T.isPlainObject(d)&&T.isPlainObject(u)?T.merge.call({caseless:f},d,u):T.isPlainObject(u)?T.merge({},u):T.isArray(u)?u.slice():u}function i(d,u,h,f){if(T.isUndefined(u)){if(!T.isUndefined(d))return n(void 0,d,h,f)}else return n(d,u,h,f)}function a(d,u){if(!T.isUndefined(u))return n(void 0,u)}function l(d,u){if(T.isUndefined(u)){if(!T.isUndefined(d))return n(void 0,d)}else return n(void 0,u)}function o(d,u,h){if(h in t)return n(d,u);if(h in e)return n(void 0,d)}const c={url:a,method:a,data:a,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:o,headers:(d,u,h)=>i(Vm(d),Vm(u),h,!0)};return T.forEach(Object.keys({...e,...t}),function(u){const h=c[u]||i,f=h(e[u],t[u],u);T.isUndefined(f)&&h!==o||(s[u]=f)}),s}const bg=e=>{const t=Bn({},e);let{data:s,withXSRFToken:n,xsrfHeaderName:i,xsrfCookieName:a,headers:l,auth:o}=t;t.headers=l=Wt.from(l),t.url=fg(vg(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),o&&l.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):"")));let c;if(T.isFormData(s)){if(Qe.hasStandardBrowserEnv||Qe.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if((c=l.getContentType())!==!1){const[d,...u]=c?c.split(";").map(h=>h.trim()).filter(Boolean):[];l.setContentType([d||"multipart/form-data",...u].join("; "))}}if(Qe.hasStandardBrowserEnv&&(n&&T.isFunction(n)&&(n=n(t)),n||n!==!1&&vw(t.url))){const d=i&&a&&bw.read(a);d&&l.set(i,d)}return t},Nw=typeof XMLHttpRequest<"u",_w=Nw&&function(e){return new Promise(function(s,n){const i=bg(e);let a=i.data;const l=Wt.from(i.headers).normalize();let{responseType:o,onUploadProgress:c,onDownloadProgress:d}=i,u,h,f,v,p;function y(){v&&v(),p&&p(),i.cancelToken&&i.cancelToken.unsubscribe(u),i.signal&&i.signal.removeEventListener("abort",u)}let b=new XMLHttpRequest;b.open(i.method.toUpperCase(),i.url,!0),b.timeout=i.timeout;function m(){if(!b)return;const g=Wt.from("getAllResponseHeaders"in b&&b.getAllResponseHeaders()),w={data:!o||o==="text"||o==="json"?b.responseText:b.response,status:b.status,statusText:b.statusText,headers:g,config:e,request:b};yg(function(k){s(k),y()},function(k){n(k),y()},w),b=null}"onloadend"in b?b.onloadend=m:b.onreadystatechange=function(){!b||b.readyState!==4||b.status===0&&!(b.responseURL&&b.responseURL.indexOf("file:")===0)||setTimeout(m)},b.onabort=function(){b&&(n(new te("Request aborted",te.ECONNABORTED,e,b)),b=null)},b.onerror=function(){n(new te("Network Error",te.ERR_NETWORK,e,b)),b=null},b.ontimeout=function(){let j=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const w=i.transitional||xg;i.timeoutErrorMessage&&(j=i.timeoutErrorMessage),n(new te(j,w.clarifyTimeoutError?te.ETIMEDOUT:te.ECONNABORTED,e,b)),b=null},a===void 0&&l.setContentType(null),"setRequestHeader"in b&&T.forEach(l.toJSON(),function(j,w){b.setRequestHeader(w,j)}),T.isUndefined(i.withCredentials)||(b.withCredentials=!!i.withCredentials),o&&o!=="json"&&(b.responseType=i.responseType),d&&([f,p]=Yl(d,!0),b.addEventListener("progress",f)),c&&b.upload&&([h,v]=Yl(c),b.upload.addEventListener("progress",h),b.upload.addEventListener("loadend",v)),(i.cancelToken||i.signal)&&(u=g=>{b&&(n(!g||g.type?new Ar(null,e,b):g),b.abort(),b=null)},i.cancelToken&&i.cancelToken.subscribe(u),i.signal&&(i.signal.aborted?u():i.signal.addEventListener("abort",u)));const x=pw(i.url);if(x&&Qe.protocols.indexOf(x)===-1){n(new te("Unsupported protocol "+x+":",te.ERR_BAD_REQUEST,e));return}b.send(a||null)})},kw=(e,t)=>{const{length:s}=e=e?e.filter(Boolean):[];if(t||s){let n=new AbortController,i;const a=function(d){if(!i){i=!0,o();const u=d instanceof Error?d:this.reason;n.abort(u instanceof te?u:new Ar(u instanceof Error?u.message:u))}};let l=t&&setTimeout(()=>{l=null,a(new te(`timeout ${t} of ms exceeded`,te.ETIMEDOUT))},t);const o=()=>{e&&(l&&clearTimeout(l),l=null,e.forEach(d=>{d.unsubscribe?d.unsubscribe(a):d.removeEventListener("abort",a)}),e=null)};e.forEach(d=>d.addEventListener("abort",a));const{signal:c}=n;return c.unsubscribe=()=>T.asap(o),c}},Sw=kw,Cw=function*(e,t){let s=e.byteLength;if(!t||s<t){yield e;return}let n=0,i;for(;n<s;)i=n+t,yield e.slice(n,i),n=i},Pw=async function*(e,t){for await(const s of Mw(e))yield*Cw(s,t)},Mw=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:s,value:n}=await t.read();if(s)break;yield n}}finally{await t.cancel()}},Ym=(e,t,s,n)=>{const i=Pw(e,t);let a=0,l,o=c=>{l||(l=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:d,value:u}=await i.next();if(d){o(),c.close();return}let h=u.byteLength;if(s){let f=a+=h;s(f)}c.enqueue(new Uint8Array(u))}catch(d){throw o(d),d}},cancel(c){return o(c),i.return()}},{highWaterMark:2})},Ro=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",jg=Ro&&typeof ReadableStream=="function",Ew=Ro&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),wg=(e,...t)=>{try{return!!e(...t)}catch{return!1}},Tw=jg&&wg(()=>{let e=!1;const t=new Request(Qe.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),qm=64*1024,Rd=jg&&wg(()=>T.isReadableStream(new Response("").body)),ql={stream:Rd&&(e=>e.body)};Ro&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!ql[t]&&(ql[t]=T.isFunction(e[t])?s=>s[t]():(s,n)=>{throw new te(`Response type '${t}' is not supported`,te.ERR_NOT_SUPPORT,n)})})})(new Response);const Dw=async e=>{if(e==null)return 0;if(T.isBlob(e))return e.size;if(T.isSpecCompliantForm(e))return(await new Request(Qe.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(T.isArrayBufferView(e)||T.isArrayBuffer(e))return e.byteLength;if(T.isURLSearchParams(e)&&(e=e+""),T.isString(e))return(await Ew(e)).byteLength},Rw=async(e,t)=>{const s=T.toFiniteNumber(e.getContentLength());return s??Dw(t)},Lw=Ro&&(async e=>{let{url:t,method:s,data:n,signal:i,cancelToken:a,timeout:l,onDownloadProgress:o,onUploadProgress:c,responseType:d,headers:u,withCredentials:h="same-origin",fetchOptions:f}=bg(e);d=d?(d+"").toLowerCase():"text";let v=Sw([i,a&&a.toAbortSignal()],l),p;const y=v&&v.unsubscribe&&(()=>{v.unsubscribe()});let b;try{if(c&&Tw&&s!=="get"&&s!=="head"&&(b=await Rw(u,n))!==0){let w=new Request(t,{method:"POST",body:n,duplex:"half"}),_;if(T.isFormData(n)&&(_=w.headers.get("content-type"))&&u.setContentType(_),w.body){const[k,S]=Um(b,Yl($m(c)));n=Ym(w.body,qm,k,S)}}T.isString(h)||(h=h?"include":"omit");const m="credentials"in Request.prototype;p=new Request(t,{...f,signal:v,method:s.toUpperCase(),headers:u.normalize().toJSON(),body:n,duplex:"half",credentials:m?h:void 0});let x=await fetch(p,f);const g=Rd&&(d==="stream"||d==="response");if(Rd&&(o||g&&y)){const w={};["status","statusText","headers"].forEach(A=>{w[A]=x[A]});const _=T.toFiniteNumber(x.headers.get("content-length")),[k,S]=o&&Um(_,Yl($m(o),!0))||[];x=new Response(Ym(x.body,qm,k,()=>{S&&S(),y&&y()}),w)}d=d||"text";let j=await ql[T.findKey(ql,d)||"text"](x,e);return!g&&y&&y(),await new Promise((w,_)=>{yg(w,_,{data:j,headers:Wt.from(x.headers),status:x.status,statusText:x.statusText,config:e,request:p})})}catch(m){throw y&&y(),m&&m.name==="TypeError"&&/Load failed|fetch/i.test(m.message)?Object.assign(new te("Network Error",te.ERR_NETWORK,e,p),{cause:m.cause||m}):te.from(m,m&&m.code,e,p)}}),Ld={http:qj,xhr:_w,fetch:Lw};T.forEach(Ld,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Xm=e=>`- ${e}`,Fw=e=>T.isFunction(e)||e===null||e===!1,Ng={getAdapter:e=>{e=T.isArray(e)?e:[e];const{length:t}=e;let s,n;const i={};for(let a=0;a<t;a++){s=e[a];let l;if(n=s,!Fw(s)&&(n=Ld[(l=String(s)).toLowerCase()],n===void 0))throw new te(`Unknown adapter '${l}'`);if(n)break;i[l||"#"+a]=n}if(!n){const a=Object.entries(i).map(([o,c])=>`adapter ${o} `+(c===!1?"is not supported by the environment":"is not available in the build"));let l=t?a.length>1?`since :
`+a.map(Xm).join(`
`):" "+Xm(a[0]):"as no adapter specified";throw new te("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return n},adapters:Ld};function gc(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Ar(null,e)}function Qm(e){return gc(e),e.headers=Wt.from(e.headers),e.data=pc.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Ng.getAdapter(e.adapter||Gu.adapter)(e).then(function(n){return gc(e),n.data=pc.call(e,e.transformResponse,n),n.headers=Wt.from(n.headers),n},function(n){return gg(n)||(gc(e),n&&n.response&&(n.response.data=pc.call(e,e.transformResponse,n.response),n.response.headers=Wt.from(n.response.headers))),Promise.reject(n)})}const _g="1.11.0",Lo={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Lo[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const Km={};Lo.transitional=function(t,s,n){function i(a,l){return"[Axios v"+_g+"] Transitional option '"+a+"'"+l+(n?". "+n:"")}return(a,l,o)=>{if(t===!1)throw new te(i(l," has been removed"+(s?" in "+s:"")),te.ERR_DEPRECATED);return s&&!Km[l]&&(Km[l]=!0,console.warn(i(l," has been deprecated since v"+s+" and will be removed in the near future"))),t?t(a,l,o):!0}};Lo.spelling=function(t){return(s,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function Aw(e,t,s){if(typeof e!="object")throw new te("options must be an object",te.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let i=n.length;for(;i-- >0;){const a=n[i],l=t[a];if(l){const o=e[a],c=o===void 0||l(o,a,e);if(c!==!0)throw new te("option "+a+" must be "+c,te.ERR_BAD_OPTION_VALUE);continue}if(s!==!0)throw new te("Unknown option "+a,te.ERR_BAD_OPTION)}}const cl={assertOptions:Aw,validators:Lo},Xt=cl.validators;class Xl{constructor(t){this.defaults=t||{},this.interceptors={request:new Wm,response:new Wm}}async request(t,s){try{return await this._request(t,s)}catch(n){if(n instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const a=i.stack?i.stack.replace(/^.+\n/,""):"";try{n.stack?a&&!String(n.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+a):n.stack=a}catch{}}throw n}}_request(t,s){typeof t=="string"?(s=s||{},s.url=t):s=t||{},s=Bn(this.defaults,s);const{transitional:n,paramsSerializer:i,headers:a}=s;n!==void 0&&cl.assertOptions(n,{silentJSONParsing:Xt.transitional(Xt.boolean),forcedJSONParsing:Xt.transitional(Xt.boolean),clarifyTimeoutError:Xt.transitional(Xt.boolean)},!1),i!=null&&(T.isFunction(i)?s.paramsSerializer={serialize:i}:cl.assertOptions(i,{encode:Xt.function,serialize:Xt.function},!0)),s.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?s.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:s.allowAbsoluteUrls=!0),cl.assertOptions(s,{baseUrl:Xt.spelling("baseURL"),withXsrfToken:Xt.spelling("withXSRFToken")},!0),s.method=(s.method||this.defaults.method||"get").toLowerCase();let l=a&&T.merge(a.common,a[s.method]);a&&T.forEach(["delete","get","head","post","put","patch","common"],p=>{delete a[p]}),s.headers=Wt.concat(l,a);const o=[];let c=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(s)===!1||(c=c&&y.synchronous,o.unshift(y.fulfilled,y.rejected))});const d=[];this.interceptors.response.forEach(function(y){d.push(y.fulfilled,y.rejected)});let u,h=0,f;if(!c){const p=[Qm.bind(this),void 0];for(p.unshift(...o),p.push(...d),f=p.length,u=Promise.resolve(s);h<f;)u=u.then(p[h++],p[h++]);return u}f=o.length;let v=s;for(h=0;h<f;){const p=o[h++],y=o[h++];try{v=p(v)}catch(b){y.call(this,b);break}}try{u=Qm.call(this,v)}catch(p){return Promise.reject(p)}for(h=0,f=d.length;h<f;)u=u.then(d[h++],d[h++]);return u}getUri(t){t=Bn(this.defaults,t);const s=vg(t.baseURL,t.url,t.allowAbsoluteUrls);return fg(s,t.params,t.paramsSerializer)}}T.forEach(["delete","get","head","options"],function(t){Xl.prototype[t]=function(s,n){return this.request(Bn(n||{},{method:t,url:s,data:(n||{}).data}))}});T.forEach(["post","put","patch"],function(t){function s(n){return function(a,l,o){return this.request(Bn(o||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:a,data:l}))}}Xl.prototype[t]=s(),Xl.prototype[t+"Form"]=s(!0)});const dl=Xl;class Ju{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let s;this.promise=new Promise(function(a){s=a});const n=this;this.promise.then(i=>{if(!n._listeners)return;let a=n._listeners.length;for(;a-- >0;)n._listeners[a](i);n._listeners=null}),this.promise.then=i=>{let a;const l=new Promise(o=>{n.subscribe(o),a=o}).then(i);return l.cancel=function(){n.unsubscribe(a)},l},t(function(a,l,o){n.reason||(n.reason=new Ar(a,l,o),s(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const s=this._listeners.indexOf(t);s!==-1&&this._listeners.splice(s,1)}toAbortSignal(){const t=new AbortController,s=n=>{t.abort(n)};return this.subscribe(s),t.signal.unsubscribe=()=>this.unsubscribe(s),t.signal}static source(){let t;return{token:new Ju(function(i){t=i}),cancel:t}}}const Ow=Ju;function zw(e){return function(s){return e.apply(null,s)}}function Iw(e){return T.isObject(e)&&e.isAxiosError===!0}const Fd={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Fd).forEach(([e,t])=>{Fd[t]=e});const Bw=Fd;function kg(e){const t=new dl(e),s=sg(dl.prototype.request,t);return T.extend(s,dl.prototype,t,{allOwnKeys:!0}),T.extend(s,t,null,{allOwnKeys:!0}),s.create=function(i){return kg(Bn(e,i))},s}const Te=kg(Gu);Te.Axios=dl;Te.CanceledError=Ar;Te.CancelToken=Ow;Te.isCancel=gg;Te.VERSION=_g;Te.toFormData=To;Te.AxiosError=te;Te.Cancel=Te.CanceledError;Te.all=function(t){return Promise.all(t)};Te.spread=zw;Te.isAxiosError=Iw;Te.mergeConfig=Bn;Te.AxiosHeaders=Wt;Te.formToJSON=e=>pg(T.isHTMLForm(e)?new FormData(e):e);Te.getAdapter=Ng.getAdapter;Te.HttpStatusCode=Bw;Te.default=Te;const Ww=Te,Hw="/api",X=Ww.create({baseURL:Hw});X.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e});const As={login:e=>X.post("/auth/login",e),register:e=>X.post("/auth/register",e),sendVerification:e=>X.post("/auth/send-verification",{email:e}),sendEmailVerification:e=>X.post("/auth/send-verification",{email:e}),verifyEmail:e=>X.post("/auth/verify-email",{token:e}),forgotPassword:e=>X.post("/auth/forgot-password",{email:e}),resetPassword:(e,t)=>X.post("/auth/reset-password",{token:e,newPassword:t})},Ns={getProfile:()=>X.get("/users/profile"),updateProfile:e=>X.put("/users/profile",e),getUsers:()=>X.get("/users"),createUser:e=>X.post("/users",e),updateUser:(e,t)=>X.put(`/users/${e}`,t),deleteUser:e=>X.delete(`/users/${e}`),uploadAvatar:e=>X.post("/users/avatar",e),changePassword:e=>X.put("/users/password",e),updateNotifications:e=>X.put("/users/notifications",e)},Gm={getStats:()=>X.get("/dashboard/stats"),getTasks:()=>X.get("/dashboard/tasks")},Os={getTasks:()=>X.get("/tasks"),completeTask:e=>X.put(`/tasks/${e}/complete`),createTask:e=>X.post("/tasks",e),updateTask:(e,t)=>X.put(`/tasks/${e}`,t),deleteTask:e=>X.delete(`/tasks/${e}`),completeTaskWithEvidence:e=>X.post(`/tasks/${e.get("taskId")}/complete-with-evidence`,e),getTaskDetails:e=>X.get(`/tasks/${e}/details`),getWeeklyHistory:()=>X.get("/tasks/history/weekly"),getHistory:e=>X.get(`/tasks/history/${e.week||"current"}`)},Ea={getEvents:()=>X.get("/events"),createEvent:e=>X.post("/events",e),updateEvent:(e,t)=>X.put(`/events/${e}`,t),deleteEvent:e=>X.delete(`/events/${e}`)},Xr={getStats:e=>X.get("/reports/stats",{params:e}),getStaffPerformance:e=>X.get("/reports/staff-performance",{params:e}),getTaskDistribution:e=>X.get("/reports/task-distribution",{params:e}),getInsights:e=>X.get("/reports/insights",{params:e}),exportReport:e=>X.get("/reports/export",{params:e,responseType:"blob"})},Pn={getLivestock:()=>X.get("/livestock"),getLivestockById:e=>X.get(`/livestock/${e}`),createLivestock:e=>X.post("/livestock",e),updateLivestock:(e,t)=>X.put(`/livestock/${e}`,t),deleteLivestock:e=>X.delete(`/livestock/${e}`)},Ql={getResources:()=>X.get("/farm-resources"),getResourceById:e=>X.get(`/farm-resources/${e}`),createResource:e=>X.post("/farm-resources",e),updateResource:(e,t)=>X.put(`/farm-resources/${e}`,t),deleteResource:e=>X.delete(`/farm-resources/${e}`)},Kl={getPlantings:()=>X.get("/plantings"),getPlantingById:e=>X.get(`/plantings/${e}`),createPlanting:e=>X.post("/plantings",e),updatePlanting:(e,t)=>X.put(`/plantings/${e}`,t),deletePlanting:e=>X.delete(`/plantings/${e}`)},Gl={getHealthRecords:()=>X.get("/livestock-health"),getHealthRecordById:e=>X.get(`/livestock-health/${e}`),createHealthRecord:e=>X.post("/livestock-health",e),updateHealthRecord:(e,t)=>X.put(`/livestock-health/${e}`,t),deleteHealthRecord:e=>X.delete(`/livestock-health/${e}`)},Uw={getExternalUsers:()=>X.get("/external-users"),getSuppliers:()=>X.get("/external-users/suppliers"),getExternalUserById:e=>X.get(`/external-users/${e}`),createExternalUser:e=>X.post("/external-users",e),updateExternalUser:(e,t)=>X.put(`/external-users/${e}`,t),deleteExternalUser:e=>X.delete(`/external-users/${e}`)},Sg=N.createContext(),$e=()=>{const e=N.useContext(Sg);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},$w=({children:e})=>{const[t,s]=N.useState(null),[n,i]=N.useState(!0),a=N.useCallback(p=>{if(!p)return!0;try{const y=JSON.parse(atob(p.split(".")[1])),b=Date.now()/1e3;return y.exp<b}catch{return!0}},[]),l=N.useCallback(()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),s(null),window.location.pathname!=="/login"&&(window.location.href="/login")},[]);N.useEffect(()=>{const p=localStorage.getItem("token"),y=localStorage.getItem("user");p&&y&&(a(p)?l():s(JSON.parse(y))),i(!1);const b=setInterval(()=>{const m=localStorage.getItem("token");m&&a(m)&&l()},6e4);return()=>clearInterval(b)},[a,l]);const v={user:t,login:(p,y)=>{localStorage.setItem("token",p),localStorage.setItem("user",JSON.stringify(y)),s(y)},logout:(p=!1)=>{if(p){l();return}window.confirm("Are you sure you want to log out?")&&(localStorage.removeItem("token"),localStorage.removeItem("user"),s(null))},loading:n,sendEmailVerification:async p=>{try{return(await As.sendEmailVerification(p)).data}catch(y){throw y}},verifyEmail:async p=>{try{return(await As.verifyEmail(p)).data}catch(y){throw y}},forgotPassword:async p=>{try{return(await As.forgotPassword(p)).data}catch(y){throw y}},resetPassword:async(p,y)=>{try{return(await As.resetPassword(p,y)).data}catch(b){throw b}},forceLogout:l};return r.jsx(Sg.Provider,{value:v,children:e})};var Vw={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Yw=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),qw=(e,t)=>{const s=N.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:l,children:o,...c},d)=>N.createElement("svg",{ref:d,...Vw,width:i,height:i,stroke:n,strokeWidth:l?Number(a)*24/Number(i):a,className:`lucide lucide-${Yw(e)}`,...c},[...t.map(([u,h])=>N.createElement(u,h)),...(Array.isArray(o)?o:[o])||[]]));return s.displayName=`${e}`,s};var Q=qw;const gs=Q("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),Cg=Q("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),Jl=Q("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),tn=Q("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),Xw=Q("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),Jm=Q("Baby",[["path",{d:"M9 12h.01",key:"157uk2"}],["path",{d:"M15 12h.01",key:"1k8ypt"}],["path",{d:"M10 16c.5.3 1.2.5 2 .5s1.5-.2 2-.5",key:"1u7htd"}],["path",{d:"M19 6.3a9 9 0 0 1 1.8 3.9 2 2 0 0 1 0 3.6 9 9 0 0 1-17.6 0 2 2 0 0 1 0-3.6A9 9 0 0 1 12 3c2 0 3.5 1.1 3.5 2.5s-.9 2.5-2 2.5c-.8 0-1.5-.4-1.5-1",key:"5yv0yz"}]]),Qw=Q("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]),Pg=Q("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),Mg=Q("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),We=Q("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),Nn=Q("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),Be=Q("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]]),Kw=Q("CheckSquare",[["polyline",{points:"9 11 12 14 22 4",key:"19ybtz"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]),Ta=Q("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]]),Gw=Q("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),Jw=Q("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),Eg=Q("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),zt=Q("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),Zw=Q("CloudRain",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M16 14v6",key:"1j4efv"}],["path",{d:"M8 14v6",key:"17c4r9"}],["path",{d:"M12 16v6",key:"c8a4gj"}]]),e2=Q("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]),Tg=Q("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),Zm=Q("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),yt=Q("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Cr=Q("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),Fo=Q("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),t2=Q("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]),fs=Q("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),Da=Q("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),s2=Q("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),ef=Q("Layers",[["polygon",{points:"12 2 2 7 12 12 22 7 12 2",key:"1b0ttc"}],["polyline",{points:"2 17 12 22 22 17",key:"imjtdl"}],["polyline",{points:"2 12 12 17 22 12",key:"5dexcv"}]]),n2=Q("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]),ds=Q("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),yc=Q("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),ys=Q("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),ca=Q("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),ul=Q("Map",[["polygon",{points:"3 6 9 3 15 6 21 3 21 18 15 21 9 18 3 21",key:"ok2ie8"}],["line",{x1:"9",x2:"9",y1:"3",y2:"18",key:"w34qz5"}],["line",{x1:"15",x2:"15",y1:"6",y2:"21",key:"volv9a"}]]),r2=Q("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]),hl=Q("Package",[["path",{d:"M16.5 9.4 7.55 4.24",key:"10qotr"}],["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z",key:"yt0hxn"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]]),tf=Q("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]),sn=Q("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),Zl=Q("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),i2=Q("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]),Wn=Q("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),sf=Q("Ruler",[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]]),Dg=Q("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]),Or=Q("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),a2=Q("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z",key:"3xmgem"}]]),Ad=Q("Sprout",[["path",{d:"M7 20h10",key:"e6iznv"}],["path",{d:"M10 20c5.5-2.5.8-6.4 3-10",key:"161w41"}],["path",{d:"M9.5 9.4c1.1.8 1.8 2.2 2.3 3.7-2 .4-3.5.4-4.8-.3-1.2-.6-2.3-1.9-3-4.2 2.8-.5 4.4 0 5.5.8z",key:"9gtqwd"}],["path",{d:"M14.1 6a7 7 0 0 0-1.1 4c1.9-.1 3.3-.6 4.3-1.4 1-1 1.6-2.3 1.7-4.6-2.7.1-4 1-4.9 2z",key:"bkxnd2"}]]),Ra=Q("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),l2=Q("Sunset",[["path",{d:"M12 10V2",key:"16sf7g"}],["path",{d:"m4.93 10.93 1.41 1.41",key:"2a7f42"}],["path",{d:"M2 18h2",key:"j10viu"}],["path",{d:"M20 18h2",key:"wocana"}],["path",{d:"m19.07 10.93-1.41 1.41",key:"15zs5n"}],["path",{d:"M22 22H2",key:"19qnx5"}],["path",{d:"m16 6-4 4-4-4",key:"6wukr"}],["path",{d:"M16 18a4 4 0 0 0-8 0",key:"1lzouq"}]]),nf=Q("Syringe",[["path",{d:"m18 2 4 4",key:"22kx64"}],["path",{d:"m17 7 3-3",key:"1w1zoj"}],["path",{d:"M19 9 8.7 19.3c-1 1-2.5 1-3.4 0l-.6-.6c-1-1-1-2.5 0-3.4L15 5",key:"1exhtz"}],["path",{d:"m9 11 4 4",key:"rovt3i"}],["path",{d:"m5 19-3 3",key:"59f2uf"}],["path",{d:"m14 4 6 6",key:"yqp9t2"}]]),o2=Q("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]),zs=Q("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),c2=Q("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]),Zu=Q("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),d2=Q("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),u2=Q("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]),h2=Q("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]),St=Q("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),Zt=Q("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),rf=Q("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2v0a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"1ogz0v"}]]),Re=Q("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),m2=Q("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),rt=({children:e})=>{var v,p,y;const t=Rt(),{user:s,logout:n}=$e(),i=dn(),[a,l]=N.useState(!1),[o,c]=N.useState({}),d=b=>{c(m=>({...m,[b]:!m[b]}))},u=b=>{const m=b.icon;if(b.submenu){const g=o[b.name];return r.jsxs("div",{children:[r.jsxs("button",{onClick:()=>d(b.name),className:"w-full flex items-center justify-between px-3 py-2 rounded-xl text-sm font-medium transition-colors text-gray-700 hover:bg-gray-100",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(m,{className:"w-5 h-5"}),r.jsx("span",{children:b.name})]}),g?r.jsx(Gw,{className:"w-4 h-4"}):r.jsx(Eg,{className:"w-4 h-4"})]}),g&&r.jsx("div",{className:"ml-6 mt-1 space-y-1",children:b.submenu.map(j=>{const w=j.icon,_=i.pathname===j.href;return r.jsxs(Et,{to:j.href,className:`flex items-center gap-3 px-3 py-2 rounded-xl text-sm font-medium transition-colors ${_?"bg-primary-600 text-white":"text-gray-700 hover:bg-gray-100"}`,onClick:()=>l(!1),children:[r.jsx(w,{className:"w-4 h-4"}),r.jsx("span",{children:j.name})]},j.name)})})]},b.name)}const x=i.pathname===b.href;return r.jsxs(Et,{to:b.href,className:`flex items-center gap-3 px-3 py-2 rounded-xl text-sm font-medium transition-colors ${x?"bg-primary-600 text-white":"text-gray-700 hover:bg-gray-100"}`,onClick:()=>l(!1),children:[r.jsx(m,{className:"w-5 h-5"}),r.jsx("span",{children:b.name})]},b.name)},h=()=>{n()},f=[{name:"Dashboard",href:"/dashboard",icon:n2},{name:"Tasks",href:"/tasks",icon:Kw},{name:"Calendar",href:"/calendar",icon:We},{name:"Livestock",icon:gs,submenu:[{name:"Overview",href:"/livestock",icon:gs},{name:"Health",href:"/livestock/health",icon:fs}]},{name:"Farm Resources",href:"/farm-resources",icon:hl},{name:"Farm Map",href:"/farm-map",icon:ul},{name:"Planting Tracker",href:"/planting-tracker",icon:Ad},{name:"Users",href:"/users",icon:Zt},...(s==null?void 0:s.role)==="Admin"||(s==null?void 0:s.role)==="Farm Manager"?[{name:"Reports",href:"/reports",icon:Pg}]:[]];return r.jsxs("div",{className:"min-h-screen bg-gray-50 relative overflow-hidden",children:[r.jsx("div",{className:"absolute inset-0 pointer-events-none z-0",children:r.jsxs("svg",{width:"100%",height:"100%",className:"absolute top-0 left-0 animate-fade-in",style:{zIndex:0},children:[r.jsx("circle",{cx:"10%",cy:"10%",r:"80",fill:"#d1fae5",opacity:"0.3",children:r.jsx("animate",{attributeName:"r",values:"80;100;80",dur:"6s",repeatCount:"indefinite"})}),r.jsx("circle",{cx:"80%",cy:"20%",r:"60",fill:"#a7f3d0",opacity:"0.2",children:r.jsx("animate",{attributeName:"r",values:"60;80;60",dur:"7s",repeatCount:"indefinite"})}),r.jsx("circle",{cx:"50%",cy:"80%",r:"100",fill:"#f0abfc",opacity:"0.15",children:r.jsx("animate",{attributeName:"r",values:"100;120;100",dur:"8s",repeatCount:"indefinite"})})]})}),r.jsxs("nav",{className:"relative z-10 w-full bg-white shadow-sm border-b border-gray-200 px-4 py-3 flex items-center justify-between lg:hidden",children:[r.jsx("div",{className:"flex items-center gap-3",children:r.jsx("span",{className:"font-bold text-lg text-gray-900",children:"Alliance CropCraft"})}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("button",{className:"lg:hidden p-2 rounded-md text-gray-600 hover:bg-gray-100",onClick:()=>l(!a),children:r.jsxs("svg",{width:"24",height:"24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("line",{x1:"3",y1:"12",x2:"21",y2:"12"}),r.jsx("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),r.jsx("line",{x1:"3",y1:"18",x2:"21",y2:"18"})]})}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("button",{className:"relative p-2 text-gray-400 hover:text-gray-600",children:[r.jsx(Mg,{className:"w-5 h-5"}),r.jsx("span",{className:"absolute -top-1 -right-1 w-4 h-4 bg-red-500 text-white text-xs rounded-full flex items-center justify-center",children:"3"})]}),r.jsxs("div",{className:"hidden sm:flex items-center gap-2",children:[r.jsxs("div",{className:"text-right",children:[r.jsx("p",{className:"text-sm font-medium text-gray-900",children:s==null?void 0:s.full_name}),r.jsx("p",{className:"text-xs text-primary-600",children:s==null?void 0:s.role})]}),r.jsx("div",{className:" cursor-pointer w-8 h-8 bg-primary-600 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-white text-sm font-medium",children:(v=s==null?void 0:s.full_name)==null?void 0:v.split(" ").map(b=>b[0]).join("").toUpperCase()})}),r.jsx("button",{onClick:h,className:"p-2 text-gray-400 hover:text-gray-600",children:r.jsx(yc,{className:"w-5 h-5"})})]})]})]})]}),a&&r.jsx("div",{className:"fixed inset-0 z-20 bg-black bg-opacity-30",onClick:()=>l(!1)}),r.jsxs("div",{className:`fixed top-0 left-0 z-30 w-64 h-full bg-white shadow-lg transform ${a?"translate-x-0":"-translate-x-full"} transition-transform duration-300 lg:hidden`,children:[r.jsx("div",{className:"p-6 border-b border-gray-200 flex items-center gap-3",children:r.jsx("span",{className:"font-bold text-lg text-gray-900",children:"Alliance CropCraft"})}),r.jsx("nav",{className:"flex-1 p-4 space-y-2",children:f.map(u)}),r.jsxs("div",{className:"p-4 border-t border-gray-200 flex items-center gap-2",children:[r.jsx("div",{className:"w-8 h-8 bg-primary-600 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-white text-sm font-medium",children:(p=s==null?void 0:s.full_name)==null?void 0:p.split(" ").map(b=>b[0]).join("").toUpperCase()})}),r.jsxs("div",{onClick:()=>t("/profile"),className:"flex-1 pointer-cursor",children:[r.jsx("p",{className:"text-sm font-medium text-gray-900",children:s==null?void 0:s.full_name}),r.jsx("p",{className:"text-xs text-primary-600",children:s==null?void 0:s.role})]}),r.jsx("button",{onClick:h,className:"p-2 text-gray-400 hover:text-gray-600",children:r.jsx(yc,{className:"w-5 h-5"})})]})]}),r.jsxs("div",{className:"relative z-10 flex flex-col lg:flex-row",children:[r.jsxs("aside",{className:"hidden lg:flex lg:flex-col lg:fixed lg:left-0 lg:top-0 lg:w-64 lg:h-screen bg-white shadow-lg border-r border-gray-200 z-20 overflow-y-auto",children:[r.jsx("div",{className:"p-6 border-b border-gray-200 flex items-center gap-3",children:r.jsx("span",{className:"font-bold text-lg text-gray-900",children:"Alliance CropCraft"})}),r.jsx("nav",{className:"flex-1 p-4 space-y-2",children:f.map(u)}),r.jsxs("div",{className:"p-4 border-t border-gray-200 flex items-center gap-2",children:[r.jsx("div",{className:"w-8 h-8 bg-primary-600 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-white text-sm font-medium",children:(y=s==null?void 0:s.full_name)==null?void 0:y.split(" ").map(b=>b[0]).join("").toUpperCase()})}),r.jsxs("div",{onClick:()=>t("/profile"),className:"flex-1 cursor-pointer",children:[r.jsx("p",{className:"text-sm font-medium text-gray-900",children:s==null?void 0:s.full_name}),r.jsx("p",{className:"text-xs text-primary-600",children:s==null?void 0:s.role})]}),r.jsx("button",{onClick:h,className:"p-2 text-gray-400 hover:text-gray-600",children:r.jsx(yc,{className:"w-5 h-5"})})]})]}),r.jsx("main",{className:"flex-1 p-2 sm:p-6 lg:ml-64",children:e})]})]})},yr=({size:e="80",className:t=""})=>r.jsx("div",{className:`inline-flex items-center justify-center ${t}`,children:r.jsx("img",{src:"/logo.png",alt:"Alliance CropCraft Limited",className:"rounded-full object-cover shadow-sm border-1 border-white",style:{width:`${e}px`,height:`${e}px`}})}),f2=()=>{const[e,t]=N.useState({email:"",password:""}),[s,n]=N.useState(!1),[i,a]=N.useState(""),[l,o]=N.useState(!1),c=N.useRef(null),d=N.useRef(null),{login:u}=$e(),h=Rt();N.useEffect(()=>{i&&d.current&&c.current&&setTimeout(()=>{d.current.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"})},100)},[i]);const f=p=>{t({...e,[p.target.name]:p.target.value})},v=async p=>{var y;p.preventDefault(),n(!0),a("");try{const b=await As.login(e),{token:m,user:x}=b.data;u(m,x),h("/dashboard")}catch(b){const m=(y=b.response)==null?void 0:y.data;m!=null&&m.email_not_verified?h("/verify-email",{state:{message:m.message,email:m.user_email}}):m!=null&&m.field?a(m.message):a((m==null?void 0:m.message)||"Login failed")}finally{n(!1)}};return r.jsxs("div",{ref:c,className:"min-h-screen flex flex-col lg:flex-row relative",children:[r.jsxs("div",{className:"hidden lg:flex lg:w-3/5 relative overflow-hidden h-screen sticky top-0",children:[r.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat transform scale-105 transition-transform duration-700 hover:scale-100",style:{backgroundImage:"url('https://images.unsplash.com/photo-1625246333195-78d9c38ad449?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2940&q=80')"},children:r.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-black/50 via-black/30 to-transparent"})}),r.jsx("div",{className:"absolute top-8 left-8 z-20 animate-slide-down",children:r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx(yr,{size:"48"}),r.jsxs("div",{className:"text-white",children:[r.jsx("h3",{className:"text-xl font-bold tracking-wide",children:"Alliance CropCraft"}),r.jsx("p",{className:"text-sm opacity-90 font-medium",children:"Limited"})]})]})}),r.jsx("div",{className:"relative z-10 flex flex-col justify-end p-6 lg:p-12 text-white",children:r.jsxs("div",{className:"max-w-lg animate-slide-up",children:[r.jsxs("div",{className:"mb-6",children:[r.jsx("div",{className:"w-16 h-1 bg-primary-700 mb-4 animate-expand"}),r.jsx("h1",{className:"text-3xl lg:text-5xl font-bold mb-3 leading-tight",children:"Welcome Back"})]}),r.jsxs("div",{className:"space-y-3 animate-slide-up delay-300",children:[r.jsx("p",{className:"text-lg opacity-90 leading-relaxed",children:"Sign in to access Alliance CropCraft comprehensive farm management dashboard with real-time insights."}),r.jsxs("div",{className:"flex items-center space-x-6 text-sm opacity-80 mt-6",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-2 h-2 bg-primary-700 rounded-full animate-pulse"}),r.jsx("span",{children:"Livestock Monitoring"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-2 h-2 bg-primary-700 rounded-full animate-pulse delay-300"}),r.jsx("span",{children:"Task Management"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-2 h-2 bg-primary-700 rounded-full animate-pulse delay-600"}),r.jsx("span",{children:"Smart Reports"})]})]})]})]})})]}),r.jsxs("div",{className:"w-full lg:w-2/5 relative overflow-hidden min-h-screen",children:[r.jsxs("div",{className:"absolute inset-0 bg-gradient-to-br from-slate-50 via-white to-primary-50",children:[r.jsx("div",{className:"absolute top-20 right-20 w-40 h-40 bg-primary-200/20 rounded-full animate-float blur-xl"}),r.jsx("div",{className:"absolute top-24 right-24 w-10 h-10 flex items-center justify-center animate-float delay-100",children:r.jsxs("svg",{viewBox:"0 0 64 64",className:"w-8 h-8 opacity-70",children:[r.jsx("circle",{cx:"32",cy:"32",r:"30",fill:"#8B4513"}),r.jsx("ellipse",{cx:"32",cy:"45",rx:"25",ry:"15",fill:"#D2691E"}),r.jsx("circle",{cx:"25",cy:"25",r:"3",fill:"#000"}),r.jsx("circle",{cx:"39",cy:"25",r:"3",fill:"#000"}),r.jsx("ellipse",{cx:"32",cy:"35",rx:"4",ry:"2",fill:"#000"}),r.jsx("path",{d:"M20 15 Q15 10 12 15 Q15 20 20 15",fill:"#8B4513"}),r.jsx("path",{d:"M44 15 Q49 10 52 15 Q49 20 44 15",fill:"#8B4513"}),r.jsx("rect",{x:"28",y:"50",width:"8",height:"12",fill:"#000"})]})}),r.jsx("div",{className:"absolute bottom-40 left-10 w-32 h-32 bg-green-300/20 rounded-full animate-float-reverse delay-1000 blur-lg"}),r.jsx("div",{className:"absolute bottom-44 left-14 w-8 h-8 flex items-center justify-center animate-float-reverse delay-1100",children:r.jsxs("svg",{viewBox:"0 0 64 64",className:"w-7 h-7 opacity-70",children:[r.jsx("ellipse",{cx:"32",cy:"35",rx:"22",ry:"18",fill:"#FFB6C1"}),r.jsx("circle",{cx:"32",cy:"25",r:"15",fill:"#FFB6C1"}),r.jsx("circle",{cx:"27",cy:"22",r:"2",fill:"#000"}),r.jsx("circle",{cx:"37",cy:"22",r:"2",fill:"#000"}),r.jsx("ellipse",{cx:"32",cy:"28",rx:"6",ry:"4",fill:"#FF69B4"}),r.jsx("circle",{cx:"30",cy:"28",r:"1",fill:"#000"}),r.jsx("circle",{cx:"34",cy:"28",r:"1",fill:"#000"}),r.jsx("path",{d:"M20 18 Q15 15 18 12 Q22 15 20 18",fill:"#FFB6C1"}),r.jsx("path",{d:"M44 18 Q49 15 46 12 Q42 15 44 18",fill:"#FFB6C1"}),r.jsx("path",{d:"M32 45 Q28 50 32 52 Q36 50 32 45",fill:"#FF69B4"})]})}),r.jsx("div",{className:"absolute top-1/2 right-10 w-24 h-24 bg-teal-200/30 rounded-full animate-pulse-slow delay-500 blur-lg"}),r.jsx("div",{className:"absolute top-1/2 right-14 w-7 h-7 flex items-center justify-center animate-pulse-slow delay-600",children:r.jsxs("svg",{viewBox:"0 0 64 64",className:"w-6 h-6 opacity-70",children:[r.jsx("ellipse",{cx:"32",cy:"40",rx:"18",ry:"20",fill:"#FFFFFF"}),r.jsx("circle",{cx:"32",cy:"25",r:"12",fill:"#FFFFFF"}),r.jsx("circle",{cx:"29",cy:"22",r:"1.5",fill:"#000"}),r.jsx("circle",{cx:"35",cy:"22",r:"1.5",fill:"#000"}),r.jsx("path",{d:"M32 26 L28 28 L32 30 Z",fill:"#FFA500"}),r.jsx("path",{d:"M25 15 Q20 10 25 8 Q30 12 25 15",fill:"#FF0000"}),r.jsx("ellipse",{cx:"32",cy:"55",rx:"8",ry:"3",fill:"#FFA500"}),r.jsx("circle",{cx:"28",cy:"55",r:"1",fill:"#FFA500"}),r.jsx("circle",{cx:"36",cy:"55",r:"1",fill:"#FFA500"})]})}),r.jsx("div",{className:"absolute top-1/3 left-1/4 w-28 h-28 bg-lime-200/20 rounded-full animate-float delay-700 blur-xl"}),r.jsx("div",{className:"absolute top-1/3 left-1/4 w-8 h-8 flex items-center justify-center animate-float delay-800",children:r.jsxs("svg",{viewBox:"0 0 64 64",className:"w-7 h-7 opacity-70",children:[r.jsx("ellipse",{cx:"32",cy:"38",rx:"20",ry:"15",fill:"#F5F5DC"}),r.jsx("circle",{cx:"32",cy:"25",r:"10",fill:"#000"}),r.jsx("circle",{cx:"29",cy:"22",r:"1",fill:"#FFF"}),r.jsx("circle",{cx:"35",cy:"22",r:"1",fill:"#FFF"}),r.jsx("circle",{cx:"25",cy:"30",r:"4",fill:"#F5F5DC"}),r.jsx("circle",{cx:"39",cy:"30",r:"4",fill:"#F5F5DC"}),r.jsx("circle",{cx:"20",cy:"35",r:"3",fill:"#F5F5DC"}),r.jsx("circle",{cx:"44",cy:"35",r:"3",fill:"#F5F5DC"}),r.jsx("circle",{cx:"32",cy:"20",r:"3",fill:"#F5F5DC"}),r.jsx("rect",{x:"28",y:"48",width:"3",height:"10",fill:"#000"}),r.jsx("rect",{x:"33",y:"48",width:"3",height:"10",fill:"#000"})]})}),r.jsx("div",{className:"absolute bottom-20 right-1/3 w-20 h-20 bg-primary-700/20 rounded-full animate-float-reverse delay-300 blur-lg"}),r.jsx("div",{className:"absolute bottom-24 right-1/3 w-7 h-7 flex items-center justify-center animate-float-reverse delay-400",children:r.jsxs("svg",{viewBox:"0 0 64 64",className:"w-6 h-6 opacity-70",children:[r.jsx("ellipse",{cx:"32",cy:"40",rx:"16",ry:"18",fill:"#8B4513"}),r.jsx("ellipse",{cx:"32",cy:"20",rx:"8",ry:"12",fill:"#8B4513"}),r.jsx("circle",{cx:"29",cy:"18",r:"1",fill:"#000"}),r.jsx("circle",{cx:"35",cy:"18",r:"1",fill:"#000"}),r.jsx("path",{d:"M32 22 L28 24 L32 26 Z",fill:"#000"}),r.jsx("path",{d:"M28 8 Q25 5 28 3 Q32 6 30 10 Q28 12 28 8",fill:"#654321"}),r.jsx("path",{d:"M36 8 Q39 5 36 3 Q32 6 34 10 Q36 12 36 8",fill:"#654321"}),r.jsx("rect",{x:"26",y:"52",width:"3",height:"8",fill:"#000"}),r.jsx("rect",{x:"35",y:"52",width:"3",height:"8",fill:"#000"}),r.jsx("ellipse",{cx:"32",cy:"25",rx:"12",ry:"8",fill:"#A0522D"})]})}),r.jsx("div",{className:"absolute top-32 left-16 w-6 h-6 animate-float delay-1500 opacity-60",children:r.jsxs("svg",{viewBox:"0 0 32 32",className:"w-6 h-6",children:[r.jsx("circle",{cx:"16",cy:"16",r:"14",fill:"#90EE90"}),r.jsx("text",{x:"16",y:"20",textAnchor:"middle",fontSize:"16",fill:"#4A5568",children:""})]})}),r.jsx("div",{className:"absolute bottom-32 right-12 w-6 h-6 animate-float-reverse delay-2000 opacity-60",children:r.jsxs("svg",{viewBox:"0 0 32 32",className:"w-6 h-6",children:[r.jsx("circle",{cx:"16",cy:"16",r:"14",fill:"#FFE4B5"}),r.jsx("text",{x:"16",y:"20",textAnchor:"middle",fontSize:"16",fill:"#4A5568",children:""})]})})]}),r.jsx("div",{className:"relative z-10 flex items-center justify-center min-h-screen p-8",children:r.jsxs("div",{className:"max-w-md w-full animate-fade-in-up",children:[r.jsxs("div",{className:"text-center mb-8 lg:hidden",children:[r.jsx("div",{className:"flex justify-center mb-4",children:r.jsx(yr,{size:"64"})}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Alliance CropCraft"}),r.jsx("p",{className:"text-primary-600 font-medium",children:"Limited"})]}),r.jsxs("div",{className:"bg-white/80 backdrop-blur-xl rounded-3xl shadow-2xl border border-white/50 p-8 transition-all duration-500 hover:shadow-3xl hover:bg-white/90",children:[r.jsxs("div",{className:"text-center mb-8 hidden lg:block",children:[r.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16",children:r.jsx(yr,{size:"64"})}),r.jsx("h2",{className:"text-3xl font-bold text-gray-900 animate-slide-down mb-2",children:"Sign In"}),r.jsx("p",{className:"text-green-600 font-medium animate-slide-down delay-200",children:"Access your dashboard"})]}),i&&r.jsx("div",{ref:d,className:"mb-6 p-4 bg-red-50 border-l-4 border-red-400 rounded-r-xl animate-shake",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("svg",{className:"w-5 h-5 text-red-400 mr-3",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),r.jsx("span",{className:"text-red-700 font-medium",children:i})]})}),r.jsxs("form",{onSubmit:v,className:"space-y-6",children:[r.jsxs("div",{className:"animate-slide-up delay-300",children:[r.jsx("label",{htmlFor:"email",className:"block text-sm font-semibold text-gray-700 mb-3",children:"Email Address"}),r.jsx("div",{className:"relative",children:r.jsx("input",{id:"email",name:"email",type:"email",required:!0,className:"w-full px-4 py-4 border-2 border-gray-200 rounded-2xl focus:ring-2 focus:ring-green-500 focus:border-green-500 focus:outline-none transition-all duration-300 hover:border-green-300 bg-white/70 backdrop-blur-sm text-gray-900 placeholder-gray-500",placeholder:"Enter your email address",value:e.email,onChange:f})})]}),r.jsxs("div",{className:"animate-slide-up delay-500",children:[r.jsx("label",{htmlFor:"password",className:"block text-sm font-semibold text-gray-700 mb-3",children:"Password"}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{id:"password",name:"password",type:l?"text":"password",required:!0,className:"w-full px-4 py-4 pr-12 border-2 border-gray-200 rounded-2xl focus:ring-2 focus:ring-green-500 focus:border-green-500 focus:outline-none transition-all duration-300 hover:border-green-300 bg-white/70 backdrop-blur-sm text-gray-900 placeholder-gray-500",placeholder:"Enter your password",value:e.password,onChange:f}),r.jsx("button",{type:"button",className:"absolute right-4 top-4 text-gray-400 hover:text-gray-600 transition-colors duration-200",onClick:()=>o(!l),children:l?r.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"})}):r.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]})]}),r.jsx("button",{type:"submit",disabled:s,className:"w-full bg-gradient-to-r from-green-600 via-green-500 to-teal-600 hover:from-green-700 hover:via-green-600 hover:to-teal-700 text-white font-bold py-4 px-6 rounded-2xl transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed transform hover:scale-105 hover:shadow-xl active:scale-95 animate-slide-up delay-700 shadow-lg",children:s?r.jsxs("span",{className:"flex items-center justify-center",children:[r.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-6 w-6 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Signing you in..."]}):r.jsx("span",{className:"flex items-center justify-center",children:"Sign In"})})]}),r.jsx("div",{className:"mt-6 text-center animate-slide-up delay-800",children:r.jsx(Et,{to:"/forgot-password",className:"text-sm text-green-600 hover:text-green-700 font-medium transition-colors",children:"Forgot your password?"})}),r.jsxs("div",{className:"mt-8 text-center animate-slide-up delay-900",children:[r.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"New to Alliance CropCraft?"}),r.jsxs(Et,{to:"/register",className:"inline-flex items-center px-6 py-3 border-2 border-green-600 text-green-600 hover:bg-green-600 hover:text-white font-semibold rounded-2xl transition-all duration-300 transform hover:scale-105 hover:shadow-lg active:scale-95",children:[r.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"})}),"Create New Account"]})]})]})]})})]}),r.jsx("style",{jsx:!0,children:`
        @keyframes slide-up {
          from { opacity: 0; transform: translateY(30px); }
          to { opacity: 1; transform: translateY(0); }
        }
        
        @keyframes slide-down {
          from { opacity: 0; transform: translateY(-20px); }
          to { opacity: 1; transform: translateY(0); }
        }
        
        @keyframes fade-in-up {
          from { opacity: 0; transform: translateY(40px); }
          to { opacity: 1; transform: translateY(0); }
        }
        
        @keyframes expand {
          from { width: 0; }
          to { width: 4rem; }
        }
        
        @keyframes bounce-gentle {
          0%, 100% { transform: translateY(0); }
          50% { transform: translateY(-3px); }
        }
        
        @keyframes float {
          0%, 100% { transform: translateY(0px) translateX(0px); }
          33% { transform: translateY(-20px) translateX(10px); }
          66% { transform: translateY(-10px) translateX(-5px); }
        }
        
        @keyframes float-reverse {
          0%, 100% { transform: translateY(0px) translateX(0px); }
          33% { transform: translateY(-15px) translateX(-10px); }
          66% { transform: translateY(-25px) translateX(5px); }
        }
        
        @keyframes pulse-slow {
          0%, 100% { opacity: 0.2; transform: scale(1); }
          50% { opacity: 0.4; transform: scale(1.05); }
        }
        
        @keyframes logo-glow {
          0%, 100% { filter: drop-shadow(0 0 10px rgba(16, 185, 129, 0.3)); }
          50% { filter: drop-shadow(0 0 20px rgba(16, 185, 129, 0.6)); }
        }
        
        @keyframes shake {
          0%, 100% { transform: translateX(0); }
          25% { transform: translateX(-5px); }
          75% { transform: translateX(5px); }
        }
        
        .animate-slide-up { animation: slide-up 0.8s ease-out forwards; opacity: 0; }
        .animate-slide-down { animation: slide-down 0.8s ease-out forwards; opacity: 0; }
        .animate-fade-in-up { animation: fade-in-up 1.2s ease-out forwards; opacity: 0; }
        .animate-expand { animation: expand 1.5s ease-out forwards; }
        .animate-bounce-gentle { animation: bounce-gentle 3s ease-in-out infinite; }
        .animate-float { animation: float 6s ease-in-out infinite; }
        .animate-float-reverse { animation: float-reverse 8s ease-in-out infinite; }
        .animate-pulse-slow { animation: pulse-slow 4s ease-in-out infinite; }
        .animate-shake { animation: shake 0.6s ease-in-out; }
        
        .delay-100 { animation-delay: 0.1s; }
        .delay-200 { animation-delay: 0.2s; }
        .delay-300 { animation-delay: 0.3s; }
        .delay-400 { animation-delay: 0.4s; }
        .delay-500 { animation-delay: 0.5s; }
        .delay-600 { animation-delay: 0.6s; }
        .delay-700 { animation-delay: 0.7s; }
        .delay-800 { animation-delay: 0.8s; }
        .delay-900 { animation-delay: 0.9s; }
        .delay-1000 { animation-delay: 1s; }
        .delay-1100 { animation-delay: 1.1s; }
        .delay-1200 { animation-delay: 1.2s; }
        .delay-1500 { animation-delay: 1.5s; }
        .delay-2000 { animation-delay: 2s; }
        
        .shadow-3xl {
          box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
        }
      `})]})},x2=()=>{const[e,t]=N.useState({full_name:"",email:"",phone:"",role:"",password:"",confirmPassword:""}),[s,n]=N.useState(!1),[i,a]=N.useState(""),[l,o]=N.useState(!1),[c,d]=N.useState(!1),[u,h]=N.useState(!1),f=N.useRef(null),v=N.useRef(null),{login:p}=$e(),y=Rt(),b=["Farm Attendant","Veterinary Doctor","Pasture Officer","Admin","Farm Manager","Maintenance Officer","Feed Production Officer"];N.useEffect(()=>{i&&v.current&&f.current&&setTimeout(()=>{v.current.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"})},100)},[i]);const m=_=>{t({...e,[_.target.name]:_.target.value})},x=_=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(_),g=_=>/^\d{10,15}$/.test(_.replace(/\D/g,"")),j=_=>_.length>=8&&/[0-9!@#$%^&*(),.?":{}|<>]/.test(_),w=async _=>{var k;if(_.preventDefault(),n(!0),a(""),e.password!==e.confirmPassword){a("Passwords do not match"),n(!1);return}if(!l){a("Please accept the terms and conditions"),n(!1);return}if(!x(e.email)){a("Please enter a valid email address"),n(!1);return}if(e.phone&&!g(e.phone)){a("Please enter a valid phone number (10-15 digits)"),n(!1);return}if(!j(e.password)){a("Password must be at least 8 characters and contain a number or symbol"),n(!1);return}if(!e.full_name.trim()){a("Full name is required"),n(!1);return}if(!e.role){a("Please select your role"),n(!1);return}try{const{confirmPassword:S,...A}=e,O=await As.register(A);if(O.data.verification_required)localStorage.setItem("pendingVerificationEmail",O.data.user.email),y("/verify-email",{state:{message:O.data.message,email:O.data.user.email}});else{const{token:C,user:L}=O.data;p(C,L),y("/dashboard")}}catch(S){const A=(k=S.response)==null?void 0:k.data;A!=null&&A.field?a(A.message):a((A==null?void 0:A.message)||"Registration failed")}finally{n(!1)}};return r.jsxs("div",{ref:f,className:"min-h-screen flex flex-col lg:flex-row relative",children:[r.jsxs("div",{className:"hidden lg:flex lg:w-3/5 relative overflow-hidden h-screen sticky top-0",children:[r.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat transform scale-105 transition-transform duration-700 hover:scale-100",style:{backgroundImage:"url('https://images.unsplash.com/photo-1625246333195-78d9c38ad449?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2940&q=80')"},children:r.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-black/50 via-black/30 to-transparent"})}),r.jsx("div",{className:"absolute top-8 left-8 z-20 animate-slide-down",children:r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx(yr,{size:"48"}),r.jsxs("div",{className:"text-white",children:[r.jsx("h3",{className:"text-xl font-bold tracking-wide",children:"Alliance CropCraft"}),r.jsx("p",{className:"text-sm opacity-90 font-medium",children:"Limited"})]})]})}),r.jsx("div",{className:"relative z-10 flex flex-col justify-end p-6 lg:p-12 text-white",children:r.jsxs("div",{className:"max-w-lg animate-slide-up",children:[r.jsxs("div",{className:"mb-6",children:[r.jsx("div",{className:"w-16 h-1 bg-primary-700 mb-4 animate-expand"}),r.jsx("h1",{className:"text-3xl lg:text-5xl font-bold mb-3 leading-tight",children:"Create an Account"})]}),r.jsxs("div",{className:"space-y-3 animate-slide-up delay-300",children:[r.jsx("p",{className:"text-lg opacity-90 leading-relaxed",children:"Create your account to access Alliance CropCraft comprehensive farm management dashboard with real-time insights."}),r.jsxs("div",{className:"flex items-center space-x-6 text-sm opacity-80 mt-6",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-2 h-2 bg-primary-700 rounded-full animate-pulse"}),r.jsx("span",{children:"Livestock Monitoring"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-2 h-2 bg-primary-700 rounded-full animate-pulse delay-300"}),r.jsx("span",{children:"Task Management"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-2 h-2 bg-primary-700 rounded-full animate-pulse delay-600"}),r.jsx("span",{children:"Smart Reports"})]})]})]})]})})]}),r.jsxs("div",{className:"w-full lg:w-2/5 relative overflow-hidden min-h-screen",children:[r.jsxs("div",{className:"absolute inset-0 bg-gradient-to-br from-slate-50 via-white to-primary-50",children:[r.jsx("div",{className:"absolute top-20 right-20 w-40 h-40 bg-primary-200/20 rounded-full animate-float blur-xl"}),r.jsx("div",{className:"absolute top-24 right-24 w-10 h-10 flex items-center justify-center animate-float delay-100",children:r.jsxs("svg",{viewBox:"0 0 64 64",className:"w-8 h-8 opacity-70",children:[r.jsx("circle",{cx:"32",cy:"32",r:"30",fill:"#8B4513"}),r.jsx("ellipse",{cx:"32",cy:"45",rx:"25",ry:"15",fill:"#D2691E"}),r.jsx("circle",{cx:"25",cy:"25",r:"3",fill:"#000"}),r.jsx("circle",{cx:"39",cy:"25",r:"3",fill:"#000"}),r.jsx("ellipse",{cx:"32",cy:"35",rx:"4",ry:"2",fill:"#000"}),r.jsx("path",{d:"M20 15 Q15 10 12 15 Q15 20 20 15",fill:"#8B4513"}),r.jsx("path",{d:"M44 15 Q49 10 52 15 Q49 20 44 15",fill:"#8B4513"}),r.jsx("rect",{x:"28",y:"50",width:"8",height:"12",fill:"#000"})]})}),r.jsx("div",{className:"absolute bottom-40 left-10 w-32 h-32 bg-green-300/20 rounded-full animate-float-reverse delay-1000 blur-lg"}),r.jsx("div",{className:"absolute bottom-44 left-14 w-8 h-8 flex items-center justify-center animate-float-reverse delay-1100",children:r.jsxs("svg",{viewBox:"0 0 64 64",className:"w-7 h-7 opacity-70",children:[r.jsx("ellipse",{cx:"32",cy:"35",rx:"22",ry:"18",fill:"#FFB6C1"}),r.jsx("circle",{cx:"32",cy:"25",r:"15",fill:"#FFB6C1"}),r.jsx("circle",{cx:"27",cy:"22",r:"2",fill:"#000"}),r.jsx("circle",{cx:"37",cy:"22",r:"2",fill:"#000"}),r.jsx("ellipse",{cx:"32",cy:"28",rx:"6",ry:"4",fill:"#FF69B4"}),r.jsx("circle",{cx:"30",cy:"28",r:"1",fill:"#000"}),r.jsx("circle",{cx:"34",cy:"28",r:"1",fill:"#000"}),r.jsx("path",{d:"M20 18 Q15 15 18 12 Q22 15 20 18",fill:"#FFB6C1"}),r.jsx("path",{d:"M44 18 Q49 15 46 12 Q42 15 44 18",fill:"#FFB6C1"}),r.jsx("path",{d:"M32 45 Q28 50 32 52 Q36 50 32 45",fill:"#FF69B4"})]})}),r.jsx("div",{className:"absolute top-1/2 right-10 w-24 h-24 bg-teal-200/30 rounded-full animate-pulse-slow delay-500 blur-lg"}),r.jsx("div",{className:"absolute top-1/2 right-14 w-7 h-7 flex items-center justify-center animate-pulse-slow delay-600",children:r.jsxs("svg",{viewBox:"0 0 64 64",className:"w-6 h-6 opacity-70",children:[r.jsx("ellipse",{cx:"32",cy:"40",rx:"18",ry:"20",fill:"#FFFFFF"}),r.jsx("circle",{cx:"32",cy:"25",r:"12",fill:"#FFFFFF"}),r.jsx("circle",{cx:"29",cy:"22",r:"1.5",fill:"#000"}),r.jsx("circle",{cx:"35",cy:"22",r:"1.5",fill:"#000"}),r.jsx("path",{d:"M32 26 L28 28 L32 30 Z",fill:"#FFA500"}),r.jsx("path",{d:"M25 15 Q20 10 25 8 Q30 12 25 15",fill:"#FF0000"}),r.jsx("ellipse",{cx:"32",cy:"55",rx:"8",ry:"3",fill:"#FFA500"}),r.jsx("circle",{cx:"28",cy:"55",r:"1",fill:"#FFA500"}),r.jsx("circle",{cx:"36",cy:"55",r:"1",fill:"#FFA500"})]})}),r.jsx("div",{className:"absolute top-1/3 left-1/4 w-28 h-28 bg-lime-200/20 rounded-full animate-float delay-700 blur-xl"}),r.jsx("div",{className:"absolute top-1/3 left-1/4 w-8 h-8 flex items-center justify-center animate-float delay-800",children:r.jsxs("svg",{viewBox:"0 0 64 64",className:"w-7 h-7 opacity-70",children:[r.jsx("ellipse",{cx:"32",cy:"38",rx:"20",ry:"15",fill:"#F5F5DC"}),r.jsx("circle",{cx:"32",cy:"25",r:"10",fill:"#000"}),r.jsx("circle",{cx:"29",cy:"22",r:"1",fill:"#FFF"}),r.jsx("circle",{cx:"35",cy:"22",r:"1",fill:"#FFF"}),r.jsx("circle",{cx:"25",cy:"30",r:"4",fill:"#F5F5DC"}),r.jsx("circle",{cx:"39",cy:"30",r:"4",fill:"#F5F5DC"}),r.jsx("circle",{cx:"20",cy:"35",r:"3",fill:"#F5F5DC"}),r.jsx("circle",{cx:"44",cy:"35",r:"3",fill:"#F5F5DC"}),r.jsx("circle",{cx:"32",cy:"20",r:"3",fill:"#F5F5DC"}),r.jsx("rect",{x:"28",y:"48",width:"3",height:"10",fill:"#000"}),r.jsx("rect",{x:"33",y:"48",width:"3",height:"10",fill:"#000"})]})}),r.jsx("div",{className:"absolute bottom-20 right-1/3 w-20 h-20 bg-primary-700/20 rounded-full animate-float-reverse delay-300 blur-lg"}),r.jsx("div",{className:"absolute bottom-24 right-1/3 w-7 h-7 flex items-center justify-center animate-float-reverse delay-400",children:r.jsxs("svg",{viewBox:"0 0 64 64",className:"w-6 h-6 opacity-70",children:[r.jsx("ellipse",{cx:"32",cy:"40",rx:"16",ry:"18",fill:"#8B4513"}),r.jsx("ellipse",{cx:"32",cy:"20",rx:"8",ry:"12",fill:"#8B4513"}),r.jsx("circle",{cx:"29",cy:"18",r:"1",fill:"#000"}),r.jsx("circle",{cx:"35",cy:"18",r:"1",fill:"#000"}),r.jsx("path",{d:"M32 22 L28 24 L32 26 Z",fill:"#000"}),r.jsx("path",{d:"M28 8 Q25 5 28 3 Q32 6 30 10 Q28 12 28 8",fill:"#654321"}),r.jsx("path",{d:"M36 8 Q39 5 36 3 Q32 6 34 10 Q36 12 36 8",fill:"#654321"}),r.jsx("rect",{x:"26",y:"52",width:"3",height:"8",fill:"#000"}),r.jsx("rect",{x:"35",y:"52",width:"3",height:"8",fill:"#000"}),r.jsx("ellipse",{cx:"32",cy:"25",rx:"12",ry:"8",fill:"#A0522D"})]})}),r.jsx("div",{className:"absolute top-32 left-16 w-6 h-6 animate-float delay-1500 opacity-60",children:r.jsxs("svg",{viewBox:"0 0 32 32",className:"w-6 h-6",children:[r.jsx("circle",{cx:"16",cy:"16",r:"14",fill:"#90EE90"}),r.jsx("text",{x:"16",y:"20",textAnchor:"middle",fontSize:"16",fill:"#4A5568",children:""})]})}),r.jsx("div",{className:"absolute bottom-32 right-12 w-6 h-6 animate-float-reverse delay-2000 opacity-60",children:r.jsxs("svg",{viewBox:"0 0 32 32",className:"w-6 h-6",children:[r.jsx("circle",{cx:"16",cy:"16",r:"14",fill:"#FFE4B5"}),r.jsx("text",{x:"16",y:"20",textAnchor:"middle",fontSize:"16",fill:"#4A5568",children:""})]})})]}),r.jsx("div",{className:"relative z-10 flex items-center justify-center min-h-screen p-6 overflow-y-auto",children:r.jsxs("div",{className:"max-w-md w-full animate-fade-in-up my-8",children:[r.jsxs("div",{className:"text-center mb-6 lg:hidden",children:[r.jsx("div",{className:"flex justify-center mb-4",children:r.jsx(yr,{size:"64"})}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Alliance CropCraft"}),r.jsx("p",{className:"text-primary-600 font-medium",children:"Limited"})]}),r.jsxs("div",{className:"bg-white/85 backdrop-blur-xl rounded-3xl shadow-2xl border border-white/50 p-6 transition-all duration-500 hover:shadow-3xl hover:bg-white/90",children:[r.jsxs("div",{className:"text-center mb-6 hidden lg:block",children:[r.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 ",children:r.jsx(yr,{size:"64"})}),r.jsx("h2",{className:"text-3xl font-bold text-gray-900 animate-slide-down mb-2",children:"Create Account"})]}),i&&r.jsx("div",{ref:v,className:"mb-4 p-4 bg-red-50 border-l-4 border-red-400 rounded-r-xl animate-shake",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("svg",{className:"w-5 h-5 text-red-400 mr-3",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),r.jsx("span",{className:"text-red-700 font-medium text-sm",children:i})]})}),r.jsxs("form",{onSubmit:w,className:"space-y-4",children:[r.jsxs("div",{className:"animate-slide-up delay-300",children:[r.jsx("label",{htmlFor:"full_name",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Full Name"}),r.jsx("div",{className:"relative",children:r.jsx("input",{id:"full_name",name:"full_name",type:"text",required:!0,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-2xl focus:ring-2 focus:ring-green-500 focus:border-green-500 focus:outline-none transition-all duration-300 hover:border-green-300 bg-white/70 backdrop-blur-sm text-gray-900 placeholder-gray-500",placeholder:"Enter your full name",value:e.full_name,onChange:m})})]}),r.jsxs("div",{className:"animate-slide-up delay-400",children:[r.jsx("label",{htmlFor:"email",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Email Address"}),r.jsx("div",{className:"relative",children:r.jsx("input",{id:"email",name:"email",type:"email",required:!0,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-2xl focus:ring-2 focus:ring-green-500 focus:border-green-500 focus:outline-none transition-all duration-300 hover:border-green-300 bg-white/70 backdrop-blur-sm text-gray-900 placeholder-gray-500",placeholder:"Enter your email address",value:e.email,onChange:m})})]}),r.jsxs("div",{className:"animate-slide-up delay-500",children:[r.jsx("label",{htmlFor:"phone",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Phone Number"}),r.jsx("div",{className:"relative",children:r.jsx("input",{id:"phone",name:"phone",type:"tel",className:"w-full px-4 py-3 border-2 border-gray-200 rounded-2xl focus:ring-2 focus:ring-green-500 focus:border-green-500 focus:outline-none transition-all duration-300 hover:border-green-300 bg-white/70 backdrop-blur-sm text-gray-900 placeholder-gray-500",placeholder:"Enter your phone number",value:e.phone,onChange:m})})]}),r.jsxs("div",{className:"animate-slide-up delay-600",children:[r.jsx("label",{htmlFor:"role",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Role"}),r.jsxs("div",{className:"relative",children:[r.jsxs("select",{id:"role",name:"role",required:!0,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-2xl focus:ring-2 focus:ring-green-500 focus:border-green-500 focus:outline-none transition-all duration-300 hover:border-green-300 bg-white/70 backdrop-blur-sm text-gray-900 appearance-none",value:e.role,onChange:m,children:[r.jsx("option",{value:"",children:"Select your role"}),b.map(_=>r.jsx("option",{value:_,children:_},_))]}),r.jsx("svg",{className:"absolute right-4 top-4 w-4 h-4 text-gray-400 pointer-events-none",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})]})]}),r.jsxs("div",{className:"animate-slide-up delay-700",children:[r.jsx("label",{htmlFor:"password",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Password"}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{id:"password",name:"password",type:c?"text":"password",required:!0,className:"w-full px-4 py-3 pr-12 border-2 border-gray-200 rounded-2xl focus:ring-2 focus:ring-green-500 focus:border-green-500 focus:outline-none transition-all duration-300 hover:border-green-300 bg-white/70 backdrop-blur-sm text-gray-900 placeholder-gray-500",placeholder:"Create a strong password",value:e.password,onChange:m}),r.jsx("button",{type:"button",className:"absolute right-4 top-4 text-gray-400 hover:text-gray-600 transition-colors duration-200",onClick:()=>d(!c),children:c?r.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"})}):r.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]})]}),r.jsxs("div",{className:"animate-slide-up delay-800",children:[r.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Confirm Password"}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:u?"text":"password",required:!0,className:"w-full px-4 py-3 pr-12 border-2 border-gray-200 rounded-2xl focus:ring-2 focus:ring-green-500 focus:border-green-500 focus:outline-none transition-all duration-300 hover:border-green-300 bg-white/70 backdrop-blur-sm text-gray-900 placeholder-gray-500",placeholder:"Confirm your password",value:e.confirmPassword,onChange:m}),r.jsx("button",{type:"button",className:"absolute right-4 top-4 text-gray-400 hover:text-gray-600 transition-colors duration-200",onClick:()=>h(!u),children:u?r.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"})}):r.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]})]}),r.jsx("div",{className:"animate-slide-up delay-900 bt-2",children:r.jsxs("div",{className:"flex items-start space-x-3 mt-4",children:[r.jsx("input",{id:"acceptTerms",type:"checkbox",className:"mt-1 h-4 w-4 text-green-600 focus:ring-green-500 border-gray-300 rounded transition-colors duration-200",checked:l,onChange:_=>o(_.target.checked)}),r.jsxs("label",{htmlFor:"acceptTerms",className:"text-sm text-gray-700 leading-relaxed",children:["I agree to the"," ",r.jsx("a",{href:"#",className:"text-green-600 hover:text-green-700 font-medium underline",children:"Terms and Conditions"})," ","and"," ",r.jsx("a",{href:"#",className:"text-green-600 hover:text-green-700 font-medium underline",children:"Privacy Policy"})]})]})}),r.jsx("button",{type:"submit",disabled:s,className:"w-full bg-gradient-to-r from-green-600 via-green-500 to-teal-600 hover:from-green-700 hover:via-green-600 hover:to-teal-700 text-white font-bold py-4 px-6 rounded-2xl transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed transform hover:scale-105 hover:shadow-xl active:scale-95 animate-slide-up delay-1000 shadow-lg mt-6",children:s?r.jsxs("span",{className:"flex items-center justify-center",children:[r.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-6 w-6 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Creating Account..."]}):r.jsx("span",{className:"flex items-center justify-center",children:"Create Account"})})]}),r.jsxs("div",{className:"mt-6 text-center animate-slide-up delay-1100",children:[r.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Already have an account?"}),r.jsxs(Et,{to:"/login",className:"inline-flex items-center px-6 py-3 border-2 border-green-600 text-green-600 hover:bg-green-600 hover:text-white font-semibold rounded-2xl transition-all duration-300 transform hover:scale-105 hover:shadow-lg active:scale-95",children:[r.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"})}),"Sign In"]})]})]})]})})]}),r.jsx("style",{jsx:!0,children:`
        @keyframes slide-up {
          from { opacity: 0; transform: translateY(30px); }
          to { opacity: 1; transform: translateY(0); }
        }
        
        @keyframes slide-down {
          from { opacity: 0; transform: translateY(-20px); }
          to { opacity: 1; transform: translateY(0); }
        }
        
        @keyframes fade-in-up {
          from { opacity: 0; transform: translateY(40px); }
          to { opacity: 1; transform: translateY(0); }
        }
        
        @keyframes expand {
          from { width: 0; }
          to { width: 4rem; }
        }
        
        @keyframes bounce-gentle {
          0%, 100% { transform: translateY(0); }
          50% { transform: translateY(-3px); }
        }
        
        @keyframes float {
          0%, 100% { transform: translateY(0px) translateX(0px); }
          33% { transform: translateY(-20px) translateX(10px); }
          66% { transform: translateY(-10px) translateX(-5px); }
        }
        
        @keyframes float-reverse {
          0%, 100% { transform: translateY(0px) translateX(0px); }
          33% { transform: translateY(-15px) translateX(-10px); }
          66% { transform: translateY(-25px) translateX(5px); }
        }
        
        @keyframes pulse-slow {
          0%, 100% { opacity: 0.2; transform: scale(1); }
          50% { opacity: 0.4; transform: scale(1.05); }
        }
        
        @keyframes logo-glow {
          0%, 100% { filter: drop-shadow(0 0 10px rgba(16, 185, 129, 0.3)); }
          50% { filter: drop-shadow(0 0 20px rgba(16, 185, 129, 0.6)); }
        }
        
        @keyframes shake {
          0%, 100% { transform: translateX(0); }
          25% { transform: translateX(-5px); }
          75% { transform: translateX(5px); }
        }
        
        .animate-slide-up { animation: slide-up 0.8s ease-out forwards; opacity: 0; }
        .animate-slide-down { animation: slide-down 0.8s ease-out forwards; opacity: 0; }
        .animate-fade-in-up { animation: fade-in-up 1.2s ease-out forwards; opacity: 0; }
        .animate-expand { animation: expand 1.5s ease-out forwards; }
        .animate-bounce-gentle { animation: bounce-gentle 3s ease-in-out infinite; }
        .animate-float { animation: float 6s ease-in-out infinite; }
        .animate-float-reverse { animation: float-reverse 8s ease-in-out infinite; }
        .animate-pulse-slow { animation: pulse-slow 4s ease-in-out infinite; }
        .animate-logo-glow { animation: logo-glow 3s ease-in-out infinite; }
        .animate-shake { animation: shake 0.6s ease-in-out; }
        
        .delay-100 { animation-delay: 0.1s; }
        .delay-200 { animation-delay: 0.2s; }
        .delay-300 { animation-delay: 0.3s; }
        .delay-400 { animation-delay: 0.4s; }
        .delay-500 { animation-delay: 0.5s; }
        .delay-600 { animation-delay: 0.6s; }
        .delay-700 { animation-delay: 0.7s; }
        .delay-800 { animation-delay: 0.8s; }
        .delay-900 { animation-delay: 0.9s; }
        .delay-1000 { animation-delay: 1s; }
        .delay-1100 { animation-delay: 1.1s; }
        .delay-1200 { animation-delay: 1.2s; }
        .delay-1500 { animation-delay: 1.5s; }
        .delay-2000 { animation-delay: 2s; }
        
        .shadow-3xl {
          box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
        }
      `})]})},p2=()=>{const[e,t]=N.useState(""),[s,n]=N.useState(!1),[i,a]=N.useState(""),[l,o]=N.useState(""),[c,d]=N.useState(!1),{forgotPassword:u}=$e(),h=async f=>{var v,p;if(f.preventDefault(),n(!0),o(""),a(""),!e.trim()){o("Please enter your email address."),n(!1);return}try{await u(e),d(!0),a("Password reset instructions have been sent to your email address.")}catch(y){o(((p=(v=y.response)==null?void 0:v.data)==null?void 0:p.message)||"Failed to send reset email. Please try again.")}finally{n(!1)}};return c?r.jsx("div",{className:"min-h-screen bg-primary-50 flex items-center justify-center px-4 sm:px-6 lg:px-8",children:r.jsx("div",{className:"max-w-md w-full bg-farm-50 space-y-8",children:r.jsxs("div",{className:"card-enhanced text-center",children:[r.jsx("div",{className:"w-16 h-16 bg-farm-100 rounded-full flex items-center justify-center mx-auto mb-6",children:r.jsx(Be,{className:"w-8 h-8 text-green-600"})}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Check Your Email"}),r.jsxs("p",{className:"text-gray-600 mb-6",children:["We've sent password reset instructions to ",r.jsx("strong",{children:e})]}),r.jsx("p",{className:"text-sm text-gray-500 mb-6",children:"Didn't receive the email? Check your spam folder or contact support."}),r.jsxs(Et,{to:"/login",className:"btn-primary w-full flex items-center justify-center space-x-2",children:[r.jsx(tn,{className:"w-4 h-4"}),r.jsx("span",{children:"Back to Login"})]})]})})}):r.jsx("div",{className:"min-h-screen bg-primary-100 flex items-center justify-center px-4 sm:px-6 lg:px-8",children:r.jsx("div",{className:"max-w-md w-full space-y-8",children:r.jsxs("div",{className:"card-enhanced bg-primary-100",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("div",{className:"w-16 h-16 bg-primary-100 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(ys,{className:"w-8 h-8 text-green-600"})}),r.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Reset Your Password"}),r.jsx("p",{className:"mt-2 text-gray-600",children:"Enter your email address and we'll send you instructions to reset your password."})]}),r.jsxs("form",{onSubmit:h,className:"space-y-6",children:[l&&r.jsx("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4",children:r.jsx("p",{className:"text-red-700 text-sm",children:l})}),i&&r.jsx("div",{className:"bg-green-50 border border-green-200 rounded-xl p-4",children:r.jsx("p",{className:"text-green-700 text-sm",children:i})}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),r.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"input-field",placeholder:"Enter your email address",value:e,onChange:f=>t(f.target.value),disabled:s})]}),r.jsx("button",{type:"submit",disabled:s,className:"btn-primary w-full flex items-center justify-center space-x-2",children:s?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),r.jsx("span",{children:"Sending..."})]}):r.jsxs(r.Fragment,{children:[r.jsx(ys,{className:"w-4 h-4"}),r.jsx("span",{children:"Send Reset Instructions"})]})}),r.jsx("div",{className:"text-center",children:r.jsxs(Et,{to:"/login",className:"text-primary-600 hover:text-primary-700 font-medium text-sm flex items-center justify-center space-x-1",children:[r.jsx(tn,{className:"w-4 h-4"}),r.jsx("span",{children:"Back to Login"})]})})]})]})})})},g2=()=>{const[e,t]=N.useState({newPassword:"",confirmPassword:""}),[s,n]=N.useState({newPassword:!1,confirmPassword:!1}),[i,a]=N.useState(!1),[l,o]=N.useState(""),[c,d]=N.useState(!1),[u,h]=N.useState(null),{token:f}=Yu(),v=Rt(),{resetPassword:p}=$e();N.useEffect(()=>{f?h(!0):(h(!1),o("Invalid or missing reset token."))},[f]);const y=g=>{const{name:j,value:w}=g.target;t(_=>({..._,[j]:w})),o("")},b=g=>{n(j=>({...j,[g]:!j[g]}))},m=()=>e.newPassword.length<6?(o("Password must be at least 6 characters long."),!1):e.newPassword!==e.confirmPassword?(o("Passwords do not match."),!1):!0,x=async g=>{var j,w;if(g.preventDefault(),!!m()){a(!0),o("");try{await p(f,e.newPassword),d(!0),setTimeout(()=>{v("/login")},3e3)}catch(_){o(((w=(j=_.response)==null?void 0:j.data)==null?void 0:w.message)||"Failed to reset password. Please try again.")}finally{a(!1)}}};return u===!1?r.jsx("div",{className:"min-h-screen flex items-center justify-center px-4 sm:px-6 lg:px-8",children:r.jsx("div",{className:"max-w-md w-full space-y-8",children:r.jsxs("div",{className:"card-enhanced text-center",children:[r.jsx("div",{className:"w-16 h-16 bg-earth-100 rounded-full flex items-center justify-center mx-auto mb-6",children:r.jsx(ds,{className:"w-8 h-8 text-earth-600"})}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Invalid Reset Link"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"This password reset link is invalid or has expired."}),r.jsx(Et,{to:"/forgot-password",className:"btn-primary w-full",children:"Request New Reset Link"})]})})}):c?r.jsx("div",{className:"min-h-screen bg-primary-50 flex items-center justify-center px-4 sm:px-6 lg:px-8",children:r.jsx("div",{className:"max-w-md w-full space-y-8",children:r.jsxs("div",{className:"card-enhanced text-center",children:[r.jsx("div",{className:"w-16 h-16 bg-primary-100 rounded-full flex items-center justify-center mx-auto mb-6",children:r.jsx(Be,{className:"w-8 h-8 text-primary-700"})}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Password Reset Successful"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"Your password has been successfully reset. You will be redirected to the login page shortly."}),r.jsxs(Et,{to:"/login",className:"btn-primary w-full flex items-center justify-center space-x-2",children:[r.jsx(tn,{className:"w-4 h-4"}),r.jsx("span",{children:"Go to Login"})]})]})})}):r.jsx("div",{className:"min-h-screen bg-primary-50 flex items-center justify-center px-4 sm:px-6 lg:px-8",children:r.jsx("div",{className:"max-w-md w-full space-y-8",children:r.jsxs("div",{className:"card-enhanced",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("div",{className:"w-16 h-16 bg-primary-100 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(ds,{className:"w-8 h-8 text-primary-700"})}),r.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Create New Password"}),r.jsx("p",{className:"mt-2 text-gray-600",children:"Enter your new password below."})]}),r.jsxs("form",{onSubmit:x,className:"space-y-6",children:[l&&r.jsx("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4",children:r.jsx("p",{className:"text-red-700 text-sm",children:l})}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"newPassword",className:"block text-sm font-medium text-gray-700 mb-2",children:"New Password"}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{id:"newPassword",name:"newPassword",type:s.newPassword?"text":"password",required:!0,className:"input-field pr-12",placeholder:"Enter new password",value:e.newPassword,onChange:y,disabled:i}),r.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>b("newPassword"),children:s.newPassword?r.jsx(Zm,{className:"h-5 w-5 text-gray-400"}):r.jsx(yt,{className:"h-5 w-5 text-gray-400"})})]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm New Password"}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:s.confirmPassword?"text":"password",required:!0,className:"input-field pr-12",placeholder:"Confirm new password",value:e.confirmPassword,onChange:y,disabled:i}),r.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>b("confirmPassword"),children:s.confirmPassword?r.jsx(Zm,{className:"h-5 w-5 text-gray-400"}):r.jsx(yt,{className:"h-5 w-5 text-gray-400"})})]})]}),r.jsx("button",{type:"submit",disabled:i,className:"btn-primary w-full flex items-center justify-center space-x-2",children:i?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),r.jsx("span",{children:"Resetting..."})]}):r.jsxs(r.Fragment,{children:[r.jsx(ds,{className:"w-4 h-4"}),r.jsx("span",{children:"Reset Password"})]})}),r.jsx("div",{className:"text-center",children:r.jsxs(Et,{to:"/login",className:"text-primary-600 hover:text-primary-700 font-medium text-sm flex items-center justify-center space-x-1",children:[r.jsx(tn,{className:"w-4 h-4"}),r.jsx("span",{children:"Back to Login"})]})})]})]})})})},af=()=>{var b;const[e,t]=N.useState(!1),[s,n]=N.useState(""),[i,a]=N.useState(!1),[l,o]=N.useState(!1),[c,d]=N.useState(""),{token:u}=Yu(),[h]=tg(),f=Rt(),v=dn();$e(),N.useEffect(()=>{var g,j,w;const m=u||h.get("token"),x=((g=v.state)==null?void 0:g.email)||localStorage.getItem("pendingVerificationEmail")||h.get("email");x&&d(x),(j=v.state)!=null&&j.message&&n(""),m?(t(!0),p(m)):(w=v.state)!=null&&w.message||n("Invalid or missing verification token.")},[u,h,v.state]);const p=async m=>{var x;try{const g=await As.verifyEmail(m);a(!0),n(""),localStorage.removeItem("pendingVerificationEmail"),setTimeout(()=>{f("/login",{state:{message:"Email verified successfully! You can now log in.",type:"success"}})},3e3)}catch(g){const j=(x=g.response)==null?void 0:x.data;j!=null&&j.token_expired?n("Verification link has expired. Please request a new one."):n((j==null?void 0:j.message)||"Email verification failed. The link may be invalid or expired.")}finally{t(!1)}},y=async()=>{var x;let m=c;if(!(!m&&(m=prompt("Please enter your email address to resend verification:"),!m))){o(!0),n("");try{await As.sendVerification(m),n(""),alert("Verification email has been sent to your email address. Please check your inbox and spam folder.")}catch(g){const j=(x=g.response)==null?void 0:x.data;n((j==null?void 0:j.message)||"Failed to send verification email.")}finally{o(!1)}}};return e?r.jsx("div",{className:"min-h-screen farm-gradient flex items-center justify-center px-4 sm:px-6 lg:px-8",children:r.jsx("div",{className:"max-w-md w-full space-y-8",children:r.jsxs("div",{className:"card-enhanced text-center",children:[r.jsx("div",{className:"w-16 h-16 sky-gradient rounded-full flex items-center justify-center mx-auto mb-6",children:r.jsx(ys,{className:"w-8 h-8 text-white"})}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Verifying Email"}),r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600 mx-auto"}),r.jsx("p",{className:"text-gray-600 mt-4",children:"Please wait while we verify your email address..."})]})})}):i?r.jsx("div",{className:"min-h-screen farm-gradient flex items-center justify-center px-4 sm:px-6 lg:px-8",children:r.jsx("div",{className:"max-w-md w-full space-y-8",children:r.jsxs("div",{className:"card-enhanced text-center",children:[r.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:r.jsx(Be,{className:"w-8 h-8 text-green-600"})}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Email Verified Successfully!"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"Your email address has been verified. You can now log in to your account."}),r.jsx("p",{className:"text-sm text-gray-500 mb-6",children:"You will be redirected to the login page in a few seconds."}),r.jsxs(Et,{to:"/login",className:"btn-primary w-full flex items-center justify-center space-x-2",children:[r.jsx(tn,{className:"w-4 h-4"}),r.jsx("span",{children:"Go to Login"})]})]})})}):r.jsx("div",{className:"min-h-screen farm-gradient flex items-center justify-center px-4 sm:px-6 lg:px-8",children:r.jsx("div",{className:"max-w-md w-full space-y-8",children:r.jsxs("div",{className:"card-enhanced text-center",children:[r.jsx("div",{className:`w-16 h-16 ${s?"bg-red-100":"bg-blue-100"} rounded-full flex items-center justify-center mx-auto mb-6`,children:s?r.jsx(Cg,{className:"w-8 h-8 text-red-600"}):r.jsx(ys,{className:"w-8 h-8 text-blue-600"})}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:s?"Email Verification":"Verify Your Email"}),r.jsx("p",{className:"text-gray-600 mb-6",children:s||((b=v.state)==null?void 0:b.message)||"Please check your email for a verification link."}),c&&r.jsxs("p",{className:"text-sm text-gray-500 mb-6",children:["Verification email sent to: ",r.jsx("strong",{children:c})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("button",{onClick:y,disabled:l,className:"btn-primary w-full flex items-center justify-center space-x-2",children:l?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),r.jsx("span",{children:"Sending..."})]}):r.jsxs(r.Fragment,{children:[r.jsx(ys,{className:"w-4 h-4"}),r.jsx("span",{children:"Resend Verification Email"})]})}),r.jsxs(Et,{to:"/login",className:"btn-secondary w-full flex items-center justify-center space-x-2",children:[r.jsx(tn,{className:"w-4 h-4"}),r.jsx("span",{children:"Back to Login"})]})]})]})})})},lf=()=>{const{user:e}=$e(),t=Rt(),[s,n]=N.useState(null),[i,a]=N.useState({morning:[],afternoon:[],evening:[]}),[l,o]=N.useState(null),[c,d]=N.useState(!0);N.useEffect(()=>{const y=async()=>{try{const m=await Gm.getStats(),x=await Gm.getTasks();n(m.data),a(x.data)}catch(m){console.error("Error fetching dashboard data:",m)}finally{d(!1)}},b=async()=>{try{const m={lat:7.7883,lon:3.919,name:"Alliance CropCraft Farm"},x=await fetch(`https://api.openweathermap.org/data/2.5/weather?lat=${m.lat}&lon=${m.lon}&appid=f4d6cec31b04951c0ac2ac398f1a3c40&units=metric`);if(x.ok){const g=await x.json();o({temperature:Math.round(g.main.temp),description:g.weather[0].description,condition:g.weather[0].main,humidity:g.main.humidity,feelsLike:Math.round(g.main.feels_like),location:m.name})}else throw new Error("Weather API request failed")}catch(m){console.error("Error fetching weather data:",m),o({temperature:28,description:"partly cloudy",condition:"Clouds",humidity:75,feelsLike:31,location:"Alliance CropCraft Farm"})}};y(),b()},[]);const u=y=>{switch(y){case"high":return"bg-red-100 text-red-700";case"medium":return"bg-yellow-100 text-yellow-700";case"low":return"bg-green-100 text-green-700";default:return"bg-gray-100 text-gray-700"}},h=y=>{switch(y==null?void 0:y.toLowerCase()){case"clear":return Ra;case"clouds":return e2;case"rain":case"drizzle":return Zw;default:return Ra}},f=()=>{const y=new Date().getHours();return y<12?"Good morning":y<17?"Good afternoon":"Good evening"},v=({title:y,tasks:b,icon:m,color:x})=>r.jsxs("div",{className:"card",children:[r.jsx("div",{className:"flex items-center justify-between mb-6",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:`w-12 h-12 ${x} rounded-xl flex items-center justify-center shadow-sm`,children:r.jsx(m,{className:"w-6 h-6 text-white"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:y}),r.jsxs("p",{className:"text-sm text-gray-500",children:[b.filter(g=>g.status==="completed").length," of ",b.length," completed"]})]})]})}),r.jsx("div",{className:"w-full bg-gray-100 rounded-full h-3 mb-6",children:r.jsx("div",{className:`h-3 rounded-full transition-all duration-500 ${x.replace("bg-","bg-").replace("-500","-400")}`,style:{width:`${b.length>0?b.filter(g=>g.status==="completed").length/b.length*100:0}%`}})}),r.jsx("div",{className:"space-y-4",children:b.slice(0,4).map(g=>r.jsxs("div",{className:"flex items-center justify-between group hover:bg-gray-50 -mx-2 px-2 py-2 rounded-lg transition-colors cursor-pointer",onClick:()=>t(`/task-details/${g.id}`),children:[r.jsxs("div",{className:"flex items-center space-x-3 flex-1 min-w-0",children:[g.status==="completed"?r.jsx(Be,{className:"w-5 h-5 text-green-500 flex-shrink-0"}):r.jsx(zt,{className:"w-5 h-5 text-gray-400 flex-shrink-0"}),r.jsxs("div",{className:"min-w-0 flex-1",children:[r.jsx("p",{className:`font-medium ${g.status==="completed"?"line-through text-gray-500":"text-gray-900"}`,children:g.title}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:g.due_time})]})]}),r.jsx("span",{className:`px-3 py-1 text-xs font-medium rounded-full ${u(g.priority)} ml-3 flex-shrink-0`,children:g.priority})]},g.id))})]});if(c)return r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})});const p=l?h(l.condition):Ra;return r.jsxs("div",{className:"space-y-8 max-w-7xl mx-auto px-2 sm:px-4 lg:px-8 py-6",children:[r.jsxs("div",{className:"relative bg-gradient-to-br from-primary-800 via-primary-700 to-primary-500 rounded-2xl p-4 sm:p-8 text-white overflow-hidden",children:[r.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-10",children:r.jsx("div",{className:"absolute inset-0",style:{backgroundImage:`radial-gradient(circle at 25% 25%, rgba(255,255,255,0.1) 0%, transparent 50%), 
                             radial-gradient(circle at 75% 75%, rgba(255,255,255,0.1) 0%, transparent 50%)`}})}),r.jsx("div",{className:"relative z-10",children:r.jsxs("div",{className:"flex flex-col gap-6 lg:flex-row lg:items-center lg:justify-between lg:gap-0",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("h1",{className:"text-2xl sm:text-2xl lg:text-4xl font-bold mb-2",children:[f(),", ",e==null?void 0:e.full_name,"!"]}),r.jsxs("p",{className:"text-white text-base sm:text-md mb-4",children:["You have ",(s==null?void 0:s.pendingTasks)||0," pending tasks today"]}),r.jsxs("div",{className:"flex flex-wrap items-center gap-4 sm:gap-8",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-3xl sm:text-2xl font-bold",children:(s==null?void 0:s.completedTasks)||"0/0"}),r.jsx("p",{className:"text-white text-sm",children:"Tasks Completed"})]}),r.jsx("div",{className:"hidden sm:block h-12 w-px bg-blue-300 opacity-50"}),r.jsxs("div",{children:[r.jsxs("div",{className:"text-3xl sm:text-2xl font-bold",children:[(s==null?void 0:s.completionRate)||0,"%"]}),r.jsx("p",{className:"text-white text-sm",children:"Success Rate"})]})]})]}),l&&r.jsx("div",{className:"hidden sm:block lg:text-right",children:r.jsxs("div",{className:"flex flex-row items-center gap-4 lg:flex-col lg:items-end lg:gap-0 lg:space-y-2",children:[r.jsx(p,{className:"w-16 h-16 sm:w-12 sm:h-12 md:w-12 md:h-12 text-white opacity-90"}),r.jsxs("div",{children:[r.jsxs("div",{className:"text-2xl sm:text-2xl font-bold",children:[l.temperature,"C"]}),r.jsx("p",{className:"text-white capitalize text-lg sm:text-sm",children:l.description}),r.jsxs("div",{className:"flex items-center justify-end space-x-1 mt-2 text-white",children:[r.jsx(ca,{className:"w-4 h-4"}),r.jsx("span",{className:"text-sm",children:l.location})]})]})]})})]})})]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4 sm:gap-6",children:[r.jsx("div",{className:"card group hover:shadow-lg transition-all duration-300",children:r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-emerald-400 to-emerald-600 rounded-2xl flex items-center justify-center shadow-lg group-hover:scale-105 transition-transform",children:r.jsx(Zu,{className:"w-7 h-7 text-white"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:"Completion Rate"}),r.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[(s==null?void 0:s.completionRate)||0,"%"]})]})]})}),r.jsx("div",{className:"card group hover:shadow-lg transition-all duration-300",children:r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-purple-400 to-purple-600 rounded-2xl flex items-center justify-center shadow-lg group-hover:scale-105 transition-transform",children:r.jsx(Zt,{className:"w-7 h-7 text-white"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:"Active Staff"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:(s==null?void 0:s.activeStaff)||0})]})]})}),r.jsx("div",{className:"card group hover:shadow-lg transition-all duration-300",children:r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-orange-400 to-orange-600 rounded-2xl flex items-center justify-center shadow-lg group-hover:scale-105 transition-transform",children:r.jsx(We,{className:"w-7 h-7 text-white"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:"This Week"}),r.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[(s==null?void 0:s.thisWeekTasks)||0," Tasks"]})]})]})})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-6 gap-2",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:"Today's Schedule"}),r.jsxs("button",{onClick:()=>t("/task-history?week=current"),className:"inline-flex items-center gap-2 px-3 py-1.5 text-sm font-medium text-primary-600 bg-primary-50 rounded-lg hover:bg-primary-100 transition-colors",children:[r.jsx("span",{children:"Tasks This Week"}),r.jsx(Xw,{className:"w-4 h-4"})]})]}),r.jsx("div",{className:"text-xs sm:text-sm text-gray-500",children:new Date().toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-8",children:[r.jsx(v,{title:"Morning Tasks",tasks:i.morning,icon:Ra,color:"bg-gradient-to-br from-amber-400 to-orange-500"}),r.jsx(v,{title:"Afternoon Tasks",tasks:i.afternoon,icon:l2,color:"bg-gradient-to-br from-red-400 to-pink-500"}),r.jsx(v,{title:"Evening Tasks",tasks:i.evening,icon:r2,color:"bg-gradient-to-br from-indigo-400 to-purple-500"})]})]})]})},y2=({onTaskCreated:e,onCancel:t})=>{const[s,n]=N.useState([]),[i,a]=N.useState({title:"",description:"",priority:"medium",assigned_to:"",due_date:"",due_time:"",tag:"static",recurrent:!0,active_date:""}),[l,o]=N.useState(!1),[c,d]=N.useState(""),[u,h]=N.useState({}),[f,v]=N.useState("");N.useEffect(()=>{(async()=>{try{const g=await Ns.getUsers();n(g.data)}catch(g){d("Failed to load users. Please refresh the page."),console.error("Failed to fetch users:",g)}})()},[]);const p=()=>{const x={};if(i.title.trim()?i.title.length>100&&(x.title="Title must be less than 100 characters"):x.title="Task title is required",i.assigned_to||(x.assigned_to="Please assign the task to someone"),!i.due_date)x.due_date="Due date is required";else{const g=i.due_date,j=new Date().toISOString().split("T")[0];g<j&&(x.due_date="Due date cannot be in the past")}return i.description&&i.description.length>500&&(x.description="Description must be less than 500 characters"),h(x),Object.keys(x).length===0},y=x=>{const{name:g,value:j}=x.target;u[g]&&h({...u,[g]:""}),a(g==="tag"?{...i,tag:j,recurrent:j==="static",active_date:j==="dynamic"?i.due_date:""}:g==="due_date"?{...i,due_date:j,active_date:i.tag==="dynamic"?j:""}:{...i,[g]:j})},b=async x=>{var g;if(x.preventDefault(),o(!0),d(""),v(""),!p()){o(!1),d("Please fix the errors below");return}try{const j=await Os.createTask(i);v("Task created successfully!"),a({title:"",description:"",priority:"medium",assigned_to:"",due_date:"",due_time:"",tag:"static",recurrent:!0,active_date:""}),e&&e(j.data),setTimeout(()=>v(""),3e3)}catch(j){console.error("Task creation error:",j);const w=(g=j.response)==null?void 0:g.data;w!=null&&w.field?(h({[w.field]:w.message}),d("Please check the highlighted field")):w!=null&&w.message?d(w.message):j.code==="ERR_NETWORK"?d("Network error. Please check your connection and try again."):d("Failed to create task. Please try again.")}finally{o(!1)}},m=x=>{const g="w-full border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 transition-colors";return u[x]?`${g} border-red-500 focus:ring-red-200`:`${g} border-gray-300 focus:ring-primary-200 focus:border-primary-500`};return r.jsx("div",{className:"max-h-[90vh] sm:max-h-[80vh] overflow-y-auto",children:r.jsxs("form",{onSubmit:b,className:"space-y-4 px-1 pb-4",children:[r.jsxs("div",{className:"flex items-center justify-between sticky top-0 bg-white pt-2 pb-4 z-10",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Create New Task"}),t&&r.jsx("button",{type:"button",onClick:t,className:"text-gray-500 hover:text-gray-700 text-sm",children:"Cancel"})]}),c&&r.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg text-sm",children:c}),f&&r.jsx("div",{className:"bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded-lg text-sm",children:f}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Title ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",name:"title",value:i.title,onChange:y,maxLength:100,className:m("title"),placeholder:"Enter task title"}),u.title&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:u.title})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),r.jsx("textarea",{name:"description",value:i.description,onChange:y,maxLength:500,rows:3,className:m("description"),placeholder:"Enter task description (optional)"}),r.jsxs("div",{className:"flex justify-between mt-1",children:[u.description&&r.jsx("p",{className:"text-red-500 text-xs",children:u.description}),r.jsxs("p",{className:"text-gray-400 text-xs ml-auto",children:[i.description.length,"/500"]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Priority"}),r.jsxs("select",{name:"priority",value:i.priority,onChange:y,className:m("priority"),children:[r.jsx("option",{value:"high",children:"High"}),r.jsx("option",{value:"medium",children:"Medium"}),r.jsx("option",{value:"low",children:"Low"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Task Type"}),r.jsxs("select",{name:"tag",value:i.tag,onChange:y,className:m("tag"),children:[r.jsx("option",{value:"static",children:"Static (Daily/Recurrent)"}),r.jsx("option",{value:"dynamic",children:"Dynamic (One-time)"})]})]})]}),r.jsxs("div",{className:"text-xs text-gray-500 bg-gray-50 p-2 rounded",children:[i.tag==="static"&&"This task will recur every day.",i.tag==="dynamic"&&"This task will only be active on the selected date."]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Assign To ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("select",{name:"assigned_to",value:i.assigned_to,onChange:y,className:m("assigned_to"),children:[r.jsx("option",{value:"",children:"-- Select User --"}),s.map(x=>r.jsxs("option",{value:x.id,children:[x.full_name," (",x.role,")"]},x.id))]}),u.assigned_to&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:u.assigned_to})]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Due Date ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"date",name:"due_date",value:i.due_date,onChange:y,min:new Date().toISOString().split("T")[0],className:m("due_date")}),u.due_date&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:u.due_date})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Due Time"}),r.jsx("input",{type:"time",name:"due_time",value:i.due_time,onChange:y,className:m("due_time")})]})]}),r.jsx("button",{type:"submit",disabled:l,className:"w-full bg-primary-600 text-white py-2 px-4 rounded-lg hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-200 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:l?r.jsxs("span",{className:"flex items-center justify-center",children:[r.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Creating Task..."]}):"Create Task"})]})})},v2=({task:e,onTaskUpdated:t,onCancel:s})=>{const[n,i]=N.useState([]),[a,l]=N.useState({title:(e==null?void 0:e.title)||"",description:(e==null?void 0:e.description)||"",priority:(e==null?void 0:e.priority)||"medium",assigned_to:(e==null?void 0:e.assigned_to)||"",due_date:(e==null?void 0:e.due_date)||"",due_time:(e==null?void 0:e.due_time)||"",tag:(e==null?void 0:e.tag)||"static",recurrent:(e==null?void 0:e.recurrent)!==!1,active_date:(e==null?void 0:e.active_date)||""}),[o,c]=N.useState(!1),[d,u]=N.useState(""),[h,f]=N.useState({}),[v,p]=N.useState("");N.useEffect(()=>{(async()=>{try{const j=await Ns.getUsers();i(j.data)}catch(j){u("Failed to load users. Please refresh the page."),console.error("Failed to fetch users:",j)}})()},[]),N.useEffect(()=>{e&&l({title:e.title||"",description:e.description||"",priority:e.priority||"medium",assigned_to:e.assigned_to||"",due_date:e.due_date||"",due_time:e.due_time||"",tag:e.tag||"static",recurrent:e.recurrent!==!1,active_date:e.active_date||""})},[e]);const y=()=>{const g={};if(a.title.trim()?a.title.length>100&&(g.title="Title must be less than 100 characters"):g.title="Task title is required",a.assigned_to||(g.assigned_to="Please assign the task to someone"),!a.due_date)g.due_date="Due date is required";else{const j=a.due_date,w=new Date().toISOString().split("T")[0];j<w&&(g.due_date="Due date cannot be in the past")}return a.description&&a.description.length>500&&(g.description="Description must be less than 500 characters"),f(g),Object.keys(g).length===0},b=g=>{const{name:j,value:w}=g.target;h[j]&&f({...h,[j]:""}),l(j==="tag"?{...a,tag:w,recurrent:w==="static",active_date:w==="dynamic"?a.due_date:""}:j==="due_date"?{...a,due_date:w,active_date:a.tag==="dynamic"?w:""}:{...a,[j]:w})},m=async g=>{var j;if(g.preventDefault(),c(!0),u(""),p(""),!y()){c(!1),u("Please fix the errors below");return}try{const w=await Os.updateTask(e.id,a);p("Task updated successfully!"),t&&t(w.data),setTimeout(()=>p(""),3e3)}catch(w){console.error("Task update error:",w);const _=(j=w.response)==null?void 0:j.data;_!=null&&_.field?(f({[_.field]:_.message}),u("Please check the highlighted field")):_!=null&&_.message?u(_.message):w.code==="ERR_NETWORK"?u("Network error. Please check your connection and try again."):u("Failed to update task. Please try again.")}finally{c(!1)}},x=g=>{const j="w-full border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 transition-colors";return h[g]?`${j} border-red-500 focus:ring-red-200`:`${j} border-gray-300 focus:ring-primary-200 focus:border-primary-500`};return r.jsx("div",{className:"max-h-[90vh] sm:max-h-[80vh] overflow-y-auto",children:r.jsxs("form",{onSubmit:m,className:"space-y-4 px-1 pb-4",children:[r.jsxs("div",{className:"flex items-center justify-between sticky top-0 bg-white pt-2 pb-4 z-10",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Edit Task"}),s&&r.jsx("button",{type:"button",onClick:s,className:"text-gray-500 hover:text-gray-700 text-sm",children:"Cancel"})]}),d&&r.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg text-sm",children:d}),v&&r.jsx("div",{className:"bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded-lg text-sm",children:v}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Title ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",name:"title",value:a.title,onChange:b,maxLength:100,className:x("title"),placeholder:"Enter task title"}),h.title&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:h.title})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),r.jsx("textarea",{name:"description",value:a.description,onChange:b,maxLength:500,rows:3,className:x("description"),placeholder:"Enter task description (optional)"}),r.jsxs("div",{className:"flex justify-between mt-1",children:[h.description&&r.jsx("p",{className:"text-red-500 text-xs",children:h.description}),r.jsxs("p",{className:"text-gray-400 text-xs ml-auto",children:[a.description.length,"/500"]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Priority"}),r.jsxs("select",{name:"priority",value:a.priority,onChange:b,className:x("priority"),children:[r.jsx("option",{value:"high",children:"High"}),r.jsx("option",{value:"medium",children:"Medium"}),r.jsx("option",{value:"low",children:"Low"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Task Type"}),r.jsxs("select",{name:"tag",value:a.tag,onChange:b,className:x("tag"),children:[r.jsx("option",{value:"static",children:"Static (Daily/Recurrent)"}),r.jsx("option",{value:"dynamic",children:"Dynamic (One-time)"})]})]})]}),r.jsxs("div",{className:"text-xs text-gray-500 bg-gray-50 p-2 rounded",children:[a.tag==="static"&&"This task will recur every day.",a.tag==="dynamic"&&"This task will only be active on the selected date."]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Assign To ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("select",{name:"assigned_to",value:a.assigned_to,onChange:b,className:x("assigned_to"),children:[r.jsx("option",{value:"",children:"-- Select User --"}),n.map(g=>r.jsxs("option",{value:g.id,children:[g.full_name," (",g.role,")"]},g.id))]}),h.assigned_to&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:h.assigned_to})]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Due Date ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"date",name:"due_date",value:a.due_date,onChange:b,min:new Date().toISOString().split("T")[0],className:x("due_date")}),h.due_date&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:h.due_date})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Due Time"}),r.jsx("input",{type:"time",name:"due_time",value:a.due_time,onChange:b,className:x("due_time")})]})]}),r.jsx("button",{type:"submit",disabled:o,className:"w-full bg-primary-600 text-white py-2 px-4 rounded-lg hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-200 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:o?r.jsxs("span",{className:"flex items-center justify-center",children:[r.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Updating Task..."]}):"Update Task"})]})})},Rg=6048e5,b2=864e5,of=Symbol.for("constructDateFrom");function nn(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&of in e?e[of](t):e instanceof Date?new e.constructor(t):new Date(t)}function Vt(e,t){return nn(t||e,e)}let j2={};function Ao(){return j2}function Vi(e,t){var o,c,d,u;const s=Ao(),n=(t==null?void 0:t.weekStartsOn)??((c=(o=t==null?void 0:t.locale)==null?void 0:o.options)==null?void 0:c.weekStartsOn)??s.weekStartsOn??((u=(d=s.locale)==null?void 0:d.options)==null?void 0:u.weekStartsOn)??0,i=Vt(e,t==null?void 0:t.in),a=i.getDay(),l=(a<n?7:0)+a-n;return i.setDate(i.getDate()-l),i.setHours(0,0,0,0),i}function eo(e,t){return Vi(e,{...t,weekStartsOn:1})}function Lg(e,t){const s=Vt(e,t==null?void 0:t.in),n=s.getFullYear(),i=nn(s,0);i.setFullYear(n+1,0,4),i.setHours(0,0,0,0);const a=eo(i),l=nn(s,0);l.setFullYear(n,0,4),l.setHours(0,0,0,0);const o=eo(l);return s.getTime()>=a.getTime()?n+1:s.getTime()>=o.getTime()?n:n-1}function cf(e){const t=Vt(e),s=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return s.setUTCFullYear(t.getFullYear()),+e-+s}function w2(e,...t){const s=nn.bind(null,e||t.find(n=>typeof n=="object"));return t.map(s)}function df(e,t){const s=Vt(e,t==null?void 0:t.in);return s.setHours(0,0,0,0),s}function N2(e,t,s){const[n,i]=w2(s==null?void 0:s.in,e,t),a=df(n),l=df(i),o=+a-cf(a),c=+l-cf(l);return Math.round((o-c)/b2)}function _2(e,t){const s=Lg(e,t),n=nn((t==null?void 0:t.in)||e,0);return n.setFullYear(s,0,4),n.setHours(0,0,0,0),eo(n)}function k2(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function S2(e){return!(!k2(e)&&typeof e!="number"||isNaN(+Vt(e)))}function C2(e,t){const s=Vt(e,t==null?void 0:t.in);return s.setFullYear(s.getFullYear(),0,1),s.setHours(0,0,0,0),s}const P2={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},M2=(e,t,s)=>{let n;const i=P2[e];return typeof i=="string"?n=i:t===1?n=i.one:n=i.other.replace("{{count}}",t.toString()),s!=null&&s.addSuffix?s.comparison&&s.comparison>0?"in "+n:n+" ago":n};function vc(e){return(t={})=>{const s=t.width?String(t.width):e.defaultWidth;return e.formats[s]||e.formats[e.defaultWidth]}}const E2={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},T2={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},D2={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},R2={date:vc({formats:E2,defaultWidth:"full"}),time:vc({formats:T2,defaultWidth:"full"}),dateTime:vc({formats:D2,defaultWidth:"full"})},L2={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},F2=(e,t,s,n)=>L2[e];function Qr(e){return(t,s)=>{const n=s!=null&&s.context?String(s.context):"standalone";let i;if(n==="formatting"&&e.formattingValues){const l=e.defaultFormattingWidth||e.defaultWidth,o=s!=null&&s.width?String(s.width):l;i=e.formattingValues[o]||e.formattingValues[l]}else{const l=e.defaultWidth,o=s!=null&&s.width?String(s.width):e.defaultWidth;i=e.values[o]||e.values[l]}const a=e.argumentCallback?e.argumentCallback(t):t;return i[a]}}const A2={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},O2={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},z2={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},I2={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},B2={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},W2={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},H2=(e,t)=>{const s=Number(e),n=s%100;if(n>20||n<10)switch(n%10){case 1:return s+"st";case 2:return s+"nd";case 3:return s+"rd"}return s+"th"},U2={ordinalNumber:H2,era:Qr({values:A2,defaultWidth:"wide"}),quarter:Qr({values:O2,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Qr({values:z2,defaultWidth:"wide"}),day:Qr({values:I2,defaultWidth:"wide"}),dayPeriod:Qr({values:B2,defaultWidth:"wide",formattingValues:W2,defaultFormattingWidth:"wide"})};function Kr(e){return(t,s={})=>{const n=s.width,i=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],a=t.match(i);if(!a)return null;const l=a[0],o=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(o)?V2(o,h=>h.test(l)):$2(o,h=>h.test(l));let d;d=e.valueCallback?e.valueCallback(c):c,d=s.valueCallback?s.valueCallback(d):d;const u=t.slice(l.length);return{value:d,rest:u}}}function $2(e,t){for(const s in e)if(Object.prototype.hasOwnProperty.call(e,s)&&t(e[s]))return s}function V2(e,t){for(let s=0;s<e.length;s++)if(t(e[s]))return s}function Y2(e){return(t,s={})=>{const n=t.match(e.matchPattern);if(!n)return null;const i=n[0],a=t.match(e.parsePattern);if(!a)return null;let l=e.valueCallback?e.valueCallback(a[0]):a[0];l=s.valueCallback?s.valueCallback(l):l;const o=t.slice(i.length);return{value:l,rest:o}}}const q2=/^(\d+)(th|st|nd|rd)?/i,X2=/\d+/i,Q2={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},K2={any:[/^b/i,/^(a|c)/i]},G2={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},J2={any:[/1/i,/2/i,/3/i,/4/i]},Z2={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},eN={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},tN={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},sN={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},nN={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},rN={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},iN={ordinalNumber:Y2({matchPattern:q2,parsePattern:X2,valueCallback:e=>parseInt(e,10)}),era:Kr({matchPatterns:Q2,defaultMatchWidth:"wide",parsePatterns:K2,defaultParseWidth:"any"}),quarter:Kr({matchPatterns:G2,defaultMatchWidth:"wide",parsePatterns:J2,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Kr({matchPatterns:Z2,defaultMatchWidth:"wide",parsePatterns:eN,defaultParseWidth:"any"}),day:Kr({matchPatterns:tN,defaultMatchWidth:"wide",parsePatterns:sN,defaultParseWidth:"any"}),dayPeriod:Kr({matchPatterns:nN,defaultMatchWidth:"any",parsePatterns:rN,defaultParseWidth:"any"})},aN={code:"en-US",formatDistance:M2,formatLong:R2,formatRelative:F2,localize:U2,match:iN,options:{weekStartsOn:0,firstWeekContainsDate:1}};function lN(e,t){const s=Vt(e,t==null?void 0:t.in);return N2(s,C2(s))+1}function oN(e,t){const s=Vt(e,t==null?void 0:t.in),n=+eo(s)-+_2(s);return Math.round(n/Rg)+1}function Fg(e,t){var u,h,f,v;const s=Vt(e,t==null?void 0:t.in),n=s.getFullYear(),i=Ao(),a=(t==null?void 0:t.firstWeekContainsDate)??((h=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:h.firstWeekContainsDate)??i.firstWeekContainsDate??((v=(f=i.locale)==null?void 0:f.options)==null?void 0:v.firstWeekContainsDate)??1,l=nn((t==null?void 0:t.in)||e,0);l.setFullYear(n+1,0,a),l.setHours(0,0,0,0);const o=Vi(l,t),c=nn((t==null?void 0:t.in)||e,0);c.setFullYear(n,0,a),c.setHours(0,0,0,0);const d=Vi(c,t);return+s>=+o?n+1:+s>=+d?n:n-1}function cN(e,t){var o,c,d,u;const s=Ao(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(o=t==null?void 0:t.locale)==null?void 0:o.options)==null?void 0:c.firstWeekContainsDate)??s.firstWeekContainsDate??((u=(d=s.locale)==null?void 0:d.options)==null?void 0:u.firstWeekContainsDate)??1,i=Fg(e,t),a=nn((t==null?void 0:t.in)||e,0);return a.setFullYear(i,0,n),a.setHours(0,0,0,0),Vi(a,t)}function dN(e,t){const s=Vt(e,t==null?void 0:t.in),n=+Vi(s,t)-+cN(s,t);return Math.round(n/Rg)+1}function ce(e,t){const s=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return s+n}const Cs={y(e,t){const s=e.getFullYear(),n=s>0?s:1-s;return ce(t==="yy"?n%100:n,t.length)},M(e,t){const s=e.getMonth();return t==="M"?String(s+1):ce(s+1,2)},d(e,t){return ce(e.getDate(),t.length)},a(e,t){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return s.toUpperCase();case"aaa":return s;case"aaaaa":return s[0];case"aaaa":default:return s==="am"?"a.m.":"p.m."}},h(e,t){return ce(e.getHours()%12||12,t.length)},H(e,t){return ce(e.getHours(),t.length)},m(e,t){return ce(e.getMinutes(),t.length)},s(e,t){return ce(e.getSeconds(),t.length)},S(e,t){const s=t.length,n=e.getMilliseconds(),i=Math.trunc(n*Math.pow(10,s-3));return ce(i,t.length)}},Kn={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},uf={G:function(e,t,s){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return s.era(n,{width:"abbreviated"});case"GGGGG":return s.era(n,{width:"narrow"});case"GGGG":default:return s.era(n,{width:"wide"})}},y:function(e,t,s){if(t==="yo"){const n=e.getFullYear(),i=n>0?n:1-n;return s.ordinalNumber(i,{unit:"year"})}return Cs.y(e,t)},Y:function(e,t,s,n){const i=Fg(e,n),a=i>0?i:1-i;if(t==="YY"){const l=a%100;return ce(l,2)}return t==="Yo"?s.ordinalNumber(a,{unit:"year"}):ce(a,t.length)},R:function(e,t){const s=Lg(e);return ce(s,t.length)},u:function(e,t){const s=e.getFullYear();return ce(s,t.length)},Q:function(e,t,s){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return ce(n,2);case"Qo":return s.ordinalNumber(n,{unit:"quarter"});case"QQQ":return s.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return s.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,s){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return ce(n,2);case"qo":return s.ordinalNumber(n,{unit:"quarter"});case"qqq":return s.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return s.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,s){const n=e.getMonth();switch(t){case"M":case"MM":return Cs.M(e,t);case"Mo":return s.ordinalNumber(n+1,{unit:"month"});case"MMM":return s.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return s.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,s){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return ce(n+1,2);case"Lo":return s.ordinalNumber(n+1,{unit:"month"});case"LLL":return s.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return s.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,s,n){const i=dN(e,n);return t==="wo"?s.ordinalNumber(i,{unit:"week"}):ce(i,t.length)},I:function(e,t,s){const n=oN(e);return t==="Io"?s.ordinalNumber(n,{unit:"week"}):ce(n,t.length)},d:function(e,t,s){return t==="do"?s.ordinalNumber(e.getDate(),{unit:"date"}):Cs.d(e,t)},D:function(e,t,s){const n=lN(e);return t==="Do"?s.ordinalNumber(n,{unit:"dayOfYear"}):ce(n,t.length)},E:function(e,t,s){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return s.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return s.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(n,{width:"short",context:"formatting"});case"EEEE":default:return s.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,s,n){const i=e.getDay(),a=(i-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return ce(a,2);case"eo":return s.ordinalNumber(a,{unit:"day"});case"eee":return s.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return s.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(i,{width:"short",context:"formatting"});case"eeee":default:return s.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,s,n){const i=e.getDay(),a=(i-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return ce(a,t.length);case"co":return s.ordinalNumber(a,{unit:"day"});case"ccc":return s.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return s.day(i,{width:"narrow",context:"standalone"});case"cccccc":return s.day(i,{width:"short",context:"standalone"});case"cccc":default:return s.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,s){const n=e.getDay(),i=n===0?7:n;switch(t){case"i":return String(i);case"ii":return ce(i,t.length);case"io":return s.ordinalNumber(i,{unit:"day"});case"iii":return s.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return s.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return s.day(n,{width:"short",context:"formatting"});case"iiii":default:return s.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,s){const i=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return s.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,s){const n=e.getHours();let i;switch(n===12?i=Kn.noon:n===0?i=Kn.midnight:i=n/12>=1?"pm":"am",t){case"b":case"bb":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return s.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,s){const n=e.getHours();let i;switch(n>=17?i=Kn.evening:n>=12?i=Kn.afternoon:n>=4?i=Kn.morning:i=Kn.night,t){case"B":case"BB":case"BBB":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return s.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,s){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),s.ordinalNumber(n,{unit:"hour"})}return Cs.h(e,t)},H:function(e,t,s){return t==="Ho"?s.ordinalNumber(e.getHours(),{unit:"hour"}):Cs.H(e,t)},K:function(e,t,s){const n=e.getHours()%12;return t==="Ko"?s.ordinalNumber(n,{unit:"hour"}):ce(n,t.length)},k:function(e,t,s){let n=e.getHours();return n===0&&(n=24),t==="ko"?s.ordinalNumber(n,{unit:"hour"}):ce(n,t.length)},m:function(e,t,s){return t==="mo"?s.ordinalNumber(e.getMinutes(),{unit:"minute"}):Cs.m(e,t)},s:function(e,t,s){return t==="so"?s.ordinalNumber(e.getSeconds(),{unit:"second"}):Cs.s(e,t)},S:function(e,t){return Cs.S(e,t)},X:function(e,t,s){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return mf(n);case"XXXX":case"XX":return bn(n);case"XXXXX":case"XXX":default:return bn(n,":")}},x:function(e,t,s){const n=e.getTimezoneOffset();switch(t){case"x":return mf(n);case"xxxx":case"xx":return bn(n);case"xxxxx":case"xxx":default:return bn(n,":")}},O:function(e,t,s){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+hf(n,":");case"OOOO":default:return"GMT"+bn(n,":")}},z:function(e,t,s){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+hf(n,":");case"zzzz":default:return"GMT"+bn(n,":")}},t:function(e,t,s){const n=Math.trunc(+e/1e3);return ce(n,t.length)},T:function(e,t,s){return ce(+e,t.length)}};function hf(e,t=""){const s=e>0?"-":"+",n=Math.abs(e),i=Math.trunc(n/60),a=n%60;return a===0?s+String(i):s+String(i)+t+ce(a,2)}function mf(e,t){return e%60===0?(e>0?"-":"+")+ce(Math.abs(e)/60,2):bn(e,t)}function bn(e,t=""){const s=e>0?"-":"+",n=Math.abs(e),i=ce(Math.trunc(n/60),2),a=ce(n%60,2);return s+i+t+a}const ff=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},Ag=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},uN=(e,t)=>{const s=e.match(/(P+)(p+)?/)||[],n=s[1],i=s[2];if(!i)return ff(e,t);let a;switch(n){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;case"PPPP":default:a=t.dateTime({width:"full"});break}return a.replace("{{date}}",ff(n,t)).replace("{{time}}",Ag(i,t))},hN={p:Ag,P:uN},mN=/^D+$/,fN=/^Y+$/,xN=["D","DD","YY","YYYY"];function pN(e){return mN.test(e)}function gN(e){return fN.test(e)}function yN(e,t,s){const n=vN(e,t,s);if(console.warn(n),xN.includes(e))throw new RangeError(n)}function vN(e,t,s){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${s}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const bN=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,jN=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,wN=/^'([^]*?)'?$/,NN=/''/g,_N=/[a-zA-Z]/;function xf(e,t,s){var u,h,f,v,p,y,b,m;const n=Ao(),i=(s==null?void 0:s.locale)??n.locale??aN,a=(s==null?void 0:s.firstWeekContainsDate)??((h=(u=s==null?void 0:s.locale)==null?void 0:u.options)==null?void 0:h.firstWeekContainsDate)??n.firstWeekContainsDate??((v=(f=n.locale)==null?void 0:f.options)==null?void 0:v.firstWeekContainsDate)??1,l=(s==null?void 0:s.weekStartsOn)??((y=(p=s==null?void 0:s.locale)==null?void 0:p.options)==null?void 0:y.weekStartsOn)??n.weekStartsOn??((m=(b=n.locale)==null?void 0:b.options)==null?void 0:m.weekStartsOn)??0,o=Vt(e,s==null?void 0:s.in);if(!S2(o))throw new RangeError("Invalid time value");let c=t.match(jN).map(x=>{const g=x[0];if(g==="p"||g==="P"){const j=hN[g];return j(x,i.formatLong)}return x}).join("").match(bN).map(x=>{if(x==="''")return{isToken:!1,value:"'"};const g=x[0];if(g==="'")return{isToken:!1,value:kN(x)};if(uf[g])return{isToken:!0,value:x};if(g.match(_N))throw new RangeError("Format string contains an unescaped latin alphabet character `"+g+"`");return{isToken:!1,value:x}});i.localize.preprocessor&&(c=i.localize.preprocessor(o,c));const d={firstWeekContainsDate:a,weekStartsOn:l,locale:i};return c.map(x=>{if(!x.isToken)return x.value;const g=x.value;(!(s!=null&&s.useAdditionalWeekYearTokens)&&gN(g)||!(s!=null&&s.useAdditionalDayOfYearTokens)&&pN(g))&&yN(g,t,String(e));const j=uf[g[0]];return j(o,g,i.localize,d)}).join("")}function kN(e){const t=e.match(wN);return t?t[1].replace(NN,"'"):e}const SN=()=>{const{user:e}=$e(),t=Rt(),[s,n]=N.useState([]),[i,a]=N.useState([]),[l,o]=N.useState(!0),[c,d]=N.useState("all"),[u,h]=N.useState(!1),[f,v]=N.useState(!1),[p,y]=N.useState(!1),[b,m]=N.useState(!1),[x,g]=N.useState(null),[j,w]=N.useState({photo:null,notes:"",photoPreview:null}),[_,k]=N.useState(!1),[S,A]=N.useState(null),[O,C]=N.useState(!1),[L,V]=N.useState(!1),[K,H]=N.useState(null),[P,W]=N.useState(!1),M=N.useRef(null),F=["Admin","Farm Manager"].includes(e==null?void 0:e.role),B=["Admin","Farm Manager"].includes(e==null?void 0:e.role),D=["Admin","Farm Manager"].includes(e==null?void 0:e.role);N.useEffect(()=>{Y(),Z()},[]);const q=async()=>{try{const E=await navigator.mediaDevices.getUserMedia({video:!0});A(E),k(!0),M.current&&(M.current.srcObject=E)}catch{alert("Camera access denied")}},R=()=>{const E=document.createElement("canvas");E.width=M.current.videoWidth,E.height=M.current.videoHeight,E.getContext("2d").drawImage(M.current,0,0),E.toBlob(G=>{w({...j,photo:G,photoPreview:URL.createObjectURL(G)}),k(!1),S.getTracks().forEach(Ze=>Ze.stop())},"image/jpeg")},Y=async()=>{try{const E=await Os.getTasks();let G=[];if(Array.isArray(E.data))G=E.data;else if(Array.isArray(E))G=E;else if(E.data&&Array.isArray(E.data.tasks))G=E.data.tasks;else if(E.data&&typeof E.data=="object"){const Me=Object.values(E.data).filter(My=>Array.isArray(My));Me.length>0&&(G=Me[0])}const Ze=xf(new Date,"yyyy-MM-dd"),Py=G.map(Me=>({...Me,status:Me.status||"pending",priority:Me.priority||"medium",title:Me.title||"Untitled Task",description:Me.description||"",due_time:Me.due_time||"No due date",tag:Me.tag||"static",recurrent:typeof Me.recurrent=="boolean"?Me.recurrent:Me.tag==="static",active_date:Me.active_date||""})).filter(Me=>Me.tag==="static"&&Me.recurrent?!0:Me.tag==="dynamic"&&Me.active_date?xf(new Date(Me.active_date),"yyyy-MM-dd")===Ze:!1);n(Py)}catch(E){console.error("Error fetching tasks:",E),n([])}finally{o(!1)}},Z=async()=>{try{const E=await Os.getWeeklyHistory();E.data&&a(E.data)}catch(E){console.error("Error fetching weekly tasks:",E),a([])}},J=E=>{g(E),y(!0),w({photo:null,notes:"",photoPreview:null})},z=E=>{g(E),m(!0)},he=E=>{const G=E.target.files[0];G&&w(Ze=>({...Ze,photo:G,photoPreview:URL.createObjectURL(G)}))},ee=async()=>{try{const E=new FormData;E.append("taskId",x.id),E.append("notes",j.notes),E.append("completedAt",new Date().toISOString()),j.photo&&E.append("evidence",j.photo),await Os.completeTaskWithEvidence(E),n(s.map(G=>G.id===x.id?{...G,status:"completed",completed_at:new Date().toISOString(),completion_notes:j.notes,evidence_photo:j.photo?j.photo.name:null}:G)),y(!1),g(null)}catch(E){console.error("Error completing task:",E),alert("Failed to complete task. Please try again.")}},le=()=>{y(!1),g(null),j.photoPreview&&URL.revokeObjectURL(j.photoPreview),w({photo:null,notes:"",photoPreview:null})},rs=()=>{m(!1),g(null)},zr=E=>{H(E),W(!0)},ha=()=>{W(!1),H(null),Y()},hn=async E=>{if(window.confirm("Are you sure you want to delete this task?"))try{await Os.deleteTask(E),Y()}catch(G){console.error("Error deleting task:",G),alert("Failed to delete task. Please try again.")}},yh=()=>{W(!1),H(null)},Xn=E=>{switch(E){case"high":return"bg-red-100 text-red-800 border-red-200";case"medium":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"low":return"bg-green-100 text-green-800 border-green-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},Yt=s.filter(E=>{if(!E||typeof E.status!="string")return console.warn("Task missing or has invalid status:",E),!1;if(c==="all")return!0;const G=E.status.toLowerCase(),Ze=c.toLowerCase();return G===Ze}),mn=ta.useMemo(()=>{if(!["Admin","Farm Manager"].includes(e==null?void 0:e.role))return{personal:Yt,staff:[]};const E=Yt.filter(Ze=>Ze.assigned_to===(e==null?void 0:e.id)||Ze.created_by===(e==null?void 0:e.id)),G=Yt.filter(Ze=>Ze.assigned_to!==(e==null?void 0:e.id)&&Ze.created_by!==(e==null?void 0:e.id));return{personal:E,staff:G}},[Yt,e==null?void 0:e.id,e==null?void 0:e.role]),vh=async(E,G)=>{try{await fetch(`/api/tasks/${E}/remind`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({assignedUserId:G})}),alert("Reminder sent successfully!")}catch(Ze){console.error("Failed to send reminder:",Ze),alert("Failed to send reminder. Please try again.")}};return l?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):r.jsxs("div",{className:"space-y-6 max-w-7xl mx-auto px-2 sm:px-4 lg:px-8 py-6",children:[r.jsx("div",{className:"flex flex-col gap-4 mb-6",children:r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:[r.jsx("div",{children:r.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:"Task Management"})}),r.jsxs("div",{className:"flex flex-wrap items-center gap-2 sm:gap-3",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Fo,{className:"w-4 h-4 text-gray-500"}),r.jsxs("select",{value:c,onChange:E=>d(E.target.value),className:"border border-gray-300 rounded-xl px-3 py-2 text-sm focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[r.jsx("option",{value:"all",children:"All Tasks"}),r.jsx("option",{value:"pending",children:"Pending"}),r.jsx("option",{value:"completed",children:"Completed"})]})]}),["Admin","Farm Manager"].includes(e==null?void 0:e.role)&&r.jsx("button",{className:"px-3 py-2 bg-blue-50 text-blue-600 hover:bg-blue-100 text-sm font-medium rounded-xl border border-blue-200 transition-all",onClick:()=>h(!0),children:"Staff Overview"}),F&&r.jsx("button",{className:"btn-primary text-sm",onClick:()=>v(!0),children:"Create Task"})]})]})}),["Admin","Farm Manager"].includes(e==null?void 0:e.role)?r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"mb-8",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Personal Tasks"}),mn.personal.length>6&&r.jsx("button",{onClick:()=>C(!O),className:"text-primary-600 hover:text-primary-700 text-sm font-medium",children:O?"Show Less":`See More (${mn.personal.length-6})`})]}),mn.personal.length===0?r.jsxs("div",{className:"text-center py-8 bg-gray-50 rounded-xl",children:[r.jsx(Be,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No personal tasks"}),r.jsx("p",{className:"text-gray-600",children:"You don't have any tasks assigned to you at the moment."})]}):r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-2 gap-4 sm:gap-6",children:(O?mn.personal:mn.personal.slice(0,6)).map(E=>r.jsxs("div",{className:"card-enhanced cursor-pointer hover:shadow-lg transition-shadow duration-200",onClick:()=>t(`/task-details/${E.id}`),children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center ${E.status==="completed"?"bg-green-100":"bg-blue-100"}`,children:E.status==="completed"?r.jsx(Be,{className:"w-5 h-5 text-green-600"}):r.jsx(zt,{className:"w-5 h-5 text-blue-600"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:`text-lg font-semibold ${E.status==="completed"?"line-through text-gray-500":"text-gray-900"}`,children:E.title}),r.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[r.jsx("span",{className:`inline-block px-3 py-1 text-xs font-medium rounded-full ${Xn(E.priority)}`,children:E.priority}),r.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-gray-100 text-gray-600",children:E.tag==="static"?"Daily":"One-time"})]})]})]}),E.status==="completed"&&E.evidence_photo&&r.jsxs("div",{className:"text-right",children:[r.jsx("span",{className:"text-xs text-gray-500",children:"Evidence"}),r.jsxs("div",{className:"flex items-center space-x-1 mt-1",children:[r.jsx(Nn,{className:"w-4 h-4 text-green-500"}),r.jsx("span",{className:"text-xs text-green-600",children:"Uploaded"})]})]})]}),E.description&&r.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2",children:E.description}),r.jsx("div",{className:"bg-gray-50 rounded-lg p-3 mb-4",children:r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(We,{className:"w-4 h-4 text-gray-500"}),r.jsxs("span",{className:"text-gray-700 font-medium",children:["Due: ",E.due_time]})]}),E.assigned_to_name&&r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(St,{className:"w-4 h-4 text-gray-500"}),r.jsx("span",{className:"text-gray-700",children:E.assigned_to_name})]})]})}),E.status==="completed"?r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"text-sm text-green-600 font-medium",children:[" Completed ",E.completed_at?new Date(E.completed_at).toLocaleString():"Recently"]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs("button",{onClick:G=>{G.stopPropagation(),z(E)},className:"text-primary-600 hover:text-primary-700 text-sm font-medium flex items-center space-x-1 transition-colors",children:[r.jsx(yt,{className:"w-4 h-4"}),r.jsx("span",{children:"View Details"})]}),D&&r.jsxs("button",{onClick:G=>{G.stopPropagation(),hn(E.id)},className:"px-2 py-1 text-red-600 hover:text-red-700 hover:bg-red-50 text-sm font-medium flex items-center space-x-1 transition-all duration-200 rounded-md",children:[r.jsx(zs,{className:"w-4 h-4"}),r.jsx("span",{children:"Delete"})]})]})]}):r.jsxs("div",{className:"flex flex-col space-y-2",children:[r.jsxs("button",{onClick:G=>{G.stopPropagation(),J(E)},className:"btn-primary text-sm flex items-center space-x-2 w-full justify-center",children:[r.jsx(Be,{className:"w-4 h-4"}),r.jsx("span",{children:"Mark Complete"})]}),(B||D)&&r.jsxs("div",{className:"flex justify-center space-x-2",children:[B&&r.jsxs("button",{onClick:G=>{G.stopPropagation(),zr(E)},className:"px-3 py-1.5 bg-blue-50 text-blue-600 hover:text-blue-700 hover:bg-blue-100 text-sm font-medium flex items-center space-x-1 transition-all duration-200 rounded-md border border-blue-200",children:[r.jsx(sn,{className:"w-4 h-4"}),r.jsx("span",{children:"Edit"})]}),D&&r.jsxs("button",{onClick:G=>{G.stopPropagation(),hn(E.id)},className:"px-3 py-1.5 bg-red-50 text-red-600 hover:text-red-700 hover:bg-red-100 text-sm font-medium flex items-center space-x-1 transition-all duration-200 rounded-md border border-red-200",children:[r.jsx(zs,{className:"w-4 h-4"}),r.jsx("span",{children:"Delete"})]})]})]})]},E.id||Math.random()))})]}),r.jsxs("div",{className:"mb-8",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Staff Tasks"}),r.jsx("button",{onClick:()=>h(!0),className:"px-3 py-2 bg-blue-50 text-blue-600 hover:bg-blue-100 text-sm font-medium rounded-xl border border-blue-200 transition-all",children:"View Staff Overview"})]}),mn.staff.length===0?r.jsxs("div",{className:"text-center py-8 bg-gray-50 rounded-xl",children:[r.jsx(Zt,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No staff tasks"}),r.jsx("p",{className:"text-gray-600",children:"No tasks have been assigned to staff members."})]}):r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:mn.staff.slice(0,6).map(E=>r.jsxs("div",{className:"card-enhanced cursor-pointer hover:shadow-lg transition-shadow duration-200",onClick:()=>t(`/task-details/${E.id}`),children:[r.jsx("div",{className:"flex items-start justify-between mb-4",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center ${E.status==="completed"?"bg-green-100":"bg-blue-100"}`,children:E.status==="completed"?r.jsx(Be,{className:"w-5 h-5 text-green-600"}):r.jsx(zt,{className:"w-5 h-5 text-blue-600"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:`text-lg font-semibold ${E.status==="completed"?"line-through text-gray-500":"text-gray-900"}`,children:E.title}),r.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[r.jsx("span",{className:`inline-block px-3 py-1 text-xs font-medium rounded-full ${Xn(E.priority)}`,children:E.priority}),r.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-gray-100 text-gray-600",children:E.tag==="static"?"Daily":"One-time"})]})]})]})}),E.description&&r.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2",children:E.description}),r.jsx("div",{className:"bg-gray-50 rounded-lg p-3 mb-4",children:r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(We,{className:"w-4 h-4 text-gray-500"}),r.jsxs("span",{className:"text-gray-700 font-medium",children:["Due: ",E.due_time]})]}),E.assigned_name&&r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(St,{className:"w-4 h-4 text-gray-500"}),r.jsx("span",{className:"text-gray-700",children:E.assigned_name})]})]})}),r.jsxs("div",{className:"flex justify-center space-x-2",children:[r.jsxs("button",{onClick:G=>{G.stopPropagation(),t(`/task-details/${E.id}`)},className:"px-3 py-1.5 bg-blue-50 text-blue-600 hover:text-blue-700 hover:bg-blue-100 text-sm font-medium flex items-center space-x-1 transition-all duration-200 rounded-md border border-blue-200",children:[r.jsx(yt,{className:"w-4 h-4"}),r.jsx("span",{children:"View"})]}),E.status!=="completed"&&E.assigned_to&&r.jsxs("button",{onClick:G=>{G.stopPropagation(),vh(E.id,E.assigned_to)},className:"px-3 py-1.5 bg-orange-50 text-orange-600 hover:text-orange-700 hover:bg-orange-100 text-sm font-medium flex items-center space-x-1 transition-all duration-200 rounded-md border border-orange-200",children:[r.jsx(St,{className:"w-4 h-4"}),r.jsx("span",{children:"Remind"})]})]})]},E.id||Math.random()))})]})]}):r.jsxs("div",{className:"mb-8",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Today's Tasks"}),Yt.length>6&&r.jsx("button",{onClick:()=>C(!O),className:"text-primary-600 hover:text-primary-700 text-sm font-medium",children:O?"Show Less":`See More (${Yt.length-6})`})]}),Yt.length===0?r.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-xl",children:[r.jsx(Be,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No tasks found"}),r.jsx("p",{className:"text-gray-600",children:c==="all"?"No tasks available.":`No ${c} tasks found.`})]}):r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-2 gap-4 sm:gap-6",children:(O?Yt:Yt.slice(0,6)).map(E=>r.jsxs("div",{className:"card-enhanced cursor-pointer hover:shadow-lg transition-shadow duration-200",onClick:()=>t(`/task-details/${E.id}`),children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center ${E.status==="completed"?"bg-green-100":"bg-blue-100"}`,children:E.status==="completed"?r.jsx(Be,{className:"w-5 h-5 text-green-600"}):r.jsx(zt,{className:"w-5 h-5 text-blue-600"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:`text-lg font-semibold ${E.status==="completed"?"line-through text-gray-500":"text-gray-900"}`,children:E.title}),r.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[r.jsx("span",{className:`inline-block px-3 py-1 text-xs font-medium rounded-full ${Xn(E.priority)}`,children:E.priority}),r.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-gray-100 text-gray-600",children:E.tag==="static"?"Daily":"One-time"})]})]})]}),E.status==="completed"&&E.evidence_photo&&r.jsxs("div",{className:"text-right",children:[r.jsx("span",{className:"text-xs text-gray-500",children:"Evidence"}),r.jsxs("div",{className:"flex items-center space-x-1 mt-1",children:[r.jsx(Nn,{className:"w-4 h-4 text-green-500"}),r.jsx("span",{className:"text-xs text-green-600",children:"Uploaded"})]})]})]}),E.description&&r.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2",children:E.description}),r.jsx("div",{className:"bg-gray-50 rounded-lg p-3 mb-4",children:r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(We,{className:"w-4 h-4 text-gray-500"}),r.jsxs("span",{className:"text-gray-700 font-medium",children:["Due: ",E.due_time]})]}),E.assigned_to_name&&r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(St,{className:"w-4 h-4 text-gray-500"}),r.jsx("span",{className:"text-gray-700",children:E.assigned_to_name})]})]})}),E.status==="completed"?r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"text-sm text-green-600 font-medium",children:[" Completed ",E.completed_at?new Date(E.completed_at).toLocaleString():"Recently"]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs("button",{onClick:G=>{G.stopPropagation(),z(E)},className:"text-primary-600 hover:text-primary-700 text-sm font-medium flex items-center space-x-1 transition-colors",children:[r.jsx(yt,{className:"w-4 h-4"}),r.jsx("span",{children:"View Details"})]}),D&&r.jsxs("button",{onClick:G=>{G.stopPropagation(),hn(E.id)},className:"px-2 py-1 text-red-600 hover:text-red-700 hover:bg-red-50 text-sm font-medium flex items-center space-x-1 transition-all duration-200 rounded-md",children:[r.jsx(zs,{className:"w-4 h-4"}),r.jsx("span",{children:"Delete"})]})]})]}):r.jsxs("div",{className:"flex flex-col space-y-2",children:[r.jsxs("button",{onClick:G=>{G.stopPropagation(),J(E)},className:"btn-primary text-sm flex items-center space-x-2 w-full justify-center",children:[r.jsx(Be,{className:"w-4 h-4"}),r.jsx("span",{children:"Mark Complete"})]}),(B||D)&&r.jsxs("div",{className:"flex justify-center space-x-2",children:[B&&r.jsxs("button",{onClick:G=>{G.stopPropagation(),zr(E)},className:"px-3 py-1.5 bg-blue-50 text-blue-600 hover:text-blue-700 hover:bg-blue-100 text-sm font-medium flex items-center space-x-1 transition-all duration-200 rounded-md border border-blue-200",children:[r.jsx(sn,{className:"w-4 h-4"}),r.jsx("span",{children:"Edit"})]}),D&&r.jsxs("button",{onClick:G=>{G.stopPropagation(),hn(E.id)},className:"px-3 py-1.5 bg-red-50 text-red-600 hover:text-red-700 hover:bg-red-100 text-sm font-medium flex items-center space-x-1 transition-all duration-200 rounded-md border border-red-200",children:[r.jsx(zs,{className:"w-4 h-4"}),r.jsx("span",{children:"Delete"})]})]})]})]},E.id||Math.random()))})]}),i.length>0&&r.jsxs("div",{className:"mb-8",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"This Week's Tasks"}),i.length>6&&r.jsx("button",{onClick:()=>V(!L),className:"text-primary-600 hover:text-primary-700 text-sm font-medium",children:L?"Show Less":`See More (${i.length-6})`})]}),r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:(L?i:i.slice(0,6)).map(E=>r.jsxs("div",{className:"card-enhanced cursor-pointer hover:shadow-lg transition-shadow duration-200",onClick:()=>t(`/task-details/${E.id}`),children:[r.jsx("div",{className:"flex items-start justify-between mb-4",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center ${E.status==="completed"?"bg-green-100":"bg-blue-100"}`,children:E.status==="completed"?r.jsx(Be,{className:"w-5 h-5 text-green-600"}):r.jsx(zt,{className:"w-5 h-5 text-blue-600"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:`text-lg font-semibold ${E.status==="completed"?"line-through text-gray-500":"text-gray-900"}`,children:E.title}),r.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[r.jsx("span",{className:`inline-block px-3 py-1 text-xs font-medium rounded-full ${Xn(E.priority)}`,children:E.priority}),r.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-gray-100 text-gray-600",children:E.tag==="static"?"Daily":"One-time"})]})]})]})}),E.description&&r.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2",children:E.description}),r.jsx("div",{className:"bg-gray-50 rounded-lg p-3 mb-4",children:r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(We,{className:"w-4 h-4 text-gray-500"}),r.jsxs("span",{className:"text-gray-700 font-medium",children:["Due: ",E.due_time]})]}),E.assigned_to_name&&r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(St,{className:"w-4 h-4 text-gray-500"}),r.jsx("span",{className:"text-gray-700",children:E.assigned_to_name})]})]})}),r.jsx("div",{className:"flex justify-center mt-4",children:r.jsxs("button",{onClick:G=>{G.stopPropagation(),z(E)},className:"text-primary-600 hover:text-primary-700 text-sm font-medium flex items-center space-x-1 transition-colors",children:[r.jsx(yt,{className:"w-4 h-4"}),r.jsx("span",{children:"View Details"})]})})]},E.id||Math.random()))})]}),p&&x&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 backdrop-blur-sm flex justify-center items-center z-50 p-4",children:r.jsx("div",{className:"bg-white rounded-2xl w-full max-w-lg shadow-2xl relative max-h-[90vh] overflow-y-auto",children:r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-xl flex items-center justify-center",children:r.jsx(Be,{className:"w-5 h-5 text-green-600"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Complete Task"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Add evidence and notes"})]})]}),r.jsx("button",{onClick:le,className:"text-gray-400 hover:text-gray-600 transition-colors p-1 rounded-lg hover:bg-gray-100",children:r.jsx(Re,{className:"w-6 h-6"})})]}),r.jsxs("div",{className:"bg-blue-50 rounded-xl p-4 mb-6",children:[r.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:x.title}),r.jsx("p",{className:"text-sm text-gray-600 mb-3",children:x.description}),r.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx(We,{className:"w-3 h-3"}),r.jsxs("span",{children:["Due: ",x.due_time]})]}),r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx(zt,{className:"w-3 h-3"}),r.jsxs("span",{children:["Completing: ",new Date().toLocaleString()]})]})]})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:[r.jsx(Nn,{className:"w-4 h-4 inline mr-2"}),"Photo Evidence"]}),_&&r.jsxs("div",{className:"mb-4 p-4 bg-gray-100 rounded-xl",children:[r.jsx("video",{ref:M,autoPlay:!0,className:"w-full rounded-lg mb-3"}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("button",{type:"button",onClick:R,className:"flex-1 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:" Capture"}),r.jsx("button",{type:"button",onClick:()=>{k(!1),S&&S.getTracks().forEach(E=>E.stop())},className:"px-4 py-2 text-gray-600 bg-gray-200 rounded-lg hover:bg-gray-300 transition-colors",children:"Cancel"})]})]}),r.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-xl p-6 text-center hover:border-primary-400 transition-colors",children:j.photoPreview?r.jsxs("div",{className:"space-y-3",children:[r.jsx("img",{src:j.photoPreview,alt:"Preview",className:"max-w-full h-40 object-cover rounded-xl mx-auto shadow-md"}),r.jsxs("div",{className:"flex space-x-2 justify-center",children:[r.jsx("button",{onClick:()=>{URL.revokeObjectURL(j.photoPreview),w(E=>({...E,photo:null,photoPreview:null}))},className:"px-3 py-1 text-red-600 bg-red-50 rounded-lg text-sm hover:bg-red-100 transition-colors",children:" Remove"}),r.jsxs("label",{className:"px-3 py-1 text-blue-600 bg-blue-50 rounded-lg text-sm hover:bg-blue-100 transition-colors cursor-pointer",children:[" Replace",r.jsx("input",{type:"file",accept:"image/*",onChange:he,className:"hidden"})]})]})]}):r.jsxs("div",{children:[r.jsxs("div",{className:"flex justify-center space-x-4 mb-4",children:[r.jsxs("label",{className:"flex flex-col items-center cursor-pointer p-3 rounded-xl border-2 border-transparent hover:border-blue-200 hover:bg-blue-50 transition-all",children:[r.jsx(d2,{className:"w-8 h-8 text-gray-400 mb-2"}),r.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Upload File"}),r.jsx("input",{type:"file",accept:"image/*",onChange:he,className:"hidden"})]}),r.jsxs("button",{type:"button",onClick:q,className:"flex flex-col items-center p-3 rounded-xl border-2 border-transparent hover:border-green-200 hover:bg-green-50 transition-all",children:[r.jsx(Nn,{className:"w-8 h-8 text-gray-400 mb-2"}),r.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Take Photo"})]})]}),r.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG up to 10MB"})]})})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:[r.jsx(Cr,{className:"w-4 h-4 inline mr-2"}),"Completion Notes (Optional)"]}),r.jsx("textarea",{value:j.notes,onChange:E=>w(G=>({...G,notes:E.target.value})),placeholder:"Describe what was completed, any issues encountered, or additional details...",className:"w-full p-4 border border-gray-300 rounded-xl focus:ring-2 focus:ring-primary-500 focus:border-primary-500 resize-none transition-all",rows:"4"})]})]}),r.jsxs("div",{className:"flex space-x-3 mt-8",children:[r.jsx("button",{onClick:le,className:"flex-1 px-6 py-3 text-gray-700 bg-gray-100 rounded-xl hover:bg-gray-200 transition-colors font-medium",children:"Cancel"}),r.jsx("button",{onClick:ee,className:"flex-1 px-6 py-3 bg-gradient-to-r from-green-600 to-green-700 text-white rounded-xl hover:from-green-700 hover:to-green-800 transition-all font-medium shadow-md hover:shadow-lg",children:" Complete Task"})]})]})})}),b&&x&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 backdrop-blur-sm flex justify-center items-center z-50 p-4",children:r.jsx("div",{className:"bg-white rounded-2xl w-full max-w-md shadow-2xl relative max-h-[90vh] overflow-y-auto",children:r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Task Details"}),r.jsx("button",{onClick:rs,className:"text-gray-400 hover:text-gray-600 transition-colors",children:r.jsx(Re,{className:"w-6 h-6"})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:x.title}),r.jsxs("span",{className:`inline-block px-2 py-1 text-xs font-medium rounded-full border ${Xn(x.priority)}`,children:[x.priority," priority"]})]}),r.jsxs("div",{children:[r.jsxs("h5",{className:"font-medium text-gray-700 mb-2 flex items-center space-x-1",children:[r.jsx(Cr,{className:"w-4 h-4"}),r.jsx("span",{children:"Description"})]}),r.jsx("p",{className:"text-gray-600 bg-gray-50 p-3 rounded-lg",children:x.description})]}),r.jsxs("div",{children:[r.jsxs("h5",{className:"font-medium text-gray-700 mb-2 flex items-center space-x-1",children:[r.jsx(We,{className:"w-4 h-4"}),r.jsx("span",{children:"Timeline"})]}),r.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg space-y-1",children:[r.jsxs("p",{className:"text-sm",children:[r.jsx("span",{className:"font-medium",children:"Due:"})," ",x.due_time]}),r.jsxs("p",{className:"text-sm text-green-600",children:[r.jsx("span",{className:"font-medium",children:"Completed:"})," ",x.completed_at?new Date(x.completed_at).toLocaleString():"Recently"]})]})]}),x.completion_notes&&r.jsxs("div",{children:[r.jsx("h5",{className:"font-medium text-gray-700 mb-2",children:"Completion Notes"}),r.jsx("p",{className:"text-gray-600 bg-blue-50 p-3 rounded-lg",children:x.completion_notes})]}),x.evidence_photo&&r.jsxs("div",{children:[r.jsxs("h5",{className:"font-medium text-gray-700 mb-2 flex items-center space-x-1",children:[r.jsx(Nn,{className:"w-4 h-4"}),r.jsx("span",{children:"Evidence Photo"})]}),r.jsx("div",{className:"bg-green-50 p-3 rounded-lg",children:r.jsx("div",{className:"flex items-center space-x-2 text-green-700",children:r.jsx("img",{src:x.evidence_photo,alt:"Photo",className:"w-12 h-12 rounded-lg object-cover"})})})]})]})]})})}),f&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 backdrop-blur-sm flex justify-center items-center z-50 p-4",children:r.jsxs("div",{className:"bg-white p-6 rounded-2xl w-full max-w-md max-h-[90vh] overflow-y-auto shadow-2xl relative",children:[r.jsx("button",{onClick:()=>v(!1),className:"absolute top-4 right-4 text-gray-500 hover:text-black transition-colors",children:r.jsx(Re,{className:"w-6 h-6"})}),r.jsx(y2,{})]})}),P&&K&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 backdrop-blur-sm flex justify-center items-center z-50 p-4",children:r.jsxs("div",{className:"bg-white p-6 rounded-2xl w-full max-w-md max-h-[90vh] overflow-y-auto shadow-2xl relative",children:[r.jsx("button",{onClick:yh,className:"absolute top-4 right-4 text-gray-500 hover:text-black transition-colors",children:r.jsx(Re,{className:"w-6 h-6"})}),r.jsx(v2,{task:K,onTaskUpdated:ha,onCancel:yh})]})}),Yt.length===0&&r.jsxs("div",{className:"text-center py-12",children:[r.jsx(zt,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No tasks found"}),r.jsx("p",{className:"text-gray-600",children:c==="all"?"No tasks available.":`No ${c} tasks found.`})]}),u&&["Admin","Farm Manager"].includes(e==null?void 0:e.role)&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 backdrop-blur-sm flex justify-center items-center z-50 p-4",children:r.jsx("div",{className:"bg-white rounded-2xl w-full max-w-6xl shadow-2xl relative max-h-[90vh] overflow-hidden",children:r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-xl flex items-center justify-center",children:r.jsx(St,{className:"w-5 h-5 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Staff Tasks Overview"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Monitor and manage all staff assignments"})]})]}),r.jsx("button",{onClick:()=>h(!1),className:"text-gray-400 hover:text-gray-600 transition-colors p-1 rounded-lg hover:bg-gray-100",children:r.jsx(Re,{className:"w-6 h-6"})})]}),r.jsxs("div",{className:"overflow-x-auto",children:[r.jsxs("table",{className:"w-full border-collapse",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"bg-gray-50",children:[r.jsx("th",{className:"text-left p-3 font-medium text-gray-700 border-b",children:"Task"}),r.jsx("th",{className:"text-left p-3 font-medium text-gray-700 border-b",children:"Assigned To"}),r.jsx("th",{className:"text-left p-3 font-medium text-gray-700 border-b",children:"Due Date"}),r.jsx("th",{className:"text-left p-3 font-medium text-gray-700 border-b",children:"Due Time"}),r.jsx("th",{className:"text-left p-3 font-medium text-gray-700 border-b",children:"Status"}),r.jsx("th",{className:"text-left p-3 font-medium text-gray-700 border-b",children:"Priority"}),r.jsx("th",{className:"text-left p-3 font-medium text-gray-700 border-b",children:"Actions"})]})}),r.jsx("tbody",{children:s.filter(E=>E.assigned_to!==(e==null?void 0:e.id)).map(E=>r.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[r.jsx("td",{className:"p-3 border-b",children:r.jsxs("div",{children:[r.jsx("div",{className:"font-medium text-gray-900",children:E.title}),E.description&&r.jsx("div",{className:"text-sm text-gray-600 line-clamp-1",children:E.description})]})}),r.jsx("td",{className:"p-3 border-b",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-xs font-medium text-blue-600",children:E.assigned_name?E.assigned_name.split(" ").map(G=>G[0]).join(""):"UN"})}),r.jsx("span",{className:"text-sm text-gray-700",children:E.assigned_name||"Unassigned"})]})}),r.jsx("td",{className:"p-3 border-b",children:r.jsx("span",{className:"text-sm text-gray-600",children:E.due_date||"Not set"})}),r.jsx("td",{className:"p-3 border-b",children:r.jsx("span",{className:"text-sm text-gray-600",children:E.due_time||"Not set"})}),r.jsx("td",{className:"p-3 border-b",children:r.jsx("span",{className:`inline-block px-2 py-1 text-xs font-medium rounded-full ${E.status==="completed"?"bg-green-100 text-green-800":E.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:E.status})}),r.jsx("td",{className:"p-3 border-b",children:r.jsx("span",{className:`inline-block px-2 py-1 text-xs font-medium rounded-full ${Xn(E.priority)}`,children:E.priority})}),r.jsx("td",{className:"p-3 border-b",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("button",{onClick:()=>t(`/task-details/${E.id}`),className:"px-2 py-1 text-blue-600 hover:bg-blue-50 text-xs font-medium rounded transition-all",children:"View"}),E.status!=="completed"&&E.assigned_to&&r.jsx("button",{onClick:()=>vh(E.id,E.assigned_to),className:"px-2 py-1 text-orange-600 hover:bg-orange-50 text-xs font-medium rounded transition-all",children:"Remind"})]})})]},E.id))})]}),s.filter(E=>E.assigned_to!==(e==null?void 0:e.id)).length===0&&r.jsx("div",{className:"text-center py-8 text-gray-500",children:"No staff tasks found"})]})]})})})]})},CN=()=>{const[e,t]=N.useState([]),[s,n]=N.useState(!0),[i]=tg(),a=Rt(),l=i.get("week")||"current",[o,c]=N.useState(""),[d,u]=N.useState(""),[h,f]=N.useState(""),[v,p]=N.useState(""),[y,b]=N.useState(!1);N.useEffect(()=>{(async()=>{try{const _=await Os.getHistory({week:l});t(_.data)}catch(_){console.error("Error fetching task history:",_),t([])}finally{n(!1)}})()},[l]);const m=w=>{switch(w){case"high":return"bg-red-100 text-red-700";case"medium":return"bg-yellow-100 text-yellow-700";case"low":return"bg-green-100 text-green-700";default:return"bg-gray-100 text-gray-700"}},x=w=>w==="completed"?r.jsx(Be,{className:"w-5 h-5 text-green-500"}):r.jsx(zt,{className:"w-5 h-5 text-gray-400"}),g=e.filter(w=>{var O,C,L;const _=((O=w.title)==null?void 0:O.toLowerCase().includes(o.toLowerCase()))||((C=w.description)==null?void 0:C.toLowerCase().includes(o.toLowerCase()))||((L=w.assigned_name)==null?void 0:L.toLowerCase().includes(o.toLowerCase())),k=!d||w.status===d,S=!h||w.priority===h,A=!v||w.tag===v;return _&&k&&S&&A}),j=()=>{c(""),u(""),f(""),p("")};return s?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("button",{onClick:()=>a("/tasks"),className:"p-2 text-gray-500 hover:text-gray-700 rounded-lg hover:bg-gray-100 transition-colors",children:r.jsx(tn,{className:"w-5 h-5"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Task History"}),r.jsxs("p",{className:"text-gray-600 mt-2",children:[l==="current"?"This Week":l,"  ",g.length," of ",e.length," tasks shown"]})]})]}),r.jsxs("button",{onClick:()=>b(!y),className:"mt-4 sm:mt-0 bg-primary-600 hover:bg-primary-700 text-white px-4 py-2 rounded-xl flex items-center space-x-2 transition-colors",children:[r.jsx(Fo,{className:"w-5 h-5"}),r.jsx("span",{children:"Filters"})]})]}),y&&r.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search Tasks"}),r.jsxs("div",{className:"relative",children:[r.jsx(Or,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),r.jsx("input",{type:"text",placeholder:"Search by title, description...",value:o,onChange:w=>c(w.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),r.jsxs("select",{value:d,onChange:w=>u(w.target.value),className:"w-full border border-gray-300 rounded-xl px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[r.jsx("option",{value:"",children:"All Status"}),r.jsx("option",{value:"completed",children:"Completed"}),r.jsx("option",{value:"pending",children:"Pending"}),r.jsx("option",{value:"in_progress",children:"In Progress"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Priority"}),r.jsxs("select",{value:h,onChange:w=>f(w.target.value),className:"w-full border border-gray-300 rounded-xl px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[r.jsx("option",{value:"",children:"All Priorities"}),r.jsx("option",{value:"high",children:"High"}),r.jsx("option",{value:"medium",children:"Medium"}),r.jsx("option",{value:"low",children:"Low"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Type"}),r.jsxs("select",{value:v,onChange:w=>p(w.target.value),className:"w-full border border-gray-300 rounded-xl px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[r.jsx("option",{value:"",children:"All Types"}),r.jsx("option",{value:"static",children:"Daily Tasks"}),r.jsx("option",{value:"dynamic",children:"One-time Tasks"})]})]}),r.jsx("div",{className:"flex items-end",children:r.jsxs("button",{onClick:j,className:"w-full bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-2 rounded-xl flex items-center justify-center space-x-2 transition-colors",children:[r.jsx(Re,{className:"w-4 h-4"}),r.jsx("span",{children:"Clear"})]})})]})}),r.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:g.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(zt,{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4 p-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No tasks found"}),r.jsx("p",{className:"text-gray-600 mb-4",children:e.length===0?"No tasks available for this time period.":"Try adjusting your search criteria"}),(o||d||h||v)&&r.jsx("button",{onClick:j,className:"bg-primary-600 hover:bg-primary-700 text-white px-4 py-2 rounded-xl transition-colors",children:"Clear Filters"})]}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:g.map(w=>r.jsxs("div",{className:"border border-gray-200 rounded-xl p-6 hover:shadow-md transition-shadow cursor-pointer",onClick:()=>a(`/task-details/${w.id}`),children:[r.jsx("div",{className:"flex items-start justify-between mb-4",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center ${w.status==="completed"?"bg-green-100":"bg-gray-100"}`,children:x(w.status)}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:`text-lg font-semibold ${w.status==="completed"?"line-through text-gray-500":"text-gray-900"}`,children:w.title}),r.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[r.jsx("span",{className:`inline-block px-3 py-1 text-xs font-medium rounded-full ${m(w.priority)}`,children:w.priority}),r.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-gray-100 text-gray-600",children:w.tag==="static"?"Daily":"One-time"})]})]})]})}),w.description&&r.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2",children:w.description}),r.jsx("div",{className:"bg-gray-50 rounded-lg p-3 mb-4",children:r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(We,{className:"w-4 h-4 text-gray-500"}),r.jsxs("span",{className:"text-gray-700 font-medium",children:["Due: ",w.due_time||"Not set"]})]}),w.assigned_name&&r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(St,{className:"w-4 h-4 text-gray-500"}),r.jsx("span",{className:"text-gray-700",children:w.assigned_name})]})]})}),r.jsx("div",{className:"flex justify-center",children:r.jsxs("span",{className:"text-primary-600 text-sm font-medium flex items-center space-x-1",children:[r.jsx(yt,{className:"w-4 h-4"}),r.jsx("span",{children:"View Details"})]})})]},w.id))})})]})},PN=()=>{const{id:e}=Yu(),t=Rt(),[s,n]=N.useState(null),[i,a]=N.useState(!0);N.useEffect(()=>{(async()=>{var d;try{const u=await Os.getTaskDetails(e),h=((d=u.data)==null?void 0:d.data)||u.data;n(h)}catch(u){console.error("Failed to fetch task details:",u),n(null)}finally{a(!1)}})()},[e]);const l=c=>{switch(c){case"high":return"bg-red-100 text-red-800 border-red-200";case"medium":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"low":return"bg-green-100 text-green-800 border-green-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},o=c=>c==="completed"?r.jsx(Be,{className:"w-6 h-6 text-green-500"}):r.jsx(zt,{className:"w-6 h-6 text-gray-400"});return i?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):s?r.jsxs("div",{className:"space-y-6 max-w-4xl mx-auto px-2 sm:px-4 lg:px-8 py-6",children:[r.jsx("div",{className:"flex items-center justify-between mb-6",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("button",{onClick:()=>t("/tasks"),className:"p-2 text-gray-500 hover:text-gray-700 rounded-lg hover:bg-gray-100 transition-colors",children:r.jsx(tn,{className:"w-5 h-5"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:s.title}),r.jsxs("div",{className:"flex items-center gap-3 mt-2",children:[o(s.status),r.jsxs("span",{className:`inline-block px-3 py-1 text-sm font-medium rounded-full border ${l(s.priority)}`,children:[s.priority," priority"]}),r.jsxs("span",{className:"text-sm text-gray-500 capitalize",children:["Status: ",s.status]})]})]})]})}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[r.jsxs("div",{className:"card-enhanced",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-xl flex items-center justify-center",children:r.jsx(Cr,{className:"w-5 h-5 text-blue-600"})}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Description"})]}),r.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:r.jsx("p",{className:"text-gray-700 leading-relaxed",children:s.description||"No description provided"})})]}),r.jsxs("div",{className:"card-enhanced",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-xl flex items-center justify-center",children:r.jsx(We,{className:"w-5 h-5 text-green-600"})}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Timeline"})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[r.jsx("span",{className:"font-medium text-gray-700",children:"Due Date:"}),r.jsx("span",{className:"text-gray-600",children:s.due_date||"Not specified"})]}),r.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[r.jsx("span",{className:"font-medium text-gray-700",children:"Due Time:"}),r.jsx("span",{className:"text-gray-600",children:s.due_time||"Not specified"})]}),s.completed_at&&r.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-lg",children:[r.jsx("span",{className:"font-medium text-green-700",children:"Completed:"}),r.jsx("span",{className:"text-green-600",children:new Date(s.completed_at).toLocaleString()})]})]})]}),s.completion_notes&&r.jsxs("div",{className:"card-enhanced",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-xl flex items-center justify-center",children:r.jsx(Cr,{className:"w-5 h-5 text-purple-600"})}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Completion Notes"})]}),r.jsx("div",{className:"bg-blue-50 p-4 rounded-lg",children:r.jsx("p",{className:"text-gray-700",children:s.completion_notes})})]}),s.evidence_photo&&r.jsxs("div",{className:"card-enhanced",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-xl flex items-center justify-center",children:r.jsx(Nn,{className:"w-5 h-5 text-orange-600"})}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Evidence Photo"})]}),r.jsx("div",{className:"bg-green-50 p-4 rounded-lg",children:r.jsx("img",{src:s.evidence_photo,alt:"Task completion evidence",className:"w-full max-w-md rounded-lg object-cover shadow-lg"})})]})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"card-enhanced",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"w-10 h-10 bg-indigo-100 rounded-xl flex items-center justify-center",children:r.jsx(o2,{className:"w-5 h-5 text-indigo-600"})}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Task Type"})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[r.jsx("span",{className:"font-medium text-gray-700",children:"Type:"}),r.jsx("span",{className:"text-gray-600 capitalize",children:s.tag==="static"?"Static (Daily)":"Dynamic (One-time)"})]}),r.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[r.jsx("span",{className:"font-medium text-gray-700",children:"Recurrent:"}),r.jsx("span",{className:"text-gray-600",children:s.recurrent?"Yes":"No"})]})]})]}),r.jsxs("div",{className:"card-enhanced",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"w-10 h-10 bg-cyan-100 rounded-xl flex items-center justify-center",children:r.jsx(St,{className:"w-5 h-5 text-cyan-600"})}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Assignment"})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[r.jsx("span",{className:"font-medium text-gray-700",children:"Assigned To:"}),r.jsx("span",{className:"text-gray-600",children:s.assigned_name||"Unassigned"})]}),s.created_by_name&&r.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[r.jsx("span",{className:"font-medium text-gray-700",children:"Created By:"}),r.jsx("span",{className:"text-gray-600",children:s.created_by_name})]})]})]}),r.jsxs("div",{className:"card-enhanced",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"w-10 h-10 bg-emerald-100 rounded-xl flex items-center justify-center",children:r.jsx(We,{className:"w-5 h-5 text-emerald-600"})}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Created"})]}),r.jsx("div",{className:"p-3 bg-gray-50 rounded-lg",children:r.jsx("span",{className:"text-gray-600",children:s.created_at?new Date(s.created_at).toLocaleDateString():"Unknown"})})]})]})]})]}):r.jsx("div",{className:"space-y-6 max-w-7xl mx-auto px-2 sm:px-4 lg:px-8 py-6",children:r.jsxs("div",{className:"text-center py-12",children:[r.jsx(Cg,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Task not found"}),r.jsx("p",{className:"text-gray-600 mb-4",children:"The task you're looking for doesn't exist or you don't have permission to view it."}),r.jsx("button",{onClick:()=>t(-1),className:"btn-primary",children:"Go Back"})]})})},MN=()=>{const[e,t]=N.useState(new Date),[s,n]=N.useState([]),[i,a]=N.useState(!1),[l,o]=N.useState(null),[c,d]=N.useState(!0),[u,h]=N.useState({title:"",description:"",event_date:"",event_time:"",location:"",type:"meeting",priority:"medium",reminder_minutes:30,notify:!0,participants:""}),[f,v]=N.useState(""),[p,y]=N.useState({});N.useEffect(()=>{b()},[]);const b=async()=>{try{const C=await Ea.getEvents();n(C.data)}catch(C){console.error("Error fetching events:",C)}finally{d(!1)}},m=C=>{const L={};if(C.title.trim()?C.title.length>100&&(L.title="Title must be less than 100 characters"):L.title="Event title is required",!C.event_date)L.event_date="Event date is required";else{const V=new Date(C.event_date),K=new Date;K.setHours(0,0,0,0),V<K&&(L.event_date="Event date cannot be in the past")}return C.description&&C.description.length>500&&(L.description="Description must be less than 500 characters"),C.location&&C.location.length>100&&(L.location="Location must be less than 100 characters"),L},x=async C=>{var V;C.preventDefault(),v(""),y({});const L=m(u);if(Object.keys(L).length>0){y(L),v("Please fix the errors below");return}try{const K=await Ea.createEvent(u);n([...s,K.data]),a(!1),h({title:"",description:"",event_date:"",event_time:"",location:"",type:"meeting",priority:"medium",reminder_minutes:30,notify:!0,participants:""}),v(""),y({}),alert("Event created successfully!")}catch(K){console.error("Error creating event:",K);const H=(V=K.response)==null?void 0:V.data;H!=null&&H.field?(y({[H.field]:H.message}),v("Please check the highlighted field")):H!=null&&H.message?v(H.message):K.code==="ERR_NETWORK"?v("Network error. Please check your connection and try again."):v("Failed to create event. Please try again.")}},g=async C=>{if(C.preventDefault(),!!l)try{const{id:L,...V}=l,K=await Ea.updateEvent(L,V);n(s.map(H=>H.id===L?K.data:H)),o(null)}catch(L){console.error("Error updating event:",L)}},j=async C=>{try{await Ea.deleteEvent(C),n(s.filter(L=>L.id!==C))}catch(L){console.error("Error deleting event:",L)}},w=C=>{const L=C.getFullYear(),V=C.getMonth(),K=new Date(L,V,1),P=new Date(L,V+1,0).getDate(),W=K.getDay(),M=[];for(let F=0;F<W;F++)M.push(null);for(let F=1;F<=P;F++)M.push(F);return M},_=C=>{if(!C)return[];const L=`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}-${String(C).padStart(2,"0")}`;return s.filter(V=>V.event_date===L)},k=()=>{const C=new Date;return s.filter(V=>new Date(V.event_date)>=C).sort((V,K)=>new Date(V.event_date)-new Date(K.event_date)).slice(0,5)},S=C=>{const L=new Date(e);L.setMonth(e.getMonth()+C),t(L)},A=["January","February","March","April","May","June","July","August","September","October","November","December"],O=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];return c?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):r.jsxs("div",{className:"space-y-6 max-w-7xl mx-auto px-2 sm:px-4 lg:px-8 py-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 mb-4",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:"Calendar"}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Schedule and manage farm tasks and events"})]}),r.jsxs("div",{className:"flex flex-wrap items-center gap-2 sm:gap-3",children:[r.jsx("select",{className:"border border-gray-300 rounded-xl px-3 py-2 text-sm",children:r.jsx("option",{children:"All"})}),r.jsxs("button",{onClick:()=>a(!0),className:"btn-primary text-sm flex items-center space-x-2",children:[r.jsx(Wn,{className:"w-4 h-4"}),r.jsx("span",{children:"Add Event"})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6",children:[r.jsx("div",{className:"lg:col-span-3",children:r.jsxs("div",{className:"card",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("div",{className:"flex items-center space-x-4",children:r.jsxs("h2",{className:"text-lg font-semibold text-gray-900",children:[A[e.getMonth()]," ",e.getFullYear()]})}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("button",{onClick:()=>S(-1),className:"p-2 hover:bg-gray-100 rounded-xl",children:r.jsx(Jw,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>t(new Date),className:"px-3 py-2 text-sm text-primary-600 hover:bg-primary-50 rounded-xl",children:"Today"}),r.jsx("button",{onClick:()=>S(1),className:"p-2 hover:bg-gray-100 rounded-xl",children:r.jsx(Eg,{className:"w-4 h-4"})})]})]}),r.jsxs("div",{className:"grid grid-cols-7 gap-1",children:[O.map(C=>r.jsx("div",{className:"p-3 text-center text-sm font-medium text-gray-500",children:C},C)),w(e).map((C,L)=>{const V=_(C),K=C&&new Date().getDate()===C&&new Date().getMonth()===e.getMonth()&&new Date().getFullYear()===e.getFullYear();return r.jsx("div",{className:`min-h-[120px] p-2 border border-gray-100 ${C?"hover:bg-gray-50":""} ${K?"bg-primary-50 border-primary-200":""}`,children:C&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:`flex items-center justify-between text-sm font-medium mb-1 ${K?"text-primary-600":"text-gray-900"}`,children:r.jsx("span",{children:C})}),r.jsxs("div",{className:"space-y-1",children:[V.slice(0,3).map(H=>r.jsxs("div",{className:"text-xs p-1 bg-primary-100 text-primary-800 rounded flex items-center justify-between gap-1",children:[r.jsx("span",{className:"truncate",children:H.title}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("button",{className:"text-[10px] px-1 py-0.5 bg-white/70 rounded hover:bg-white",onClick:()=>o(H),children:"Edit"}),r.jsx("button",{className:"text-[10px] px-1 py-0.5 bg-red-100 text-red-700 rounded hover:bg-red-200",onClick:()=>j(H.id),children:"Del"})]})]},H.id)),V.length>3&&r.jsxs("div",{className:"text-xs text-gray-500",children:["+",V.length-3," more"]})]})]})},L)})]})]})}),r.jsx("div",{className:"space-y-6",children:r.jsxs("div",{className:"card",children:[r.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Upcoming Events"}),r.jsx("p",{className:"text-sm text-primary-600 mb-4",children:"Next 5 scheduled events"}),r.jsxs("div",{className:"space-y-3",children:[k().map(C=>r.jsxs("div",{className:"p-3 bg-gray-50 rounded-xl",children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[r.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full"}),r.jsx("span",{className:"font-medium text-sm text-gray-900",children:C.title})]}),r.jsxs("p",{className:"text-xs text-gray-600",children:[new Date(C.event_date).toLocaleDateString()," at ",C.event_time]}),C.location&&r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Assigned to ",C.location]})]},C.id)),k().length===0&&r.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No upcoming events"})]})]})})]}),i&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-md max-h-[90vh] overflow-y-auto mx-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Create New Event"}),r.jsx("button",{onClick:()=>a(!1),className:"p-1 hover:bg-gray-100 rounded",children:r.jsx(Re,{className:"w-5 h-5"})})]}),r.jsx("p",{className:"text-sm text-primary-600 mb-6",children:"Schedule a new task or event on the calendar"}),r.jsxs("form",{onSubmit:x,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title *"}),r.jsx("input",{type:"text",required:!0,className:"input-field",placeholder:"Event title",value:u.title,onChange:C=>h({...u,title:C.target.value})}),p.title&&r.jsx("p",{className:"text-xs text-red-500 mt-1",children:p.title})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date *"}),r.jsx("input",{type:"date",required:!0,className:"input-field",value:u.event_date,onChange:C=>h({...u,event_date:C.target.value})}),p.event_date&&r.jsx("p",{className:"text-xs text-red-500 mt-1",children:p.event_date})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Time *"}),r.jsx("input",{type:"time",required:!0,className:"input-field",value:u.event_time,onChange:C=>h({...u,event_time:C.target.value})})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),r.jsx("textarea",{className:"input-field",rows:"3",placeholder:"Event description",value:u.description,onChange:C=>h({...u,description:C.target.value})}),p.description&&r.jsx("p",{className:"text-xs text-red-500 mt-1",children:p.description})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type"}),r.jsxs("select",{className:"input-field",value:u.type,onChange:C=>h({...u,type:C.target.value}),children:[r.jsx("option",{value:"Task",children:"Task"}),r.jsx("option",{value:"Event",children:"Event"}),r.jsx("option",{value:"Meeting",children:"Meeting"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Priority"}),r.jsxs("select",{className:"input-field",value:u.priority,onChange:C=>h({...u,priority:C.target.value}),children:[r.jsx("option",{value:"low",children:"Low"}),r.jsx("option",{value:"medium",children:"Medium"}),r.jsx("option",{value:"high",children:"High"})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Location"}),r.jsx("input",{type:"text",className:"input-field",placeholder:"Event location",value:u.location,onChange:C=>h({...u,location:C.target.value})}),p.location&&r.jsx("p",{className:"text-xs text-red-500 mt-1",children:p.location})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Reminder (minutes before)"}),r.jsx("input",{type:"number",min:"0",className:"input-field",value:u.reminder_minutes,onChange:C=>h({...u,reminder_minutes:Number(C.target.value)})})]}),r.jsx("div",{className:"flex items-end",children:r.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-gray-700",children:[r.jsx("input",{type:"checkbox",className:"rounded",checked:u.notify,onChange:C=>h({...u,notify:C.target.checked})}),"Send notification"]})})]}),f&&r.jsx("p",{className:"text-xs text-red-500 mt-2",children:f}),r.jsxs("div",{className:"flex space-x-3 pt-4",children:[r.jsx("button",{type:"submit",className:"btn-primary flex-1",children:"Create Event"}),r.jsx("button",{type:"button",onClick:()=>a(!1),className:"btn-secondary flex-1",children:"Cancel"})]})]})]})}),l&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-md max-h-[90vh] overflow-y-auto mx-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Edit Event"}),r.jsx("button",{onClick:()=>o(null),className:"p-1 hover:bg-gray-100 rounded",children:r.jsx(Re,{className:"w-5 h-5"})})]}),r.jsxs("form",{onSubmit:g,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title *"}),r.jsx("input",{type:"text",required:!0,className:"input-field",value:l.title,onChange:C=>o({...l,title:C.target.value})})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date *"}),r.jsx("input",{type:"date",required:!0,className:"input-field",value:l.event_date,onChange:C=>o({...l,event_date:C.target.value})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Time *"}),r.jsx("input",{type:"time",required:!0,className:"input-field",value:l.event_time,onChange:C=>o({...l,event_time:C.target.value})})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),r.jsx("textarea",{className:"input-field",rows:"3",value:l.description||"",onChange:C=>o({...l,description:C.target.value})})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type"}),r.jsxs("select",{className:"input-field",value:l.type,onChange:C=>o({...l,type:C.target.value}),children:[r.jsx("option",{value:"Task",children:"Task"}),r.jsx("option",{value:"Event",children:"Event"}),r.jsx("option",{value:"Meeting",children:"Meeting"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Priority"}),r.jsxs("select",{className:"input-field",value:l.priority,onChange:C=>o({...l,priority:C.target.value}),children:[r.jsx("option",{value:"low",children:"Low"}),r.jsx("option",{value:"medium",children:"Medium"}),r.jsx("option",{value:"high",children:"High"})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Location"}),r.jsx("input",{type:"text",className:"input-field",value:l.location||"",onChange:C=>o({...l,location:C.target.value})})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Reminder (minutes before)"}),r.jsx("input",{type:"number",min:"0",className:"input-field",value:l.reminder_minutes||0,onChange:C=>o({...l,reminder_minutes:Number(C.target.value)})})]}),r.jsx("div",{className:"flex items-end",children:r.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-gray-700",children:[r.jsx("input",{type:"checkbox",className:"rounded",checked:!!l.notify,onChange:C=>o({...l,notify:C.target.checked})}),"Send notification"]})})]}),r.jsxs("div",{className:"flex space-x-3 pt-4",children:[r.jsx("button",{type:"submit",className:"btn-primary flex-1",children:"Save"}),r.jsx("button",{type:"button",onClick:()=>o(null),className:"btn-secondary flex-1",children:"Cancel"})]})]})]})})]})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function da(e){return e+.5|0}const Is=(e,t,s)=>Math.max(Math.min(e,s),t);function ai(e){return Is(da(e*2.55),0,255)}function Js(e){return Is(da(e*255),0,255)}function us(e){return Is(da(e/2.55)/100,0,1)}function pf(e){return Is(da(e*100),0,100)}const Nt={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Od=[..."0123456789ABCDEF"],EN=e=>Od[e&15],TN=e=>Od[(e&240)>>4]+Od[e&15],La=e=>(e&240)>>4===(e&15),DN=e=>La(e.r)&&La(e.g)&&La(e.b)&&La(e.a);function RN(e){var t=e.length,s;return e[0]==="#"&&(t===4||t===5?s={r:255&Nt[e[1]]*17,g:255&Nt[e[2]]*17,b:255&Nt[e[3]]*17,a:t===5?Nt[e[4]]*17:255}:(t===7||t===9)&&(s={r:Nt[e[1]]<<4|Nt[e[2]],g:Nt[e[3]]<<4|Nt[e[4]],b:Nt[e[5]]<<4|Nt[e[6]],a:t===9?Nt[e[7]]<<4|Nt[e[8]]:255})),s}const LN=(e,t)=>e<255?t(e):"";function FN(e){var t=DN(e)?EN:TN;return e?"#"+t(e.r)+t(e.g)+t(e.b)+LN(e.a,t):void 0}const AN=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Og(e,t,s){const n=t*Math.min(s,1-s),i=(a,l=(a+e/30)%12)=>s-n*Math.max(Math.min(l-3,9-l,1),-1);return[i(0),i(8),i(4)]}function ON(e,t,s){const n=(i,a=(i+e/60)%6)=>s-s*t*Math.max(Math.min(a,4-a,1),0);return[n(5),n(3),n(1)]}function zN(e,t,s){const n=Og(e,1,.5);let i;for(t+s>1&&(i=1/(t+s),t*=i,s*=i),i=0;i<3;i++)n[i]*=1-t-s,n[i]+=t;return n}function IN(e,t,s,n,i){return e===i?(t-s)/n+(t<s?6:0):t===i?(s-e)/n+2:(e-t)/n+4}function eh(e){const s=e.r/255,n=e.g/255,i=e.b/255,a=Math.max(s,n,i),l=Math.min(s,n,i),o=(a+l)/2;let c,d,u;return a!==l&&(u=a-l,d=o>.5?u/(2-a-l):u/(a+l),c=IN(s,n,i,u,a),c=c*60+.5),[c|0,d||0,o]}function th(e,t,s,n){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,s,n)).map(Js)}function sh(e,t,s){return th(Og,e,t,s)}function BN(e,t,s){return th(zN,e,t,s)}function WN(e,t,s){return th(ON,e,t,s)}function zg(e){return(e%360+360)%360}function HN(e){const t=AN.exec(e);let s=255,n;if(!t)return;t[5]!==n&&(s=t[6]?ai(+t[5]):Js(+t[5]));const i=zg(+t[2]),a=+t[3]/100,l=+t[4]/100;return t[1]==="hwb"?n=BN(i,a,l):t[1]==="hsv"?n=WN(i,a,l):n=sh(i,a,l),{r:n[0],g:n[1],b:n[2],a:s}}function UN(e,t){var s=eh(e);s[0]=zg(s[0]+t),s=sh(s),e.r=s[0],e.g=s[1],e.b=s[2]}function $N(e){if(!e)return;const t=eh(e),s=t[0],n=pf(t[1]),i=pf(t[2]);return e.a<255?`hsla(${s}, ${n}%, ${i}%, ${us(e.a)})`:`hsl(${s}, ${n}%, ${i}%)`}const gf={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},yf={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function VN(){const e={},t=Object.keys(yf),s=Object.keys(gf);let n,i,a,l,o;for(n=0;n<t.length;n++){for(l=o=t[n],i=0;i<s.length;i++)a=s[i],o=o.replace(a,gf[a]);a=parseInt(yf[l],16),e[o]=[a>>16&255,a>>8&255,a&255]}return e}let Fa;function YN(e){Fa||(Fa=VN(),Fa.transparent=[0,0,0,0]);const t=Fa[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const qN=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function XN(e){const t=qN.exec(e);let s=255,n,i,a;if(t){if(t[7]!==n){const l=+t[7];s=t[8]?ai(l):Is(l*255,0,255)}return n=+t[1],i=+t[3],a=+t[5],n=255&(t[2]?ai(n):Is(n,0,255)),i=255&(t[4]?ai(i):Is(i,0,255)),a=255&(t[6]?ai(a):Is(a,0,255)),{r:n,g:i,b:a,a:s}}}function QN(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${us(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}const bc=e=>e<=.0031308?e*12.92:Math.pow(e,1/2.4)*1.055-.055,Gn=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function KN(e,t,s){const n=Gn(us(e.r)),i=Gn(us(e.g)),a=Gn(us(e.b));return{r:Js(bc(n+s*(Gn(us(t.r))-n))),g:Js(bc(i+s*(Gn(us(t.g))-i))),b:Js(bc(a+s*(Gn(us(t.b))-a))),a:e.a+s*(t.a-e.a)}}function Aa(e,t,s){if(e){let n=eh(e);n[t]=Math.max(0,Math.min(n[t]+n[t]*s,t===0?360:1)),n=sh(n),e.r=n[0],e.g=n[1],e.b=n[2]}}function Ig(e,t){return e&&Object.assign(t||{},e)}function vf(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=Js(e[3]))):(t=Ig(e,{r:0,g:0,b:0,a:1}),t.a=Js(t.a)),t}function GN(e){return e.charAt(0)==="r"?XN(e):HN(e)}class Yi{constructor(t){if(t instanceof Yi)return t;const s=typeof t;let n;s==="object"?n=vf(t):s==="string"&&(n=RN(t)||YN(t)||GN(t)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var t=Ig(this._rgb);return t&&(t.a=us(t.a)),t}set rgb(t){this._rgb=vf(t)}rgbString(){return this._valid?QN(this._rgb):void 0}hexString(){return this._valid?FN(this._rgb):void 0}hslString(){return this._valid?$N(this._rgb):void 0}mix(t,s){if(t){const n=this.rgb,i=t.rgb;let a;const l=s===a?.5:s,o=2*l-1,c=n.a-i.a,d=((o*c===-1?o:(o+c)/(1+o*c))+1)/2;a=1-d,n.r=255&d*n.r+a*i.r+.5,n.g=255&d*n.g+a*i.g+.5,n.b=255&d*n.b+a*i.b+.5,n.a=l*n.a+(1-l)*i.a,this.rgb=n}return this}interpolate(t,s){return t&&(this._rgb=KN(this._rgb,t._rgb,s)),this}clone(){return new Yi(this.rgb)}alpha(t){return this._rgb.a=Js(t),this}clearer(t){const s=this._rgb;return s.a*=1-t,this}greyscale(){const t=this._rgb,s=da(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=s,this}opaquer(t){const s=this._rgb;return s.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Aa(this._rgb,2,t),this}darken(t){return Aa(this._rgb,2,-t),this}saturate(t){return Aa(this._rgb,1,t),this}desaturate(t){return Aa(this._rgb,1,-t),this}rotate(t){return UN(this._rgb,t),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function is(){}const JN=(()=>{let e=0;return()=>e++})();function ie(e){return e==null}function ye(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function ae(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}function Oe(e){return(typeof e=="number"||e instanceof Number)&&isFinite(+e)}function xt(e,t){return Oe(e)?e:t}function se(e,t){return typeof e>"u"?t:e}const ZN=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100:+e/t,Bg=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*t:+e;function me(e,t,s){if(e&&typeof e.call=="function")return e.apply(s,t)}function de(e,t,s,n){let i,a,l;if(ye(e))if(a=e.length,n)for(i=a-1;i>=0;i--)t.call(s,e[i],i);else for(i=0;i<a;i++)t.call(s,e[i],i);else if(ae(e))for(l=Object.keys(e),a=l.length,i=0;i<a;i++)t.call(s,e[l[i]],l[i])}function to(e,t){let s,n,i,a;if(!e||!t||e.length!==t.length)return!1;for(s=0,n=e.length;s<n;++s)if(i=e[s],a=t[s],i.datasetIndex!==a.datasetIndex||i.index!==a.index)return!1;return!0}function so(e){if(ye(e))return e.map(so);if(ae(e)){const t=Object.create(null),s=Object.keys(e),n=s.length;let i=0;for(;i<n;++i)t[s[i]]=so(e[s[i]]);return t}return e}function Wg(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function e_(e,t,s,n){if(!Wg(e))return;const i=t[e],a=s[e];ae(i)&&ae(a)?qi(i,a,n):t[e]=so(a)}function qi(e,t,s){const n=ye(t)?t:[t],i=n.length;if(!ae(e))return e;s=s||{};const a=s.merger||e_;let l;for(let o=0;o<i;++o){if(l=n[o],!ae(l))continue;const c=Object.keys(l);for(let d=0,u=c.length;d<u;++d)a(c[d],e,l,s)}return e}function ji(e,t){return qi(e,t,{merger:t_})}function t_(e,t,s){if(!Wg(e))return;const n=t[e],i=s[e];ae(n)&&ae(i)?ji(n,i):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=so(i))}const bf={"":e=>e,x:e=>e.x,y:e=>e.y};function s_(e){const t=e.split("."),s=[];let n="";for(const i of t)n+=i,n.endsWith("\\")?n=n.slice(0,-1)+".":(s.push(n),n="");return s}function n_(e){const t=s_(e);return s=>{for(const n of t){if(n==="")break;s=s&&s[n]}return s}}function Hn(e,t){return(bf[t]||(bf[t]=n_(t)))(e)}function nh(e){return e.charAt(0).toUpperCase()+e.slice(1)}const Xi=e=>typeof e<"u",rn=e=>typeof e=="function",jf=(e,t)=>{if(e.size!==t.size)return!1;for(const s of e)if(!t.has(s))return!1;return!0};function r_(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}const oe=Math.PI,ve=2*oe,i_=ve+oe,no=Number.POSITIVE_INFINITY,a_=oe/180,Ce=oe/2,fn=oe/4,wf=oe*2/3,Bs=Math.log10,ns=Math.sign;function wi(e,t,s){return Math.abs(e-t)<s}function Nf(e){const t=Math.round(e);e=wi(e,t,e/1e3)?t:e;const s=Math.pow(10,Math.floor(Bs(e))),n=e/s;return(n<=1?1:n<=2?2:n<=5?5:10)*s}function l_(e){const t=[],s=Math.sqrt(e);let n;for(n=1;n<s;n++)e%n===0&&(t.push(n),t.push(e/n));return s===(s|0)&&t.push(s),t.sort((i,a)=>i-a).pop(),t}function o_(e){return typeof e=="symbol"||typeof e=="object"&&e!==null&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}function Qi(e){return!o_(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function c_(e,t){const s=Math.round(e);return s-t<=e&&s+t>=e}function Hg(e,t,s){let n,i,a;for(n=0,i=e.length;n<i;n++)a=e[n][s],isNaN(a)||(t.min=Math.min(t.min,a),t.max=Math.max(t.max,a))}function es(e){return e*(oe/180)}function rh(e){return e*(180/oe)}function _f(e){if(!Oe(e))return;let t=1,s=0;for(;Math.round(e*t)/t!==e;)t*=10,s++;return s}function Ug(e,t){const s=t.x-e.x,n=t.y-e.y,i=Math.sqrt(s*s+n*n);let a=Math.atan2(n,s);return a<-.5*oe&&(a+=ve),{angle:a,distance:i}}function zd(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function d_(e,t){return(e-t+i_)%ve-oe}function lt(e){return(e%ve+ve)%ve}function Ki(e,t,s,n){const i=lt(e),a=lt(t),l=lt(s),o=lt(a-i),c=lt(l-i),d=lt(i-a),u=lt(i-l);return i===a||i===l||n&&a===l||o>c&&d<u}function Ke(e,t,s){return Math.max(t,Math.min(s,e))}function u_(e){return Ke(e,-32768,32767)}function Ws(e,t,s,n=1e-6){return e>=Math.min(t,s)-n&&e<=Math.max(t,s)+n}function ih(e,t,s){s=s||(l=>e[l]<t);let n=e.length-1,i=0,a;for(;n-i>1;)a=i+n>>1,s(a)?i=a:n=a;return{lo:i,hi:n}}const Mn=(e,t,s,n)=>ih(e,s,n?i=>{const a=e[i][t];return a<s||a===s&&e[i+1][t]===s}:i=>e[i][t]<s),h_=(e,t,s)=>ih(e,s,n=>e[n][t]>=s);function m_(e,t,s){let n=0,i=e.length;for(;n<i&&e[n]<t;)n++;for(;i>n&&e[i-1]>s;)i--;return n>0||i<e.length?e.slice(n,i):e}const $g=["push","pop","shift","splice","unshift"];function f_(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),$g.forEach(s=>{const n="_onData"+nh(s),i=e[s];Object.defineProperty(e,s,{configurable:!0,enumerable:!1,value(...a){const l=i.apply(this,a);return e._chartjs.listeners.forEach(o=>{typeof o[n]=="function"&&o[n](...a)}),l}})})}function kf(e,t){const s=e._chartjs;if(!s)return;const n=s.listeners,i=n.indexOf(t);i!==-1&&n.splice(i,1),!(n.length>0)&&($g.forEach(a=>{delete e[a]}),delete e._chartjs)}function Vg(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const Yg=function(){return typeof window>"u"?function(e){return e()}:window.requestAnimationFrame}();function qg(e,t){let s=[],n=!1;return function(...i){s=i,n||(n=!0,Yg.call(window,()=>{n=!1,e.apply(t,s)}))}}function x_(e,t){let s;return function(...n){return t?(clearTimeout(s),s=setTimeout(e,t,n)):e.apply(this,n),t}}const ah=e=>e==="start"?"left":e==="end"?"right":"center",qe=(e,t,s)=>e==="start"?t:e==="end"?s:(t+s)/2,p_=(e,t,s,n)=>e===(n?"left":"right")?s:e==="center"?(t+s)/2:t;function g_(e,t,s){const n=t.length;let i=0,a=n;if(e._sorted){const{iScale:l,vScale:o,_parsed:c}=e,d=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null,u=l.axis,{min:h,max:f,minDefined:v,maxDefined:p}=l.getUserBounds();if(v){if(i=Math.min(Mn(c,u,h).lo,s?n:Mn(t,u,l.getPixelForValue(h)).lo),d){const y=c.slice(0,i+1).reverse().findIndex(b=>!ie(b[o.axis]));i-=Math.max(0,y)}i=Ke(i,0,n-1)}if(p){let y=Math.max(Mn(c,l.axis,f,!0).hi+1,s?0:Mn(t,u,l.getPixelForValue(f),!0).hi+1);if(d){const b=c.slice(y-1).findIndex(m=>!ie(m[o.axis]));y+=Math.max(0,b)}a=Ke(y,i,n)-i}else a=n-i}return{start:i,count:a}}function y_(e){const{xScale:t,yScale:s,_scaleRanges:n}=e,i={xmin:t.min,xmax:t.max,ymin:s.min,ymax:s.max};if(!n)return e._scaleRanges=i,!0;const a=n.xmin!==t.min||n.xmax!==t.max||n.ymin!==s.min||n.ymax!==s.max;return Object.assign(n,i),a}const Oa=e=>e===0||e===1,Sf=(e,t,s)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*ve/s)),Cf=(e,t,s)=>Math.pow(2,-10*e)*Math.sin((e-t)*ve/s)+1,Ni={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*Ce)+1,easeOutSine:e=>Math.sin(e*Ce),easeInOutSine:e=>-.5*(Math.cos(oe*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>Oa(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>Oa(e)?e:Sf(e,.075,.3),easeOutElastic:e=>Oa(e)?e:Cf(e,.075,.3),easeInOutElastic(e){return Oa(e)?e:e<.5?.5*Sf(e*2,.1125,.45):.5+.5*Cf(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-Ni.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?Ni.easeInBounce(e*2)*.5:Ni.easeOutBounce(e*2-1)*.5+.5};function lh(e){if(e&&typeof e=="object"){const t=e.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function Pf(e){return lh(e)?e:new Yi(e)}function jc(e){return lh(e)?e:new Yi(e).saturate(.5).darken(.1).hexString()}const v_=["x","y","borderWidth","radius","tension"],b_=["color","borderColor","backgroundColor"];function j_(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),e.set("animations",{colors:{type:"color",properties:b_},numbers:{type:"number",properties:v_}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function w_(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Mf=new Map;function N_(e,t){t=t||{};const s=e+JSON.stringify(t);let n=Mf.get(s);return n||(n=new Intl.NumberFormat(e,t),Mf.set(s,n)),n}function Oo(e,t,s){return N_(t,s).format(e)}const Xg={values(e){return ye(e)?e:""+e},numeric(e,t,s){if(e===0)return"0";const n=this.chart.options.locale;let i,a=e;if(s.length>1){const d=Math.max(Math.abs(s[0].value),Math.abs(s[s.length-1].value));(d<1e-4||d>1e15)&&(i="scientific"),a=__(e,s)}const l=Bs(Math.abs(a)),o=isNaN(l)?1:Math.max(Math.min(-1*Math.floor(l),20),0),c={notation:i,minimumFractionDigits:o,maximumFractionDigits:o};return Object.assign(c,this.options.ticks.format),Oo(e,n,c)},logarithmic(e,t,s){if(e===0)return"0";const n=s[t].significand||e/Math.pow(10,Math.floor(Bs(e)));return[1,2,3,5,10,15].includes(n)||t>.8*s.length?Xg.numeric.call(this,e,t,s):""}};function __(e,t){let s=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(s)>=1&&e!==Math.floor(e)&&(s=e-Math.floor(e)),s}var zo={formatters:Xg};function k_(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,s)=>s.lineWidth,tickColor:(t,s)=>s.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:zo.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const Un=Object.create(null),Id=Object.create(null);function _i(e,t){if(!t)return e;const s=t.split(".");for(let n=0,i=s.length;n<i;++n){const a=s[n];e=e[a]||(e[a]=Object.create(null))}return e}function wc(e,t,s){return typeof t=="string"?qi(_i(e,t),s):qi(_i(e,""),t)}class S_{constructor(t,s){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=n=>n.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(n,i)=>jc(i.backgroundColor),this.hoverBorderColor=(n,i)=>jc(i.borderColor),this.hoverColor=(n,i)=>jc(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(s)}set(t,s){return wc(this,t,s)}get(t){return _i(this,t)}describe(t,s){return wc(Id,t,s)}override(t,s){return wc(Un,t,s)}route(t,s,n,i){const a=_i(this,t),l=_i(this,n),o="_"+s;Object.defineProperties(a,{[o]:{value:a[s],writable:!0},[s]:{enumerable:!0,get(){const c=this[o],d=l[i];return ae(c)?Object.assign({},d,c):se(c,d)},set(c){this[o]=c}}})}apply(t){t.forEach(s=>s(this))}}var _e=new S_({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[j_,w_,k_]);function C_(e){return!e||ie(e.size)||ie(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function ro(e,t,s,n,i){let a=t[i];return a||(a=t[i]=e.measureText(i).width,s.push(i)),a>n&&(n=a),n}function P_(e,t,s,n){n=n||{};let i=n.data=n.data||{},a=n.garbageCollect=n.garbageCollect||[];n.font!==t&&(i=n.data={},a=n.garbageCollect=[],n.font=t),e.save(),e.font=t;let l=0;const o=s.length;let c,d,u,h,f;for(c=0;c<o;c++)if(h=s[c],h!=null&&!ye(h))l=ro(e,i,a,l,h);else if(ye(h))for(d=0,u=h.length;d<u;d++)f=h[d],f!=null&&!ye(f)&&(l=ro(e,i,a,l,f));e.restore();const v=a.length/2;if(v>s.length){for(c=0;c<v;c++)delete i[a[c]];a.splice(0,v)}return l}function xn(e,t,s){const n=e.currentDevicePixelRatio,i=s!==0?Math.max(s/2,.5):0;return Math.round((t-i)*n)/n+i}function Ef(e,t){!t&&!e||(t=t||e.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function Bd(e,t,s,n){Qg(e,t,s,n,null)}function Qg(e,t,s,n,i){let a,l,o,c,d,u,h,f;const v=t.pointStyle,p=t.rotation,y=t.radius;let b=(p||0)*a_;if(v&&typeof v=="object"&&(a=v.toString(),a==="[object HTMLImageElement]"||a==="[object HTMLCanvasElement]")){e.save(),e.translate(s,n),e.rotate(b),e.drawImage(v,-v.width/2,-v.height/2,v.width,v.height),e.restore();return}if(!(isNaN(y)||y<=0)){switch(e.beginPath(),v){default:i?e.ellipse(s,n,i/2,y,0,0,ve):e.arc(s,n,y,0,ve),e.closePath();break;case"triangle":u=i?i/2:y,e.moveTo(s+Math.sin(b)*u,n-Math.cos(b)*y),b+=wf,e.lineTo(s+Math.sin(b)*u,n-Math.cos(b)*y),b+=wf,e.lineTo(s+Math.sin(b)*u,n-Math.cos(b)*y),e.closePath();break;case"rectRounded":d=y*.516,c=y-d,l=Math.cos(b+fn)*c,h=Math.cos(b+fn)*(i?i/2-d:c),o=Math.sin(b+fn)*c,f=Math.sin(b+fn)*(i?i/2-d:c),e.arc(s-h,n-o,d,b-oe,b-Ce),e.arc(s+f,n-l,d,b-Ce,b),e.arc(s+h,n+o,d,b,b+Ce),e.arc(s-f,n+l,d,b+Ce,b+oe),e.closePath();break;case"rect":if(!p){c=Math.SQRT1_2*y,u=i?i/2:c,e.rect(s-u,n-c,2*u,2*c);break}b+=fn;case"rectRot":h=Math.cos(b)*(i?i/2:y),l=Math.cos(b)*y,o=Math.sin(b)*y,f=Math.sin(b)*(i?i/2:y),e.moveTo(s-h,n-o),e.lineTo(s+f,n-l),e.lineTo(s+h,n+o),e.lineTo(s-f,n+l),e.closePath();break;case"crossRot":b+=fn;case"cross":h=Math.cos(b)*(i?i/2:y),l=Math.cos(b)*y,o=Math.sin(b)*y,f=Math.sin(b)*(i?i/2:y),e.moveTo(s-h,n-o),e.lineTo(s+h,n+o),e.moveTo(s+f,n-l),e.lineTo(s-f,n+l);break;case"star":h=Math.cos(b)*(i?i/2:y),l=Math.cos(b)*y,o=Math.sin(b)*y,f=Math.sin(b)*(i?i/2:y),e.moveTo(s-h,n-o),e.lineTo(s+h,n+o),e.moveTo(s+f,n-l),e.lineTo(s-f,n+l),b+=fn,h=Math.cos(b)*(i?i/2:y),l=Math.cos(b)*y,o=Math.sin(b)*y,f=Math.sin(b)*(i?i/2:y),e.moveTo(s-h,n-o),e.lineTo(s+h,n+o),e.moveTo(s+f,n-l),e.lineTo(s-f,n+l);break;case"line":l=i?i/2:Math.cos(b)*y,o=Math.sin(b)*y,e.moveTo(s-l,n-o),e.lineTo(s+l,n+o);break;case"dash":e.moveTo(s,n),e.lineTo(s+Math.cos(b)*(i?i/2:y),n+Math.sin(b)*y);break;case!1:e.closePath();break}e.fill(),t.borderWidth>0&&e.stroke()}}function xs(e,t,s){return s=s||.5,!t||e&&e.x>t.left-s&&e.x<t.right+s&&e.y>t.top-s&&e.y<t.bottom+s}function oh(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function ch(e){e.restore()}function M_(e,t,s,n,i){if(!t)return e.lineTo(s.x,s.y);if(i==="middle"){const a=(t.x+s.x)/2;e.lineTo(a,t.y),e.lineTo(a,s.y)}else i==="after"!=!!n?e.lineTo(t.x,s.y):e.lineTo(s.x,t.y);e.lineTo(s.x,s.y)}function E_(e,t,s,n){if(!t)return e.lineTo(s.x,s.y);e.bezierCurveTo(n?t.cp1x:t.cp2x,n?t.cp1y:t.cp2y,n?s.cp2x:s.cp1x,n?s.cp2y:s.cp1y,s.x,s.y)}function T_(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),ie(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function D_(e,t,s,n,i){if(i.strikethrough||i.underline){const a=e.measureText(n),l=t-a.actualBoundingBoxLeft,o=t+a.actualBoundingBoxRight,c=s-a.actualBoundingBoxAscent,d=s+a.actualBoundingBoxDescent,u=i.strikethrough?(c+d)/2:d;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=i.decorationWidth||2,e.moveTo(l,u),e.lineTo(o,u),e.stroke()}}function R_(e,t){const s=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=s}function $n(e,t,s,n,i,a={}){const l=ye(t)?t:[t],o=a.strokeWidth>0&&a.strokeColor!=="";let c,d;for(e.save(),e.font=i.string,T_(e,a),c=0;c<l.length;++c)d=l[c],a.backdrop&&R_(e,a.backdrop),o&&(a.strokeColor&&(e.strokeStyle=a.strokeColor),ie(a.strokeWidth)||(e.lineWidth=a.strokeWidth),e.strokeText(d,s,n,a.maxWidth)),e.fillText(d,s,n,a.maxWidth),D_(e,s,n,d,a),n+=Number(i.lineHeight);e.restore()}function Gi(e,t){const{x:s,y:n,w:i,h:a,radius:l}=t;e.arc(s+l.topLeft,n+l.topLeft,l.topLeft,1.5*oe,oe,!0),e.lineTo(s,n+a-l.bottomLeft),e.arc(s+l.bottomLeft,n+a-l.bottomLeft,l.bottomLeft,oe,Ce,!0),e.lineTo(s+i-l.bottomRight,n+a),e.arc(s+i-l.bottomRight,n+a-l.bottomRight,l.bottomRight,Ce,0,!0),e.lineTo(s+i,n+l.topRight),e.arc(s+i-l.topRight,n+l.topRight,l.topRight,0,-Ce,!0),e.lineTo(s+l.topLeft,n)}const L_=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,F_=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function A_(e,t){const s=(""+e).match(L_);if(!s||s[1]==="normal")return t*1.2;switch(e=+s[2],s[3]){case"px":return e;case"%":e/=100;break}return t*e}const O_=e=>+e||0;function dh(e,t){const s={},n=ae(t),i=n?Object.keys(t):t,a=ae(e)?n?l=>se(e[l],e[t[l]]):l=>e[l]:()=>e;for(const l of i)s[l]=O_(a(l));return s}function Kg(e){return dh(e,{top:"y",right:"x",bottom:"y",left:"x"})}function Dn(e){return dh(e,["topLeft","topRight","bottomLeft","bottomRight"])}function Je(e){const t=Kg(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function Fe(e,t){e=e||{},t=t||_e.font;let s=se(e.size,t.size);typeof s=="string"&&(s=parseInt(s,10));let n=se(e.style,t.style);n&&!(""+n).match(F_)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);const i={family:se(e.family,t.family),lineHeight:A_(se(e.lineHeight,t.lineHeight),s),size:s,style:n,weight:se(e.weight,t.weight),string:""};return i.string=C_(i),i}function za(e,t,s,n){let i=!0,a,l,o;for(a=0,l=e.length;a<l;++a)if(o=e[a],o!==void 0&&(t!==void 0&&typeof o=="function"&&(o=o(t),i=!1),s!==void 0&&ye(o)&&(o=o[s%o.length],i=!1),o!==void 0))return n&&!i&&(n.cacheable=!1),o}function z_(e,t,s){const{min:n,max:i}=e,a=Bg(t,(i-n)/2),l=(o,c)=>s&&o===0?0:o+c;return{min:l(n,-Math.abs(a)),max:l(i,a)}}function un(e,t){return Object.assign(Object.create(e),t)}function uh(e,t=[""],s,n,i=()=>e[0]){const a=s||e;typeof n>"u"&&(n=ey("_fallback",e));const l={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:a,_fallback:n,_getTarget:i,override:o=>uh([o,...e],t,a,n)};return new Proxy(l,{deleteProperty(o,c){return delete o[c],delete o._keys,delete e[0][c],!0},get(o,c){return Jg(o,c,()=>Y_(c,t,e,o))},getOwnPropertyDescriptor(o,c){return Reflect.getOwnPropertyDescriptor(o._scopes[0],c)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(o,c){return Df(o).includes(c)},ownKeys(o){return Df(o)},set(o,c,d){const u=o._storage||(o._storage=i());return o[c]=u[c]=d,delete o._keys,!0}})}function Pr(e,t,s,n){const i={_cacheable:!1,_proxy:e,_context:t,_subProxy:s,_stack:new Set,_descriptors:Gg(e,n),setContext:a=>Pr(e,a,s,n),override:a=>Pr(e.override(a),t,s,n)};return new Proxy(i,{deleteProperty(a,l){return delete a[l],delete e[l],!0},get(a,l,o){return Jg(a,l,()=>B_(a,l,o))},getOwnPropertyDescriptor(a,l){return a._descriptors.allKeys?Reflect.has(e,l)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,l)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(a,l){return Reflect.has(e,l)},ownKeys(){return Reflect.ownKeys(e)},set(a,l,o){return e[l]=o,delete a[l],!0}})}function Gg(e,t={scriptable:!0,indexable:!0}){const{_scriptable:s=t.scriptable,_indexable:n=t.indexable,_allKeys:i=t.allKeys}=e;return{allKeys:i,scriptable:s,indexable:n,isScriptable:rn(s)?s:()=>s,isIndexable:rn(n)?n:()=>n}}const I_=(e,t)=>e?e+nh(t):t,hh=(e,t)=>ae(t)&&e!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function Jg(e,t,s){if(Object.prototype.hasOwnProperty.call(e,t)||t==="constructor")return e[t];const n=s();return e[t]=n,n}function B_(e,t,s){const{_proxy:n,_context:i,_subProxy:a,_descriptors:l}=e;let o=n[t];return rn(o)&&l.isScriptable(t)&&(o=W_(t,o,e,s)),ye(o)&&o.length&&(o=H_(t,o,e,l.isIndexable)),hh(t,o)&&(o=Pr(o,i,a&&a[t],l)),o}function W_(e,t,s,n){const{_proxy:i,_context:a,_subProxy:l,_stack:o}=s;if(o.has(e))throw new Error("Recursion detected: "+Array.from(o).join("->")+"->"+e);o.add(e);let c=t(a,l||n);return o.delete(e),hh(e,c)&&(c=mh(i._scopes,i,e,c)),c}function H_(e,t,s,n){const{_proxy:i,_context:a,_subProxy:l,_descriptors:o}=s;if(typeof a.index<"u"&&n(e))return t[a.index%t.length];if(ae(t[0])){const c=t,d=i._scopes.filter(u=>u!==c);t=[];for(const u of c){const h=mh(d,i,e,u);t.push(Pr(h,a,l&&l[e],o))}}return t}function Zg(e,t,s){return rn(e)?e(t,s):e}const U_=(e,t)=>e===!0?t:typeof e=="string"?Hn(t,e):void 0;function $_(e,t,s,n,i){for(const a of t){const l=U_(s,a);if(l){e.add(l);const o=Zg(l._fallback,s,i);if(typeof o<"u"&&o!==s&&o!==n)return o}else if(l===!1&&typeof n<"u"&&s!==n)return null}return!1}function mh(e,t,s,n){const i=t._rootScopes,a=Zg(t._fallback,s,n),l=[...e,...i],o=new Set;o.add(n);let c=Tf(o,l,s,a||s,n);return c===null||typeof a<"u"&&a!==s&&(c=Tf(o,l,a,c,n),c===null)?!1:uh(Array.from(o),[""],i,a,()=>V_(t,s,n))}function Tf(e,t,s,n,i){for(;s;)s=$_(e,t,s,n,i);return s}function V_(e,t,s){const n=e._getTarget();t in n||(n[t]={});const i=n[t];return ye(i)&&ae(s)?s:i||{}}function Y_(e,t,s,n){let i;for(const a of t)if(i=ey(I_(a,e),s),typeof i<"u")return hh(e,i)?mh(s,n,e,i):i}function ey(e,t){for(const s of t){if(!s)continue;const n=s[e];if(typeof n<"u")return n}}function Df(e){let t=e._keys;return t||(t=e._keys=q_(e._scopes)),t}function q_(e){const t=new Set;for(const s of e)for(const n of Object.keys(s).filter(i=>!i.startsWith("_")))t.add(n);return Array.from(t)}const X_=Number.EPSILON||1e-14,Mr=(e,t)=>t<e.length&&!e[t].skip&&e[t],ty=e=>e==="x"?"y":"x";function Q_(e,t,s,n){const i=e.skip?t:e,a=t,l=s.skip?t:s,o=zd(a,i),c=zd(l,a);let d=o/(o+c),u=c/(o+c);d=isNaN(d)?0:d,u=isNaN(u)?0:u;const h=n*d,f=n*u;return{previous:{x:a.x-h*(l.x-i.x),y:a.y-h*(l.y-i.y)},next:{x:a.x+f*(l.x-i.x),y:a.y+f*(l.y-i.y)}}}function K_(e,t,s){const n=e.length;let i,a,l,o,c,d=Mr(e,0);for(let u=0;u<n-1;++u)if(c=d,d=Mr(e,u+1),!(!c||!d)){if(wi(t[u],0,X_)){s[u]=s[u+1]=0;continue}i=s[u]/t[u],a=s[u+1]/t[u],o=Math.pow(i,2)+Math.pow(a,2),!(o<=9)&&(l=3/Math.sqrt(o),s[u]=i*l*t[u],s[u+1]=a*l*t[u])}}function G_(e,t,s="x"){const n=ty(s),i=e.length;let a,l,o,c=Mr(e,0);for(let d=0;d<i;++d){if(l=o,o=c,c=Mr(e,d+1),!o)continue;const u=o[s],h=o[n];l&&(a=(u-l[s])/3,o[`cp1${s}`]=u-a,o[`cp1${n}`]=h-a*t[d]),c&&(a=(c[s]-u)/3,o[`cp2${s}`]=u+a,o[`cp2${n}`]=h+a*t[d])}}function J_(e,t="x"){const s=ty(t),n=e.length,i=Array(n).fill(0),a=Array(n);let l,o,c,d=Mr(e,0);for(l=0;l<n;++l)if(o=c,c=d,d=Mr(e,l+1),!!c){if(d){const u=d[t]-c[t];i[l]=u!==0?(d[s]-c[s])/u:0}a[l]=o?d?ns(i[l-1])!==ns(i[l])?0:(i[l-1]+i[l])/2:i[l-1]:i[l]}K_(e,i,a),G_(e,a,t)}function Ia(e,t,s){return Math.max(Math.min(e,s),t)}function Z_(e,t){let s,n,i,a,l,o=xs(e[0],t);for(s=0,n=e.length;s<n;++s)l=a,a=o,o=s<n-1&&xs(e[s+1],t),a&&(i=e[s],l&&(i.cp1x=Ia(i.cp1x,t.left,t.right),i.cp1y=Ia(i.cp1y,t.top,t.bottom)),o&&(i.cp2x=Ia(i.cp2x,t.left,t.right),i.cp2y=Ia(i.cp2y,t.top,t.bottom)))}function ek(e,t,s,n,i){let a,l,o,c;if(t.spanGaps&&(e=e.filter(d=>!d.skip)),t.cubicInterpolationMode==="monotone")J_(e,i);else{let d=n?e[e.length-1]:e[0];for(a=0,l=e.length;a<l;++a)o=e[a],c=Q_(d,o,e[Math.min(a+1,l-(n?0:1))%l],t.tension),o.cp1x=c.previous.x,o.cp1y=c.previous.y,o.cp2x=c.next.x,o.cp2y=c.next.y,d=o}t.capBezierPoints&&Z_(e,s)}function fh(){return typeof window<"u"&&typeof document<"u"}function xh(e){let t=e.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function io(e,t,s){let n;return typeof e=="string"?(n=parseInt(e,10),e.indexOf("%")!==-1&&(n=n/100*t.parentNode[s])):n=e,n}const Io=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);function tk(e,t){return Io(e).getPropertyValue(t)}const sk=["top","right","bottom","left"];function Rn(e,t,s){const n={};s=s?"-"+s:"";for(let i=0;i<4;i++){const a=sk[i];n[a]=parseFloat(e[t+"-"+a+s])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}const nk=(e,t,s)=>(e>0||t>0)&&(!s||!s.shadowRoot);function rk(e,t){const s=e.touches,n=s&&s.length?s[0]:e,{offsetX:i,offsetY:a}=n;let l=!1,o,c;if(nk(i,a,e.target))o=i,c=a;else{const d=t.getBoundingClientRect();o=n.clientX-d.left,c=n.clientY-d.top,l=!0}return{x:o,y:c,box:l}}function jn(e,t){if("native"in e)return e;const{canvas:s,currentDevicePixelRatio:n}=t,i=Io(s),a=i.boxSizing==="border-box",l=Rn(i,"padding"),o=Rn(i,"border","width"),{x:c,y:d,box:u}=rk(e,s),h=l.left+(u&&o.left),f=l.top+(u&&o.top);let{width:v,height:p}=t;return a&&(v-=l.width+o.width,p-=l.height+o.height),{x:Math.round((c-h)/v*s.width/n),y:Math.round((d-f)/p*s.height/n)}}function ik(e,t,s){let n,i;if(t===void 0||s===void 0){const a=e&&xh(e);if(!a)t=e.clientWidth,s=e.clientHeight;else{const l=a.getBoundingClientRect(),o=Io(a),c=Rn(o,"border","width"),d=Rn(o,"padding");t=l.width-d.width-c.width,s=l.height-d.height-c.height,n=io(o.maxWidth,a,"clientWidth"),i=io(o.maxHeight,a,"clientHeight")}}return{width:t,height:s,maxWidth:n||no,maxHeight:i||no}}const Ba=e=>Math.round(e*10)/10;function ak(e,t,s,n){const i=Io(e),a=Rn(i,"margin"),l=io(i.maxWidth,e,"clientWidth")||no,o=io(i.maxHeight,e,"clientHeight")||no,c=ik(e,t,s);let{width:d,height:u}=c;if(i.boxSizing==="content-box"){const f=Rn(i,"border","width"),v=Rn(i,"padding");d-=v.width+f.width,u-=v.height+f.height}return d=Math.max(0,d-a.width),u=Math.max(0,n?d/n:u-a.height),d=Ba(Math.min(d,l,c.maxWidth)),u=Ba(Math.min(u,o,c.maxHeight)),d&&!u&&(u=Ba(d/2)),(t!==void 0||s!==void 0)&&n&&c.height&&u>c.height&&(u=c.height,d=Ba(Math.floor(u*n))),{width:d,height:u}}function Rf(e,t,s){const n=t||1,i=Math.floor(e.height*n),a=Math.floor(e.width*n);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const l=e.canvas;return l.style&&(s||!l.style.height&&!l.style.width)&&(l.style.height=`${e.height}px`,l.style.width=`${e.width}px`),e.currentDevicePixelRatio!==n||l.height!==i||l.width!==a?(e.currentDevicePixelRatio=n,l.height=i,l.width=a,e.ctx.setTransform(n,0,0,n,0,0),!0):!1}const lk=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};fh()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return e}();function Lf(e,t){const s=tk(e,t),n=s&&s.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function wn(e,t,s,n){return{x:e.x+s*(t.x-e.x),y:e.y+s*(t.y-e.y)}}function ok(e,t,s,n){return{x:e.x+s*(t.x-e.x),y:n==="middle"?s<.5?e.y:t.y:n==="after"?s<1?e.y:t.y:s>0?t.y:e.y}}function ck(e,t,s,n){const i={x:e.cp2x,y:e.cp2y},a={x:t.cp1x,y:t.cp1y},l=wn(e,i,s),o=wn(i,a,s),c=wn(a,t,s),d=wn(l,o,s),u=wn(o,c,s);return wn(d,u,s)}const dk=function(e,t){return{x(s){return e+e+t-s},setWidth(s){t=s},textAlign(s){return s==="center"?s:s==="right"?"left":"right"},xPlus(s,n){return s-n},leftForLtr(s,n){return s-n}}},uk=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,t){return e+t},leftForLtr(e,t){return e}}};function vr(e,t,s){return e?dk(t,s):uk()}function sy(e,t){let s,n;(t==="ltr"||t==="rtl")&&(s=e.canvas.style,n=[s.getPropertyValue("direction"),s.getPropertyPriority("direction")],s.setProperty("direction",t,"important"),e.prevTextDirection=n)}function ny(e,t){t!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function ry(e){return e==="angle"?{between:Ki,compare:d_,normalize:lt}:{between:Ws,compare:(t,s)=>t-s,normalize:t=>t}}function Ff({start:e,end:t,count:s,loop:n,style:i}){return{start:e%s,end:t%s,loop:n&&(t-e+1)%s===0,style:i}}function hk(e,t,s){const{property:n,start:i,end:a}=s,{between:l,normalize:o}=ry(n),c=t.length;let{start:d,end:u,loop:h}=e,f,v;if(h){for(d+=c,u+=c,f=0,v=c;f<v&&l(o(t[d%c][n]),i,a);++f)d--,u--;d%=c,u%=c}return u<d&&(u+=c),{start:d,end:u,loop:h,style:e.style}}function mk(e,t,s){if(!s)return[e];const{property:n,start:i,end:a}=s,l=t.length,{compare:o,between:c,normalize:d}=ry(n),{start:u,end:h,loop:f,style:v}=hk(e,t,s),p=[];let y=!1,b=null,m,x,g;const j=()=>c(i,g,m)&&o(i,g)!==0,w=()=>o(a,m)===0||c(a,g,m),_=()=>y||j(),k=()=>!y||w();for(let S=u,A=u;S<=h;++S)x=t[S%l],!x.skip&&(m=d(x[n]),m!==g&&(y=c(m,i,a),b===null&&_()&&(b=o(m,i)===0?S:A),b!==null&&k()&&(p.push(Ff({start:b,end:S,loop:f,count:l,style:v})),b=null),A=S,g=m));return b!==null&&p.push(Ff({start:b,end:h,loop:f,count:l,style:v})),p}function fk(e,t){const s=[],n=e.segments;for(let i=0;i<n.length;i++){const a=mk(n[i],e.points,t);a.length&&s.push(...a)}return s}function xk(e,t,s,n){let i=0,a=t-1;if(s&&!n)for(;i<t&&!e[i].skip;)i++;for(;i<t&&e[i].skip;)i++;for(i%=t,s&&(a+=i);a>i&&e[a%t].skip;)a--;return a%=t,{start:i,end:a}}function pk(e,t,s,n){const i=e.length,a=[];let l=t,o=e[t],c;for(c=t+1;c<=s;++c){const d=e[c%i];d.skip||d.stop?o.skip||(n=!1,a.push({start:t%i,end:(c-1)%i,loop:n}),t=l=d.stop?c:null):(l=c,o.skip&&(t=c)),o=d}return l!==null&&a.push({start:t%i,end:l%i,loop:n}),a}function gk(e,t){const s=e.points,n=e.options.spanGaps,i=s.length;if(!i)return[];const a=!!e._loop,{start:l,end:o}=xk(s,i,a,n);if(n===!0)return Af(e,[{start:l,end:o,loop:a}],s,t);const c=o<l?o+i:o,d=!!e._fullLoop&&l===0&&o===i-1;return Af(e,pk(s,l,c,d),s,t)}function Af(e,t,s,n){return!n||!n.setContext||!s?t:yk(e,t,s,n)}function yk(e,t,s,n){const i=e._chart.getContext(),a=Of(e.options),{_datasetIndex:l,options:{spanGaps:o}}=e,c=s.length,d=[];let u=a,h=t[0].start,f=h;function v(p,y,b,m){const x=o?-1:1;if(p!==y){for(p+=c;s[p%c].skip;)p-=x;for(;s[y%c].skip;)y+=x;p%c!==y%c&&(d.push({start:p%c,end:y%c,loop:b,style:m}),u=m,h=y%c)}}for(const p of t){h=o?h:p.start;let y=s[h%c],b;for(f=h+1;f<=p.end;f++){const m=s[f%c];b=Of(n.setContext(un(i,{type:"segment",p0:y,p1:m,p0DataIndex:(f-1)%c,p1DataIndex:f%c,datasetIndex:l}))),vk(b,u)&&v(h,f-1,p.loop,u),y=m,u=b}h<f-1&&v(h,f-1,p.loop,u)}return d}function Of(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function vk(e,t){if(!t)return!1;const s=[],n=function(i,a){return lh(a)?(s.includes(a)||s.push(a),s.indexOf(a)):a};return JSON.stringify(e,n)!==JSON.stringify(t,n)}function Wa(e,t,s){return e.options.clip?e[s]:t[s]}function bk(e,t){const{xScale:s,yScale:n}=e;return s&&n?{left:Wa(s,t,"left"),right:Wa(s,t,"right"),top:Wa(n,t,"top"),bottom:Wa(n,t,"bottom")}:t}function jk(e,t){const s=t._clip;if(s.disabled)return!1;const n=bk(t,e.chartArea);return{left:s.left===!1?0:n.left-(s.left===!0?0:s.left),right:s.right===!1?e.width:n.right+(s.right===!0?0:s.right),top:s.top===!1?0:n.top-(s.top===!0?0:s.top),bottom:s.bottom===!1?e.height:n.bottom+(s.bottom===!0?0:s.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class wk{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,s,n,i){const a=s.listeners[i],l=s.duration;a.forEach(o=>o({chart:t,initial:s.initial,numSteps:l,currentStep:Math.min(n-s.start,l)}))}_refresh(){this._request||(this._running=!0,this._request=Yg.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let s=0;this._charts.forEach((n,i)=>{if(!n.running||!n.items.length)return;const a=n.items;let l=a.length-1,o=!1,c;for(;l>=0;--l)c=a[l],c._active?(c._total>n.duration&&(n.duration=c._total),c.tick(t),o=!0):(a[l]=a[a.length-1],a.pop());o&&(i.draw(),this._notify(i,n,t,"progress")),a.length||(n.running=!1,this._notify(i,n,t,"complete"),n.initial=!1),s+=a.length}),this._lastDate=t,s===0&&(this._running=!1)}_getAnims(t){const s=this._charts;let n=s.get(t);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},s.set(t,n)),n}listen(t,s,n){this._getAnims(t).listeners[s].push(n)}add(t,s){!s||!s.length||this._getAnims(t).items.push(...s)}has(t){return this._getAnims(t).items.length>0}start(t){const s=this._charts.get(t);s&&(s.running=!0,s.start=Date.now(),s.duration=s.items.reduce((n,i)=>Math.max(n,i._duration),0),this._refresh())}running(t){if(!this._running)return!1;const s=this._charts.get(t);return!(!s||!s.running||!s.items.length)}stop(t){const s=this._charts.get(t);if(!s||!s.items.length)return;const n=s.items;let i=n.length-1;for(;i>=0;--i)n[i].cancel();s.items=[],this._notify(t,s,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var as=new wk;const zf="transparent",Nk={boolean(e,t,s){return s>.5?t:e},color(e,t,s){const n=Pf(e||zf),i=n.valid&&Pf(t||zf);return i&&i.valid?i.mix(n,s).hexString():t},number(e,t,s){return e+(t-e)*s}};class _k{constructor(t,s,n,i){const a=s[n];i=za([t.to,i,a,t.from]);const l=za([t.from,a,i]);this._active=!0,this._fn=t.fn||Nk[t.type||typeof l],this._easing=Ni[t.easing]||Ni.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=s,this._prop=n,this._from=l,this._to=i,this._promises=void 0}active(){return this._active}update(t,s,n){if(this._active){this._notify(!1);const i=this._target[this._prop],a=n-this._start,l=this._duration-a;this._start=n,this._duration=Math.floor(Math.max(l,t.duration)),this._total+=a,this._loop=!!t.loop,this._to=za([t.to,s,i,t.from]),this._from=za([t.from,i,s])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const s=t-this._start,n=this._duration,i=this._prop,a=this._from,l=this._loop,o=this._to;let c;if(this._active=a!==o&&(l||s<n),!this._active){this._target[i]=o,this._notify(!0);return}if(s<0){this._target[i]=a;return}c=s/n%2,c=l&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[i]=this._fn(a,o,c)}wait(){const t=this._promises||(this._promises=[]);return new Promise((s,n)=>{t.push({res:s,rej:n})})}_notify(t){const s=t?"res":"rej",n=this._promises||[];for(let i=0;i<n.length;i++)n[i][s]()}}class iy{constructor(t,s){this._chart=t,this._properties=new Map,this.configure(s)}configure(t){if(!ae(t))return;const s=Object.keys(_e.animation),n=this._properties;Object.getOwnPropertyNames(t).forEach(i=>{const a=t[i];if(!ae(a))return;const l={};for(const o of s)l[o]=a[o];(ye(a.properties)&&a.properties||[i]).forEach(o=>{(o===i||!n.has(o))&&n.set(o,l)})})}_animateOptions(t,s){const n=s.options,i=Sk(t,n);if(!i)return[];const a=this._createAnimations(i,n);return n.$shared&&kk(t.options.$animations,n).then(()=>{t.options=n},()=>{}),a}_createAnimations(t,s){const n=this._properties,i=[],a=t.$animations||(t.$animations={}),l=Object.keys(s),o=Date.now();let c;for(c=l.length-1;c>=0;--c){const d=l[c];if(d.charAt(0)==="$")continue;if(d==="options"){i.push(...this._animateOptions(t,s));continue}const u=s[d];let h=a[d];const f=n.get(d);if(h)if(f&&h.active()){h.update(f,u,o);continue}else h.cancel();if(!f||!f.duration){t[d]=u;continue}a[d]=h=new _k(f,t,d,u),i.push(h)}return i}update(t,s){if(this._properties.size===0){Object.assign(t,s);return}const n=this._createAnimations(t,s);if(n.length)return as.add(this._chart,n),!0}}function kk(e,t){const s=[],n=Object.keys(t);for(let i=0;i<n.length;i++){const a=e[n[i]];a&&a.active()&&s.push(a.wait())}return Promise.all(s)}function Sk(e,t){if(!t)return;let s=e.options;if(!s){e.options=t;return}return s.$shared&&(e.options=s=Object.assign({},s,{$shared:!1,$animations:{}})),s}function If(e,t){const s=e&&e.options||{},n=s.reverse,i=s.min===void 0?t:0,a=s.max===void 0?t:0;return{start:n?a:i,end:n?i:a}}function Ck(e,t,s){if(s===!1)return!1;const n=If(e,s),i=If(t,s);return{top:i.end,right:n.end,bottom:i.start,left:n.start}}function Pk(e){let t,s,n,i;return ae(e)?(t=e.top,s=e.right,n=e.bottom,i=e.left):t=s=n=i=e,{top:t,right:s,bottom:n,left:i,disabled:e===!1}}function ay(e,t){const s=[],n=e._getSortedDatasetMetas(t);let i,a;for(i=0,a=n.length;i<a;++i)s.push(n[i].index);return s}function Bf(e,t,s,n={}){const i=e.keys,a=n.mode==="single";let l,o,c,d;if(t===null)return;let u=!1;for(l=0,o=i.length;l<o;++l){if(c=+i[l],c===s){if(u=!0,n.all)continue;break}d=e.values[c],Oe(d)&&(a||t===0||ns(t)===ns(d))&&(t+=d)}return!u&&!n.all?0:t}function Mk(e,t){const{iScale:s,vScale:n}=t,i=s.axis==="x"?"x":"y",a=n.axis==="x"?"x":"y",l=Object.keys(e),o=new Array(l.length);let c,d,u;for(c=0,d=l.length;c<d;++c)u=l[c],o[c]={[i]:u,[a]:e[u]};return o}function Nc(e,t){const s=e&&e.options.stacked;return s||s===void 0&&t.stack!==void 0}function Ek(e,t,s){return`${e.id}.${t.id}.${s.stack||s.type}`}function Tk(e){const{min:t,max:s,minDefined:n,maxDefined:i}=e.getUserBounds();return{min:n?t:Number.NEGATIVE_INFINITY,max:i?s:Number.POSITIVE_INFINITY}}function Dk(e,t,s){const n=e[t]||(e[t]={});return n[s]||(n[s]={})}function Wf(e,t,s,n){for(const i of t.getMatchingVisibleMetas(n).reverse()){const a=e[i.index];if(s&&a>0||!s&&a<0)return i.index}return null}function Hf(e,t){const{chart:s,_cachedMeta:n}=e,i=s._stacks||(s._stacks={}),{iScale:a,vScale:l,index:o}=n,c=a.axis,d=l.axis,u=Ek(a,l,n),h=t.length;let f;for(let v=0;v<h;++v){const p=t[v],{[c]:y,[d]:b}=p,m=p._stacks||(p._stacks={});f=m[d]=Dk(i,u,y),f[o]=b,f._top=Wf(f,l,!0,n.type),f._bottom=Wf(f,l,!1,n.type);const x=f._visualValues||(f._visualValues={});x[o]=b}}function _c(e,t){const s=e.scales;return Object.keys(s).filter(n=>s[n].axis===t).shift()}function Rk(e,t){return un(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function Lk(e,t,s){return un(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:s,index:t,mode:"default",type:"data"})}function Gr(e,t){const s=e.controller.index,n=e.vScale&&e.vScale.axis;if(n){t=t||e._parsed;for(const i of t){const a=i._stacks;if(!a||a[n]===void 0||a[n][s]===void 0)return;delete a[n][s],a[n]._visualValues!==void 0&&a[n]._visualValues[s]!==void 0&&delete a[n]._visualValues[s]}}}const kc=e=>e==="reset"||e==="none",Uf=(e,t)=>t?e:Object.assign({},e),Fk=(e,t,s)=>e&&!t.hidden&&t._stacked&&{keys:ay(s,!0),values:null};class Ln{constructor(t,s){this.chart=t,this._ctx=t.ctx,this.index=s,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=Nc(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Gr(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,s=this._cachedMeta,n=this.getDataset(),i=(h,f,v,p)=>h==="x"?f:h==="r"?p:v,a=s.xAxisID=se(n.xAxisID,_c(t,"x")),l=s.yAxisID=se(n.yAxisID,_c(t,"y")),o=s.rAxisID=se(n.rAxisID,_c(t,"r")),c=s.indexAxis,d=s.iAxisID=i(c,a,l,o),u=s.vAxisID=i(c,l,a,o);s.xScale=this.getScaleForId(a),s.yScale=this.getScaleForId(l),s.rScale=this.getScaleForId(o),s.iScale=this.getScaleForId(d),s.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const s=this._cachedMeta;return t===s.iScale?s.vScale:s.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&kf(this._data,this),t._stacked&&Gr(t)}_dataCheck(){const t=this.getDataset(),s=t.data||(t.data=[]),n=this._data;if(ae(s)){const i=this._cachedMeta;this._data=Mk(s,i)}else if(n!==s){if(n){kf(n,this);const i=this._cachedMeta;Gr(i),i._parsed=[]}s&&Object.isExtensible(s)&&f_(s,this),this._syncList=[],this._data=s}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const s=this._cachedMeta,n=this.getDataset();let i=!1;this._dataCheck();const a=s._stacked;s._stacked=Nc(s.vScale,s),s.stack!==n.stack&&(i=!0,Gr(s),s.stack=n.stack),this._resyncElements(t),(i||a!==s._stacked)&&(Hf(this,s._parsed),s._stacked=Nc(s.vScale,s))}configure(){const t=this.chart.config,s=t.datasetScopeKeys(this._type),n=t.getOptionScopes(this.getDataset(),s,!0);this.options=t.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,s){const{_cachedMeta:n,_data:i}=this,{iScale:a,_stacked:l}=n,o=a.axis;let c=t===0&&s===i.length?!0:n._sorted,d=t>0&&n._parsed[t-1],u,h,f;if(this._parsing===!1)n._parsed=i,n._sorted=!0,f=i;else{ye(i[t])?f=this.parseArrayData(n,i,t,s):ae(i[t])?f=this.parseObjectData(n,i,t,s):f=this.parsePrimitiveData(n,i,t,s);const v=()=>h[o]===null||d&&h[o]<d[o];for(u=0;u<s;++u)n._parsed[u+t]=h=f[u],c&&(v()&&(c=!1),d=h);n._sorted=c}l&&Hf(this,f)}parsePrimitiveData(t,s,n,i){const{iScale:a,vScale:l}=t,o=a.axis,c=l.axis,d=a.getLabels(),u=a===l,h=new Array(i);let f,v,p;for(f=0,v=i;f<v;++f)p=f+n,h[f]={[o]:u||a.parse(d[p],p),[c]:l.parse(s[p],p)};return h}parseArrayData(t,s,n,i){const{xScale:a,yScale:l}=t,o=new Array(i);let c,d,u,h;for(c=0,d=i;c<d;++c)u=c+n,h=s[u],o[c]={x:a.parse(h[0],u),y:l.parse(h[1],u)};return o}parseObjectData(t,s,n,i){const{xScale:a,yScale:l}=t,{xAxisKey:o="x",yAxisKey:c="y"}=this._parsing,d=new Array(i);let u,h,f,v;for(u=0,h=i;u<h;++u)f=u+n,v=s[f],d[u]={x:a.parse(Hn(v,o),f),y:l.parse(Hn(v,c),f)};return d}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,s,n){const i=this.chart,a=this._cachedMeta,l=s[t.axis],o={keys:ay(i,!0),values:s._stacks[t.axis]._visualValues};return Bf(o,l,a.index,{mode:n})}updateRangeFromParsed(t,s,n,i){const a=n[s.axis];let l=a===null?NaN:a;const o=i&&n._stacks[s.axis];i&&o&&(i.values=o,l=Bf(i,a,this._cachedMeta.index)),t.min=Math.min(t.min,l),t.max=Math.max(t.max,l)}getMinMax(t,s){const n=this._cachedMeta,i=n._parsed,a=n._sorted&&t===n.iScale,l=i.length,o=this._getOtherScale(t),c=Fk(s,n,this.chart),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:h}=Tk(o);let f,v;function p(){v=i[f];const y=v[o.axis];return!Oe(v[t.axis])||u>y||h<y}for(f=0;f<l&&!(!p()&&(this.updateRangeFromParsed(d,t,v,c),a));++f);if(a){for(f=l-1;f>=0;--f)if(!p()){this.updateRangeFromParsed(d,t,v,c);break}}return d}getAllParsedValues(t){const s=this._cachedMeta._parsed,n=[];let i,a,l;for(i=0,a=s.length;i<a;++i)l=s[i][t.axis],Oe(l)&&n.push(l);return n}getMaxOverflow(){return!1}getLabelAndValue(t){const s=this._cachedMeta,n=s.iScale,i=s.vScale,a=this.getParsed(t);return{label:n?""+n.getLabelForValue(a[n.axis]):"",value:i?""+i.getLabelForValue(a[i.axis]):""}}_update(t){const s=this._cachedMeta;this.update(t||"default"),s._clip=Pk(se(this.options.clip,Ck(s.xScale,s.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,s=this.chart,n=this._cachedMeta,i=n.data||[],a=s.chartArea,l=[],o=this._drawStart||0,c=this._drawCount||i.length-o,d=this.options.drawActiveElementsOnTop;let u;for(n.dataset&&n.dataset.draw(t,a,o,c),u=o;u<o+c;++u){const h=i[u];h.hidden||(h.active&&d?l.push(h):h.draw(t,a))}for(u=0;u<l.length;++u)l[u].draw(t,a)}getStyle(t,s){const n=s?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(t||0,n)}getContext(t,s,n){const i=this.getDataset();let a;if(t>=0&&t<this._cachedMeta.data.length){const l=this._cachedMeta.data[t];a=l.$context||(l.$context=Lk(this.getContext(),t,l)),a.parsed=this.getParsed(t),a.raw=i.data[t],a.index=a.dataIndex=t}else a=this.$context||(this.$context=Rk(this.chart.getContext(),this.index)),a.dataset=i,a.index=a.datasetIndex=this.index;return a.active=!!s,a.mode=n,a}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,s){return this._resolveElementOptions(this.dataElementType.id,s,t)}_resolveElementOptions(t,s="default",n){const i=s==="active",a=this._cachedDataOpts,l=t+"-"+s,o=a[l],c=this.enableOptionSharing&&Xi(n);if(o)return Uf(o,c);const d=this.chart.config,u=d.datasetElementScopeKeys(this._type,t),h=i?[`${t}Hover`,"hover",t,""]:[t,""],f=d.getOptionScopes(this.getDataset(),u),v=Object.keys(_e.elements[t]),p=()=>this.getContext(n,i,s),y=d.resolveNamedOptions(f,v,p,h);return y.$shared&&(y.$shared=c,a[l]=Object.freeze(Uf(y,c))),y}_resolveAnimations(t,s,n){const i=this.chart,a=this._cachedDataOpts,l=`animation-${s}`,o=a[l];if(o)return o;let c;if(i.options.animation!==!1){const u=this.chart.config,h=u.datasetAnimationScopeKeys(this._type,s),f=u.getOptionScopes(this.getDataset(),h);c=u.createResolver(f,this.getContext(t,n,s))}const d=new iy(i,c&&c.animations);return c&&c._cacheable&&(a[l]=Object.freeze(d)),d}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,s){return!s||kc(t)||this.chart._animationsDisabled}_getSharedOptions(t,s){const n=this.resolveDataElementOptions(t,s),i=this._sharedOptions,a=this.getSharedOptions(n),l=this.includeOptions(s,a)||a!==i;return this.updateSharedOptions(a,s,n),{sharedOptions:a,includeOptions:l}}updateElement(t,s,n,i){kc(i)?Object.assign(t,n):this._resolveAnimations(s,i).update(t,n)}updateSharedOptions(t,s,n){t&&!kc(s)&&this._resolveAnimations(void 0,s).update(t,n)}_setStyle(t,s,n,i){t.active=i;const a=this.getStyle(s,i);this._resolveAnimations(s,n,i).update(t,{options:!i&&this.getSharedOptions(a)||a})}removeHoverStyle(t,s,n){this._setStyle(t,n,"active",!1)}setHoverStyle(t,s,n){this._setStyle(t,n,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const s=this._data,n=this._cachedMeta.data;for(const[o,c,d]of this._syncList)this[o](c,d);this._syncList=[];const i=n.length,a=s.length,l=Math.min(a,i);l&&this.parse(0,l),a>i?this._insertElements(i,a-i,t):a<i&&this._removeElements(a,i-a)}_insertElements(t,s,n=!0){const i=this._cachedMeta,a=i.data,l=t+s;let o;const c=d=>{for(d.length+=s,o=d.length-1;o>=l;o--)d[o]=d[o-s]};for(c(a),o=t;o<l;++o)a[o]=new this.dataElementType;this._parsing&&c(i._parsed),this.parse(t,s),n&&this.updateElements(a,t,s,"reset")}updateElements(t,s,n,i){}_removeElements(t,s){const n=this._cachedMeta;if(this._parsing){const i=n._parsed.splice(t,s);n._stacked&&Gr(n,i)}n.data.splice(t,s)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[s,n,i]=t;this[s](n,i)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,s){s&&this._sync(["_removeElements",t,s]);const n=arguments.length-2;n&&this._sync(["_insertElements",t,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}U(Ln,"defaults",{}),U(Ln,"datasetElementType",null),U(Ln,"dataElementType",null);function Ak(e,t){if(!e._cache.$bar){const s=e.getMatchingVisibleMetas(t);let n=[];for(let i=0,a=s.length;i<a;i++)n=n.concat(s[i].controller.getAllParsedValues(e));e._cache.$bar=Vg(n.sort((i,a)=>i-a))}return e._cache.$bar}function Ok(e){const t=e.iScale,s=Ak(t,e.type);let n=t._length,i,a,l,o;const c=()=>{l===32767||l===-32768||(Xi(o)&&(n=Math.min(n,Math.abs(l-o)||n)),o=l)};for(i=0,a=s.length;i<a;++i)l=t.getPixelForValue(s[i]),c();for(o=void 0,i=0,a=t.ticks.length;i<a;++i)l=t.getPixelForTick(i),c();return n}function zk(e,t,s,n){const i=s.barThickness;let a,l;return ie(i)?(a=t.min*s.categoryPercentage,l=s.barPercentage):(a=i*n,l=1),{chunk:a/n,ratio:l,start:t.pixels[e]-a/2}}function Ik(e,t,s,n){const i=t.pixels,a=i[e];let l=e>0?i[e-1]:null,o=e<i.length-1?i[e+1]:null;const c=s.categoryPercentage;l===null&&(l=a-(o===null?t.end-t.start:o-a)),o===null&&(o=a+a-l);const d=a-(a-Math.min(l,o))/2*c;return{chunk:Math.abs(o-l)/2*c/n,ratio:s.barPercentage,start:d}}function Bk(e,t,s,n){const i=s.parse(e[0],n),a=s.parse(e[1],n),l=Math.min(i,a),o=Math.max(i,a);let c=l,d=o;Math.abs(l)>Math.abs(o)&&(c=o,d=l),t[s.axis]=d,t._custom={barStart:c,barEnd:d,start:i,end:a,min:l,max:o}}function ly(e,t,s,n){return ye(e)?Bk(e,t,s,n):t[s.axis]=s.parse(e,n),t}function $f(e,t,s,n){const i=e.iScale,a=e.vScale,l=i.getLabels(),o=i===a,c=[];let d,u,h,f;for(d=s,u=s+n;d<u;++d)f=t[d],h={},h[i.axis]=o||i.parse(l[d],d),c.push(ly(f,h,a,d));return c}function Sc(e){return e&&e.barStart!==void 0&&e.barEnd!==void 0}function Wk(e,t,s){return e!==0?ns(e):(t.isHorizontal()?1:-1)*(t.min>=s?1:-1)}function Hk(e){let t,s,n,i,a;return e.horizontal?(t=e.base>e.x,s="left",n="right"):(t=e.base<e.y,s="bottom",n="top"),t?(i="end",a="start"):(i="start",a="end"),{start:s,end:n,reverse:t,top:i,bottom:a}}function Uk(e,t,s,n){let i=t.borderSkipped;const a={};if(!i){e.borderSkipped=a;return}if(i===!0){e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:l,end:o,reverse:c,top:d,bottom:u}=Hk(e);i==="middle"&&s&&(e.enableBorderRadius=!0,(s._top||0)===n?i=d:(s._bottom||0)===n?i=u:(a[Vf(u,l,o,c)]=!0,i=d)),a[Vf(i,l,o,c)]=!0,e.borderSkipped=a}function Vf(e,t,s,n){return n?(e=$k(e,t,s),e=Yf(e,s,t)):e=Yf(e,t,s),e}function $k(e,t,s){return e===t?s:e===s?t:e}function Yf(e,t,s){return e==="start"?t:e==="end"?s:e}function Vk(e,{inflateAmount:t},s){e.inflateAmount=t==="auto"?s===1?.33:0:t}class ml extends Ln{parsePrimitiveData(t,s,n,i){return $f(t,s,n,i)}parseArrayData(t,s,n,i){return $f(t,s,n,i)}parseObjectData(t,s,n,i){const{iScale:a,vScale:l}=t,{xAxisKey:o="x",yAxisKey:c="y"}=this._parsing,d=a.axis==="x"?o:c,u=l.axis==="x"?o:c,h=[];let f,v,p,y;for(f=n,v=n+i;f<v;++f)y=s[f],p={},p[a.axis]=a.parse(Hn(y,d),f),h.push(ly(Hn(y,u),p,l,f));return h}updateRangeFromParsed(t,s,n,i){super.updateRangeFromParsed(t,s,n,i);const a=n._custom;a&&s===this._cachedMeta.vScale&&(t.min=Math.min(t.min,a.min),t.max=Math.max(t.max,a.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const s=this._cachedMeta,{iScale:n,vScale:i}=s,a=this.getParsed(t),l=a._custom,o=Sc(l)?"["+l.start+", "+l.end+"]":""+i.getLabelForValue(a[i.axis]);return{label:""+n.getLabelForValue(a[n.axis]),value:o}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const s=this._cachedMeta;this.updateElements(s.data,0,s.data.length,t)}updateElements(t,s,n,i){const a=i==="reset",{index:l,_cachedMeta:{vScale:o}}=this,c=o.getBasePixel(),d=o.isHorizontal(),u=this._getRuler(),{sharedOptions:h,includeOptions:f}=this._getSharedOptions(s,i);for(let v=s;v<s+n;v++){const p=this.getParsed(v),y=a||ie(p[o.axis])?{base:c,head:c}:this._calculateBarValuePixels(v),b=this._calculateBarIndexPixels(v,u),m=(p._stacks||{})[o.axis],x={horizontal:d,base:y.base,enableBorderRadius:!m||Sc(p._custom)||l===m._top||l===m._bottom,x:d?y.head:b.center,y:d?b.center:y.head,height:d?b.size:Math.abs(y.size),width:d?Math.abs(y.size):b.size};f&&(x.options=h||this.resolveDataElementOptions(v,t[v].active?"active":i));const g=x.options||t[v].options;Uk(x,g,m,l),Vk(x,g,u.ratio),this.updateElement(t[v],v,x,i)}}_getStacks(t,s){const{iScale:n}=this._cachedMeta,i=n.getMatchingVisibleMetas(this._type).filter(u=>u.controller.options.grouped),a=n.options.stacked,l=[],o=this._cachedMeta.controller.getParsed(s),c=o&&o[n.axis],d=u=>{const h=u._parsed.find(v=>v[n.axis]===c),f=h&&h[u.vScale.axis];if(ie(f)||isNaN(f))return!0};for(const u of i)if(!(s!==void 0&&d(u))&&((a===!1||l.indexOf(u.stack)===-1||a===void 0&&u.stack===void 0)&&l.push(u.stack),u.index===t))break;return l.length||l.push(void 0),l}_getStackCount(t){return this._getStacks(void 0,t).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const t=this.chart.scales,s=this.chart.options.indexAxis;return Object.keys(t).filter(n=>t[n].axis===s).shift()}_getAxis(){const t={},s=this.getFirstScaleIdForIndexAxis();for(const n of this.chart.data.datasets)t[se(this.chart.options.indexAxis==="x"?n.xAxisID:n.yAxisID,s)]=!0;return Object.keys(t)}_getStackIndex(t,s,n){const i=this._getStacks(t,n),a=s!==void 0?i.indexOf(s):-1;return a===-1?i.length-1:a}_getRuler(){const t=this.options,s=this._cachedMeta,n=s.iScale,i=[];let a,l;for(a=0,l=s.data.length;a<l;++a)i.push(n.getPixelForValue(this.getParsed(a)[n.axis],a));const o=t.barThickness;return{min:o||Ok(s),pixels:i,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:t.grouped,ratio:o?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:s,_stacked:n,index:i},options:{base:a,minBarLength:l}}=this,o=a||0,c=this.getParsed(t),d=c._custom,u=Sc(d);let h=c[s.axis],f=0,v=n?this.applyStack(s,c,n):h,p,y;v!==h&&(f=v-h,v=h),u&&(h=d.barStart,v=d.barEnd-d.barStart,h!==0&&ns(h)!==ns(d.barEnd)&&(f=0),f+=h);const b=!ie(a)&&!u?a:f;let m=s.getPixelForValue(b);if(this.chart.getDataVisibility(t)?p=s.getPixelForValue(f+v):p=m,y=p-m,Math.abs(y)<l){y=Wk(y,s,o)*l,h===o&&(m-=y/2);const x=s.getPixelForDecimal(0),g=s.getPixelForDecimal(1),j=Math.min(x,g),w=Math.max(x,g);m=Math.max(Math.min(m,w),j),p=m+y,n&&!u&&(c._stacks[s.axis]._visualValues[i]=s.getValueForPixel(p)-s.getValueForPixel(m))}if(m===s.getPixelForValue(o)){const x=ns(y)*s.getLineWidthForValue(o)/2;m+=x,y-=x}return{size:y,base:m,head:p,center:p+y/2}}_calculateBarIndexPixels(t,s){const n=s.scale,i=this.options,a=i.skipNull,l=se(i.maxBarThickness,1/0);let o,c;const d=this._getAxisCount();if(s.grouped){const u=a?this._getStackCount(t):s.stackCount,h=i.barThickness==="flex"?Ik(t,s,i,u*d):zk(t,s,i,u*d),f=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,v=this._getAxis().indexOf(se(f,this.getFirstScaleIdForIndexAxis())),p=this._getStackIndex(this.index,this._cachedMeta.stack,a?t:void 0)+v;o=h.start+h.chunk*p+h.chunk/2,c=Math.min(l,h.chunk*h.ratio)}else o=n.getPixelForValue(this.getParsed(t)[n.axis],t),c=Math.min(l,s.min*s.ratio);return{base:o-c/2,head:o+c/2,center:o,size:c}}draw(){const t=this._cachedMeta,s=t.vScale,n=t.data,i=n.length;let a=0;for(;a<i;++a)this.getParsed(a)[s.axis]!==null&&!n[a].hidden&&n[a].draw(this._ctx)}}U(ml,"id","bar"),U(ml,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),U(ml,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function Yk(e,t,s){let n=1,i=1,a=0,l=0;if(t<ve){const o=e,c=o+t,d=Math.cos(o),u=Math.sin(o),h=Math.cos(c),f=Math.sin(c),v=(g,j,w)=>Ki(g,o,c,!0)?1:Math.max(j,j*s,w,w*s),p=(g,j,w)=>Ki(g,o,c,!0)?-1:Math.min(j,j*s,w,w*s),y=v(0,d,h),b=v(Ce,u,f),m=p(oe,d,h),x=p(oe+Ce,u,f);n=(y-m)/2,i=(b-x)/2,a=-(y+m)/2,l=-(b+x)/2}return{ratioX:n,ratioY:i,offsetX:a,offsetY:l}}class li extends Ln{constructor(t,s){super(t,s),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,s){const n=this.getDataset().data,i=this._cachedMeta;if(this._parsing===!1)i._parsed=n;else{let a=c=>+n[c];if(ae(n[t])){const{key:c="value"}=this._parsing;a=d=>+Hn(n[d],c)}let l,o;for(l=t,o=t+s;l<o;++l)i._parsed[l]=a(l)}}_getRotation(){return es(this.options.rotation-90)}_getCircumference(){return es(this.options.circumference)}_getRotationExtents(){let t=ve,s=-ve;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)&&this.chart.getDatasetMeta(n).type===this._type){const i=this.chart.getDatasetMeta(n).controller,a=i._getRotation(),l=i._getCircumference();t=Math.min(t,a),s=Math.max(s,a+l)}return{rotation:t,circumference:s-t}}update(t){const s=this.chart,{chartArea:n}=s,i=this._cachedMeta,a=i.data,l=this.getMaxBorderWidth()+this.getMaxOffset(a)+this.options.spacing,o=Math.max((Math.min(n.width,n.height)-l)/2,0),c=Math.min(ZN(this.options.cutout,o),1),d=this._getRingWeight(this.index),{circumference:u,rotation:h}=this._getRotationExtents(),{ratioX:f,ratioY:v,offsetX:p,offsetY:y}=Yk(h,u,c),b=(n.width-l)/f,m=(n.height-l)/v,x=Math.max(Math.min(b,m)/2,0),g=Bg(this.options.radius,x),j=Math.max(g*c,0),w=(g-j)/this._getVisibleDatasetWeightTotal();this.offsetX=p*g,this.offsetY=y*g,i.total=this.calculateTotal(),this.outerRadius=g-w*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-w*d,0),this.updateElements(a,0,a.length,t)}_circumference(t,s){const n=this.options,i=this._cachedMeta,a=this._getCircumference();return s&&n.animation.animateRotate||!this.chart.getDataVisibility(t)||i._parsed[t]===null||i.data[t].hidden?0:this.calculateCircumference(i._parsed[t]*a/ve)}updateElements(t,s,n,i){const a=i==="reset",l=this.chart,o=l.chartArea,d=l.options.animation,u=(o.left+o.right)/2,h=(o.top+o.bottom)/2,f=a&&d.animateScale,v=f?0:this.innerRadius,p=f?0:this.outerRadius,{sharedOptions:y,includeOptions:b}=this._getSharedOptions(s,i);let m=this._getRotation(),x;for(x=0;x<s;++x)m+=this._circumference(x,a);for(x=s;x<s+n;++x){const g=this._circumference(x,a),j=t[x],w={x:u+this.offsetX,y:h+this.offsetY,startAngle:m,endAngle:m+g,circumference:g,outerRadius:p,innerRadius:v};b&&(w.options=y||this.resolveDataElementOptions(x,j.active?"active":i)),m+=g,this.updateElement(j,x,w,i)}}calculateTotal(){const t=this._cachedMeta,s=t.data;let n=0,i;for(i=0;i<s.length;i++){const a=t._parsed[i];a!==null&&!isNaN(a)&&this.chart.getDataVisibility(i)&&!s[i].hidden&&(n+=Math.abs(a))}return n}calculateCircumference(t){const s=this._cachedMeta.total;return s>0&&!isNaN(t)?ve*(Math.abs(t)/s):0}getLabelAndValue(t){const s=this._cachedMeta,n=this.chart,i=n.data.labels||[],a=Oo(s._parsed[t],n.options.locale);return{label:i[t]||"",value:a}}getMaxBorderWidth(t){let s=0;const n=this.chart;let i,a,l,o,c;if(!t){for(i=0,a=n.data.datasets.length;i<a;++i)if(n.isDatasetVisible(i)){l=n.getDatasetMeta(i),t=l.data,o=l.controller;break}}if(!t)return 0;for(i=0,a=t.length;i<a;++i)c=o.resolveDataElementOptions(i),c.borderAlign!=="inner"&&(s=Math.max(s,c.borderWidth||0,c.hoverBorderWidth||0));return s}getMaxOffset(t){let s=0;for(let n=0,i=t.length;n<i;++n){const a=this.resolveDataElementOptions(n);s=Math.max(s,a.offset||0,a.hoverOffset||0)}return s}_getRingWeightOffset(t){let s=0;for(let n=0;n<t;++n)this.chart.isDatasetVisible(n)&&(s+=this._getRingWeight(n));return s}_getRingWeight(t){return Math.max(se(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}U(li,"id","doughnut"),U(li,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),U(li,"descriptors",{_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")}),U(li,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const s=t.data;if(s.labels.length&&s.datasets.length){const{labels:{pointStyle:n,color:i}}=t.legend.options;return s.labels.map((a,l)=>{const c=t.getDatasetMeta(0).controller.getStyle(l);return{text:a,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:i,lineWidth:c.borderWidth,pointStyle:n,hidden:!t.getDataVisibility(l),index:l}})}return[]}},onClick(t,s,n){n.chart.toggleDataVisibility(s.index),n.chart.update()}}}});class fl extends Ln{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const s=this._cachedMeta,{dataset:n,data:i=[],_dataset:a}=s,l=this.chart._animationsDisabled;let{start:o,count:c}=g_(s,i,l);this._drawStart=o,this._drawCount=c,y_(s)&&(o=0,c=i.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!a._decimated,n.points=i;const d=this.resolveDatasetElementOptions(t);this.options.showLine||(d.borderWidth=0),d.segment=this.options.segment,this.updateElement(n,void 0,{animated:!l,options:d},t),this.updateElements(i,o,c,t)}updateElements(t,s,n,i){const a=i==="reset",{iScale:l,vScale:o,_stacked:c,_dataset:d}=this._cachedMeta,{sharedOptions:u,includeOptions:h}=this._getSharedOptions(s,i),f=l.axis,v=o.axis,{spanGaps:p,segment:y}=this.options,b=Qi(p)?p:Number.POSITIVE_INFINITY,m=this.chart._animationsDisabled||a||i==="none",x=s+n,g=t.length;let j=s>0&&this.getParsed(s-1);for(let w=0;w<g;++w){const _=t[w],k=m?_:{};if(w<s||w>=x){k.skip=!0;continue}const S=this.getParsed(w),A=ie(S[v]),O=k[f]=l.getPixelForValue(S[f],w),C=k[v]=a||A?o.getBasePixel():o.getPixelForValue(c?this.applyStack(o,S,c):S[v],w);k.skip=isNaN(O)||isNaN(C)||A,k.stop=w>0&&Math.abs(S[f]-j[f])>b,y&&(k.parsed=S,k.raw=d.data[w]),h&&(k.options=u||this.resolveDataElementOptions(w,_.active?"active":i)),m||this.updateElement(_,w,k,i),j=S}}getMaxOverflow(){const t=this._cachedMeta,s=t.dataset,n=s.options&&s.options.borderWidth||0,i=t.data||[];if(!i.length)return n;const a=i[0].size(this.resolveDataElementOptions(0)),l=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(n,a,l)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}U(fl,"id","line"),U(fl,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),U(fl,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});function pn(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class ph{constructor(t){U(this,"options");this.options=t||{}}static override(t){Object.assign(ph.prototype,t)}init(){}formats(){return pn()}parse(){return pn()}format(){return pn()}add(){return pn()}diff(){return pn()}startOf(){return pn()}endOf(){return pn()}}var qk={_date:ph};function Xk(e,t,s,n){const{controller:i,data:a,_sorted:l}=e,o=i._cachedMeta.iScale,c=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(o&&t===o.axis&&t!=="r"&&l&&a.length){const d=o._reversePixels?h_:Mn;if(n){if(i._sharedOptions){const u=a[0],h=typeof u.getRange=="function"&&u.getRange(t);if(h){const f=d(a,t,s-h),v=d(a,t,s+h);return{lo:f.lo,hi:v.hi}}}}else{const u=d(a,t,s);if(c){const{vScale:h}=i._cachedMeta,{_parsed:f}=e,v=f.slice(0,u.lo+1).reverse().findIndex(y=>!ie(y[h.axis]));u.lo-=Math.max(0,v);const p=f.slice(u.hi).findIndex(y=>!ie(y[h.axis]));u.hi+=Math.max(0,p)}return u}}return{lo:0,hi:a.length-1}}function ua(e,t,s,n,i){const a=e.getSortedVisibleDatasetMetas(),l=s[t];for(let o=0,c=a.length;o<c;++o){const{index:d,data:u}=a[o],{lo:h,hi:f}=Xk(a[o],t,l,i);for(let v=h;v<=f;++v){const p=u[v];p.skip||n(p,d,v)}}}function Qk(e){const t=e.indexOf("x")!==-1,s=e.indexOf("y")!==-1;return function(n,i){const a=t?Math.abs(n.x-i.x):0,l=s?Math.abs(n.y-i.y):0;return Math.sqrt(Math.pow(a,2)+Math.pow(l,2))}}function Cc(e,t,s,n,i){const a=[];return!i&&!e.isPointInArea(t)||ua(e,s,t,function(o,c,d){!i&&!xs(o,e.chartArea,0)||o.inRange(t.x,t.y,n)&&a.push({element:o,datasetIndex:c,index:d})},!0),a}function Kk(e,t,s,n){let i=[];function a(l,o,c){const{startAngle:d,endAngle:u}=l.getProps(["startAngle","endAngle"],n),{angle:h}=Ug(l,{x:t.x,y:t.y});Ki(h,d,u)&&i.push({element:l,datasetIndex:o,index:c})}return ua(e,s,t,a),i}function Gk(e,t,s,n,i,a){let l=[];const o=Qk(s);let c=Number.POSITIVE_INFINITY;function d(u,h,f){const v=u.inRange(t.x,t.y,i);if(n&&!v)return;const p=u.getCenterPoint(i);if(!(!!a||e.isPointInArea(p))&&!v)return;const b=o(t,p);b<c?(l=[{element:u,datasetIndex:h,index:f}],c=b):b===c&&l.push({element:u,datasetIndex:h,index:f})}return ua(e,s,t,d),l}function Pc(e,t,s,n,i,a){return!a&&!e.isPointInArea(t)?[]:s==="r"&&!n?Kk(e,t,s,i):Gk(e,t,s,n,i,a)}function qf(e,t,s,n,i){const a=[],l=s==="x"?"inXRange":"inYRange";let o=!1;return ua(e,s,t,(c,d,u)=>{c[l]&&c[l](t[s],i)&&(a.push({element:c,datasetIndex:d,index:u}),o=o||c.inRange(t.x,t.y,i))}),n&&!o?[]:a}var Jk={evaluateInteractionItems:ua,modes:{index(e,t,s,n){const i=jn(t,e),a=s.axis||"x",l=s.includeInvisible||!1,o=s.intersect?Cc(e,i,a,n,l):Pc(e,i,a,!1,n,l),c=[];return o.length?(e.getSortedVisibleDatasetMetas().forEach(d=>{const u=o[0].index,h=d.data[u];h&&!h.skip&&c.push({element:h,datasetIndex:d.index,index:u})}),c):[]},dataset(e,t,s,n){const i=jn(t,e),a=s.axis||"xy",l=s.includeInvisible||!1;let o=s.intersect?Cc(e,i,a,n,l):Pc(e,i,a,!1,n,l);if(o.length>0){const c=o[0].datasetIndex,d=e.getDatasetMeta(c).data;o=[];for(let u=0;u<d.length;++u)o.push({element:d[u],datasetIndex:c,index:u})}return o},point(e,t,s,n){const i=jn(t,e),a=s.axis||"xy",l=s.includeInvisible||!1;return Cc(e,i,a,n,l)},nearest(e,t,s,n){const i=jn(t,e),a=s.axis||"xy",l=s.includeInvisible||!1;return Pc(e,i,a,s.intersect,n,l)},x(e,t,s,n){const i=jn(t,e);return qf(e,i,"x",s.intersect,n)},y(e,t,s,n){const i=jn(t,e);return qf(e,i,"y",s.intersect,n)}}};const oy=["left","top","right","bottom"];function Jr(e,t){return e.filter(s=>s.pos===t)}function Xf(e,t){return e.filter(s=>oy.indexOf(s.pos)===-1&&s.box.axis===t)}function Zr(e,t){return e.sort((s,n)=>{const i=t?n:s,a=t?s:n;return i.weight===a.weight?i.index-a.index:i.weight-a.weight})}function Zk(e){const t=[];let s,n,i,a,l,o;for(s=0,n=(e||[]).length;s<n;++s)i=e[s],{position:a,options:{stack:l,stackWeight:o=1}}=i,t.push({index:s,box:i,pos:a,horizontal:i.isHorizontal(),weight:i.weight,stack:l&&a+l,stackWeight:o});return t}function eS(e){const t={};for(const s of e){const{stack:n,pos:i,stackWeight:a}=s;if(!n||!oy.includes(i))continue;const l=t[n]||(t[n]={count:0,placed:0,weight:0,size:0});l.count++,l.weight+=a}return t}function tS(e,t){const s=eS(e),{vBoxMaxWidth:n,hBoxMaxHeight:i}=t;let a,l,o;for(a=0,l=e.length;a<l;++a){o=e[a];const{fullSize:c}=o.box,d=s[o.stack],u=d&&o.stackWeight/d.weight;o.horizontal?(o.width=u?u*n:c&&t.availableWidth,o.height=i):(o.width=n,o.height=u?u*i:c&&t.availableHeight)}return s}function sS(e){const t=Zk(e),s=Zr(t.filter(d=>d.box.fullSize),!0),n=Zr(Jr(t,"left"),!0),i=Zr(Jr(t,"right")),a=Zr(Jr(t,"top"),!0),l=Zr(Jr(t,"bottom")),o=Xf(t,"x"),c=Xf(t,"y");return{fullSize:s,leftAndTop:n.concat(a),rightAndBottom:i.concat(c).concat(l).concat(o),chartArea:Jr(t,"chartArea"),vertical:n.concat(i).concat(c),horizontal:a.concat(l).concat(o)}}function Qf(e,t,s,n){return Math.max(e[s],t[s])+Math.max(e[n],t[n])}function cy(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function nS(e,t,s,n){const{pos:i,box:a}=s,l=e.maxPadding;if(!ae(i)){s.size&&(e[i]-=s.size);const h=n[s.stack]||{size:0,count:1};h.size=Math.max(h.size,s.horizontal?a.height:a.width),s.size=h.size/h.count,e[i]+=s.size}a.getPadding&&cy(l,a.getPadding());const o=Math.max(0,t.outerWidth-Qf(l,e,"left","right")),c=Math.max(0,t.outerHeight-Qf(l,e,"top","bottom")),d=o!==e.w,u=c!==e.h;return e.w=o,e.h=c,s.horizontal?{same:d,other:u}:{same:u,other:d}}function rS(e){const t=e.maxPadding;function s(n){const i=Math.max(t[n]-e[n],0);return e[n]+=i,i}e.y+=s("top"),e.x+=s("left"),s("right"),s("bottom")}function iS(e,t){const s=t.maxPadding;function n(i){const a={left:0,top:0,right:0,bottom:0};return i.forEach(l=>{a[l]=Math.max(t[l],s[l])}),a}return n(e?["left","right"]:["top","bottom"])}function oi(e,t,s,n){const i=[];let a,l,o,c,d,u;for(a=0,l=e.length,d=0;a<l;++a){o=e[a],c=o.box,c.update(o.width||t.w,o.height||t.h,iS(o.horizontal,t));const{same:h,other:f}=nS(t,s,o,n);d|=h&&i.length,u=u||f,c.fullSize||i.push(o)}return d&&oi(i,t,s,n)||u}function Ha(e,t,s,n,i){e.top=s,e.left=t,e.right=t+n,e.bottom=s+i,e.width=n,e.height=i}function Kf(e,t,s,n){const i=s.padding;let{x:a,y:l}=t;for(const o of e){const c=o.box,d=n[o.stack]||{count:1,placed:0,weight:1},u=o.stackWeight/d.weight||1;if(o.horizontal){const h=t.w*u,f=d.size||c.height;Xi(d.start)&&(l=d.start),c.fullSize?Ha(c,i.left,l,s.outerWidth-i.right-i.left,f):Ha(c,t.left+d.placed,l,h,f),d.start=l,d.placed+=h,l=c.bottom}else{const h=t.h*u,f=d.size||c.width;Xi(d.start)&&(a=d.start),c.fullSize?Ha(c,a,i.top,f,s.outerHeight-i.bottom-i.top):Ha(c,a,t.top+d.placed,f,h),d.start=a,d.placed+=h,a=c.right}}t.x=a,t.y=l}var Pt={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(s){t.draw(s)}}]},e.boxes.push(t)},removeBox(e,t){const s=e.boxes?e.boxes.indexOf(t):-1;s!==-1&&e.boxes.splice(s,1)},configure(e,t,s){t.fullSize=s.fullSize,t.position=s.position,t.weight=s.weight},update(e,t,s,n){if(!e)return;const i=Je(e.options.layout.padding),a=Math.max(t-i.width,0),l=Math.max(s-i.height,0),o=sS(e.boxes),c=o.vertical,d=o.horizontal;de(e.boxes,y=>{typeof y.beforeLayout=="function"&&y.beforeLayout()});const u=c.reduce((y,b)=>b.box.options&&b.box.options.display===!1?y:y+1,0)||1,h=Object.freeze({outerWidth:t,outerHeight:s,padding:i,availableWidth:a,availableHeight:l,vBoxMaxWidth:a/2/u,hBoxMaxHeight:l/2}),f=Object.assign({},i);cy(f,Je(n));const v=Object.assign({maxPadding:f,w:a,h:l,x:i.left,y:i.top},i),p=tS(c.concat(d),h);oi(o.fullSize,v,h,p),oi(c,v,h,p),oi(d,v,h,p)&&oi(c,v,h,p),rS(v),Kf(o.leftAndTop,v,h,p),v.x+=v.w,v.y+=v.h,Kf(o.rightAndBottom,v,h,p),e.chartArea={left:v.left,top:v.top,right:v.left+v.w,bottom:v.top+v.h,height:v.h,width:v.w},de(o.chartArea,y=>{const b=y.box;Object.assign(b,e.chartArea),b.update(v.w,v.h,{left:0,top:0,right:0,bottom:0})})}};class dy{acquireContext(t,s){}releaseContext(t){return!1}addEventListener(t,s,n){}removeEventListener(t,s,n){}getDevicePixelRatio(){return 1}getMaximumSize(t,s,n,i){return s=Math.max(0,s||t.width),n=n||t.height,{width:s,height:Math.max(0,i?Math.floor(s/i):n)}}isAttached(t){return!0}updateConfig(t){}}class aS extends dy{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const xl="$chartjs",lS={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Gf=e=>e===null||e==="";function oS(e,t){const s=e.style,n=e.getAttribute("height"),i=e.getAttribute("width");if(e[xl]={initial:{height:n,width:i,style:{display:s.display,height:s.height,width:s.width}}},s.display=s.display||"block",s.boxSizing=s.boxSizing||"border-box",Gf(i)){const a=Lf(e,"width");a!==void 0&&(e.width=a)}if(Gf(n))if(e.style.height==="")e.height=e.width/(t||2);else{const a=Lf(e,"height");a!==void 0&&(e.height=a)}return e}const uy=lk?{passive:!0}:!1;function cS(e,t,s){e&&e.addEventListener(t,s,uy)}function dS(e,t,s){e&&e.canvas&&e.canvas.removeEventListener(t,s,uy)}function uS(e,t){const s=lS[e.type]||e.type,{x:n,y:i}=jn(e,t);return{type:s,chart:t,native:e,x:n!==void 0?n:null,y:i!==void 0?i:null}}function ao(e,t){for(const s of e)if(s===t||s.contains(t))return!0}function hS(e,t,s){const n=e.canvas,i=new MutationObserver(a=>{let l=!1;for(const o of a)l=l||ao(o.addedNodes,n),l=l&&!ao(o.removedNodes,n);l&&s()});return i.observe(document,{childList:!0,subtree:!0}),i}function mS(e,t,s){const n=e.canvas,i=new MutationObserver(a=>{let l=!1;for(const o of a)l=l||ao(o.removedNodes,n),l=l&&!ao(o.addedNodes,n);l&&s()});return i.observe(document,{childList:!0,subtree:!0}),i}const Ji=new Map;let Jf=0;function hy(){const e=window.devicePixelRatio;e!==Jf&&(Jf=e,Ji.forEach((t,s)=>{s.currentDevicePixelRatio!==e&&t()}))}function fS(e,t){Ji.size||window.addEventListener("resize",hy),Ji.set(e,t)}function xS(e){Ji.delete(e),Ji.size||window.removeEventListener("resize",hy)}function pS(e,t,s){const n=e.canvas,i=n&&xh(n);if(!i)return;const a=qg((o,c)=>{const d=i.clientWidth;s(o,c),d<i.clientWidth&&s()},window),l=new ResizeObserver(o=>{const c=o[0],d=c.contentRect.width,u=c.contentRect.height;d===0&&u===0||a(d,u)});return l.observe(i),fS(e,a),l}function Mc(e,t,s){s&&s.disconnect(),t==="resize"&&xS(e)}function gS(e,t,s){const n=e.canvas,i=qg(a=>{e.ctx!==null&&s(uS(a,e))},e);return cS(n,t,i),i}class yS extends dy{acquireContext(t,s){const n=t&&t.getContext&&t.getContext("2d");return n&&n.canvas===t?(oS(t,s),n):null}releaseContext(t){const s=t.canvas;if(!s[xl])return!1;const n=s[xl].initial;["height","width"].forEach(a=>{const l=n[a];ie(l)?s.removeAttribute(a):s.setAttribute(a,l)});const i=n.style||{};return Object.keys(i).forEach(a=>{s.style[a]=i[a]}),s.width=s.width,delete s[xl],!0}addEventListener(t,s,n){this.removeEventListener(t,s);const i=t.$proxies||(t.$proxies={}),l={attach:hS,detach:mS,resize:pS}[s]||gS;i[s]=l(t,s,n)}removeEventListener(t,s){const n=t.$proxies||(t.$proxies={}),i=n[s];if(!i)return;({attach:Mc,detach:Mc,resize:Mc}[s]||dS)(t,s,i),n[s]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,s,n,i){return ak(t,s,n,i)}isAttached(t){const s=t&&xh(t);return!!(s&&s.isConnected)}}function vS(e){return!fh()||typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas?aS:yS}class Ut{constructor(){U(this,"x");U(this,"y");U(this,"active",!1);U(this,"options");U(this,"$animations")}tooltipPosition(t){const{x:s,y:n}=this.getProps(["x","y"],t);return{x:s,y:n}}hasValue(){return Qi(this.x)&&Qi(this.y)}getProps(t,s){const n=this.$animations;if(!s||!n)return this;const i={};return t.forEach(a=>{i[a]=n[a]&&n[a].active()?n[a]._to:this[a]}),i}}U(Ut,"defaults",{}),U(Ut,"defaultRoutes");function bS(e,t){const s=e.options.ticks,n=jS(e),i=Math.min(s.maxTicksLimit||n,n),a=s.major.enabled?NS(t):[],l=a.length,o=a[0],c=a[l-1],d=[];if(l>i)return _S(t,d,a,l/i),d;const u=wS(a,t,i);if(l>0){let h,f;const v=l>1?Math.round((c-o)/(l-1)):null;for(Ua(t,d,u,ie(v)?0:o-v,o),h=0,f=l-1;h<f;h++)Ua(t,d,u,a[h],a[h+1]);return Ua(t,d,u,c,ie(v)?t.length:c+v),d}return Ua(t,d,u),d}function jS(e){const t=e.options.offset,s=e._tickSize(),n=e._length/s+(t?0:1),i=e._maxLength/s;return Math.floor(Math.min(n,i))}function wS(e,t,s){const n=kS(e),i=t.length/s;if(!n)return Math.max(i,1);const a=l_(n);for(let l=0,o=a.length-1;l<o;l++){const c=a[l];if(c>i)return c}return Math.max(i,1)}function NS(e){const t=[];let s,n;for(s=0,n=e.length;s<n;s++)e[s].major&&t.push(s);return t}function _S(e,t,s,n){let i=0,a=s[0],l;for(n=Math.ceil(n),l=0;l<e.length;l++)l===a&&(t.push(e[l]),i++,a=s[i*n])}function Ua(e,t,s,n,i){const a=se(n,0),l=Math.min(se(i,e.length),e.length);let o=0,c,d,u;for(s=Math.ceil(s),i&&(c=i-n,s=c/Math.floor(c/s)),u=a;u<0;)o++,u=Math.round(a+o*s);for(d=Math.max(a,0);d<l;d++)d===u&&(t.push(e[d]),o++,u=Math.round(a+o*s))}function kS(e){const t=e.length;let s,n;if(t<2)return!1;for(n=e[0],s=1;s<t;++s)if(e[s]-e[s-1]!==n)return!1;return n}const SS=e=>e==="left"?"right":e==="right"?"left":e,Zf=(e,t,s)=>t==="top"||t==="left"?e[t]+s:e[t]-s,ex=(e,t)=>Math.min(t||e,e);function tx(e,t){const s=[],n=e.length/t,i=e.length;let a=0;for(;a<i;a+=n)s.push(e[Math.floor(a)]);return s}function CS(e,t,s){const n=e.ticks.length,i=Math.min(t,n-1),a=e._startPixel,l=e._endPixel,o=1e-6;let c=e.getPixelForTick(i),d;if(!(s&&(n===1?d=Math.max(c-a,l-c):t===0?d=(e.getPixelForTick(1)-c)/2:d=(c-e.getPixelForTick(i-1))/2,c+=i<t?d:-d,c<a-o||c>l+o)))return c}function PS(e,t){de(e,s=>{const n=s.gc,i=n.length/2;let a;if(i>t){for(a=0;a<i;++a)delete s.data[n[a]];n.splice(0,i)}})}function ei(e){return e.drawTicks?e.tickLength:0}function sx(e,t){if(!e.display)return 0;const s=Fe(e.font,t),n=Je(e.padding);return(ye(e.text)?e.text.length:1)*s.lineHeight+n.height}function MS(e,t){return un(e,{scale:t,type:"scale"})}function ES(e,t,s){return un(e,{tick:s,index:t,type:"tick"})}function TS(e,t,s){let n=ah(e);return(s&&t!=="right"||!s&&t==="right")&&(n=SS(n)),n}function DS(e,t,s,n){const{top:i,left:a,bottom:l,right:o,chart:c}=e,{chartArea:d,scales:u}=c;let h=0,f,v,p;const y=l-i,b=o-a;if(e.isHorizontal()){if(v=qe(n,a,o),ae(s)){const m=Object.keys(s)[0],x=s[m];p=u[m].getPixelForValue(x)+y-t}else s==="center"?p=(d.bottom+d.top)/2+y-t:p=Zf(e,s,t);f=o-a}else{if(ae(s)){const m=Object.keys(s)[0],x=s[m];v=u[m].getPixelForValue(x)-b+t}else s==="center"?v=(d.left+d.right)/2-b+t:v=Zf(e,s,t);p=qe(n,l,i),h=s==="left"?-Ce:Ce}return{titleX:v,titleY:p,maxWidth:f,rotation:h}}class qn extends Ut{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,s){return t}getUserBounds(){let{_userMin:t,_userMax:s,_suggestedMin:n,_suggestedMax:i}=this;return t=xt(t,Number.POSITIVE_INFINITY),s=xt(s,Number.NEGATIVE_INFINITY),n=xt(n,Number.POSITIVE_INFINITY),i=xt(i,Number.NEGATIVE_INFINITY),{min:xt(t,n),max:xt(s,i),minDefined:Oe(t),maxDefined:Oe(s)}}getMinMax(t){let{min:s,max:n,minDefined:i,maxDefined:a}=this.getUserBounds(),l;if(i&&a)return{min:s,max:n};const o=this.getMatchingVisibleMetas();for(let c=0,d=o.length;c<d;++c)l=o[c].controller.getMinMax(this,t),i||(s=Math.min(s,l.min)),a||(n=Math.max(n,l.max));return s=a&&s>n?n:s,n=i&&s>n?s:n,{min:xt(s,xt(n,s)),max:xt(n,xt(s,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){me(this.options.beforeUpdate,[this])}update(t,s,n){const{beginAtZero:i,grace:a,ticks:l}=this.options,o=l.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=s,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=z_(this,a,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const c=o<this.ticks.length;this._convertTicksToLabels(c?tx(this.ticks,o):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),l.display&&(l.autoSkip||l.source==="auto")&&(this.ticks=bS(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,s,n;this.isHorizontal()?(s=this.left,n=this.right):(s=this.top,n=this.bottom,t=!t),this._startPixel=s,this._endPixel=n,this._reversePixels=t,this._length=n-s,this._alignToPixels=this.options.alignToPixels}afterUpdate(){me(this.options.afterUpdate,[this])}beforeSetDimensions(){me(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){me(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),me(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){me(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const s=this.options.ticks;let n,i,a;for(n=0,i=t.length;n<i;n++)a=t[n],a.label=me(s.callback,[a.value,n,t],this)}afterTickToLabelConversion(){me(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){me(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,s=t.ticks,n=ex(this.ticks.length,t.ticks.maxTicksLimit),i=s.minRotation||0,a=s.maxRotation;let l=i,o,c,d;if(!this._isVisible()||!s.display||i>=a||n<=1||!this.isHorizontal()){this.labelRotation=i;return}const u=this._getLabelSizes(),h=u.widest.width,f=u.highest.height,v=Ke(this.chart.width-h,0,this.maxWidth);o=t.offset?this.maxWidth/n:v/(n-1),h+6>o&&(o=v/(n-(t.offset?.5:1)),c=this.maxHeight-ei(t.grid)-s.padding-sx(t.title,this.chart.options.font),d=Math.sqrt(h*h+f*f),l=rh(Math.min(Math.asin(Ke((u.highest.height+6)/o,-1,1)),Math.asin(Ke(c/d,-1,1))-Math.asin(Ke(f/d,-1,1)))),l=Math.max(i,Math.min(a,l))),this.labelRotation=l}afterCalculateLabelRotation(){me(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){me(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:s,options:{ticks:n,title:i,grid:a}}=this,l=this._isVisible(),o=this.isHorizontal();if(l){const c=sx(i,s.options.font);if(o?(t.width=this.maxWidth,t.height=ei(a)+c):(t.height=this.maxHeight,t.width=ei(a)+c),n.display&&this.ticks.length){const{first:d,last:u,widest:h,highest:f}=this._getLabelSizes(),v=n.padding*2,p=es(this.labelRotation),y=Math.cos(p),b=Math.sin(p);if(o){const m=n.mirror?0:b*h.width+y*f.height;t.height=Math.min(this.maxHeight,t.height+m+v)}else{const m=n.mirror?0:y*h.width+b*f.height;t.width=Math.min(this.maxWidth,t.width+m+v)}this._calculatePadding(d,u,b,y)}}this._handleMargins(),o?(this.width=this._length=s.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=s.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,s,n,i){const{ticks:{align:a,padding:l},position:o}=this.options,c=this.labelRotation!==0,d=o!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1);let f=0,v=0;c?d?(f=i*t.width,v=n*s.height):(f=n*t.height,v=i*s.width):a==="start"?v=s.width:a==="end"?f=t.width:a!=="inner"&&(f=t.width/2,v=s.width/2),this.paddingLeft=Math.max((f-u+l)*this.width/(this.width-u),0),this.paddingRight=Math.max((v-h+l)*this.width/(this.width-h),0)}else{let u=s.height/2,h=t.height/2;a==="start"?(u=0,h=t.height):a==="end"&&(u=s.height,h=0),this.paddingTop=u+l,this.paddingBottom=h+l}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){me(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:s}=this.options;return s==="top"||s==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let s,n;for(s=0,n=t.length;s<n;s++)ie(t[s].label)&&(t.splice(s,1),n--,s--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const s=this.options.ticks.sampleSize;let n=this.ticks;s<n.length&&(n=tx(n,s)),this._labelSizes=t=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,s,n){const{ctx:i,_longestTextCache:a}=this,l=[],o=[],c=Math.floor(s/ex(s,n));let d=0,u=0,h,f,v,p,y,b,m,x,g,j,w;for(h=0;h<s;h+=c){if(p=t[h].label,y=this._resolveTickFontOptions(h),i.font=b=y.string,m=a[b]=a[b]||{data:{},gc:[]},x=y.lineHeight,g=j=0,!ie(p)&&!ye(p))g=ro(i,m.data,m.gc,g,p),j=x;else if(ye(p))for(f=0,v=p.length;f<v;++f)w=p[f],!ie(w)&&!ye(w)&&(g=ro(i,m.data,m.gc,g,w),j+=x);l.push(g),o.push(j),d=Math.max(g,d),u=Math.max(j,u)}PS(a,s);const _=l.indexOf(d),k=o.indexOf(u),S=A=>({width:l[A]||0,height:o[A]||0});return{first:S(0),last:S(s-1),widest:S(_),highest:S(k),widths:l,heights:o}}getLabelForValue(t){return t}getPixelForValue(t,s){return NaN}getValueForPixel(t){}getPixelForTick(t){const s=this.ticks;return t<0||t>s.length-1?null:this.getPixelForValue(s[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const s=this._startPixel+t*this._length;return u_(this._alignToPixels?xn(this.chart,s,0):s)}getDecimalForPixel(t){const s=(t-this._startPixel)/this._length;return this._reversePixels?1-s:s}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:s}=this;return t<0&&s<0?s:t>0&&s>0?t:0}getContext(t){const s=this.ticks||[];if(t>=0&&t<s.length){const n=s[t];return n.$context||(n.$context=ES(this.getContext(),t,n))}return this.$context||(this.$context=MS(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,s=es(this.labelRotation),n=Math.abs(Math.cos(s)),i=Math.abs(Math.sin(s)),a=this._getLabelSizes(),l=t.autoSkipPadding||0,o=a?a.widest.width+l:0,c=a?a.highest.height+l:0;return this.isHorizontal()?c*n>o*i?o/n:c/i:c*i<o*n?c/n:o/i}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const s=this.axis,n=this.chart,i=this.options,{grid:a,position:l,border:o}=i,c=a.offset,d=this.isHorizontal(),h=this.ticks.length+(c?1:0),f=ei(a),v=[],p=o.setContext(this.getContext()),y=p.display?p.width:0,b=y/2,m=function(P){return xn(n,P,y)};let x,g,j,w,_,k,S,A,O,C,L,V;if(l==="top")x=m(this.bottom),k=this.bottom-f,A=x-b,C=m(t.top)+b,V=t.bottom;else if(l==="bottom")x=m(this.top),C=t.top,V=m(t.bottom)-b,k=x+b,A=this.top+f;else if(l==="left")x=m(this.right),_=this.right-f,S=x-b,O=m(t.left)+b,L=t.right;else if(l==="right")x=m(this.left),O=t.left,L=m(t.right)-b,_=x+b,S=this.left+f;else if(s==="x"){if(l==="center")x=m((t.top+t.bottom)/2+.5);else if(ae(l)){const P=Object.keys(l)[0],W=l[P];x=m(this.chart.scales[P].getPixelForValue(W))}C=t.top,V=t.bottom,k=x+b,A=k+f}else if(s==="y"){if(l==="center")x=m((t.left+t.right)/2);else if(ae(l)){const P=Object.keys(l)[0],W=l[P];x=m(this.chart.scales[P].getPixelForValue(W))}_=x-b,S=_-f,O=t.left,L=t.right}const K=se(i.ticks.maxTicksLimit,h),H=Math.max(1,Math.ceil(h/K));for(g=0;g<h;g+=H){const P=this.getContext(g),W=a.setContext(P),M=o.setContext(P),F=W.lineWidth,B=W.color,D=M.dash||[],q=M.dashOffset,R=W.tickWidth,Y=W.tickColor,Z=W.tickBorderDash||[],J=W.tickBorderDashOffset;j=CS(this,g,c),j!==void 0&&(w=xn(n,j,F),d?_=S=O=L=w:k=A=C=V=w,v.push({tx1:_,ty1:k,tx2:S,ty2:A,x1:O,y1:C,x2:L,y2:V,width:F,color:B,borderDash:D,borderDashOffset:q,tickWidth:R,tickColor:Y,tickBorderDash:Z,tickBorderDashOffset:J}))}return this._ticksLength=h,this._borderValue=x,v}_computeLabelItems(t){const s=this.axis,n=this.options,{position:i,ticks:a}=n,l=this.isHorizontal(),o=this.ticks,{align:c,crossAlign:d,padding:u,mirror:h}=a,f=ei(n.grid),v=f+u,p=h?-u:v,y=-es(this.labelRotation),b=[];let m,x,g,j,w,_,k,S,A,O,C,L,V="middle";if(i==="top")_=this.bottom-p,k=this._getXAxisLabelAlignment();else if(i==="bottom")_=this.top+p,k=this._getXAxisLabelAlignment();else if(i==="left"){const H=this._getYAxisLabelAlignment(f);k=H.textAlign,w=H.x}else if(i==="right"){const H=this._getYAxisLabelAlignment(f);k=H.textAlign,w=H.x}else if(s==="x"){if(i==="center")_=(t.top+t.bottom)/2+v;else if(ae(i)){const H=Object.keys(i)[0],P=i[H];_=this.chart.scales[H].getPixelForValue(P)+v}k=this._getXAxisLabelAlignment()}else if(s==="y"){if(i==="center")w=(t.left+t.right)/2-v;else if(ae(i)){const H=Object.keys(i)[0],P=i[H];w=this.chart.scales[H].getPixelForValue(P)}k=this._getYAxisLabelAlignment(f).textAlign}s==="y"&&(c==="start"?V="top":c==="end"&&(V="bottom"));const K=this._getLabelSizes();for(m=0,x=o.length;m<x;++m){g=o[m],j=g.label;const H=a.setContext(this.getContext(m));S=this.getPixelForTick(m)+a.labelOffset,A=this._resolveTickFontOptions(m),O=A.lineHeight,C=ye(j)?j.length:1;const P=C/2,W=H.color,M=H.textStrokeColor,F=H.textStrokeWidth;let B=k;l?(w=S,k==="inner"&&(m===x-1?B=this.options.reverse?"left":"right":m===0?B=this.options.reverse?"right":"left":B="center"),i==="top"?d==="near"||y!==0?L=-C*O+O/2:d==="center"?L=-K.highest.height/2-P*O+O:L=-K.highest.height+O/2:d==="near"||y!==0?L=O/2:d==="center"?L=K.highest.height/2-P*O:L=K.highest.height-C*O,h&&(L*=-1),y!==0&&!H.showLabelBackdrop&&(w+=O/2*Math.sin(y))):(_=S,L=(1-C)*O/2);let D;if(H.showLabelBackdrop){const q=Je(H.backdropPadding),R=K.heights[m],Y=K.widths[m];let Z=L-q.top,J=0-q.left;switch(V){case"middle":Z-=R/2;break;case"bottom":Z-=R;break}switch(k){case"center":J-=Y/2;break;case"right":J-=Y;break;case"inner":m===x-1?J-=Y:m>0&&(J-=Y/2);break}D={left:J,top:Z,width:Y+q.width,height:R+q.height,color:H.backdropColor}}b.push({label:j,font:A,textOffset:L,options:{rotation:y,color:W,strokeColor:M,strokeWidth:F,textAlign:B,textBaseline:V,translation:[w,_],backdrop:D}})}return b}_getXAxisLabelAlignment(){const{position:t,ticks:s}=this.options;if(-es(this.labelRotation))return t==="top"?"left":"right";let i="center";return s.align==="start"?i="left":s.align==="end"?i="right":s.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(t){const{position:s,ticks:{crossAlign:n,mirror:i,padding:a}}=this.options,l=this._getLabelSizes(),o=t+a,c=l.widest.width;let d,u;return s==="left"?i?(u=this.right+a,n==="near"?d="left":n==="center"?(d="center",u+=c/2):(d="right",u+=c)):(u=this.right-o,n==="near"?d="right":n==="center"?(d="center",u-=c/2):(d="left",u=this.left)):s==="right"?i?(u=this.left+a,n==="near"?d="right":n==="center"?(d="center",u-=c/2):(d="left",u-=c)):(u=this.left+o,n==="near"?d="left":n==="center"?(d="center",u+=c/2):(d="right",u=this.right)):d="right",{textAlign:d,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,s=this.options.position;if(s==="left"||s==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(s==="top"||s==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:s},left:n,top:i,width:a,height:l}=this;s&&(t.save(),t.fillStyle=s,t.fillRect(n,i,a,l),t.restore())}getLineWidthForValue(t){const s=this.options.grid;if(!this._isVisible()||!s.display)return 0;const i=this.ticks.findIndex(a=>a.value===t);return i>=0?s.setContext(this.getContext(i)).lineWidth:0}drawGrid(t){const s=this.options.grid,n=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let a,l;const o=(c,d,u)=>{!u.width||!u.color||(n.save(),n.lineWidth=u.width,n.strokeStyle=u.color,n.setLineDash(u.borderDash||[]),n.lineDashOffset=u.borderDashOffset,n.beginPath(),n.moveTo(c.x,c.y),n.lineTo(d.x,d.y),n.stroke(),n.restore())};if(s.display)for(a=0,l=i.length;a<l;++a){const c=i[a];s.drawOnChartArea&&o({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),s.drawTicks&&o({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:s,options:{border:n,grid:i}}=this,a=n.setContext(this.getContext()),l=n.display?a.width:0;if(!l)return;const o=i.setContext(this.getContext(0)).lineWidth,c=this._borderValue;let d,u,h,f;this.isHorizontal()?(d=xn(t,this.left,l)-l/2,u=xn(t,this.right,o)+o/2,h=f=c):(h=xn(t,this.top,l)-l/2,f=xn(t,this.bottom,o)+o/2,d=u=c),s.save(),s.lineWidth=a.width,s.strokeStyle=a.color,s.beginPath(),s.moveTo(d,h),s.lineTo(u,f),s.stroke(),s.restore()}drawLabels(t){if(!this.options.ticks.display)return;const n=this.ctx,i=this._computeLabelArea();i&&oh(n,i);const a=this.getLabelItems(t);for(const l of a){const o=l.options,c=l.font,d=l.label,u=l.textOffset;$n(n,d,0,u,c,o)}i&&ch(n)}drawTitle(){const{ctx:t,options:{position:s,title:n,reverse:i}}=this;if(!n.display)return;const a=Fe(n.font),l=Je(n.padding),o=n.align;let c=a.lineHeight/2;s==="bottom"||s==="center"||ae(s)?(c+=l.bottom,ye(n.text)&&(c+=a.lineHeight*(n.text.length-1))):c+=l.top;const{titleX:d,titleY:u,maxWidth:h,rotation:f}=DS(this,c,s,o);$n(t,n.text,0,0,a,{color:n.color,maxWidth:h,rotation:f,textAlign:TS(o,s,i),textBaseline:"middle",translation:[d,u]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,s=t.ticks&&t.ticks.z||0,n=se(t.grid&&t.grid.z,-1),i=se(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==qn.prototype.draw?[{z:s,draw:a=>{this.draw(a)}}]:[{z:n,draw:a=>{this.drawBackground(),this.drawGrid(a),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:s,draw:a=>{this.drawLabels(a)}}]}getMatchingVisibleMetas(t){const s=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",i=[];let a,l;for(a=0,l=s.length;a<l;++a){const o=s[a];o[n]===this.id&&(!t||o.type===t)&&i.push(o)}return i}_resolveTickFontOptions(t){const s=this.options.ticks.setContext(this.getContext(t));return Fe(s.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class $a{constructor(t,s,n){this.type=t,this.scope=s,this.override=n,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const s=Object.getPrototypeOf(t);let n;FS(s)&&(n=this.register(s));const i=this.items,a=t.id,l=this.scope+"."+a;if(!a)throw new Error("class does not have id: "+t);return a in i||(i[a]=t,RS(t,l,n),this.override&&_e.override(t.id,t.overrides)),l}get(t){return this.items[t]}unregister(t){const s=this.items,n=t.id,i=this.scope;n in s&&delete s[n],i&&n in _e[i]&&(delete _e[i][n],this.override&&delete Un[n])}}function RS(e,t,s){const n=qi(Object.create(null),[s?_e.get(s):{},_e.get(t),e.defaults]);_e.set(t,n),e.defaultRoutes&&LS(t,e.defaultRoutes),e.descriptors&&_e.describe(t,e.descriptors)}function LS(e,t){Object.keys(t).forEach(s=>{const n=s.split("."),i=n.pop(),a=[e].concat(n).join("."),l=t[s].split("."),o=l.pop(),c=l.join(".");_e.route(a,i,c,o)})}function FS(e){return"id"in e&&"defaults"in e}class AS{constructor(){this.controllers=new $a(Ln,"datasets",!0),this.elements=new $a(Ut,"elements"),this.plugins=new $a(Object,"plugins"),this.scales=new $a(qn,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,s,n){[...s].forEach(i=>{const a=n||this._getRegistryForType(i);n||a.isForType(i)||a===this.plugins&&i.id?this._exec(t,a,i):de(i,l=>{const o=n||this._getRegistryForType(l);this._exec(t,o,l)})})}_exec(t,s,n){const i=nh(t);me(n["before"+i],[],n),s[t](n),me(n["after"+i],[],n)}_getRegistryForType(t){for(let s=0;s<this._typedRegistries.length;s++){const n=this._typedRegistries[s];if(n.isForType(t))return n}return this.plugins}_get(t,s,n){const i=s.get(t);if(i===void 0)throw new Error('"'+t+'" is not a registered '+n+".");return i}}var Gt=new AS;class OS{constructor(){this._init=[]}notify(t,s,n,i){s==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const a=i?this._descriptors(t).filter(i):this._descriptors(t),l=this._notify(a,t,s,n);return s==="afterDestroy"&&(this._notify(a,t,"stop"),this._notify(this._init,t,"uninstall")),l}_notify(t,s,n,i){i=i||{};for(const a of t){const l=a.plugin,o=l[n],c=[s,i,a.options];if(me(o,c,l)===!1&&i.cancelable)return!1}return!0}invalidate(){ie(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const s=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),s}_createDescriptors(t,s){const n=t&&t.config,i=se(n.options&&n.options.plugins,{}),a=zS(n);return i===!1&&!s?[]:BS(t,a,i,s)}_notifyStateChanges(t){const s=this._oldCache||[],n=this._cache,i=(a,l)=>a.filter(o=>!l.some(c=>o.plugin.id===c.plugin.id));this._notify(i(s,n),t,"stop"),this._notify(i(n,s),t,"start")}}function zS(e){const t={},s=[],n=Object.keys(Gt.plugins.items);for(let a=0;a<n.length;a++)s.push(Gt.getPlugin(n[a]));const i=e.plugins||[];for(let a=0;a<i.length;a++){const l=i[a];s.indexOf(l)===-1&&(s.push(l),t[l.id]=!0)}return{plugins:s,localIds:t}}function IS(e,t){return!t&&e===!1?null:e===!0?{}:e}function BS(e,{plugins:t,localIds:s},n,i){const a=[],l=e.getContext();for(const o of t){const c=o.id,d=IS(n[c],i);d!==null&&a.push({plugin:o,options:WS(e.config,{plugin:o,local:s[c]},d,l)})}return a}function WS(e,{plugin:t,local:s},n,i){const a=e.pluginScopeKeys(t),l=e.getOptionScopes(n,a);return s&&t.defaults&&l.push(t.defaults),e.createResolver(l,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Wd(e,t){const s=_e.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||s.indexAxis||"x"}function HS(e,t){let s=e;return e==="_index_"?s=t:e==="_value_"&&(s=t==="x"?"y":"x"),s}function US(e,t){return e===t?"_index_":"_value_"}function nx(e){if(e==="x"||e==="y"||e==="r")return e}function $S(e){if(e==="top"||e==="bottom")return"x";if(e==="left"||e==="right")return"y"}function Hd(e,...t){if(nx(e))return e;for(const s of t){const n=s.axis||$S(s.position)||e.length>1&&nx(e[0].toLowerCase());if(n)return n}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function rx(e,t,s){if(s[t+"AxisID"]===e)return{axis:t}}function VS(e,t){if(t.data&&t.data.datasets){const s=t.data.datasets.filter(n=>n.xAxisID===e||n.yAxisID===e);if(s.length)return rx(e,"x",s[0])||rx(e,"y",s[0])}return{}}function YS(e,t){const s=Un[e.type]||{scales:{}},n=t.scales||{},i=Wd(e.type,t),a=Object.create(null);return Object.keys(n).forEach(l=>{const o=n[l];if(!ae(o))return console.error(`Invalid scale configuration for scale: ${l}`);if(o._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${l}`);const c=Hd(l,o,VS(l,e),_e.scales[o.type]),d=US(c,i),u=s.scales||{};a[l]=ji(Object.create(null),[{axis:c},o,u[c],u[d]])}),e.data.datasets.forEach(l=>{const o=l.type||e.type,c=l.indexAxis||Wd(o,t),u=(Un[o]||{}).scales||{};Object.keys(u).forEach(h=>{const f=HS(h,c),v=l[f+"AxisID"]||f;a[v]=a[v]||Object.create(null),ji(a[v],[{axis:f},n[v],u[h]])})}),Object.keys(a).forEach(l=>{const o=a[l];ji(o,[_e.scales[o.type],_e.scale])}),a}function my(e){const t=e.options||(e.options={});t.plugins=se(t.plugins,{}),t.scales=YS(e,t)}function fy(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function qS(e){return e=e||{},e.data=fy(e.data),my(e),e}const ix=new Map,xy=new Set;function Va(e,t){let s=ix.get(e);return s||(s=t(),ix.set(e,s),xy.add(s)),s}const ti=(e,t,s)=>{const n=Hn(t,s);n!==void 0&&e.add(n)};class XS{constructor(t){this._config=qS(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=fy(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),my(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Va(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,s){return Va(`${t}.transition.${s}`,()=>[[`datasets.${t}.transitions.${s}`,`transitions.${s}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,s){return Va(`${t}-${s}`,()=>[[`datasets.${t}.elements.${s}`,`datasets.${t}`,`elements.${s}`,""]])}pluginScopeKeys(t){const s=t.id,n=this.type;return Va(`${n}-plugin-${s}`,()=>[[`plugins.${s}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,s){const n=this._scopeCache;let i=n.get(t);return(!i||s)&&(i=new Map,n.set(t,i)),i}getOptionScopes(t,s,n){const{options:i,type:a}=this,l=this._cachedScopes(t,n),o=l.get(s);if(o)return o;const c=new Set;s.forEach(u=>{t&&(c.add(t),u.forEach(h=>ti(c,t,h))),u.forEach(h=>ti(c,i,h)),u.forEach(h=>ti(c,Un[a]||{},h)),u.forEach(h=>ti(c,_e,h)),u.forEach(h=>ti(c,Id,h))});const d=Array.from(c);return d.length===0&&d.push(Object.create(null)),xy.has(s)&&l.set(s,d),d}chartOptionScopes(){const{options:t,type:s}=this;return[t,Un[s]||{},_e.datasets[s]||{},{type:s},_e,Id]}resolveNamedOptions(t,s,n,i=[""]){const a={$shared:!0},{resolver:l,subPrefixes:o}=ax(this._resolverCache,t,i);let c=l;if(KS(l,s)){a.$shared=!1,n=rn(n)?n():n;const d=this.createResolver(t,n,o);c=Pr(l,n,d)}for(const d of s)a[d]=c[d];return a}createResolver(t,s,n=[""],i){const{resolver:a}=ax(this._resolverCache,t,n);return ae(s)?Pr(a,s,void 0,i):a}}function ax(e,t,s){let n=e.get(t);n||(n=new Map,e.set(t,n));const i=s.join();let a=n.get(i);return a||(a={resolver:uh(t,s),subPrefixes:s.filter(o=>!o.toLowerCase().includes("hover"))},n.set(i,a)),a}const QS=e=>ae(e)&&Object.getOwnPropertyNames(e).some(t=>rn(e[t]));function KS(e,t){const{isScriptable:s,isIndexable:n}=Gg(e);for(const i of t){const a=s(i),l=n(i),o=(l||a)&&e[i];if(a&&(rn(o)||QS(o))||l&&ye(o))return!0}return!1}var GS="4.5.0";const JS=["top","bottom","left","right","chartArea"];function lx(e,t){return e==="top"||e==="bottom"||JS.indexOf(e)===-1&&t==="x"}function ox(e,t){return function(s,n){return s[e]===n[e]?s[t]-n[t]:s[e]-n[e]}}function cx(e){const t=e.chart,s=t.options.animation;t.notifyPlugins("afterRender"),me(s&&s.onComplete,[e],t)}function ZS(e){const t=e.chart,s=t.options.animation;me(s&&s.onProgress,[e],t)}function py(e){return fh()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const pl={},dx=e=>{const t=py(e);return Object.values(pl).filter(s=>s.canvas===t).pop()};function e4(e,t,s){const n=Object.keys(e);for(const i of n){const a=+i;if(a>=t){const l=e[i];delete e[i],(s>0||a>t)&&(e[a+s]=l)}}}function t4(e,t,s,n){return!s||e.type==="mouseout"?null:n?t:e}var Ps;let Bo=(Ps=class{static register(...t){Gt.add(...t),ux()}static unregister(...t){Gt.remove(...t),ux()}constructor(t,s){const n=this.config=new XS(s),i=py(t),a=dx(i);if(a)throw new Error("Canvas is already in use. Chart with ID '"+a.id+"' must be destroyed before the canvas with ID '"+a.canvas.id+"' can be reused.");const l=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||vS(i)),this.platform.updateConfig(n);const o=this.platform.acquireContext(i,l.aspectRatio),c=o&&o.canvas,d=c&&c.height,u=c&&c.width;if(this.id=JN(),this.ctx=o,this.canvas=c,this.width=u,this.height=d,this._options=l,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new OS,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=x_(h=>this.update(h),l.resizeDelay||0),this._dataChanges=[],pl[this.id]=this,!o||!c){console.error("Failed to create chart: can't acquire context from the given item");return}as.listen(this,"complete",cx),as.listen(this,"progress",ZS),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:s},width:n,height:i,_aspectRatio:a}=this;return ie(t)?s&&a?a:i?n/i:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Gt}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Rf(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Ef(this.canvas,this.ctx),this}stop(){return as.stop(this),this}resize(t,s){as.running(this)?this._resizeBeforeDraw={width:t,height:s}:this._resize(t,s)}_resize(t,s){const n=this.options,i=this.canvas,a=n.maintainAspectRatio&&this.aspectRatio,l=this.platform.getMaximumSize(i,t,s,a),o=n.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=l.width,this.height=l.height,this._aspectRatio=this.aspectRatio,Rf(this,o,!0)&&(this.notifyPlugins("resize",{size:l}),me(n.onResize,[this,l],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){const s=this.options.scales||{};de(s,(n,i)=>{n.id=i})}buildOrUpdateScales(){const t=this.options,s=t.scales,n=this.scales,i=Object.keys(n).reduce((l,o)=>(l[o]=!1,l),{});let a=[];s&&(a=a.concat(Object.keys(s).map(l=>{const o=s[l],c=Hd(l,o),d=c==="r",u=c==="x";return{options:o,dposition:d?"chartArea":u?"bottom":"left",dtype:d?"radialLinear":u?"category":"linear"}}))),de(a,l=>{const o=l.options,c=o.id,d=Hd(c,o),u=se(o.type,l.dtype);(o.position===void 0||lx(o.position,d)!==lx(l.dposition))&&(o.position=l.dposition),i[c]=!0;let h=null;if(c in n&&n[c].type===u)h=n[c];else{const f=Gt.getScale(u);h=new f({id:c,type:u,ctx:this.ctx,chart:this}),n[h.id]=h}h.init(o,t)}),de(i,(l,o)=>{l||delete n[o]}),de(n,l=>{Pt.configure(this,l,l.options),Pt.addBox(this,l)})}_updateMetasets(){const t=this._metasets,s=this.data.datasets.length,n=t.length;if(t.sort((i,a)=>i.index-a.index),n>s){for(let i=s;i<n;++i)this._destroyDatasetMeta(i);t.splice(s,n-s)}this._sortedMetasets=t.slice(0).sort(ox("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:s}}=this;t.length>s.length&&delete this._stacks,t.forEach((n,i)=>{s.filter(a=>a===n._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const t=[],s=this.data.datasets;let n,i;for(this._removeUnreferencedMetasets(),n=0,i=s.length;n<i;n++){const a=s[n];let l=this.getDatasetMeta(n);const o=a.type||this.config.type;if(l.type&&l.type!==o&&(this._destroyDatasetMeta(n),l=this.getDatasetMeta(n)),l.type=o,l.indexAxis=a.indexAxis||Wd(o,this.options),l.order=a.order||0,l.index=n,l.label=""+a.label,l.visible=this.isDatasetVisible(n),l.controller)l.controller.updateIndex(n),l.controller.linkScales();else{const c=Gt.getController(o),{datasetElementType:d,dataElementType:u}=_e.datasets[o];Object.assign(c,{dataElementType:Gt.getElement(u),datasetElementType:d&&Gt.getElement(d)}),l.controller=new c(this,n),t.push(l.controller)}}return this._updateMetasets(),t}_resetElements(){de(this.data.datasets,(t,s)=>{this.getDatasetMeta(s).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const s=this.config;s.update();const n=this._options=s.createResolver(s.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const a=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let l=0;for(let d=0,u=this.data.datasets.length;d<u;d++){const{controller:h}=this.getDatasetMeta(d),f=!i&&a.indexOf(h)===-1;h.buildOrUpdateElements(f),l=Math.max(+h.getMaxOverflow(),l)}l=this._minPadding=n.layout.autoPadding?l:0,this._updateLayout(l),i||de(a,d=>{d.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(ox("z","_idx"));const{_active:o,_lastEvent:c}=this;c?this._eventHandler(c,!0):o.length&&this._updateHoverStyles(o,o,!0),this.render()}_updateScales(){de(this.scales,t=>{Pt.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,s=new Set(Object.keys(this._listeners)),n=new Set(t.events);(!jf(s,n)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,s=this._getUniformDataChanges()||[];for(const{method:n,start:i,count:a}of s){const l=n==="_removeElements"?-a:a;e4(t,i,l)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const s=this.data.datasets.length,n=a=>new Set(t.filter(l=>l[0]===a).map((l,o)=>o+","+l.splice(1).join(","))),i=n(0);for(let a=1;a<s;a++)if(!jf(i,n(a)))return;return Array.from(i).map(a=>a.split(",")).map(a=>({method:a[1],start:+a[2],count:+a[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Pt.update(this,this.width,this.height,t);const s=this.chartArea,n=s.width<=0||s.height<=0;this._layers=[],de(this.boxes,i=>{n&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,a)=>{i._idx=a}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let s=0,n=this.data.datasets.length;s<n;++s)this.getDatasetMeta(s).controller.configure();for(let s=0,n=this.data.datasets.length;s<n;++s)this._updateDataset(s,rn(t)?t({datasetIndex:s}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,s){const n=this.getDatasetMeta(t),i={meta:n,index:t,mode:s,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(n.controller._update(s),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(as.has(this)?this.attached&&!as.running(this)&&as.start(this):(this.draw(),cx({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:n,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(n,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const s=this._layers;for(t=0;t<s.length&&s[t].z<=0;++t)s[t].draw(this.chartArea);for(this._drawDatasets();t<s.length;++t)s[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const s=this._sortedMetasets,n=[];let i,a;for(i=0,a=s.length;i<a;++i){const l=s[i];(!t||l.visible)&&n.push(l)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let s=t.length-1;s>=0;--s)this._drawDataset(t[s]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const s=this.ctx,n={meta:t,index:t.index,cancelable:!0},i=jk(this,t);this.notifyPlugins("beforeDatasetDraw",n)!==!1&&(i&&oh(s,i),t.controller.draw(),i&&ch(s),n.cancelable=!1,this.notifyPlugins("afterDatasetDraw",n))}isPointInArea(t){return xs(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,s,n,i){const a=Jk.modes[s];return typeof a=="function"?a(this,t,n,i):[]}getDatasetMeta(t){const s=this.data.datasets[t],n=this._metasets;let i=n.filter(a=>a&&a._dataset===s).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:s&&s.order||0,index:t,_dataset:s,_parsed:[],_sorted:!1},n.push(i)),i}getContext(){return this.$context||(this.$context=un(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const s=this.data.datasets[t];if(!s)return!1;const n=this.getDatasetMeta(t);return typeof n.hidden=="boolean"?!n.hidden:!s.hidden}setDatasetVisibility(t,s){const n=this.getDatasetMeta(t);n.hidden=!s}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,s,n){const i=n?"show":"hide",a=this.getDatasetMeta(t),l=a.controller._resolveAnimations(void 0,i);Xi(s)?(a.data[s].hidden=!n,this.update()):(this.setDatasetVisibility(t,n),l.update(a,{visible:n}),this.update(o=>o.datasetIndex===t?i:void 0))}hide(t,s){this._updateVisibility(t,s,!1)}show(t,s){this._updateVisibility(t,s,!0)}_destroyDatasetMeta(t){const s=this._metasets[t];s&&s.controller&&s.controller._destroy(),delete this._metasets[t]}_stop(){let t,s;for(this.stop(),as.remove(this),t=0,s=this.data.datasets.length;t<s;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:s}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),Ef(t,s),this.platform.releaseContext(s),this.canvas=null,this.ctx=null),delete pl[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,s=this.platform,n=(a,l)=>{s.addEventListener(this,a,l),t[a]=l},i=(a,l,o)=>{a.offsetX=l,a.offsetY=o,this._eventHandler(a)};de(this.options.events,a=>n(a,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,s=this.platform,n=(c,d)=>{s.addEventListener(this,c,d),t[c]=d},i=(c,d)=>{t[c]&&(s.removeEventListener(this,c,d),delete t[c])},a=(c,d)=>{this.canvas&&this.resize(c,d)};let l;const o=()=>{i("attach",o),this.attached=!0,this.resize(),n("resize",a),n("detach",l)};l=()=>{this.attached=!1,i("resize",a),this._stop(),this._resize(0,0),n("attach",o)},s.isAttached(this.canvas)?o():l()}unbindEvents(){de(this._listeners,(t,s)=>{this.platform.removeEventListener(this,s,t)}),this._listeners={},de(this._responsiveListeners,(t,s)=>{this.platform.removeEventListener(this,s,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,s,n){const i=n?"set":"remove";let a,l,o,c;for(s==="dataset"&&(a=this.getDatasetMeta(t[0].datasetIndex),a.controller["_"+i+"DatasetHoverStyle"]()),o=0,c=t.length;o<c;++o){l=t[o];const d=l&&this.getDatasetMeta(l.datasetIndex).controller;d&&d[i+"HoverStyle"](l.element,l.datasetIndex,l.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const s=this._active||[],n=t.map(({datasetIndex:a,index:l})=>{const o=this.getDatasetMeta(a);if(!o)throw new Error("No dataset found at index "+a);return{datasetIndex:a,element:o.data[l],index:l}});!to(n,s)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,s))}notifyPlugins(t,s,n){return this._plugins.notify(this,t,s,n)}isPluginEnabled(t){return this._plugins._cache.filter(s=>s.plugin.id===t).length===1}_updateHoverStyles(t,s,n){const i=this.options.hover,a=(c,d)=>c.filter(u=>!d.some(h=>u.datasetIndex===h.datasetIndex&&u.index===h.index)),l=a(s,t),o=n?t:a(t,s);l.length&&this.updateHoverStyle(l,i.mode,!1),o.length&&i.mode&&this.updateHoverStyle(o,i.mode,!0)}_eventHandler(t,s){const n={event:t,replay:s,cancelable:!0,inChartArea:this.isPointInArea(t)},i=l=>(l.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",n,i)===!1)return;const a=this._handleEvent(t,s,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,i),(a||n.changed)&&this.render(),this}_handleEvent(t,s,n){const{_active:i=[],options:a}=this,l=s,o=this._getActiveElements(t,i,n,l),c=r_(t),d=t4(t,this._lastEvent,n,c);n&&(this._lastEvent=null,me(a.onHover,[t,o,this],this),c&&me(a.onClick,[t,o,this],this));const u=!to(o,i);return(u||s)&&(this._active=o,this._updateHoverStyles(o,i,s)),this._lastEvent=d,u}_getActiveElements(t,s,n,i){if(t.type==="mouseout")return[];if(!n)return s;const a=this.options.hover;return this.getElementsAtEventForMode(t,a.mode,a,i)}},U(Ps,"defaults",_e),U(Ps,"instances",pl),U(Ps,"overrides",Un),U(Ps,"registry",Gt),U(Ps,"version",GS),U(Ps,"getChart",dx),Ps);function ux(){return de(Bo.instances,e=>e._plugins.invalidate())}function s4(e,t,s){const{startAngle:n,x:i,y:a,outerRadius:l,innerRadius:o,options:c}=t,{borderWidth:d,borderJoinStyle:u}=c,h=Math.min(d/l,lt(n-s));if(e.beginPath(),e.arc(i,a,l-d/2,n+h/2,s-h/2),o>0){const f=Math.min(d/o,lt(n-s));e.arc(i,a,o+d/2,s-f/2,n+f/2,!0)}else{const f=Math.min(d/2,l*lt(n-s));if(u==="round")e.arc(i,a,f,s-oe/2,n+oe/2,!0);else if(u==="bevel"){const v=2*f*f,p=-v*Math.cos(s+oe/2)+i,y=-v*Math.sin(s+oe/2)+a,b=v*Math.cos(n+oe/2)+i,m=v*Math.sin(n+oe/2)+a;e.lineTo(p,y),e.lineTo(b,m)}}e.closePath(),e.moveTo(0,0),e.rect(0,0,e.canvas.width,e.canvas.height),e.clip("evenodd")}function n4(e,t,s){const{startAngle:n,pixelMargin:i,x:a,y:l,outerRadius:o,innerRadius:c}=t;let d=i/o;e.beginPath(),e.arc(a,l,o,n-d,s+d),c>i?(d=i/c,e.arc(a,l,c,s+d,n-d,!0)):e.arc(a,l,i,s+Ce,n-Ce),e.closePath(),e.clip()}function r4(e){return dh(e,["outerStart","outerEnd","innerStart","innerEnd"])}function i4(e,t,s,n){const i=r4(e.options.borderRadius),a=(s-t)/2,l=Math.min(a,n*t/2),o=c=>{const d=(s-Math.min(a,c))*n/2;return Ke(c,0,Math.min(a,d))};return{outerStart:o(i.outerStart),outerEnd:o(i.outerEnd),innerStart:Ke(i.innerStart,0,l),innerEnd:Ke(i.innerEnd,0,l)}}function Jn(e,t,s,n){return{x:s+e*Math.cos(t),y:n+e*Math.sin(t)}}function lo(e,t,s,n,i,a){const{x:l,y:o,startAngle:c,pixelMargin:d,innerRadius:u}=t,h=Math.max(t.outerRadius+n+s-d,0),f=u>0?u+n+s+d:0;let v=0;const p=i-c;if(n){const H=u>0?u-n:0,P=h>0?h-n:0,W=(H+P)/2,M=W!==0?p*W/(W+n):p;v=(p-M)/2}const y=Math.max(.001,p*h-s/oe)/h,b=(p-y)/2,m=c+b+v,x=i-b-v,{outerStart:g,outerEnd:j,innerStart:w,innerEnd:_}=i4(t,f,h,x-m),k=h-g,S=h-j,A=m+g/k,O=x-j/S,C=f+w,L=f+_,V=m+w/C,K=x-_/L;if(e.beginPath(),a){const H=(A+O)/2;if(e.arc(l,o,h,A,H),e.arc(l,o,h,H,O),j>0){const F=Jn(S,O,l,o);e.arc(F.x,F.y,j,O,x+Ce)}const P=Jn(L,x,l,o);if(e.lineTo(P.x,P.y),_>0){const F=Jn(L,K,l,o);e.arc(F.x,F.y,_,x+Ce,K+Math.PI)}const W=(x-_/f+(m+w/f))/2;if(e.arc(l,o,f,x-_/f,W,!0),e.arc(l,o,f,W,m+w/f,!0),w>0){const F=Jn(C,V,l,o);e.arc(F.x,F.y,w,V+Math.PI,m-Ce)}const M=Jn(k,m,l,o);if(e.lineTo(M.x,M.y),g>0){const F=Jn(k,A,l,o);e.arc(F.x,F.y,g,m-Ce,A)}}else{e.moveTo(l,o);const H=Math.cos(A)*h+l,P=Math.sin(A)*h+o;e.lineTo(H,P);const W=Math.cos(O)*h+l,M=Math.sin(O)*h+o;e.lineTo(W,M)}e.closePath()}function a4(e,t,s,n,i){const{fullCircles:a,startAngle:l,circumference:o}=t;let c=t.endAngle;if(a){lo(e,t,s,n,c,i);for(let d=0;d<a;++d)e.fill();isNaN(o)||(c=l+(o%ve||ve))}return lo(e,t,s,n,c,i),e.fill(),c}function l4(e,t,s,n,i){const{fullCircles:a,startAngle:l,circumference:o,options:c}=t,{borderWidth:d,borderJoinStyle:u,borderDash:h,borderDashOffset:f,borderRadius:v}=c,p=c.borderAlign==="inner";if(!d)return;e.setLineDash(h||[]),e.lineDashOffset=f,p?(e.lineWidth=d*2,e.lineJoin=u||"round"):(e.lineWidth=d,e.lineJoin=u||"bevel");let y=t.endAngle;if(a){lo(e,t,s,n,y,i);for(let b=0;b<a;++b)e.stroke();isNaN(o)||(y=l+(o%ve||ve))}p&&n4(e,t,y),c.selfJoin&&y-l>=oe&&v===0&&u!=="miter"&&s4(e,t,y),a||(lo(e,t,s,n,y,i),e.stroke())}class ci extends Ut{constructor(s){super();U(this,"circumference");U(this,"endAngle");U(this,"fullCircles");U(this,"innerRadius");U(this,"outerRadius");U(this,"pixelMargin");U(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,s&&Object.assign(this,s)}inRange(s,n,i){const a=this.getProps(["x","y"],i),{angle:l,distance:o}=Ug(a,{x:s,y:n}),{startAngle:c,endAngle:d,innerRadius:u,outerRadius:h,circumference:f}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),v=(this.options.spacing+this.options.borderWidth)/2,p=se(f,d-c),y=Ki(l,c,d)&&c!==d,b=p>=ve||y,m=Ws(o,u+v,h+v);return b&&m}getCenterPoint(s){const{x:n,y:i,startAngle:a,endAngle:l,innerRadius:o,outerRadius:c}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],s),{offset:d,spacing:u}=this.options,h=(a+l)/2,f=(o+c+u+d)/2;return{x:n+Math.cos(h)*f,y:i+Math.sin(h)*f}}tooltipPosition(s){return this.getCenterPoint(s)}draw(s){const{options:n,circumference:i}=this,a=(n.offset||0)/4,l=(n.spacing||0)/2,o=n.circular;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=i>ve?Math.floor(i/ve):0,i===0||this.innerRadius<0||this.outerRadius<0)return;s.save();const c=(this.startAngle+this.endAngle)/2;s.translate(Math.cos(c)*a,Math.sin(c)*a);const d=1-Math.sin(Math.min(oe,i||0)),u=a*d;s.fillStyle=n.backgroundColor,s.strokeStyle=n.borderColor,a4(s,this,u,l,o),l4(s,this,u,l,o),s.restore()}}U(ci,"id","arc"),U(ci,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),U(ci,"defaultRoutes",{backgroundColor:"backgroundColor"}),U(ci,"descriptors",{_scriptable:!0,_indexable:s=>s!=="borderDash"});function gy(e,t,s=t){e.lineCap=se(s.borderCapStyle,t.borderCapStyle),e.setLineDash(se(s.borderDash,t.borderDash)),e.lineDashOffset=se(s.borderDashOffset,t.borderDashOffset),e.lineJoin=se(s.borderJoinStyle,t.borderJoinStyle),e.lineWidth=se(s.borderWidth,t.borderWidth),e.strokeStyle=se(s.borderColor,t.borderColor)}function o4(e,t,s){e.lineTo(s.x,s.y)}function c4(e){return e.stepped?M_:e.tension||e.cubicInterpolationMode==="monotone"?E_:o4}function yy(e,t,s={}){const n=e.length,{start:i=0,end:a=n-1}=s,{start:l,end:o}=t,c=Math.max(i,l),d=Math.min(a,o),u=i<l&&a<l||i>o&&a>o;return{count:n,start:c,loop:t.loop,ilen:d<c&&!u?n+d-c:d-c}}function d4(e,t,s,n){const{points:i,options:a}=t,{count:l,start:o,loop:c,ilen:d}=yy(i,s,n),u=c4(a);let{move:h=!0,reverse:f}=n||{},v,p,y;for(v=0;v<=d;++v)p=i[(o+(f?d-v:v))%l],!p.skip&&(h?(e.moveTo(p.x,p.y),h=!1):u(e,y,p,f,a.stepped),y=p);return c&&(p=i[(o+(f?d:0))%l],u(e,y,p,f,a.stepped)),!!c}function u4(e,t,s,n){const i=t.points,{count:a,start:l,ilen:o}=yy(i,s,n),{move:c=!0,reverse:d}=n||{};let u=0,h=0,f,v,p,y,b,m;const x=j=>(l+(d?o-j:j))%a,g=()=>{y!==b&&(e.lineTo(u,b),e.lineTo(u,y),e.lineTo(u,m))};for(c&&(v=i[x(0)],e.moveTo(v.x,v.y)),f=0;f<=o;++f){if(v=i[x(f)],v.skip)continue;const j=v.x,w=v.y,_=j|0;_===p?(w<y?y=w:w>b&&(b=w),u=(h*u+j)/++h):(g(),e.lineTo(j,w),p=_,h=0,y=b=w),m=w}g()}function Ud(e){const t=e.options,s=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!s?u4:d4}function h4(e){return e.stepped?ok:e.tension||e.cubicInterpolationMode==="monotone"?ck:wn}function m4(e,t,s,n){let i=t._path;i||(i=t._path=new Path2D,t.path(i,s,n)&&i.closePath()),gy(e,t.options),e.stroke(i)}function f4(e,t,s,n){const{segments:i,options:a}=t,l=Ud(t);for(const o of i)gy(e,a,o.style),e.beginPath(),l(e,t,o,{start:s,end:s+n-1})&&e.closePath(),e.stroke()}const x4=typeof Path2D=="function";function p4(e,t,s,n){x4&&!t.options.segment?m4(e,t,s,n):f4(e,t,s,n)}class di extends Ut{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,s){const n=this.options;if((n.tension||n.cubicInterpolationMode==="monotone")&&!n.stepped&&!this._pointsUpdated){const i=n.spanGaps?this._loop:this._fullLoop;ek(this._points,n,t,i,s),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=gk(this,this.options.segment))}first(){const t=this.segments,s=this.points;return t.length&&s[t[0].start]}last(){const t=this.segments,s=this.points,n=t.length;return n&&s[t[n-1].end]}interpolate(t,s){const n=this.options,i=t[s],a=this.points,l=fk(this,{property:s,start:i,end:i});if(!l.length)return;const o=[],c=h4(n);let d,u;for(d=0,u=l.length;d<u;++d){const{start:h,end:f}=l[d],v=a[h],p=a[f];if(v===p){o.push(v);continue}const y=Math.abs((i-v[s])/(p[s]-v[s])),b=c(v,p,y,n.stepped);b[s]=t[s],o.push(b)}return o.length===1?o[0]:o}pathSegment(t,s,n){return Ud(this)(t,this,s,n)}path(t,s,n){const i=this.segments,a=Ud(this);let l=this._loop;s=s||0,n=n||this.points.length-s;for(const o of i)l&=a(t,this,o,{start:s,end:s+n-1});return!!l}draw(t,s,n,i){const a=this.options||{};(this.points||[]).length&&a.borderWidth&&(t.save(),p4(t,this,n,i),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}U(di,"id","line"),U(di,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),U(di,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),U(di,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"});function hx(e,t,s,n){const i=e.options,{[s]:a}=e.getProps([s],n);return Math.abs(t-a)<i.radius+i.hitRadius}class gl extends Ut{constructor(s){super();U(this,"parsed");U(this,"skip");U(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,s&&Object.assign(this,s)}inRange(s,n,i){const a=this.options,{x:l,y:o}=this.getProps(["x","y"],i);return Math.pow(s-l,2)+Math.pow(n-o,2)<Math.pow(a.hitRadius+a.radius,2)}inXRange(s,n){return hx(this,s,"x",n)}inYRange(s,n){return hx(this,s,"y",n)}getCenterPoint(s){const{x:n,y:i}=this.getProps(["x","y"],s);return{x:n,y:i}}size(s){s=s||this.options||{};let n=s.radius||0;n=Math.max(n,n&&s.hoverRadius||0);const i=n&&s.borderWidth||0;return(n+i)*2}draw(s,n){const i=this.options;this.skip||i.radius<.1||!xs(this,n,this.size(i)/2)||(s.strokeStyle=i.borderColor,s.lineWidth=i.borderWidth,s.fillStyle=i.backgroundColor,Bd(s,i,this.x,this.y))}getRange(){const s=this.options||{};return s.radius+s.hitRadius}}U(gl,"id","point"),U(gl,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),U(gl,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function vy(e,t){const{x:s,y:n,base:i,width:a,height:l}=e.getProps(["x","y","base","width","height"],t);let o,c,d,u,h;return e.horizontal?(h=l/2,o=Math.min(s,i),c=Math.max(s,i),d=n-h,u=n+h):(h=a/2,o=s-h,c=s+h,d=Math.min(n,i),u=Math.max(n,i)),{left:o,top:d,right:c,bottom:u}}function Hs(e,t,s,n){return e?0:Ke(t,s,n)}function g4(e,t,s){const n=e.options.borderWidth,i=e.borderSkipped,a=Kg(n);return{t:Hs(i.top,a.top,0,s),r:Hs(i.right,a.right,0,t),b:Hs(i.bottom,a.bottom,0,s),l:Hs(i.left,a.left,0,t)}}function y4(e,t,s){const{enableBorderRadius:n}=e.getProps(["enableBorderRadius"]),i=e.options.borderRadius,a=Dn(i),l=Math.min(t,s),o=e.borderSkipped,c=n||ae(i);return{topLeft:Hs(!c||o.top||o.left,a.topLeft,0,l),topRight:Hs(!c||o.top||o.right,a.topRight,0,l),bottomLeft:Hs(!c||o.bottom||o.left,a.bottomLeft,0,l),bottomRight:Hs(!c||o.bottom||o.right,a.bottomRight,0,l)}}function v4(e){const t=vy(e),s=t.right-t.left,n=t.bottom-t.top,i=g4(e,s/2,n/2),a=y4(e,s/2,n/2);return{outer:{x:t.left,y:t.top,w:s,h:n,radius:a},inner:{x:t.left+i.l,y:t.top+i.t,w:s-i.l-i.r,h:n-i.t-i.b,radius:{topLeft:Math.max(0,a.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,a.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,a.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,a.bottomRight-Math.max(i.b,i.r))}}}}function Ec(e,t,s,n){const i=t===null,a=s===null,o=e&&!(i&&a)&&vy(e,n);return o&&(i||Ws(t,o.left,o.right))&&(a||Ws(s,o.top,o.bottom))}function b4(e){return e.topLeft||e.topRight||e.bottomLeft||e.bottomRight}function j4(e,t){e.rect(t.x,t.y,t.w,t.h)}function Tc(e,t,s={}){const n=e.x!==s.x?-t:0,i=e.y!==s.y?-t:0,a=(e.x+e.w!==s.x+s.w?t:0)-n,l=(e.y+e.h!==s.y+s.h?t:0)-i;return{x:e.x+n,y:e.y+i,w:e.w+a,h:e.h+l,radius:e.radius}}class yl extends Ut{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:s,options:{borderColor:n,backgroundColor:i}}=this,{inner:a,outer:l}=v4(this),o=b4(l.radius)?Gi:j4;t.save(),(l.w!==a.w||l.h!==a.h)&&(t.beginPath(),o(t,Tc(l,s,a)),t.clip(),o(t,Tc(a,-s,l)),t.fillStyle=n,t.fill("evenodd")),t.beginPath(),o(t,Tc(a,s)),t.fillStyle=i,t.fill(),t.restore()}inRange(t,s,n){return Ec(this,t,s,n)}inXRange(t,s){return Ec(this,t,null,s)}inYRange(t,s){return Ec(this,null,t,s)}getCenterPoint(t){const{x:s,y:n,base:i,horizontal:a}=this.getProps(["x","y","base","horizontal"],t);return{x:a?(s+i)/2:s,y:a?n:(n+i)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}U(yl,"id","bar"),U(yl,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),U(yl,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const mx=(e,t)=>{let{boxHeight:s=t,boxWidth:n=t}=e;return e.usePointStyle&&(s=Math.min(s,t),n=e.pointStyleWidth||Math.min(n,t)),{boxWidth:n,boxHeight:s,itemHeight:Math.max(t,s)}},w4=(e,t)=>e!==null&&t!==null&&e.datasetIndex===t.datasetIndex&&e.index===t.index;class fx extends Ut{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,s,n){this.maxWidth=t,this.maxHeight=s,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let s=me(t.generateLabels,[this.chart],this)||[];t.filter&&(s=s.filter(n=>t.filter(n,this.chart.data))),t.sort&&(s=s.sort((n,i)=>t.sort(n,i,this.chart.data))),this.options.reverse&&s.reverse(),this.legendItems=s}fit(){const{options:t,ctx:s}=this;if(!t.display){this.width=this.height=0;return}const n=t.labels,i=Fe(n.font),a=i.size,l=this._computeTitleHeight(),{boxWidth:o,itemHeight:c}=mx(n,a);let d,u;s.font=i.string,this.isHorizontal()?(d=this.maxWidth,u=this._fitRows(l,a,o,c)+10):(u=this.maxHeight,d=this._fitCols(l,i,o,c)+10),this.width=Math.min(d,t.maxWidth||this.maxWidth),this.height=Math.min(u,t.maxHeight||this.maxHeight)}_fitRows(t,s,n,i){const{ctx:a,maxWidth:l,options:{labels:{padding:o}}}=this,c=this.legendHitBoxes=[],d=this.lineWidths=[0],u=i+o;let h=t;a.textAlign="left",a.textBaseline="middle";let f=-1,v=-u;return this.legendItems.forEach((p,y)=>{const b=n+s/2+a.measureText(p.text).width;(y===0||d[d.length-1]+b+2*o>l)&&(h+=u,d[d.length-(y>0?0:1)]=0,v+=u,f++),c[y]={left:0,top:v,row:f,width:b,height:i},d[d.length-1]+=b+o}),h}_fitCols(t,s,n,i){const{ctx:a,maxHeight:l,options:{labels:{padding:o}}}=this,c=this.legendHitBoxes=[],d=this.columnSizes=[],u=l-t;let h=o,f=0,v=0,p=0,y=0;return this.legendItems.forEach((b,m)=>{const{itemWidth:x,itemHeight:g}=N4(n,s,a,b,i);m>0&&v+g+2*o>u&&(h+=f+o,d.push({width:f,height:v}),p+=f+o,y++,f=v=0),c[m]={left:p,top:v,col:y,width:x,height:g},f=Math.max(f,x),v+=g+o}),h+=f,d.push({width:f,height:v}),h}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:s,options:{align:n,labels:{padding:i},rtl:a}}=this,l=vr(a,this.left,this.width);if(this.isHorizontal()){let o=0,c=qe(n,this.left+i,this.right-this.lineWidths[o]);for(const d of s)o!==d.row&&(o=d.row,c=qe(n,this.left+i,this.right-this.lineWidths[o])),d.top+=this.top+t+i,d.left=l.leftForLtr(l.x(c),d.width),c+=d.width+i}else{let o=0,c=qe(n,this.top+t+i,this.bottom-this.columnSizes[o].height);for(const d of s)d.col!==o&&(o=d.col,c=qe(n,this.top+t+i,this.bottom-this.columnSizes[o].height)),d.top=c,d.left+=this.left+i,d.left=l.leftForLtr(l.x(d.left),d.width),c+=d.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;oh(t,this),this._draw(),ch(t)}}_draw(){const{options:t,columnSizes:s,lineWidths:n,ctx:i}=this,{align:a,labels:l}=t,o=_e.color,c=vr(t.rtl,this.left,this.width),d=Fe(l.font),{padding:u}=l,h=d.size,f=h/2;let v;this.drawTitle(),i.textAlign=c.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=d.string;const{boxWidth:p,boxHeight:y,itemHeight:b}=mx(l,h),m=function(_,k,S){if(isNaN(p)||p<=0||isNaN(y)||y<0)return;i.save();const A=se(S.lineWidth,1);if(i.fillStyle=se(S.fillStyle,o),i.lineCap=se(S.lineCap,"butt"),i.lineDashOffset=se(S.lineDashOffset,0),i.lineJoin=se(S.lineJoin,"miter"),i.lineWidth=A,i.strokeStyle=se(S.strokeStyle,o),i.setLineDash(se(S.lineDash,[])),l.usePointStyle){const O={radius:y*Math.SQRT2/2,pointStyle:S.pointStyle,rotation:S.rotation,borderWidth:A},C=c.xPlus(_,p/2),L=k+f;Qg(i,O,C,L,l.pointStyleWidth&&p)}else{const O=k+Math.max((h-y)/2,0),C=c.leftForLtr(_,p),L=Dn(S.borderRadius);i.beginPath(),Object.values(L).some(V=>V!==0)?Gi(i,{x:C,y:O,w:p,h:y,radius:L}):i.rect(C,O,p,y),i.fill(),A!==0&&i.stroke()}i.restore()},x=function(_,k,S){$n(i,S.text,_,k+b/2,d,{strikethrough:S.hidden,textAlign:c.textAlign(S.textAlign)})},g=this.isHorizontal(),j=this._computeTitleHeight();g?v={x:qe(a,this.left+u,this.right-n[0]),y:this.top+u+j,line:0}:v={x:this.left+u,y:qe(a,this.top+j+u,this.bottom-s[0].height),line:0},sy(this.ctx,t.textDirection);const w=b+u;this.legendItems.forEach((_,k)=>{i.strokeStyle=_.fontColor,i.fillStyle=_.fontColor;const S=i.measureText(_.text).width,A=c.textAlign(_.textAlign||(_.textAlign=l.textAlign)),O=p+f+S;let C=v.x,L=v.y;c.setWidth(this.width),g?k>0&&C+O+u>this.right&&(L=v.y+=w,v.line++,C=v.x=qe(a,this.left+u,this.right-n[v.line])):k>0&&L+w>this.bottom&&(C=v.x=C+s[v.line].width+u,v.line++,L=v.y=qe(a,this.top+j+u,this.bottom-s[v.line].height));const V=c.x(C);if(m(V,L,_),C=p_(A,C+p+f,g?C+O:this.right,t.rtl),x(c.x(C),L,_),g)v.x+=O+u;else if(typeof _.text!="string"){const K=d.lineHeight;v.y+=by(_,K)+u}else v.y+=w}),ny(this.ctx,t.textDirection)}drawTitle(){const t=this.options,s=t.title,n=Fe(s.font),i=Je(s.padding);if(!s.display)return;const a=vr(t.rtl,this.left,this.width),l=this.ctx,o=s.position,c=n.size/2,d=i.top+c;let u,h=this.left,f=this.width;if(this.isHorizontal())f=Math.max(...this.lineWidths),u=this.top+d,h=qe(t.align,h,this.right-f);else{const p=this.columnSizes.reduce((y,b)=>Math.max(y,b.height),0);u=d+qe(t.align,this.top,this.bottom-p-t.labels.padding-this._computeTitleHeight())}const v=qe(o,h,h+f);l.textAlign=a.textAlign(ah(o)),l.textBaseline="middle",l.strokeStyle=s.color,l.fillStyle=s.color,l.font=n.string,$n(l,s.text,v,u,n)}_computeTitleHeight(){const t=this.options.title,s=Fe(t.font),n=Je(t.padding);return t.display?s.lineHeight+n.height:0}_getLegendItemAt(t,s){let n,i,a;if(Ws(t,this.left,this.right)&&Ws(s,this.top,this.bottom)){for(a=this.legendHitBoxes,n=0;n<a.length;++n)if(i=a[n],Ws(t,i.left,i.left+i.width)&&Ws(s,i.top,i.top+i.height))return this.legendItems[n]}return null}handleEvent(t){const s=this.options;if(!S4(t.type,s))return;const n=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const i=this._hoveredItem,a=w4(i,n);i&&!a&&me(s.onLeave,[t,i,this],this),this._hoveredItem=n,n&&!a&&me(s.onHover,[t,n,this],this)}else n&&me(s.onClick,[t,n,this],this)}}function N4(e,t,s,n,i){const a=_4(n,e,t,s),l=k4(i,n,t.lineHeight);return{itemWidth:a,itemHeight:l}}function _4(e,t,s,n){let i=e.text;return i&&typeof i!="string"&&(i=i.reduce((a,l)=>a.length>l.length?a:l)),t+s.size/2+n.measureText(i).width}function k4(e,t,s){let n=e;return typeof t.text!="string"&&(n=by(t,s)),n}function by(e,t){const s=e.text?e.text.length:0;return t*s}function S4(e,t){return!!((e==="mousemove"||e==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(e==="click"||e==="mouseup"))}var C4={id:"legend",_element:fx,start(e,t,s){const n=e.legend=new fx({ctx:e.ctx,options:s,chart:e});Pt.configure(e,n,s),Pt.addBox(e,n)},stop(e){Pt.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,s){const n=e.legend;Pt.configure(e,n,s),n.options=s},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,s){const n=t.datasetIndex,i=s.chart;i.isDatasetVisible(n)?(i.hide(n),t.hidden=!0):(i.show(n),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:s,pointStyle:n,textAlign:i,color:a,useBorderRadius:l,borderRadius:o}}=e.legend.options;return e._getSortedDatasetMetas().map(c=>{const d=c.controller.getStyle(s?0:void 0),u=Je(d.borderWidth);return{text:t[c.index].label,fillStyle:d.backgroundColor,fontColor:a,hidden:!c.visible,lineCap:d.borderCapStyle,lineDash:d.borderDash,lineDashOffset:d.borderDashOffset,lineJoin:d.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:d.borderColor,pointStyle:n||d.pointStyle,rotation:d.rotation,textAlign:i||d.textAlign,borderRadius:l&&(o||d.borderRadius),datasetIndex:c.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class jy extends Ut{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,s){const n=this.options;if(this.left=0,this.top=0,!n.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=s;const i=ye(n.text)?n.text.length:1;this._padding=Je(n.padding);const a=i*Fe(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=a:this.width=a}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:s,left:n,bottom:i,right:a,options:l}=this,o=l.align;let c=0,d,u,h;return this.isHorizontal()?(u=qe(o,n,a),h=s+t,d=a-n):(l.position==="left"?(u=n+t,h=qe(o,i,s),c=oe*-.5):(u=a-t,h=qe(o,s,i),c=oe*.5),d=i-s),{titleX:u,titleY:h,maxWidth:d,rotation:c}}draw(){const t=this.ctx,s=this.options;if(!s.display)return;const n=Fe(s.font),a=n.lineHeight/2+this._padding.top,{titleX:l,titleY:o,maxWidth:c,rotation:d}=this._drawArgs(a);$n(t,s.text,0,0,n,{color:s.color,maxWidth:c,rotation:d,textAlign:ah(s.align),textBaseline:"middle",translation:[l,o]})}}function P4(e,t){const s=new jy({ctx:e.ctx,options:t,chart:e});Pt.configure(e,s,t),Pt.addBox(e,s),e.titleBlock=s}var M4={id:"title",_element:jy,start(e,t,s){P4(e,s)},stop(e){const t=e.titleBlock;Pt.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,s){const n=e.titleBlock;Pt.configure(e,n,s),n.options=s},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const ui={average(e){if(!e.length)return!1;let t,s,n=new Set,i=0,a=0;for(t=0,s=e.length;t<s;++t){const o=e[t].element;if(o&&o.hasValue()){const c=o.tooltipPosition();n.add(c.x),i+=c.y,++a}}return a===0||n.size===0?!1:{x:[...n].reduce((o,c)=>o+c)/n.size,y:i/a}},nearest(e,t){if(!e.length)return!1;let s=t.x,n=t.y,i=Number.POSITIVE_INFINITY,a,l,o;for(a=0,l=e.length;a<l;++a){const c=e[a].element;if(c&&c.hasValue()){const d=c.getCenterPoint(),u=zd(t,d);u<i&&(i=u,o=c)}}if(o){const c=o.tooltipPosition();s=c.x,n=c.y}return{x:s,y:n}}};function Qt(e,t){return t&&(ye(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function ls(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function E4(e,t){const{element:s,datasetIndex:n,index:i}=t,a=e.getDatasetMeta(n).controller,{label:l,value:o}=a.getLabelAndValue(i);return{chart:e,label:l,parsed:a.getParsed(i),raw:e.data.datasets[n].data[i],formattedValue:o,dataset:a.getDataset(),dataIndex:i,datasetIndex:n,element:s}}function xx(e,t){const s=e.chart.ctx,{body:n,footer:i,title:a}=e,{boxWidth:l,boxHeight:o}=t,c=Fe(t.bodyFont),d=Fe(t.titleFont),u=Fe(t.footerFont),h=a.length,f=i.length,v=n.length,p=Je(t.padding);let y=p.height,b=0,m=n.reduce((j,w)=>j+w.before.length+w.lines.length+w.after.length,0);if(m+=e.beforeBody.length+e.afterBody.length,h&&(y+=h*d.lineHeight+(h-1)*t.titleSpacing+t.titleMarginBottom),m){const j=t.displayColors?Math.max(o,c.lineHeight):c.lineHeight;y+=v*j+(m-v)*c.lineHeight+(m-1)*t.bodySpacing}f&&(y+=t.footerMarginTop+f*u.lineHeight+(f-1)*t.footerSpacing);let x=0;const g=function(j){b=Math.max(b,s.measureText(j).width+x)};return s.save(),s.font=d.string,de(e.title,g),s.font=c.string,de(e.beforeBody.concat(e.afterBody),g),x=t.displayColors?l+2+t.boxPadding:0,de(n,j=>{de(j.before,g),de(j.lines,g),de(j.after,g)}),x=0,s.font=u.string,de(e.footer,g),s.restore(),b+=p.width,{width:b,height:y}}function T4(e,t){const{y:s,height:n}=t;return s<n/2?"top":s>e.height-n/2?"bottom":"center"}function D4(e,t,s,n){const{x:i,width:a}=n,l=s.caretSize+s.caretPadding;if(e==="left"&&i+a+l>t.width||e==="right"&&i-a-l<0)return!0}function R4(e,t,s,n){const{x:i,width:a}=s,{width:l,chartArea:{left:o,right:c}}=e;let d="center";return n==="center"?d=i<=(o+c)/2?"left":"right":i<=a/2?d="left":i>=l-a/2&&(d="right"),D4(d,e,t,s)&&(d="center"),d}function px(e,t,s){const n=s.yAlign||t.yAlign||T4(e,s);return{xAlign:s.xAlign||t.xAlign||R4(e,t,s,n),yAlign:n}}function L4(e,t){let{x:s,width:n}=e;return t==="right"?s-=n:t==="center"&&(s-=n/2),s}function F4(e,t,s){let{y:n,height:i}=e;return t==="top"?n+=s:t==="bottom"?n-=i+s:n-=i/2,n}function gx(e,t,s,n){const{caretSize:i,caretPadding:a,cornerRadius:l}=e,{xAlign:o,yAlign:c}=s,d=i+a,{topLeft:u,topRight:h,bottomLeft:f,bottomRight:v}=Dn(l);let p=L4(t,o);const y=F4(t,c,d);return c==="center"?o==="left"?p+=d:o==="right"&&(p-=d):o==="left"?p-=Math.max(u,f)+i:o==="right"&&(p+=Math.max(h,v)+i),{x:Ke(p,0,n.width-t.width),y:Ke(y,0,n.height-t.height)}}function Ya(e,t,s){const n=Je(s.padding);return t==="center"?e.x+e.width/2:t==="right"?e.x+e.width-n.right:e.x+n.left}function yx(e){return Qt([],ls(e))}function A4(e,t,s){return un(e,{tooltip:t,tooltipItems:s,type:"tooltip"})}function vx(e,t){const s=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return s?e.override(s):e}const wy={beforeTitle:is,title(e){if(e.length>0){const t=e[0],s=t.chart.data.labels,n=s?s.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(n>0&&t.dataIndex<n)return s[t.dataIndex]}return""},afterTitle:is,beforeBody:is,beforeLabel:is,label(e){if(this&&this.options&&this.options.mode==="dataset")return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const s=e.formattedValue;return ie(s)||(t+=s),t},labelColor(e){const s=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:s.borderColor,backgroundColor:s.backgroundColor,borderWidth:s.borderWidth,borderDash:s.borderDash,borderDashOffset:s.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const s=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:s.pointStyle,rotation:s.rotation}},afterLabel:is,afterBody:is,beforeFooter:is,footer:is,afterFooter:is};function it(e,t,s,n){const i=e[t].call(s,n);return typeof i>"u"?wy[t].call(s,n):i}class $d extends Ut{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const s=this.chart,n=this.options.setContext(this.getContext()),i=n.enabled&&s.options.animation&&n.animations,a=new iy(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(a)),a}getContext(){return this.$context||(this.$context=A4(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,s){const{callbacks:n}=s,i=it(n,"beforeTitle",this,t),a=it(n,"title",this,t),l=it(n,"afterTitle",this,t);let o=[];return o=Qt(o,ls(i)),o=Qt(o,ls(a)),o=Qt(o,ls(l)),o}getBeforeBody(t,s){return yx(it(s.callbacks,"beforeBody",this,t))}getBody(t,s){const{callbacks:n}=s,i=[];return de(t,a=>{const l={before:[],lines:[],after:[]},o=vx(n,a);Qt(l.before,ls(it(o,"beforeLabel",this,a))),Qt(l.lines,it(o,"label",this,a)),Qt(l.after,ls(it(o,"afterLabel",this,a))),i.push(l)}),i}getAfterBody(t,s){return yx(it(s.callbacks,"afterBody",this,t))}getFooter(t,s){const{callbacks:n}=s,i=it(n,"beforeFooter",this,t),a=it(n,"footer",this,t),l=it(n,"afterFooter",this,t);let o=[];return o=Qt(o,ls(i)),o=Qt(o,ls(a)),o=Qt(o,ls(l)),o}_createItems(t){const s=this._active,n=this.chart.data,i=[],a=[],l=[];let o=[],c,d;for(c=0,d=s.length;c<d;++c)o.push(E4(this.chart,s[c]));return t.filter&&(o=o.filter((u,h,f)=>t.filter(u,h,f,n))),t.itemSort&&(o=o.sort((u,h)=>t.itemSort(u,h,n))),de(o,u=>{const h=vx(t.callbacks,u);i.push(it(h,"labelColor",this,u)),a.push(it(h,"labelPointStyle",this,u)),l.push(it(h,"labelTextColor",this,u))}),this.labelColors=i,this.labelPointStyles=a,this.labelTextColors=l,this.dataPoints=o,o}update(t,s){const n=this.options.setContext(this.getContext()),i=this._active;let a,l=[];if(!i.length)this.opacity!==0&&(a={opacity:0});else{const o=ui[n.position].call(this,i,this._eventPosition);l=this._createItems(n),this.title=this.getTitle(l,n),this.beforeBody=this.getBeforeBody(l,n),this.body=this.getBody(l,n),this.afterBody=this.getAfterBody(l,n),this.footer=this.getFooter(l,n);const c=this._size=xx(this,n),d=Object.assign({},o,c),u=px(this.chart,n,d),h=gx(n,d,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,a={opacity:1,x:h.x,y:h.y,width:c.width,height:c.height,caretX:o.x,caretY:o.y}}this._tooltipItems=l,this.$context=void 0,a&&this._resolveAnimations().update(this,a),t&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:s})}drawCaret(t,s,n,i){const a=this.getCaretPosition(t,n,i);s.lineTo(a.x1,a.y1),s.lineTo(a.x2,a.y2),s.lineTo(a.x3,a.y3)}getCaretPosition(t,s,n){const{xAlign:i,yAlign:a}=this,{caretSize:l,cornerRadius:o}=n,{topLeft:c,topRight:d,bottomLeft:u,bottomRight:h}=Dn(o),{x:f,y:v}=t,{width:p,height:y}=s;let b,m,x,g,j,w;return a==="center"?(j=v+y/2,i==="left"?(b=f,m=b-l,g=j+l,w=j-l):(b=f+p,m=b+l,g=j-l,w=j+l),x=b):(i==="left"?m=f+Math.max(c,u)+l:i==="right"?m=f+p-Math.max(d,h)-l:m=this.caretX,a==="top"?(g=v,j=g-l,b=m-l,x=m+l):(g=v+y,j=g+l,b=m+l,x=m-l),w=g),{x1:b,x2:m,x3:x,y1:g,y2:j,y3:w}}drawTitle(t,s,n){const i=this.title,a=i.length;let l,o,c;if(a){const d=vr(n.rtl,this.x,this.width);for(t.x=Ya(this,n.titleAlign,n),s.textAlign=d.textAlign(n.titleAlign),s.textBaseline="middle",l=Fe(n.titleFont),o=n.titleSpacing,s.fillStyle=n.titleColor,s.font=l.string,c=0;c<a;++c)s.fillText(i[c],d.x(t.x),t.y+l.lineHeight/2),t.y+=l.lineHeight+o,c+1===a&&(t.y+=n.titleMarginBottom-o)}}_drawColorBox(t,s,n,i,a){const l=this.labelColors[n],o=this.labelPointStyles[n],{boxHeight:c,boxWidth:d}=a,u=Fe(a.bodyFont),h=Ya(this,"left",a),f=i.x(h),v=c<u.lineHeight?(u.lineHeight-c)/2:0,p=s.y+v;if(a.usePointStyle){const y={radius:Math.min(d,c)/2,pointStyle:o.pointStyle,rotation:o.rotation,borderWidth:1},b=i.leftForLtr(f,d)+d/2,m=p+c/2;t.strokeStyle=a.multiKeyBackground,t.fillStyle=a.multiKeyBackground,Bd(t,y,b,m),t.strokeStyle=l.borderColor,t.fillStyle=l.backgroundColor,Bd(t,y,b,m)}else{t.lineWidth=ae(l.borderWidth)?Math.max(...Object.values(l.borderWidth)):l.borderWidth||1,t.strokeStyle=l.borderColor,t.setLineDash(l.borderDash||[]),t.lineDashOffset=l.borderDashOffset||0;const y=i.leftForLtr(f,d),b=i.leftForLtr(i.xPlus(f,1),d-2),m=Dn(l.borderRadius);Object.values(m).some(x=>x!==0)?(t.beginPath(),t.fillStyle=a.multiKeyBackground,Gi(t,{x:y,y:p,w:d,h:c,radius:m}),t.fill(),t.stroke(),t.fillStyle=l.backgroundColor,t.beginPath(),Gi(t,{x:b,y:p+1,w:d-2,h:c-2,radius:m}),t.fill()):(t.fillStyle=a.multiKeyBackground,t.fillRect(y,p,d,c),t.strokeRect(y,p,d,c),t.fillStyle=l.backgroundColor,t.fillRect(b,p+1,d-2,c-2))}t.fillStyle=this.labelTextColors[n]}drawBody(t,s,n){const{body:i}=this,{bodySpacing:a,bodyAlign:l,displayColors:o,boxHeight:c,boxWidth:d,boxPadding:u}=n,h=Fe(n.bodyFont);let f=h.lineHeight,v=0;const p=vr(n.rtl,this.x,this.width),y=function(S){s.fillText(S,p.x(t.x+v),t.y+f/2),t.y+=f+a},b=p.textAlign(l);let m,x,g,j,w,_,k;for(s.textAlign=l,s.textBaseline="middle",s.font=h.string,t.x=Ya(this,b,n),s.fillStyle=n.bodyColor,de(this.beforeBody,y),v=o&&b!=="right"?l==="center"?d/2+u:d+2+u:0,j=0,_=i.length;j<_;++j){for(m=i[j],x=this.labelTextColors[j],s.fillStyle=x,de(m.before,y),g=m.lines,o&&g.length&&(this._drawColorBox(s,t,j,p,n),f=Math.max(h.lineHeight,c)),w=0,k=g.length;w<k;++w)y(g[w]),f=h.lineHeight;de(m.after,y)}v=0,f=h.lineHeight,de(this.afterBody,y),t.y-=a}drawFooter(t,s,n){const i=this.footer,a=i.length;let l,o;if(a){const c=vr(n.rtl,this.x,this.width);for(t.x=Ya(this,n.footerAlign,n),t.y+=n.footerMarginTop,s.textAlign=c.textAlign(n.footerAlign),s.textBaseline="middle",l=Fe(n.footerFont),s.fillStyle=n.footerColor,s.font=l.string,o=0;o<a;++o)s.fillText(i[o],c.x(t.x),t.y+l.lineHeight/2),t.y+=l.lineHeight+n.footerSpacing}}drawBackground(t,s,n,i){const{xAlign:a,yAlign:l}=this,{x:o,y:c}=t,{width:d,height:u}=n,{topLeft:h,topRight:f,bottomLeft:v,bottomRight:p}=Dn(i.cornerRadius);s.fillStyle=i.backgroundColor,s.strokeStyle=i.borderColor,s.lineWidth=i.borderWidth,s.beginPath(),s.moveTo(o+h,c),l==="top"&&this.drawCaret(t,s,n,i),s.lineTo(o+d-f,c),s.quadraticCurveTo(o+d,c,o+d,c+f),l==="center"&&a==="right"&&this.drawCaret(t,s,n,i),s.lineTo(o+d,c+u-p),s.quadraticCurveTo(o+d,c+u,o+d-p,c+u),l==="bottom"&&this.drawCaret(t,s,n,i),s.lineTo(o+v,c+u),s.quadraticCurveTo(o,c+u,o,c+u-v),l==="center"&&a==="left"&&this.drawCaret(t,s,n,i),s.lineTo(o,c+h),s.quadraticCurveTo(o,c,o+h,c),s.closePath(),s.fill(),i.borderWidth>0&&s.stroke()}_updateAnimationTarget(t){const s=this.chart,n=this.$animations,i=n&&n.x,a=n&&n.y;if(i||a){const l=ui[t.position].call(this,this._active,this._eventPosition);if(!l)return;const o=this._size=xx(this,t),c=Object.assign({},l,this._size),d=px(s,t,c),u=gx(t,c,d,s);(i._to!==u.x||a._to!==u.y)&&(this.xAlign=d.xAlign,this.yAlign=d.yAlign,this.width=o.width,this.height=o.height,this.caretX=l.x,this.caretY=l.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(t){const s=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(s);const i={width:this.width,height:this.height},a={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const l=Je(s.padding),o=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;s.enabled&&o&&(t.save(),t.globalAlpha=n,this.drawBackground(a,t,i,s),sy(t,s.textDirection),a.y+=l.top,this.drawTitle(a,t,s),this.drawBody(a,t,s),this.drawFooter(a,t,s),ny(t,s.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,s){const n=this._active,i=t.map(({datasetIndex:o,index:c})=>{const d=this.chart.getDatasetMeta(o);if(!d)throw new Error("Cannot find a dataset at index "+o);return{datasetIndex:o,element:d.data[c],index:c}}),a=!to(n,i),l=this._positionChanged(i,s);(a||l)&&(this._active=i,this._eventPosition=s,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,s,n=!0){if(s&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,a=this._active||[],l=this._getActiveElements(t,a,s,n),o=this._positionChanged(l,t),c=s||!to(l,a)||o;return c&&(this._active=l,(i.enabled||i.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,s))),c}_getActiveElements(t,s,n,i){const a=this.options;if(t.type==="mouseout")return[];if(!i)return s.filter(o=>this.chart.data.datasets[o.datasetIndex]&&this.chart.getDatasetMeta(o.datasetIndex).controller.getParsed(o.index)!==void 0);const l=this.chart.getElementsAtEventForMode(t,a.mode,a,n);return a.reverse&&l.reverse(),l}_positionChanged(t,s){const{caretX:n,caretY:i,options:a}=this,l=ui[a.position].call(this,t,s);return l!==!1&&(n!==l.x||i!==l.y)}}U($d,"positioners",ui);var O4={id:"tooltip",_element:$d,positioners:ui,afterInit(e,t,s){s&&(e.tooltip=new $d({chart:e,options:s}))},beforeUpdate(e,t,s){e.tooltip&&e.tooltip.initialize(s)},reset(e,t,s){e.tooltip&&e.tooltip.initialize(s)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const s={tooltip:t};if(e.notifyPlugins("beforeTooltipDraw",{...s,cancelable:!0})===!1)return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",s)}},afterEvent(e,t){if(e.tooltip){const s=t.replay;e.tooltip.handleEvent(t.event,s,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:wy},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>e!=="filter"&&e!=="itemSort"&&e!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const z4=(e,t,s,n)=>(typeof t=="string"?(s=e.push(t)-1,n.unshift({index:s,label:t})):isNaN(t)&&(s=null),s);function I4(e,t,s,n){const i=e.indexOf(t);if(i===-1)return z4(e,t,s,n);const a=e.lastIndexOf(t);return i!==a?s:i}const B4=(e,t)=>e===null?null:Ke(Math.round(e),0,t);function bx(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class Vd extends qn{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const s=this._addedLabels;if(s.length){const n=this.getLabels();for(const{index:i,label:a}of s)n[i]===a&&n.splice(i,1);this._addedLabels=[]}super.init(t)}parse(t,s){if(ie(t))return null;const n=this.getLabels();return s=isFinite(s)&&n[s]===t?s:I4(n,t,se(s,t),this._addedLabels),B4(s,n.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:s}=this.getUserBounds();let{min:n,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(n=0),s||(i=this.getLabels().length-1)),this.min=n,this.max=i}buildTicks(){const t=this.min,s=this.max,n=this.options.offset,i=[];let a=this.getLabels();a=t===0&&s===a.length-1?a:a.slice(t,s+1),this._valueRange=Math.max(a.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let l=t;l<=s;l++)i.push({value:l});return i}getLabelForValue(t){return bx.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const s=this.ticks;return t<0||t>s.length-1?null:this.getPixelForValue(s[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}U(Vd,"id","category"),U(Vd,"defaults",{ticks:{callback:bx}});function W4(e,t){const s=[],{bounds:i,step:a,min:l,max:o,precision:c,count:d,maxTicks:u,maxDigits:h,includeBounds:f}=e,v=a||1,p=u-1,{min:y,max:b}=t,m=!ie(l),x=!ie(o),g=!ie(d),j=(b-y)/(h+1);let w=Nf((b-y)/p/v)*v,_,k,S,A;if(w<1e-14&&!m&&!x)return[{value:y},{value:b}];A=Math.ceil(b/w)-Math.floor(y/w),A>p&&(w=Nf(A*w/p/v)*v),ie(c)||(_=Math.pow(10,c),w=Math.ceil(w*_)/_),i==="ticks"?(k=Math.floor(y/w)*w,S=Math.ceil(b/w)*w):(k=y,S=b),m&&x&&a&&c_((o-l)/a,w/1e3)?(A=Math.round(Math.min((o-l)/w,u)),w=(o-l)/A,k=l,S=o):g?(k=m?l:k,S=x?o:S,A=d-1,w=(S-k)/A):(A=(S-k)/w,wi(A,Math.round(A),w/1e3)?A=Math.round(A):A=Math.ceil(A));const O=Math.max(_f(w),_f(k));_=Math.pow(10,ie(c)?O:c),k=Math.round(k*_)/_,S=Math.round(S*_)/_;let C=0;for(m&&(f&&k!==l?(s.push({value:l}),k<l&&C++,wi(Math.round((k+C*w)*_)/_,l,jx(l,j,e))&&C++):k<l&&C++);C<A;++C){const L=Math.round((k+C*w)*_)/_;if(x&&L>o)break;s.push({value:L})}return x&&f&&S!==o?s.length&&wi(s[s.length-1].value,o,jx(o,j,e))?s[s.length-1].value=o:s.push({value:o}):(!x||S===o)&&s.push({value:S}),s}function jx(e,t,{horizontal:s,minRotation:n}){const i=es(n),a=(s?Math.sin(i):Math.cos(i))||.001,l=.75*t*(""+e).length;return Math.min(t/a,l)}class oo extends qn{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,s){return ie(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:s,maxDefined:n}=this.getUserBounds();let{min:i,max:a}=this;const l=c=>i=s?i:c,o=c=>a=n?a:c;if(t){const c=ns(i),d=ns(a);c<0&&d<0?o(0):c>0&&d>0&&l(0)}if(i===a){let c=a===0?1:Math.abs(a*.05);o(a+c),t||l(i-c)}this.min=i,this.max=a}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:s,stepSize:n}=t,i;return n?(i=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),s=s||11),s&&(i=Math.min(s,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,s=t.ticks;let n=this.getTickLimit();n=Math.max(2,n);const i={maxTicks:n,bounds:t.bounds,min:t.min,max:t.max,precision:s.precision,step:s.stepSize,count:s.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:s.minRotation||0,includeBounds:s.includeBounds!==!1},a=this._range||this,l=W4(i,a);return t.bounds==="ticks"&&Hg(l,this,"value"),t.reverse?(l.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),l}configure(){const t=this.ticks;let s=this.min,n=this.max;if(super.configure(),this.options.offset&&t.length){const i=(n-s)/Math.max(t.length-1,1)/2;s-=i,n+=i}this._startValue=s,this._endValue=n,this._valueRange=n-s}getLabelForValue(t){return Oo(t,this.chart.options.locale,this.options.ticks.format)}}class Yd extends oo{determineDataLimits(){const{min:t,max:s}=this.getMinMax(!0);this.min=Oe(t)?t:0,this.max=Oe(s)?s:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),s=t?this.width:this.height,n=es(this.options.ticks.minRotation),i=(t?Math.sin(n):Math.cos(n))||.001,a=this._resolveTickFontOptions(0);return Math.ceil(s/Math.min(40,a.lineHeight/i))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}U(Yd,"id","linear"),U(Yd,"defaults",{ticks:{callback:zo.formatters.numeric}});const Zi=e=>Math.floor(Bs(e)),gn=(e,t)=>Math.pow(10,Zi(e)+t);function wx(e){return e/Math.pow(10,Zi(e))===1}function Nx(e,t,s){const n=Math.pow(10,s),i=Math.floor(e/n);return Math.ceil(t/n)-i}function H4(e,t){const s=t-e;let n=Zi(s);for(;Nx(e,t,n)>10;)n++;for(;Nx(e,t,n)<10;)n--;return Math.min(n,Zi(e))}function U4(e,{min:t,max:s}){t=xt(e.min,t);const n=[],i=Zi(t);let a=H4(t,s),l=a<0?Math.pow(10,Math.abs(a)):1;const o=Math.pow(10,a),c=i>a?Math.pow(10,i):0,d=Math.round((t-c)*l)/l,u=Math.floor((t-c)/o/10)*o*10;let h=Math.floor((d-u)/Math.pow(10,a)),f=xt(e.min,Math.round((c+u+h*Math.pow(10,a))*l)/l);for(;f<s;)n.push({value:f,major:wx(f),significand:h}),h>=10?h=h<15?15:20:h++,h>=20&&(a++,h=2,l=a>=0?1:l),f=Math.round((c+u+h*Math.pow(10,a))*l)/l;const v=xt(e.max,f);return n.push({value:v,major:wx(v),significand:h}),n}class _x extends qn{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,s){const n=oo.prototype.parse.apply(this,[t,s]);if(n===0){this._zero=!0;return}return Oe(n)&&n>0?n:null}determineDataLimits(){const{min:t,max:s}=this.getMinMax(!0);this.min=Oe(t)?Math.max(0,t):null,this.max=Oe(s)?Math.max(0,s):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Oe(this._userMin)&&(this.min=t===gn(this.min,0)?gn(this.min,-1):gn(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:s}=this.getUserBounds();let n=this.min,i=this.max;const a=o=>n=t?n:o,l=o=>i=s?i:o;n===i&&(n<=0?(a(1),l(10)):(a(gn(n,-1)),l(gn(i,1)))),n<=0&&a(gn(i,-1)),i<=0&&l(gn(n,1)),this.min=n,this.max=i}buildTicks(){const t=this.options,s={min:this._userMin,max:this._userMax},n=U4(s,this);return t.bounds==="ticks"&&Hg(n,this,"value"),t.reverse?(n.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),n}getLabelForValue(t){return t===void 0?"0":Oo(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=Bs(t),this._valueRange=Bs(this.max)-Bs(t)}getPixelForValue(t){return(t===void 0||t===0)&&(t=this.min),t===null||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(Bs(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const s=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+s*this._valueRange)}}U(_x,"id","logarithmic"),U(_x,"defaults",{ticks:{callback:zo.formatters.logarithmic,major:{enabled:!0}}});function qd(e){const t=e.ticks;if(t.display&&e.display){const s=Je(t.backdropPadding);return se(t.font&&t.font.size,_e.font.size)+s.height}return 0}function $4(e,t,s){return s=ye(s)?s:[s],{w:P_(e,t.string,s),h:s.length*t.lineHeight}}function kx(e,t,s,n,i){return e===n||e===i?{start:t-s/2,end:t+s/2}:e<n||e>i?{start:t-s,end:t}:{start:t,end:t+s}}function V4(e){const t={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},s=Object.assign({},t),n=[],i=[],a=e._pointLabels.length,l=e.options.pointLabels,o=l.centerPointLabels?oe/a:0;for(let c=0;c<a;c++){const d=l.setContext(e.getPointLabelContext(c));i[c]=d.padding;const u=e.getPointPosition(c,e.drawingArea+i[c],o),h=Fe(d.font),f=$4(e.ctx,h,e._pointLabels[c]);n[c]=f;const v=lt(e.getIndexAngle(c)+o),p=Math.round(rh(v)),y=kx(p,u.x,f.w,0,180),b=kx(p,u.y,f.h,90,270);Y4(s,t,v,y,b)}e.setCenterPoint(t.l-s.l,s.r-t.r,t.t-s.t,s.b-t.b),e._pointLabelItems=Q4(e,n,i)}function Y4(e,t,s,n,i){const a=Math.abs(Math.sin(s)),l=Math.abs(Math.cos(s));let o=0,c=0;n.start<t.l?(o=(t.l-n.start)/a,e.l=Math.min(e.l,t.l-o)):n.end>t.r&&(o=(n.end-t.r)/a,e.r=Math.max(e.r,t.r+o)),i.start<t.t?(c=(t.t-i.start)/l,e.t=Math.min(e.t,t.t-c)):i.end>t.b&&(c=(i.end-t.b)/l,e.b=Math.max(e.b,t.b+c))}function q4(e,t,s){const n=e.drawingArea,{extra:i,additionalAngle:a,padding:l,size:o}=s,c=e.getPointPosition(t,n+i+l,a),d=Math.round(rh(lt(c.angle+Ce))),u=J4(c.y,o.h,d),h=K4(d),f=G4(c.x,o.w,h);return{visible:!0,x:c.x,y:u,textAlign:h,left:f,top:u,right:f+o.w,bottom:u+o.h}}function X4(e,t){if(!t)return!0;const{left:s,top:n,right:i,bottom:a}=e;return!(xs({x:s,y:n},t)||xs({x:s,y:a},t)||xs({x:i,y:n},t)||xs({x:i,y:a},t))}function Q4(e,t,s){const n=[],i=e._pointLabels.length,a=e.options,{centerPointLabels:l,display:o}=a.pointLabels,c={extra:qd(a)/2,additionalAngle:l?oe/i:0};let d;for(let u=0;u<i;u++){c.padding=s[u],c.size=t[u];const h=q4(e,u,c);n.push(h),o==="auto"&&(h.visible=X4(h,d),h.visible&&(d=h))}return n}function K4(e){return e===0||e===180?"center":e<180?"left":"right"}function G4(e,t,s){return s==="right"?e-=t:s==="center"&&(e-=t/2),e}function J4(e,t,s){return s===90||s===270?e-=t/2:(s>270||s<90)&&(e-=t),e}function Z4(e,t,s){const{left:n,top:i,right:a,bottom:l}=s,{backdropColor:o}=t;if(!ie(o)){const c=Dn(t.borderRadius),d=Je(t.backdropPadding);e.fillStyle=o;const u=n-d.left,h=i-d.top,f=a-n+d.width,v=l-i+d.height;Object.values(c).some(p=>p!==0)?(e.beginPath(),Gi(e,{x:u,y:h,w:f,h:v,radius:c}),e.fill()):e.fillRect(u,h,f,v)}}function eC(e,t){const{ctx:s,options:{pointLabels:n}}=e;for(let i=t-1;i>=0;i--){const a=e._pointLabelItems[i];if(!a.visible)continue;const l=n.setContext(e.getPointLabelContext(i));Z4(s,l,a);const o=Fe(l.font),{x:c,y:d,textAlign:u}=a;$n(s,e._pointLabels[i],c,d+o.lineHeight/2,o,{color:l.color,textAlign:u,textBaseline:"middle"})}}function Ny(e,t,s,n){const{ctx:i}=e;if(s)i.arc(e.xCenter,e.yCenter,t,0,ve);else{let a=e.getPointPosition(0,t);i.moveTo(a.x,a.y);for(let l=1;l<n;l++)a=e.getPointPosition(l,t),i.lineTo(a.x,a.y)}}function tC(e,t,s,n,i){const a=e.ctx,l=t.circular,{color:o,lineWidth:c}=t;!l&&!n||!o||!c||s<0||(a.save(),a.strokeStyle=o,a.lineWidth=c,a.setLineDash(i.dash||[]),a.lineDashOffset=i.dashOffset,a.beginPath(),Ny(e,s,l,n),a.closePath(),a.stroke(),a.restore())}function sC(e,t,s){return un(e,{label:s,index:t,type:"pointLabel"})}class qa extends oo{constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=Je(qd(this.options)/2),s=this.width=this.maxWidth-t.width,n=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+s/2+t.left),this.yCenter=Math.floor(this.top+n/2+t.top),this.drawingArea=Math.floor(Math.min(s,n)/2)}determineDataLimits(){const{min:t,max:s}=this.getMinMax(!1);this.min=Oe(t)&&!isNaN(t)?t:0,this.max=Oe(s)&&!isNaN(s)?s:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/qd(this.options))}generateTickLabels(t){oo.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((s,n)=>{const i=me(this.options.pointLabels.callback,[s,n],this);return i||i===0?i:""}).filter((s,n)=>this.chart.getDataVisibility(n))}fit(){const t=this.options;t.display&&t.pointLabels.display?V4(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,s,n,i){this.xCenter+=Math.floor((t-s)/2),this.yCenter+=Math.floor((n-i)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,s,n,i))}getIndexAngle(t){const s=ve/(this._pointLabels.length||1),n=this.options.startAngle||0;return lt(t*s+es(n))}getDistanceFromCenterForValue(t){if(ie(t))return NaN;const s=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*s:(t-this.min)*s}getValueForDistanceFromCenter(t){if(ie(t))return NaN;const s=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-s:this.min+s}getPointLabelContext(t){const s=this._pointLabels||[];if(t>=0&&t<s.length){const n=s[t];return sC(this.getContext(),t,n)}}getPointPosition(t,s,n=0){const i=this.getIndexAngle(t)-Ce+n;return{x:Math.cos(i)*s+this.xCenter,y:Math.sin(i)*s+this.yCenter,angle:i}}getPointPositionForValue(t,s){return this.getPointPosition(t,this.getDistanceFromCenterForValue(s))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:s,top:n,right:i,bottom:a}=this._pointLabelItems[t];return{left:s,top:n,right:i,bottom:a}}drawBackground(){const{backgroundColor:t,grid:{circular:s}}=this.options;if(t){const n=this.ctx;n.save(),n.beginPath(),Ny(this,this.getDistanceFromCenterForValue(this._endValue),s,this._pointLabels.length),n.closePath(),n.fillStyle=t,n.fill(),n.restore()}}drawGrid(){const t=this.ctx,s=this.options,{angleLines:n,grid:i,border:a}=s,l=this._pointLabels.length;let o,c,d;if(s.pointLabels.display&&eC(this,l),i.display&&this.ticks.forEach((u,h)=>{if(h!==0||h===0&&this.min<0){c=this.getDistanceFromCenterForValue(u.value);const f=this.getContext(h),v=i.setContext(f),p=a.setContext(f);tC(this,v,c,l,p)}}),n.display){for(t.save(),o=l-1;o>=0;o--){const u=n.setContext(this.getPointLabelContext(o)),{color:h,lineWidth:f}=u;!f||!h||(t.lineWidth=f,t.strokeStyle=h,t.setLineDash(u.borderDash),t.lineDashOffset=u.borderDashOffset,c=this.getDistanceFromCenterForValue(s.reverse?this.min:this.max),d=this.getPointPosition(o,c),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(d.x,d.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,s=this.options,n=s.ticks;if(!n.display)return;const i=this.getIndexAngle(0);let a,l;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(i),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((o,c)=>{if(c===0&&this.min>=0&&!s.reverse)return;const d=n.setContext(this.getContext(c)),u=Fe(d.font);if(a=this.getDistanceFromCenterForValue(this.ticks[c].value),d.showLabelBackdrop){t.font=u.string,l=t.measureText(o.label).width,t.fillStyle=d.backdropColor;const h=Je(d.backdropPadding);t.fillRect(-l/2-h.left,-a-u.size/2-h.top,l+h.width,u.size+h.height)}$n(t,o.label,0,-a,u,{color:d.color,strokeColor:d.textStrokeColor,strokeWidth:d.textStrokeWidth})}),t.restore()}drawTitle(){}}U(qa,"id","radialLinear"),U(qa,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:zo.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}}),U(qa,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),U(qa,"descriptors",{angleLines:{_fallback:"grid"}});const Wo={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},ct=Object.keys(Wo);function Sx(e,t){return e-t}function Cx(e,t){if(ie(t))return null;const s=e._adapter,{parser:n,round:i,isoWeekday:a}=e._parseOpts;let l=t;return typeof n=="function"&&(l=n(l)),Oe(l)||(l=typeof n=="string"?s.parse(l,n):s.parse(l)),l===null?null:(i&&(l=i==="week"&&(Qi(a)||a===!0)?s.startOf(l,"isoWeek",a):s.startOf(l,i)),+l)}function Px(e,t,s,n){const i=ct.length;for(let a=ct.indexOf(e);a<i-1;++a){const l=Wo[ct[a]],o=l.steps?l.steps:Number.MAX_SAFE_INTEGER;if(l.common&&Math.ceil((s-t)/(o*l.size))<=n)return ct[a]}return ct[i-1]}function nC(e,t,s,n,i){for(let a=ct.length-1;a>=ct.indexOf(s);a--){const l=ct[a];if(Wo[l].common&&e._adapter.diff(i,n,l)>=t-1)return l}return ct[s?ct.indexOf(s):0]}function rC(e){for(let t=ct.indexOf(e)+1,s=ct.length;t<s;++t)if(Wo[ct[t]].common)return ct[t]}function Mx(e,t,s){if(!s)e[t]=!0;else if(s.length){const{lo:n,hi:i}=ih(s,t),a=s[n]>=t?s[n]:s[i];e[a]=!0}}function iC(e,t,s,n){const i=e._adapter,a=+i.startOf(t[0].value,n),l=t[t.length-1].value;let o,c;for(o=a;o<=l;o=+i.add(o,1,n))c=s[o],c>=0&&(t[c].major=!0);return t}function Ex(e,t,s){const n=[],i={},a=t.length;let l,o;for(l=0;l<a;++l)o=t[l],i[o]=l,n.push({value:o,major:!1});return a===0||!s?n:iC(e,n,i,s)}class co extends qn{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,s={}){const n=t.time||(t.time={}),i=this._adapter=new qk._date(t.adapters.date);i.init(s),ji(n.displayFormats,i.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(t),this._normalized=s.normalized}parse(t,s){return t===void 0?null:Cx(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,s=this._adapter,n=t.time.unit||"day";let{min:i,max:a,minDefined:l,maxDefined:o}=this.getUserBounds();function c(d){!l&&!isNaN(d.min)&&(i=Math.min(i,d.min)),!o&&!isNaN(d.max)&&(a=Math.max(a,d.max))}(!l||!o)&&(c(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&c(this.getMinMax(!1))),i=Oe(i)&&!isNaN(i)?i:+s.startOf(Date.now(),n),a=Oe(a)&&!isNaN(a)?a:+s.endOf(Date.now(),n)+1,this.min=Math.min(i,a-1),this.max=Math.max(i+1,a)}_getLabelBounds(){const t=this.getLabelTimestamps();let s=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return t.length&&(s=t[0],n=t[t.length-1]),{min:s,max:n}}buildTicks(){const t=this.options,s=t.time,n=t.ticks,i=n.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const a=this.min,l=this.max,o=m_(i,a,l);return this._unit=s.unit||(n.autoSkip?Px(s.minUnit,this.min,this.max,this._getLabelCapacity(a)):nC(this,o.length,s.minUnit,this.min,this.max)),this._majorUnit=!n.major.enabled||this._unit==="year"?void 0:rC(this._unit),this.initOffsets(i),t.reverse&&o.reverse(),Ex(this,o,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let s=0,n=0,i,a;this.options.offset&&t.length&&(i=this.getDecimalForValue(t[0]),t.length===1?s=1-i:s=(this.getDecimalForValue(t[1])-i)/2,a=this.getDecimalForValue(t[t.length-1]),t.length===1?n=a:n=(a-this.getDecimalForValue(t[t.length-2]))/2);const l=t.length<3?.5:.25;s=Ke(s,0,l),n=Ke(n,0,l),this._offsets={start:s,end:n,factor:1/(s+1+n)}}_generate(){const t=this._adapter,s=this.min,n=this.max,i=this.options,a=i.time,l=a.unit||Px(a.minUnit,s,n,this._getLabelCapacity(s)),o=se(i.ticks.stepSize,1),c=l==="week"?a.isoWeekday:!1,d=Qi(c)||c===!0,u={};let h=s,f,v;if(d&&(h=+t.startOf(h,"isoWeek",c)),h=+t.startOf(h,d?"day":l),t.diff(n,s,l)>1e5*o)throw new Error(s+" and "+n+" are too far apart with stepSize of "+o+" "+l);const p=i.ticks.source==="data"&&this.getDataTimestamps();for(f=h,v=0;f<n;f=+t.add(f,o,l),v++)Mx(u,f,p);return(f===n||i.bounds==="ticks"||v===1)&&Mx(u,f,p),Object.keys(u).sort(Sx).map(y=>+y)}getLabelForValue(t){const s=this._adapter,n=this.options.time;return n.tooltipFormat?s.format(t,n.tooltipFormat):s.format(t,n.displayFormats.datetime)}format(t,s){const i=this.options.time.displayFormats,a=this._unit,l=s||i[a];return this._adapter.format(t,l)}_tickFormatFunction(t,s,n,i){const a=this.options,l=a.ticks.callback;if(l)return me(l,[t,s,n],this);const o=a.time.displayFormats,c=this._unit,d=this._majorUnit,u=c&&o[c],h=d&&o[d],f=n[s],v=d&&h&&f&&f.major;return this._adapter.format(t,i||(v?h:u))}generateTickLabels(t){let s,n,i;for(s=0,n=t.length;s<n;++s)i=t[s],i.label=this._tickFormatFunction(i.value,s,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const s=this._offsets,n=this.getDecimalForValue(t);return this.getPixelForDecimal((s.start+n)*s.factor)}getValueForPixel(t){const s=this._offsets,n=this.getDecimalForPixel(t)/s.factor-s.end;return this.min+n*(this.max-this.min)}_getLabelSize(t){const s=this.options.ticks,n=this.ctx.measureText(t).width,i=es(this.isHorizontal()?s.maxRotation:s.minRotation),a=Math.cos(i),l=Math.sin(i),o=this._resolveTickFontOptions(0).size;return{w:n*a+o*l,h:n*l+o*a}}_getLabelCapacity(t){const s=this.options.time,n=s.displayFormats,i=n[s.unit]||n.millisecond,a=this._tickFormatFunction(t,0,Ex(this,[t],this._majorUnit),i),l=this._getLabelSize(a),o=Math.floor(this.isHorizontal()?this.width/l.w:this.height/l.h)-1;return o>0?o:1}getDataTimestamps(){let t=this._cache.data||[],s,n;if(t.length)return t;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(s=0,n=i.length;s<n;++s)t=t.concat(i[s].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let s,n;if(t.length)return t;const i=this.getLabels();for(s=0,n=i.length;s<n;++s)t.push(Cx(this,i[s]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return Vg(t.sort(Sx))}}U(co,"id","time"),U(co,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Xa(e,t,s){let n=0,i=e.length-1,a,l,o,c;s?(t>=e[n].pos&&t<=e[i].pos&&({lo:n,hi:i}=Mn(e,"pos",t)),{pos:a,time:o}=e[n],{pos:l,time:c}=e[i]):(t>=e[n].time&&t<=e[i].time&&({lo:n,hi:i}=Mn(e,"time",t)),{time:a,pos:o}=e[n],{time:l,pos:c}=e[i]);const d=l-a;return d?o+(c-o)*(t-a)/d:o}class Tx extends co{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),s=this._table=this.buildLookupTable(t);this._minPos=Xa(s,this.min),this._tableRange=Xa(s,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:s,max:n}=this,i=[],a=[];let l,o,c,d,u;for(l=0,o=t.length;l<o;++l)d=t[l],d>=s&&d<=n&&i.push(d);if(i.length<2)return[{time:s,pos:0},{time:n,pos:1}];for(l=0,o=i.length;l<o;++l)u=i[l+1],c=i[l-1],d=i[l],Math.round((u+c)/2)!==d&&a.push({time:d,pos:l/(o-1)});return a}_generate(){const t=this.min,s=this.max;let n=super.getDataTimestamps();return(!n.includes(t)||!n.length)&&n.splice(0,0,t),(!n.includes(s)||n.length===1)&&n.push(s),n.sort((i,a)=>i-a)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const s=this.getDataTimestamps(),n=this.getLabelTimestamps();return s.length&&n.length?t=this.normalize(s.concat(n)):t=s.length?s:n,t=this._cache.all=t,t}getDecimalForValue(t){return(Xa(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const s=this._offsets,n=this.getDecimalForPixel(t)/s.factor-s.end;return Xa(this._table,n*this._tableRange+this._minPos,!0)}}U(Tx,"id","timeseries"),U(Tx,"defaults",co.defaults);const _y="label";function Dx(e,t){typeof e=="function"?e(t):e&&(e.current=t)}function aC(e,t){const s=e.options;s&&t&&Object.assign(s,t)}function ky(e,t){e.labels=t}function Sy(e,t){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:_y;const n=[];e.datasets=t.map(i=>{const a=e.datasets.find(l=>l[s]===i[s]);return!a||!i.data||n.includes(a)?{...i}:(n.push(a),Object.assign(a,i),a)})}function lC(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:_y;const s={labels:[],datasets:[]};return ky(s,e.labels),Sy(s,e.datasets,t),s}function oC(e,t){const{height:s=150,width:n=300,redraw:i=!1,datasetIdKey:a,type:l,data:o,options:c,plugins:d=[],fallbackContent:u,updateMode:h,...f}=e,v=N.useRef(null),p=N.useRef(null),y=()=>{v.current&&(p.current=new Bo(v.current,{type:l,data:lC(o,a),options:c&&{...c},plugins:d}),Dx(t,p.current))},b=()=>{Dx(t,null),p.current&&(p.current.destroy(),p.current=null)};return N.useEffect(()=>{!i&&p.current&&c&&aC(p.current,c)},[i,c]),N.useEffect(()=>{!i&&p.current&&ky(p.current.config.data,o.labels)},[i,o.labels]),N.useEffect(()=>{!i&&p.current&&o.datasets&&Sy(p.current.config.data,o.datasets,a)},[i,o.datasets]),N.useEffect(()=>{p.current&&(i?(b(),setTimeout(y)):p.current.update(h))},[i,c,o.labels,o.datasets,h]),N.useEffect(()=>{p.current&&(b(),setTimeout(y))},[l]),N.useEffect(()=>(y(),()=>b()),[]),ta.createElement("canvas",{ref:v,role:"img",height:s,width:n,...f},u)}const cC=N.forwardRef(oC);function gh(e,t){return Bo.register(t),N.forwardRef((s,n)=>ta.createElement(cC,{...s,ref:n,type:e}))}const dC=gh("line",fl),Rx=gh("bar",ml),Dc=gh("doughnut",li);Bo.register(Vd,Yd,gl,di,M4,O4,C4,yl,ci);const uC=()=>{const[e,t]=N.useState("tasks"),[s,n]=N.useState(null),[i,a]=N.useState([]),[l,o]=N.useState([]),[c,d]=N.useState([]),[u,h]=N.useState([]),[f,v]=N.useState([]),[p,y]=N.useState(null),[b,m]=N.useState(!0),[x,g]=N.useState(""),[j,w]=N.useState("");N.useEffect(()=>{_()},[e]);const _=async()=>{m(!0);try{const M={};if(x&&j&&(M.start=x,M.end=j),e==="tasks"){const[F,B,D,q]=await Promise.all([Xr.getStats(M),Xr.getStaffPerformance(M),Xr.getTaskDistribution(M),Xr.getInsights(M)]);n(F.data),a(B.data),d(D.data),h(q.data),k(F.data)}else{const F=await Pn.getLivestock();v(F.data),S(F.data)}}catch(M){console.error("Error fetching reports data:",M)}finally{m(!1)}},k=M=>{const F=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],B=(M==null?void 0:M.taskCompletionRate)||75,D=F.map((q,R)=>({day:q,completion:Math.max(30,Math.min(100,B+(Math.random()-.5)*20))}));o(D)},S=M=>{const F=M.length,B=M.filter(ee=>ee.health_status==="healthy").length,D=M.filter(ee=>ee.health_status==="sick").length,q=M.filter(ee=>ee.health_status==="quarantine").length,R=M.filter(ee=>ee.health_status==="deceased").length,Y=M.reduce((ee,le)=>(ee[le.species]=(ee[le.species]||0)+1,ee),{}),Z=M.filter(ee=>ee.age).map(ee=>ee.age),J=M.filter(ee=>ee.weight).map(ee=>parseFloat(ee.weight)),z=Z.length>0?(Z.reduce((ee,le)=>ee+le,0)/Z.length).toFixed(1):0,he=J.length>0?(J.reduce((ee,le)=>ee+le,0)/J.length).toFixed(1):0;y({totalLivestock:F,healthyCount:B,sickCount:D,quarantineCount:q,deceasedCount:R,healthRate:F>0?(B/F*100).toFixed(1):0,speciesCount:Y,averageAge:z,averageWeight:he})},A=async()=>{try{const M={};if(x&&j&&(M.start=x,M.end=j),e==="tasks"){const F=await Xr.exportReport(M),B=new Blob([F.data],{type:"text/csv"}),D=window.URL.createObjectURL(B),q=document.createElement("a");q.href=D,q.download="task_report.csv",q.click(),window.URL.revokeObjectURL(D)}else{const F=O(),B=new Blob([F],{type:"text/csv"}),D=window.URL.createObjectURL(B),q=document.createElement("a");q.href=D,q.download="livestock_report.csv",q.click(),window.URL.revokeObjectURL(D)}}catch(M){console.error("Export failed:",M)}},O=()=>{const M=["Name","Species","Breed","Age","Weight","Gender","Health Status","Location","Acquisition Date"],F=f.map(B=>[B.name||"",B.species||"",B.breed||"",B.age||"",B.weight||"",B.gender||"",B.health_status||"",B.location||"",B.acquisition_date||""]);return[M,...F].map(B=>B.join(",")).join(`
`)},C={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top",labels:{font:{family:"Poppins",size:12}}},title:{display:!1}},scales:{y:{beginAtZero:!0,grid:{color:"rgba(0, 0, 0, 0.1)"},ticks:{font:{family:"Inter"}}},x:{grid:{display:!1},ticks:{font:{family:"Inter"}}}}},L={labels:l.map(M=>M.day),datasets:[{label:"Task Completion %",data:l.map(M=>M.completion),borderColor:"#16a34a",backgroundColor:"rgba(22, 163, 74, 0.1)",fill:!0,tension:.4,pointBackgroundColor:"#16a34a",pointBorderColor:"#ffffff",pointBorderWidth:2,pointRadius:6}]},K=(()=>{if(!c||c.length===0)return{labels:["No Data"],data:[1],backgroundColor:["#e5e7eb"],borderColor:["#d1d5db"]};const M={static:"Daily Tasks",dynamic:"Special Tasks",feeding:"Feeding",health:"Health Checks",maintenance:"Maintenance",cleaning:"Cleaning",breeding:"Breeding",vaccination:"Vaccination",other:"Other"},F=["#22c55e","#3b82f6","#f59e0b","#8b5cf6","#ef4444","#06b6d4","#f97316","#84cc16","#ec4899","#6366f1"],B=["#16a34a","#2563eb","#d97706","#7c3aed","#dc2626","#0891b2","#ea580c","#65a30d","#db2777","#4f46e5"];return{labels:c.map(D=>M[D.category]||D.category),data:c.map(D=>D.count),backgroundColor:F.slice(0,c.length),borderColor:B.slice(0,c.length)}})(),H={labels:K.labels,datasets:[{data:K.data,backgroundColor:K.backgroundColor,borderColor:K.borderColor,borderWidth:2}]},P={labels:i.slice(0,5).map(M=>M.full_name.split(" ")[0]),datasets:[{label:"Tasks Completed",data:i.slice(0,5).map(M=>M.tasks_completed||0),backgroundColor:"rgba(22, 163, 74, 0.8)",borderColor:"#16a34a",borderWidth:2,borderRadius:8,borderSkipped:!1},{label:"Efficiency %",data:i.slice(0,5).map(M=>M.efficiency||0),backgroundColor:"rgba(59, 130, 246, 0.8)",borderColor:"#3b82f6",borderWidth:2,borderRadius:8,borderSkipped:!1}]},W={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom",labels:{padding:20,font:{family:"Inter",size:11}}}},cutout:"60%"};return b?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):r.jsxs("div",{className:"space-y-8 max-w-7xl mx-auto px-2 sm:px-4 lg:px-8 py-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Reports & Analytics"}),r.jsx("p",{className:"text-gray-600",children:"Comprehensive insights into farm operations and performance"})]}),r.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[r.jsx("input",{type:"date",className:"input-field !py-2 text-sm w-auto",value:x,onChange:M=>g(M.target.value)}),r.jsx("input",{type:"date",className:"input-field !py-2 text-sm w-auto",value:j,onChange:M=>w(M.target.value)}),r.jsx("button",{onClick:_,className:"btn-secondary text-sm",children:"Apply Filters"}),r.jsxs("button",{onClick:A,className:"btn-primary text-sm flex items-center space-x-2",children:[r.jsx(Tg,{className:"w-4 h-4"}),r.jsx("span",{children:"Export Report"})]})]})]}),r.jsxs("div",{className:"flex border-b border-gray-200",children:[r.jsx("button",{onClick:()=>t("tasks"),className:`py-3 px-4 text-sm font-medium border-b-2 transition-colors duration-200 ${e==="tasks"?"border-primary-600 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Task Reports"}),r.jsx("button",{onClick:()=>t("livestock"),className:`py-3 px-4 text-sm font-medium border-b-2 transition-colors duration-200 ${e==="livestock"?"border-primary-600 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Livestock Reports"})]}),e==="tasks"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[r.jsx("div",{className:"card-enhanced",children:r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:"w-14 h-14 farm-gradient rounded-xl flex items-center justify-center shadow-lg",children:r.jsx(gs,{className:"w-7 h-7 text-white"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Task Completion Rate"}),r.jsxs("p",{className:"text-3xl font-bold text-gray-900",children:[(s==null?void 0:s.taskCompletionRate)||0,"%"]}),r.jsx("p",{className:"text-xs text-green-600 font-medium",children:"+5.2% vs last week"})]})]})}),r.jsx("div",{className:"card-enhanced",children:r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:"w-14 h-14 sky-gradient rounded-xl flex items-center justify-center shadow-lg",children:r.jsx(Zt,{className:"w-7 h-7 text-white"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Total Tasks"}),r.jsx("p",{className:"text-3xl font-bold text-gray-900",children:(s==null?void 0:s.totalTasks)||0}),r.jsx("p",{className:"text-xs text-blue-600 font-medium",children:"All assigned tasks"})]})]})}),r.jsx("div",{className:"card-enhanced",children:r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-purple-500 to-purple-700 rounded-xl flex items-center justify-center shadow-lg",children:r.jsx(Zu,{className:"w-7 h-7 text-white"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Staff Efficiency"}),r.jsxs("p",{className:"text-3xl font-bold text-gray-900",children:[(s==null?void 0:s.staffEfficiency)||0,"%"]}),r.jsx("p",{className:"text-xs text-purple-600 font-medium",children:"Task completion rate"})]})]})}),r.jsx("div",{className:"card-enhanced",children:r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:"w-14 h-14 earth-gradient rounded-xl flex items-center justify-center shadow-lg",children:r.jsx(Qw,{className:"w-7 h-7 text-white"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Productivity Score"}),r.jsx("p",{className:"text-3xl font-bold text-gray-900",children:Math.round(((s==null?void 0:s.taskCompletionRate)||0)*((s==null?void 0:s.staffEfficiency)||0)/100)||0}),r.jsx("p",{className:"text-xs text-orange-600 font-medium",children:"Based on task completion"})]})]})})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[r.jsxs("div",{className:"card-enhanced",children:[r.jsx("div",{className:"flex items-center justify-between mb-6",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-10 h-10 farm-gradient rounded-lg flex items-center justify-center",children:r.jsx(Pg,{className:"w-5 h-5 text-white"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Task Completion Trend"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Daily completion rates over time"})]})]})}),r.jsx("div",{className:"h-80",children:r.jsx(dC,{data:L,options:C})})]}),r.jsxs("div",{className:"card-enhanced",children:[r.jsx("div",{className:"flex items-center justify-between mb-6",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-10 h-10 sky-gradient rounded-lg flex items-center justify-center",children:r.jsx(i2,{className:"w-5 h-5 text-white"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Task Distribution"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Breakdown by task category"})]})]})}),r.jsx("div",{className:"h-80",children:r.jsx(Dc,{data:H,options:W})})]})]}),r.jsxs("div",{className:"card-enhanced",children:[r.jsx("div",{className:"flex items-center justify-between mb-6",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-lg flex items-center justify-center",children:r.jsx(Zt,{className:"w-5 h-5 text-white"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Staff Performance Overview"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Tasks completed vs efficiency comparison"})]})]})}),r.jsx("div",{className:"h-96",children:r.jsx(Rx,{data:P,options:C})})]}),r.jsxs("div",{className:"card-enhanced",children:[r.jsx("div",{className:"flex items-center justify-between mb-6",children:r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Staff Performance Leaderboard"}),r.jsxs("p",{className:"text-sm text-gray-600",children:["Top performing team members ",x&&j?`(${x} to ${j})`:"(last 7 days)"]})]})}),r.jsxs("div",{className:"space-y-4",children:[i.map((M,F)=>r.jsxs("div",{className:"flex items-center justify-between p-5 bg-gradient-to-r from-gray-50 to-green-50/50 rounded-xl border border-gray-200 hover:shadow-md transition-all duration-200",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs("div",{className:`w-10 h-10 rounded-full flex items-center justify-center text-white font-bold shadow-lg ${F===0?"bg-gradient-to-br from-yellow-400 to-yellow-600":F===1?"bg-gradient-to-br from-gray-400 to-gray-600":F===2?"bg-gradient-to-br from-orange-400 to-orange-600":"bg-gradient-to-br from-gray-300 to-gray-500"}`,children:["#",F+1]}),r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-gray-900",children:M.full_name}),r.jsx("p",{className:"text-sm text-primary-600 font-medium",children:M.role})]})]}),r.jsxs("div",{className:"flex items-center space-x-8 text-right",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Tasks Completed"}),r.jsx("p",{className:"text-xl font-bold text-gray-900",children:M.tasks_completed||0})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Efficiency"}),r.jsxs("p",{className:"text-xl font-bold text-primary-600",children:[M.efficiency||0,"%"]})]})]})]},M.id)),i.length===0&&r.jsxs("div",{className:"text-center py-8 text-gray-500",children:[r.jsx(Zt,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),r.jsx("p",{children:"No staff performance data available for the selected period."})]})]})]}),r.jsxs("div",{className:"card-enhanced",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[r.jsx("div",{className:"w-10 h-10 farm-gradient rounded-xl flex items-center justify-center shadow-lg",children:r.jsx(gs,{className:"w-5 h-5 text-white"})}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Smart Insights & Recommendations"}),r.jsx("span",{className:"text-xs bg-green-100 text-green-700 px-2 py-1 rounded-full",children:"Live Data"})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:u.map((M,F)=>{const B={emerald:"from-emerald-50 to-green-100 border-emerald-200",orange:"from-orange-50 to-amber-100 border-orange-200",blue:"from-blue-50 to-cyan-100 border-blue-200"},D={emerald:"bg-emerald-500",orange:"bg-orange-500",blue:"bg-blue-500"},q={emerald:"text-emerald-800",orange:"text-orange-800",blue:"text-blue-800"};return r.jsxs("div",{className:`p-5 bg-gradient-to-br ${B[M.color]} border rounded-xl`,children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[r.jsx("div",{className:`w-3 h-3 ${D[M.color]} rounded-full`}),r.jsx("span",{className:`font-semibold ${q[M.color]}`,children:M.category})]}),r.jsx("p",{className:"text-sm text-gray-700",children:M.message})]},F)})})]})]}),e==="livestock"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[r.jsx("div",{className:"card-enhanced",children:r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-green-500 to-green-700 rounded-xl flex items-center justify-center shadow-lg",children:r.jsx(fs,{className:"w-7 h-7 text-white"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Total Livestock"}),r.jsx("p",{className:"text-3xl font-bold text-gray-900",children:(p==null?void 0:p.totalLivestock)||0})]})]})}),r.jsx("div",{className:"card-enhanced",children:r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-red-500 to-red-700 rounded-xl flex items-center justify-center shadow-lg",children:r.jsx(fs,{className:"w-7 h-7 text-white"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Sick Livestock"}),r.jsx("p",{className:"text-3xl font-bold text-gray-900",children:(p==null?void 0:p.sickCount)||0})]})]})}),r.jsx("div",{className:"card-enhanced",children:r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-yellow-500 to-yellow-700 rounded-xl flex items-center justify-center shadow-lg",children:r.jsx(ca,{className:"w-7 h-7 text-white"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Quarantine"}),r.jsx("p",{className:"text-3xl font-bold text-gray-900",children:(p==null?void 0:p.quarantineCount)||0})]})]})}),r.jsx("div",{className:"card-enhanced",children:r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-gray-500 to-gray-700 rounded-xl flex items-center justify-center shadow-lg",children:r.jsx(We,{className:"w-7 h-7 text-white"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Average Age"}),r.jsxs("p",{className:"text-3xl font-bold text-gray-900",children:[(p==null?void 0:p.averageAge)||0," years"]})]})]})})]}),r.jsxs("div",{className:"card-enhanced",children:[r.jsx("div",{className:"flex items-center justify-between mb-6",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-500 to-purple-700 rounded-lg flex items-center justify-center",children:r.jsx(Zt,{className:"w-5 h-5 text-white"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Livestock Distribution by Species"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Breakdown of livestock by species"})]})]})}),r.jsx("div",{className:"h-80",children:r.jsx(Dc,{data:{labels:Object.keys((p==null?void 0:p.speciesCount)||{}),datasets:[{data:Object.values((p==null?void 0:p.speciesCount)||{}),backgroundColor:["#22c55e","#3b82f6","#f59e0b","#8b5cf6","#ef4444","#10b981","#6366f1","#8b5cf6","#f59e0b","#3b82f6"],borderColor:["#16a34a","#2563eb","#d97706","#7c3aed","#dc2626","#059669","#4f46e5","#7c3aed","#d97706","#2563eb"],borderWidth:2}]},options:W})})]}),r.jsxs("div",{className:"card-enhanced",children:[r.jsx("div",{className:"flex items-center justify-between mb-6",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-lg flex items-center justify-center",children:r.jsx(Zt,{className:"w-5 h-5 text-white"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Livestock Overview"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Overall health status and average metrics"})]})]})}),r.jsx("div",{className:"h-96",children:r.jsx(Rx,{data:{labels:["Healthy","Sick","Quarantine","Deceased"],datasets:[{label:"Count",data:[(p==null?void 0:p.healthyCount)||0,(p==null?void 0:p.sickCount)||0,(p==null?void 0:p.quarantineCount)||0,(p==null?void 0:p.deceasedCount)||0],backgroundColor:["rgba(22, 163, 74, 0.8)","rgba(239, 68, 68, 0.8)","rgba(163, 163, 163, 0.8)","rgba(139, 92, 246, 0.8)"],borderColor:["#16a34a","#ef4444","#6b7280","#7c3aed"],borderWidth:2}]},options:C})})]}),r.jsxs("div",{className:"card-enhanced",children:[r.jsx("div",{className:"flex items-center justify-between mb-6",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-cyan-600 rounded-lg flex items-center justify-center",children:r.jsx(fs,{className:"w-5 h-5 text-white"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Livestock Health Status"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Health status distribution"})]})]})}),r.jsx("div",{className:"h-96",children:r.jsx(Dc,{data:{labels:["Healthy","Sick","Quarantine","Deceased"],datasets:[{data:[(p==null?void 0:p.healthyCount)||0,(p==null?void 0:p.sickCount)||0,(p==null?void 0:p.quarantineCount)||0,(p==null?void 0:p.deceasedCount)||0],backgroundColor:["rgba(22, 163, 74, 0.8)","rgba(239, 68, 68, 0.8)","rgba(163, 163, 163, 0.8)","rgba(139, 92, 246, 0.8)"],borderColor:["#16a34a","#ef4444","#6b7280","#7c3aed"],borderWidth:2}]},options:W})})]}),r.jsxs("div",{className:"card-enhanced",children:[r.jsx("div",{className:"flex items-center justify-between mb-6",children:r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Livestock Leaderboard"}),r.jsxs("p",{className:"text-sm text-gray-600",children:["Top performing livestock ",x&&j?`(${x} to ${j})`:"(last 7 days)"]})]})}),r.jsxs("div",{className:"space-y-4",children:[f.map((M,F)=>r.jsxs("div",{className:"flex items-center justify-between p-5 bg-gradient-to-r from-gray-50 to-green-50/50 rounded-xl border border-gray-200 hover:shadow-md transition-all duration-200",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs("div",{className:`w-10 h-10 rounded-full flex items-center justify-center text-white font-bold shadow-lg ${F===0?"bg-gradient-to-br from-yellow-400 to-yellow-600":F===1?"bg-gradient-to-br from-gray-400 to-gray-600":F===2?"bg-gradient-to-br from-orange-400 to-orange-600":"bg-gradient-to-br from-gray-300 to-gray-500"}`,children:["#",F+1]}),r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-gray-900",children:M.name||"N/A"}),r.jsx("p",{className:"text-sm text-primary-600 font-medium",children:M.species||"N/A"})]})]}),r.jsxs("div",{className:"flex items-center space-x-8 text-right",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Health Status"}),r.jsx("p",{className:"text-xl font-bold text-gray-900",children:M.health_status||"N/A"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Age"}),r.jsxs("p",{className:"text-xl font-bold text-primary-600",children:[M.age||"N/A"," years"]})]})]})]},M.id)),f.length===0&&r.jsxs("div",{className:"text-center py-8 text-gray-500",children:[r.jsx(fs,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),r.jsx("p",{children:"No livestock data available for the selected period."})]})]})]})]})]})},hC=()=>{const{user:e}=$e(),[t,s]=N.useState([]),[n,i]=N.useState(!0),[a,l]=N.useState(""),[o,c]=N.useState(""),[d,u]=N.useState(""),[h,f]=N.useState(""),[v,p]=N.useState(!1),[y,b]=N.useState("create"),[m,x]=N.useState(null),[g,j]=N.useState({name:"",species:"",breed:"",age:"",weight:"",gender:"",health_status:"healthy",location:"",acquisition_date:"",identification_number:"",vaccination_records:[],medical_history:[],feeding_schedule:"",notes:""}),[w,_]=N.useState(""),[k,S]=N.useState({}),A=["Admin","Farm Manager"].includes(e==null?void 0:e.role),O=["Admin","Farm Manager","Veterinary Doctor"].includes(e==null?void 0:e.role),C=["Admin","Farm Manager"].includes(e==null?void 0:e.role);N.useEffect(()=>{L()},[]);const L=async()=>{try{i(!0);const z=await Pn.getLivestock();s(z.data),l("")}catch(z){console.error("Failed to fetch livestock:",z),l("Failed to load livestock data. Please try again.")}finally{i(!1)}},V=()=>{b("create"),x(null),j({name:"",species:"",breed:"",age:"",weight:"",gender:"",health_status:"healthy",location:"",acquisition_date:"",identification_number:"",vaccination_records:[],medical_history:[],feeding_schedule:"",notes:""}),_(""),S({}),p(!0)},K=z=>{b("edit"),x(z),j({name:z.name||"",species:z.species||"",breed:z.breed||"",age:z.age||"",weight:z.weight||"",gender:z.gender||"",health_status:z.health_status||"healthy",location:z.location||"",acquisition_date:z.acquisition_date||"",identification_number:z.identification_number||"",vaccination_records:z.vaccination_records||[],medical_history:z.medical_history||[],feeding_schedule:z.feeding_schedule||"",notes:z.notes||""}),_(""),S({}),p(!0)},H=z=>{b("view"),x(z),p(!0)},P=async z=>{var he,ee;if(window.confirm("Are you sure you want to delete this livestock record?"))try{await Pn.deleteLivestock(z),s(t.filter(le=>le.id!==z)),alert("Livestock record deleted successfully")}catch(le){console.error("Failed to delete livestock:",le),alert(((ee=(he=le.response)==null?void 0:he.data)==null?void 0:ee.message)||"Failed to delete livestock record")}},W=async z=>{var he;z.preventDefault(),_(""),S({});try{let ee;y==="create"?(ee=await Pn.createLivestock(g),s([ee.data.livestock,...t]),alert("Livestock record created successfully!")):y==="edit"&&(ee=await Pn.updateLivestock(m.id,g),s(t.map(le=>le.id===m.id?ee.data.livestock:le)),alert("Livestock record updated successfully!")),p(!1)}catch(ee){console.error("Form submission error:",ee);const le=(he=ee.response)==null?void 0:he.data;le!=null&&le.field?(S({[le.field]:le.message}),_("Please check the highlighted field")):_((le==null?void 0:le.message)||"Failed to save livestock record")}},M=z=>{const{name:he,value:ee}=z.target;j({...g,[he]:ee}),k[he]&&S({...k,[he]:""})},F=t.filter(z=>{var rs,zr,ha,hn;const he=((rs=z.name)==null?void 0:rs.toLowerCase().includes(o.toLowerCase()))||((zr=z.species)==null?void 0:zr.toLowerCase().includes(o.toLowerCase()))||((ha=z.identification_number)==null?void 0:ha.toLowerCase().includes(o.toLowerCase())),ee=!d||z.health_status===d,le=!h||((hn=z.species)==null?void 0:hn.toLowerCase())===h.toLowerCase();return he&&ee&&le}),B=t.length,D=t.filter(z=>z.health_status==="healthy").length,q=t.filter(z=>z.health_status==="sick").length,R=t.filter(z=>z.health_status==="critical").length,Y=t.filter(z=>z.health_status==="quarantine").length,Z=z=>{switch(z){case"healthy":return"bg-green-100 text-green-800";case"sick":return"bg-red-100 text-red-800";case"quarantine":return"bg-yellow-100 text-yellow-800";case"deceased":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},J=z=>{const he="w-full border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 transition-colors";return k[z]?`${he} border-red-500 focus:ring-red-200`:`${he} border-gray-300 focus:ring-primary-200 focus:border-primary-500`};return n?r.jsx("div",{className:"min-h-screen farm-gradient",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:r.jsxs("div",{className:"animate-pulse",children:[r.jsx("div",{className:"h-8 bg-gray-200 rounded w-48 mb-8"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((z,he)=>r.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm",children:[r.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-4"}),r.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2 mb-2"}),r.jsx("div",{className:"h-4 bg-gray-200 rounded w-2/3"})]},he))})]})})}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Livestock Management"}),r.jsx("p",{className:"text-gray-600 mt-2",children:"Manage and monitor your farm animals"})]}),A&&r.jsxs("button",{onClick:V,className:"mt-4 sm:mt-0 bg-primary-600 hover:bg-primary-700 text-white px-4 py-2 rounded-xl flex items-center space-x-2 transition-colors",children:[r.jsx(Wn,{className:"w-5 h-5"}),r.jsx("span",{children:"Add Livestock"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[r.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Animals"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:B})]}),r.jsx(gs,{className:"w-8 h-8 text-blue-600"})]})}),r.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Healthy"}),r.jsx("p",{className:"text-2xl font-bold text-green-600",children:D})]}),r.jsx(fs,{className:"w-8 h-8 text-green-600"})]})}),r.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Sick"}),r.jsx("p",{className:"text-2xl font-bold text-red-600",children:q})]}),r.jsx(Jl,{className:"w-8 h-8 text-red-600"})]})}),r.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Needs Attention"}),r.jsx("p",{className:"text-2xl font-bold text-orange-600",children:R+Y})]}),r.jsx(a2,{className:"w-8 h-8 text-orange-600"})]})})]}),a&&r.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-xl text-sm",children:a}),r.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search Animals"}),r.jsxs("div",{className:"relative",children:[r.jsx(Or,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),r.jsx("input",{type:"text",placeholder:"Search by name, species, or ID...",value:o,onChange:z=>c(z.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Filter by Species"}),r.jsxs("select",{value:h,onChange:z=>f(z.target.value),className:"w-full border border-gray-300 rounded-xl px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[r.jsx("option",{value:"",children:"All Species"}),[...new Set(t.map(z=>z.species).filter(Boolean))].map(z=>r.jsx("option",{value:z,children:z},z))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Filter by Health Status"}),r.jsxs("select",{value:d,onChange:z=>u(z.target.value),className:"w-full border border-gray-300 rounded-xl px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[r.jsx("option",{value:"",children:"All Status"}),r.jsx("option",{value:"healthy",children:"Healthy"}),r.jsx("option",{value:"sick",children:"Sick"}),r.jsx("option",{value:"quarantine",children:"Quarantine"}),r.jsx("option",{value:"deceased",children:"Deceased"})]})]}),r.jsx("div",{className:"flex items-end",children:r.jsxs("div",{className:"text-sm text-gray-600",children:[r.jsxs("p",{className:"font-medium",children:["Showing: ",F.length," animals"]}),r.jsxs("p",{children:["Total animals: ",t.length]})]})})]})}),r.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:F.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(gs,{className:"w-8 h-8 text-gray-400"})}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No livestock found"}),r.jsx("p",{className:"text-gray-600 mb-4",children:t.length===0?"Get started by adding your first animal":"Try adjusting your search criteria"}),A&&t.length===0&&r.jsx("button",{onClick:V,className:"bg-primary-600 hover:bg-primary-700 text-white px-4 py-2 rounded-xl transition-colors",children:"Add Your First Animal"})]}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:F.map(z=>r.jsxs("div",{className:"border border-gray-200 rounded-xl p-6 hover:shadow-md transition-shadow",children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:z.name}),r.jsxs("p",{className:"text-gray-600",children:[z.species," ",z.breed&&` ${z.breed}`]})]}),r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${Z(z.health_status)}`,children:z.health_status})]}),r.jsxs("div",{className:"space-y-2 mb-4",children:[z.identification_number&&r.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[r.jsx(t2,{className:"w-4 h-4 mr-2"}),r.jsx("span",{children:z.identification_number})]}),z.age&&r.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[r.jsx(We,{className:"w-4 h-4 mr-2"}),r.jsxs("span",{children:[z.age," years old"]})]}),z.weight&&r.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[r.jsx(Dg,{className:"w-4 h-4 mr-2"}),r.jsxs("span",{children:[z.weight," kg"]})]}),z.location&&r.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[r.jsx(ca,{className:"w-4 h-4 mr-2"}),r.jsx("span",{children:z.location})]})]}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsxs("button",{onClick:()=>H(z),className:"flex-1 bg-gray-100 hover:bg-gray-200 text-gray-700 px-3 py-2 rounded-lg text-sm font-medium transition-colors flex items-center justify-center space-x-1",children:[r.jsx(yt,{className:"w-4 h-4"}),r.jsx("span",{children:"View"})]}),O&&r.jsxs("button",{onClick:()=>K(z),className:"flex-1 bg-primary-100 hover:bg-primary-200 text-primary-700 px-3 py-2 rounded-lg text-sm font-medium transition-colors flex items-center justify-center space-x-1",children:[r.jsx(sn,{className:"w-4 h-4"}),r.jsx("span",{children:"Edit"})]}),C&&r.jsx("button",{onClick:()=>P(z.id),className:"bg-red-100 hover:bg-red-200 text-red-700 px-3 py-2 rounded-lg text-sm font-medium transition-colors flex items-center justify-center",children:r.jsx(zs,{className:"w-4 h-4"})})]})]},z.id))})}),v&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("h2",{className:"text-xl font-semibold",children:[y==="create"&&"Add New Livestock",y==="edit"&&"Edit Livestock",y==="view"&&"Livestock Details"]}),r.jsx("button",{onClick:()=>p(!1),className:"text-gray-400 hover:text-gray-600",children:r.jsx(Re,{className:"w-6 h-6"})})]}),y==="view"?r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),r.jsx("p",{className:"text-gray-900",children:(m==null?void 0:m.name)||"N/A"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Species"}),r.jsx("p",{className:"text-gray-900",children:(m==null?void 0:m.species)||"N/A"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Breed"}),r.jsx("p",{className:"text-gray-900",children:(m==null?void 0:m.breed)||"N/A"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Gender"}),r.jsx("p",{className:"text-gray-900",children:(m==null?void 0:m.gender)||"N/A"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Age"}),r.jsx("p",{className:"text-gray-900",children:m!=null&&m.age?`${m.age} years`:"N/A"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Weight"}),r.jsx("p",{className:"text-gray-900",children:m!=null&&m.weight?`${m.weight} kg`:"N/A"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Health Status"}),r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${Z(m==null?void 0:m.health_status)}`,children:(m==null?void 0:m.health_status)||"N/A"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Location"}),r.jsx("p",{className:"text-gray-900",children:(m==null?void 0:m.location)||"N/A"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Identification Number"}),r.jsx("p",{className:"text-gray-900",children:(m==null?void 0:m.identification_number)||"N/A"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Acquisition Date"}),r.jsx("p",{className:"text-gray-900",children:(m==null?void 0:m.acquisition_date)||"N/A"})]})]}),(m==null?void 0:m.feeding_schedule)&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Feeding Schedule"}),r.jsx("p",{className:"text-gray-900",children:m.feeding_schedule})]}),(m==null?void 0:m.notes)&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),r.jsx("p",{className:"text-gray-900",children:m.notes})]})]}):r.jsxs("form",{onSubmit:W,className:"space-y-4",children:[w&&r.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg text-sm",children:w}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Name ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",name:"name",value:g.name,onChange:M,className:J("name"),placeholder:"Enter animal name"}),k.name&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:k.name})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Species ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",name:"species",value:g.species,onChange:M,className:J("species"),placeholder:"e.g., Cattle, Sheep, Goat"}),k.species&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:k.species})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Breed"}),r.jsx("input",{type:"text",name:"breed",value:g.breed,onChange:M,className:J("breed"),placeholder:"Enter breed"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Gender"}),r.jsxs("select",{name:"gender",value:g.gender,onChange:M,className:J("gender"),children:[r.jsx("option",{value:"",children:"Select gender"}),r.jsx("option",{value:"male",children:"Male"}),r.jsx("option",{value:"female",children:"Female"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Age (years)"}),r.jsx("input",{type:"number",name:"age",value:g.age,onChange:M,min:"0",max:"50",className:J("age"),placeholder:"Enter age"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Weight (kg)"}),r.jsx("input",{type:"number",name:"weight",value:g.weight,onChange:M,min:"0",step:"0.1",className:J("weight"),placeholder:"Enter weight"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Health Status"}),r.jsxs("select",{name:"health_status",value:g.health_status,onChange:M,className:J("health_status"),children:[r.jsx("option",{value:"healthy",children:"Healthy"}),r.jsx("option",{value:"sick",children:"Sick"}),r.jsx("option",{value:"quarantine",children:"Quarantine"}),r.jsx("option",{value:"deceased",children:"Deceased"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Location"}),r.jsx("input",{type:"text",name:"location",value:g.location,onChange:M,className:J("location"),placeholder:"Enter location"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Acquisition Date"}),r.jsx("input",{type:"date",name:"acquisition_date",value:g.acquisition_date,onChange:M,max:new Date().toISOString().split("T")[0],className:J("acquisition_date")})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Identification Number"}),r.jsx("input",{type:"text",name:"identification_number",value:g.identification_number,onChange:M,className:J("identification_number"),placeholder:"Enter ID number"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Feeding Schedule"}),r.jsx("textarea",{name:"feeding_schedule",value:g.feeding_schedule,onChange:M,rows:3,className:J("feeding_schedule"),placeholder:"Enter feeding schedule details"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),r.jsx("textarea",{name:"notes",value:g.notes,onChange:M,rows:3,className:J("notes"),placeholder:"Additional notes or observations"})]}),r.jsxs("div",{className:"flex space-x-3 pt-4",children:[r.jsx("button",{type:"submit",className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-medium transition-colors",children:y==="create"?"Create Livestock":"Update Livestock"}),r.jsx("button",{type:"button",onClick:()=>p(!1),className:"flex-1 bg-gray-300 hover:bg-gray-400 text-gray-700 px-4 py-2 rounded-lg font-medium transition-colors",children:"Cancel"})]})]})]})})]})},mC=({record:e,mode:t,livestock:s,onRecordSaved:n,onCancel:i})=>{const[a,l]=N.useState({livestock_id:"",record_type:"",record_date:"",description:"",treatment:"",veterinarian:"",cost:"",next_due_date:"",notes:""}),[o,c]=N.useState(!1),[d,u]=N.useState(""),[h,f]=N.useState({}),v=["health_check","vaccination","treatment","breeding","feeding","weight_check","deworming","injury","illness","death","other"];N.useEffect(()=>{var g,j;e&&t==="edit"&&l({livestock_id:((g=e.livestock_id)==null?void 0:g.toString())||"",record_type:e.record_type||"",record_date:e.record_date?e.record_date.split("T")[0]:"",description:e.description||"",treatment:e.treatment||"",veterinarian:e.veterinarian||"",cost:((j=e.cost)==null?void 0:j.toString())||"",next_due_date:e.next_due_date?e.next_due_date.split("T")[0]:"",notes:e.notes||""})},[e,t]);const p=()=>{const g={};return a.livestock_id||(g.livestock_id="Animal selection is required"),a.record_type||(g.record_type="Record type is required"),a.record_date||(g.record_date="Record date is required"),a.description.trim()||(g.description="Description is required"),a.cost&&(isNaN(a.cost)||Number(a.cost)<0)&&(g.cost="Cost must be a valid positive number"),a.record_date&&a.next_due_date&&new Date(a.next_due_date)<=new Date(a.record_date)&&(g.next_due_date="Next due date must be after record date"),f(g),Object.keys(g).length===0},y=g=>{const{name:j,value:w}=g.target;l({...a,[j]:w}),h[j]&&f({...h,[j]:""})},b=async g=>{var j;if(g.preventDefault(),c(!0),u(""),!p()){c(!1);return}try{const w={livestock_id:Number(a.livestock_id),record_type:a.record_type,record_date:a.record_date,description:a.description.trim(),treatment:a.treatment.trim(),veterinarian:a.veterinarian.trim(),cost:a.cost?Number(a.cost):0,next_due_date:a.next_due_date||null,notes:a.notes.trim()};let _;t==="create"?_=await Gl.createHealthRecord(w):_=await Gl.updateHealthRecord(e.id,w),n&&n(_.data)}catch(w){console.error("Health record save error:",w);const _=(j=w.response)==null?void 0:j.data;_!=null&&_.field?f({[_.field]:_.message}):_!=null&&_.message?u(_.message):u(t==="create"?"Failed to create health record":"Failed to update health record")}finally{c(!1)}},m=g=>{const j="w-full border rounded-xl px-3 py-2 focus:outline-none focus:ring-2 transition-colors";return h[g]?`${j} border-red-500 focus:ring-red-200`:`${j} border-gray-300 focus:ring-primary-200 focus:border-primary-500`},x=g=>g.split("_").map(j=>j.charAt(0).toUpperCase()+j.slice(1)).join(" ");return r.jsxs("form",{onSubmit:b,className:"space-y-4",children:[d&&r.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-xl text-sm",children:d}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Animal ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("select",{name:"livestock_id",value:a.livestock_id,onChange:y,className:m("livestock_id"),children:[r.jsx("option",{value:"",children:"Select animal"}),s.map(g=>r.jsxs("option",{value:g.id,children:[g.name," (",g.species,") - ",g.identification_number||`ID: ${g.id}`]},g.id))]}),h.livestock_id&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:h.livestock_id})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Record Type ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("select",{name:"record_type",value:a.record_type,onChange:y,className:m("record_type"),children:[r.jsx("option",{value:"",children:"Select record type"}),v.map(g=>r.jsx("option",{value:g,children:x(g)},g))]}),h.record_type&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:h.record_type})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Record Date ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"date",name:"record_date",value:a.record_date,onChange:y,className:m("record_date")}),h.record_date&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:h.record_date})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Next Due Date"}),r.jsx("input",{type:"date",name:"next_due_date",value:a.next_due_date,onChange:y,className:m("next_due_date")}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"For vaccinations, treatments, or checkups"}),h.next_due_date&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:h.next_due_date})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Description ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("textarea",{name:"description",value:a.description,onChange:y,rows:3,className:m("description"),placeholder:"Describe the health record details..."}),h.description&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:h.description})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Treatment"}),r.jsx("input",{type:"text",name:"treatment",value:a.treatment,onChange:y,className:m("treatment"),placeholder:"Treatment given (if any)"}),h.treatment&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:h.treatment})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Veterinarian"}),r.jsx("input",{type:"text",name:"veterinarian",value:a.veterinarian,onChange:y,className:m("veterinarian"),placeholder:"Veterinarian name"}),h.veterinarian&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:h.veterinarian})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cost ()"}),r.jsx("input",{type:"number",name:"cost",value:a.cost,onChange:y,className:m("cost"),placeholder:"Cost in Naira",min:"0",step:"0.01"}),h.cost&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:h.cost})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),r.jsx("textarea",{name:"notes",value:a.notes,onChange:y,rows:3,className:m("notes"),placeholder:"Additional notes or observations..."}),h.notes&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:h.notes})]})]}),r.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[r.jsx("button",{type:"button",onClick:i,className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-xl transition-colors",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:o,className:"px-4 py-2 bg-primary-600 hover:bg-primary-700 text-white rounded-xl transition-colors disabled:opacity-50",children:o?r.jsxs("span",{className:"flex items-center",children:[r.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),t==="create"?"Creating...":"Updating..."]}):t==="create"?"Create Record":"Update Record"})]})]})},fC=()=>{var q;const{user:e}=$e(),[t,s]=N.useState([]),[n,i]=N.useState([]),[a,l]=N.useState(!0),[o,c]=N.useState(""),[d,u]=N.useState(""),[h,f]=N.useState(""),[v,p]=N.useState("all"),[y,b]=N.useState(!1),[m,x]=N.useState("create"),[g,j]=N.useState(null);N.useState("");const w=["Admin","Farm Manager","Veterinary Doctor"].includes(e==null?void 0:e.role),_=["Admin","Farm Manager"].includes(e==null?void 0:e.role);N.useEffect(()=>{k()},[]);const k=async()=>{try{l(!0);const[R,Y]=await Promise.all([Pn.getLivestock(),Gl.getHealthRecords()]);s(R.data),i(Y.data),c("")}catch(R){console.error("Failed to fetch data:",R),c("Failed to load livestock data. Please try again.");try{const Y=await Pn.getLivestock();s(Y.data),S(Y.data)}catch{s([]),i([])}}finally{l(!1)}},S=R=>{const Y=[],Z=["health_check","vaccination","breeding","feeding","treatment"];R.forEach(J=>{const z=Math.floor(Math.random()*4)+2;for(let he=0;he<z;he++){const ee=Z[Math.floor(Math.random()*Z.length)],le=Math.floor(Math.random()*90),rs=new Date;rs.setDate(rs.getDate()-le),Y.push({id:`${J.id}_${he}`,animal_id:J.id,animal_name:J.name,animal_species:J.species,type:ee,date:rs.toISOString().split("T")[0],description:A(ee,J),notes:O(ee),veterinarian:ee==="vaccination"||ee==="treatment"?"Dr. Johnson":null,next_due:C(ee,rs)})}}),Y.sort((J,z)=>new Date(z.date)-new Date(J.date)),i(Y)},A=(R,Y)=>({health_check:`General health examination for ${Y.name}`,vaccination:`Vaccination administered to ${Y.name}`,breeding:`Breeding activity recorded for ${Y.name}`,feeding:`Feeding schedule updated for ${Y.name}`,treatment:`Medical treatment provided to ${Y.name}`})[R]||"Health record",O=R=>({health_check:"Animal appears healthy, no concerns noted",vaccination:"Vaccine administered, no adverse reactions observed",breeding:"Breeding attempt successful, monitoring required",feeding:"Adjusted feed portion, monitor weight gain",treatment:"Treatment completed, follow-up required"})[R]||"No additional notes",C=(R,Y)=>{if(R==="vaccination"){const Z=new Date(Y);return Z.setMonth(Z.getMonth()+6),Z.toISOString().split("T")[0]}else if(R==="health_check"){const Z=new Date(Y);return Z.setMonth(Z.getMonth()+3),Z.toISOString().split("T")[0]}return null},L=R=>{switch(R){case"healthy":return"bg-green-100 text-green-700 border-green-200";case"sick":return"bg-red-100 text-red-700 border-red-200";case"under_treatment":return"bg-yellow-100 text-yellow-700 border-yellow-200";case"quarantine":return"bg-orange-100 text-orange-700 border-orange-200";default:return"bg-gray-100 text-gray-700 border-gray-200"}},V=R=>{switch(R){case"health_check":return r.jsx(fs,{className:"w-4 h-4"});case"vaccination":return r.jsx(nf,{className:"w-4 h-4"});case"breeding":return r.jsx(Jm,{className:"w-4 h-4"});case"feeding":return r.jsx(rf,{className:"w-4 h-4"});case"treatment":return r.jsx(gs,{className:"w-4 h-4"});default:return r.jsx(Cr,{className:"w-4 h-4"})}},K=R=>{switch(R){case"health_check":return"bg-blue-100 text-blue-700";case"vaccination":return"bg-purple-100 text-purple-700";case"breeding":return"bg-pink-100 text-pink-700";case"feeding":return"bg-green-100 text-green-700";case"treatment":return"bg-red-100 text-red-700";default:return"bg-gray-100 text-gray-700"}},H=n.filter(R=>{var he,ee;const Y=((he=R.animal_name)==null?void 0:he.toLowerCase().includes(d.toLowerCase()))||((ee=R.description)==null?void 0:ee.toLowerCase().includes(d.toLowerCase())),Z=t.find(le=>le.id===R.animal_id),J=!h||(Z==null?void 0:Z.health_status)===h,z=v==="all"||R.type===v;return Y&&J&&z}),P=()=>{w&&(x("create"),j(null),b(!0))},W=R=>{w&&(x("edit"),j(R),b(!0))},M=R=>{x("view"),j(R),b(!0)},F=R=>{m==="create"?i([R,...n]):m==="edit"&&i(n.map(Y=>Y.id===R.id?R:Y)),b(!1),j(null)},B=async R=>{if(_&&window.confirm("Are you sure you want to delete this health record? This action cannot be undone."))try{await Gl.deleteHealthRecord(R.id),i(n.filter(Y=>Y.id!==R.id))}catch(Y){console.error("Failed to delete health record:",Y),c("Failed to delete health record. Please try again.")}},D=()=>{const R=new Date,Y=new Date;return Y.setDate(R.getDate()+7),n.filter(Z=>{if(!Z.next_due)return!1;const J=new Date(Z.next_due);return J>=R&&J<=Y}).slice(0,5)};return a?r.jsx("div",{className:"flex items-center justify-center min-h-96",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Livestock Health Management"}),r.jsx("p",{className:"text-gray-600 mt-2",children:"Track health, vaccinations, breeding, and feeding records"})]}),w&&r.jsxs("button",{onClick:P,className:"mt-4 sm:mt-0 bg-primary-600 hover:bg-primary-700 text-white px-4 py-2 rounded-xl flex items-center space-x-2 transition-colors",children:[r.jsx(Wn,{className:"w-5 h-5"}),r.jsx("span",{children:"Add Health Record"})]})]}),o&&r.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-xl",children:o}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 p-6 rounded-xl shadow-sm border border-green-200",children:[r.jsx("div",{className:"flex items-center justify-between mb-4",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"bg-green-100 p-3 rounded-xl",children:r.jsx(Be,{className:"w-6 h-6 text-green-600"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Health Status"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Overall herd condition"})]})]})}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-gray-700",children:"Healthy"}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-24 bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:"bg-green-500 h-2 rounded-full",style:{width:`${t.length>0?t.filter(R=>R.health_status==="healthy").length/t.length*100:0}%`}})}),r.jsx("span",{className:"text-sm font-medium text-gray-900",children:t.filter(R=>R.health_status==="healthy").length})]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-gray-700",children:"Under Treatment"}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-24 bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:"bg-yellow-500 h-2 rounded-full",style:{width:`${t.length>0?t.filter(R=>R.health_status==="under_treatment").length/t.length*100:0}%`}})}),r.jsx("span",{className:"text-sm font-medium text-gray-900",children:t.filter(R=>R.health_status==="under_treatment").length})]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-gray-700",children:"Critical"}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-24 bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:"bg-red-500 h-2 rounded-full",style:{width:`${t.length>0?t.filter(R=>R.health_status==="sick"||R.health_status==="quarantine").length/t.length*100:0}%`}})}),r.jsx("span",{className:"text-sm font-medium text-gray-900",children:t.filter(R=>R.health_status==="sick"||R.health_status==="quarantine").length})]})]})]})]}),r.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-indigo-50 p-6 rounded-xl shadow-sm border border-purple-200",children:[r.jsx("div",{className:"flex items-center justify-between mb-4",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"bg-purple-100 p-3 rounded-xl",children:r.jsx(nf,{className:"w-6 h-6 text-purple-600"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Vaccination Status"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Immunization tracking"})]})]})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"bg-white p-4 rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Due This Week"}),r.jsx("span",{className:"text-xl font-bold text-purple-600",children:D().filter(R=>R.type==="vaccination").length})]}),r.jsx("div",{className:"text-xs text-gray-500",children:D().filter(R=>R.type==="vaccination").length>0?"Vaccinations scheduled":"All vaccinations up to date"})]}),r.jsxs("div",{className:"bg-white p-4 rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Completed This Month"}),r.jsx("span",{className:"text-xl font-bold text-green-600",children:n.filter(R=>{const Y=new Date(R.date),Z=new Date;return R.type==="vaccination"&&Y.getMonth()===Z.getMonth()&&Y.getFullYear()===Z.getFullYear()}).length})]}),r.jsx("div",{className:"text-xs text-gray-500",children:"Recent immunizations"})]})]})]}),r.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-cyan-50 p-6 rounded-xl shadow-sm border border-blue-200",children:[r.jsx("div",{className:"flex items-center justify-between mb-4",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"bg-blue-100 p-3 rounded-xl",children:r.jsx(gs,{className:"w-6 h-6 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Health Insights"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Recent activity overview"})]})]})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"bg-white p-4 rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Total Health Records"}),r.jsx("span",{className:"text-xl font-bold text-blue-600",children:n.length})]}),r.jsx("div",{className:"text-xs text-gray-500",children:"Comprehensive health tracking"})]}),r.jsxs("div",{className:"bg-white p-4 rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"This Week's Activities"}),r.jsx("span",{className:"text-xl font-bold text-green-600",children:n.filter(R=>{const Y=new Date(R.date),Z=new Date;return Z.setDate(Z.getDate()-7),Y>=Z}).length})]}),r.jsx("div",{className:"text-xs text-gray-500",children:"Recent health interventions"})]})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[r.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200 hover:shadow-md transition-shadow",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("div",{className:"bg-red-100 p-3 rounded-lg",children:r.jsx(fs,{className:"w-6 h-6 text-red-600"})}),r.jsx("span",{className:"text-2xl font-bold text-gray-900",children:n.filter(R=>R.type==="health_check").length})]}),r.jsx("h4",{className:"text-sm font-semibold text-gray-900 mb-1",children:"Health Checkups"}),r.jsx("p",{className:"text-xs text-gray-600",children:"Regular examinations"})]}),r.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200 hover:shadow-md transition-shadow",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("div",{className:"bg-pink-100 p-3 rounded-lg",children:r.jsx(Jm,{className:"w-6 h-6 text-pink-600"})}),r.jsx("span",{className:"text-2xl font-bold text-gray-900",children:n.filter(R=>R.type==="breeding").length})]}),r.jsx("h4",{className:"text-sm font-semibold text-gray-900 mb-1",children:"Breeding Records"}),r.jsx("p",{className:"text-xs text-gray-600",children:"Reproductive health"})]}),r.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200 hover:shadow-md transition-shadow",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("div",{className:"bg-orange-100 p-3 rounded-lg",children:r.jsx(rf,{className:"w-6 h-6 text-orange-600"})}),r.jsx("span",{className:"text-2xl font-bold text-gray-900",children:n.filter(R=>R.type==="feeding").length})]}),r.jsx("h4",{className:"text-sm font-semibold text-gray-900 mb-1",children:"Feeding Logs"}),r.jsx("p",{className:"text-xs text-gray-600",children:"Nutrition tracking"})]}),r.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200 hover:shadow-md transition-shadow",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("div",{className:"bg-yellow-100 p-3 rounded-lg",children:r.jsx(Cr,{className:"w-6 h-6 text-yellow-600"})}),r.jsx("span",{className:"text-2xl font-bold text-gray-900",children:n.filter(R=>R.type==="treatment").length})]}),r.jsx("h4",{className:"text-sm font-semibold text-gray-900 mb-1",children:"Treatments"}),r.jsx("p",{className:"text-xs text-gray-600",children:"Medical interventions"})]})]}),D().length>0&&r.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-xl p-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-yellow-800 mb-3",children:"Upcoming Due Dates"}),r.jsx("div",{className:"space-y-2",children:D().map(R=>r.jsxs("div",{className:"flex items-center justify-between bg-white p-3 rounded-lg",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:`p-2 rounded-lg ${K(R.type)}`,children:V(R.type)}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-900",children:R.animal_name}),r.jsx("p",{className:"text-sm text-gray-600",children:R.type.replace("_"," ").toUpperCase()})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("p",{className:"text-sm font-medium text-gray-900",children:["Due: ",new Date(R.next_due).toLocaleDateString()]}),r.jsxs("p",{className:"text-xs text-gray-500",children:[Math.ceil((new Date(R.next_due)-new Date)/(1e3*60*60*24))," days"]})]})]},R.id))})]}),r.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search Records"}),r.jsxs("div",{className:"relative",children:[r.jsx(Or,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),r.jsx("input",{type:"text",placeholder:"Search by animal or description...",value:d,onChange:R=>u(R.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Health Status"}),r.jsxs("select",{value:h,onChange:R=>f(R.target.value),className:"w-full border border-gray-300 rounded-xl px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[r.jsx("option",{value:"",children:"All Status"}),r.jsx("option",{value:"healthy",children:"Healthy"}),r.jsx("option",{value:"sick",children:"Sick"}),r.jsx("option",{value:"under_treatment",children:"Under Treatment"}),r.jsx("option",{value:"quarantine",children:"Quarantine"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Record Type"}),r.jsxs("select",{value:v,onChange:R=>p(R.target.value),className:"w-full border border-gray-300 rounded-xl px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[r.jsx("option",{value:"all",children:"All Types"}),r.jsx("option",{value:"health_check",children:"Health Check"}),r.jsx("option",{value:"vaccination",children:"Vaccination"}),r.jsx("option",{value:"breeding",children:"Breeding"}),r.jsx("option",{value:"feeding",children:"Feeding"}),r.jsx("option",{value:"treatment",children:"Treatment"})]})]}),r.jsx("div",{className:"flex items-end",children:r.jsxs("div",{className:"text-sm text-gray-600",children:[r.jsxs("p",{className:"font-medium",children:["Total: ",H.length," records"]}),r.jsxs("p",{children:["Animals: ",t.length]})]})})]})}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[r.jsxs("div",{className:"p-6 border-b border-gray-200",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Health Records"}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Recent health activities and records"})]}),r.jsx("div",{className:"p-6",children:H.length===0?r.jsxs("div",{className:"text-center py-8",children:[r.jsx(fs,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No health records found"}),r.jsx("p",{className:"text-gray-600",children:"No health records match your search criteria."})]}):r.jsx("div",{className:"space-y-4",children:H.map(R=>{var Z;const Y=t.find(J=>J.id===R.animal_id);return r.jsx("div",{className:"border border-gray-200 rounded-xl p-4 hover:shadow-md transition-shadow",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex items-start space-x-4",children:[r.jsx("div",{className:`p-3 rounded-lg ${K(R.type)}`,children:V(R.type)}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[r.jsx("h3",{className:"font-semibold text-gray-900",children:R.animal_name}),r.jsxs("span",{className:"text-sm text-gray-500",children:["(",R.animal_species,")"]}),Y&&r.jsx("span",{className:`inline-block px-2 py-1 text-xs font-medium rounded-full border ${L(Y.health_status)}`,children:(Z=Y.health_status)==null?void 0:Z.replace("_"," ")})]}),r.jsx("p",{className:"text-gray-900 mb-2",children:R.description}),r.jsx("p",{className:"text-sm text-gray-600 mb-3",children:R.notes}),r.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx(We,{className:"w-4 h-4"}),r.jsx("span",{children:R.date?new Date(R.date).toLocaleDateString():"Date not set"})]}),R.veterinarian&&r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx(gs,{className:"w-4 h-4"}),r.jsx("span",{children:R.veterinarian})]}),R.next_due&&r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx(Jl,{className:"w-4 h-4"}),r.jsxs("span",{children:["Next due: ",new Date(R.next_due).toLocaleDateString()]})]})]})]})]}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsxs("button",{onClick:()=>M(R),className:"flex-1 bg-gray-100 hover:bg-gray-200 text-gray-700 px-3 py-2 rounded-lg text-sm font-medium transition-colors flex items-center justify-center space-x-1",children:[r.jsx(yt,{className:"w-4 h-4"}),r.jsx("span",{children:"View"})]}),w&&r.jsxs(r.Fragment,{children:[r.jsxs("button",{onClick:()=>W(R),className:"flex-1 bg-primary-100 hover:bg-primary-200 text-primary-700 px-3 py-2 rounded-lg text-sm font-medium transition-colors flex items-center justify-center space-x-1",children:[r.jsx(sn,{className:"w-4 h-4"}),r.jsx("span",{children:"Edit"})]}),_&&r.jsx("button",{onClick:()=>B(R),className:"bg-red-100 hover:bg-red-200 text-red-700 px-3 py-2 rounded-lg text-sm font-medium transition-colors flex items-center justify-center",children:r.jsx(zs,{className:"w-4 h-4"})})]})]})]})},R.id)})})})]}),y&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:m==="create"?"Add Health Record":m==="edit"?"Edit Health Record":"Health Record Details"}),r.jsx("button",{onClick:()=>b(!1),className:"text-gray-400 hover:text-gray-600",children:r.jsx(Re,{className:"w-6 h-6"})})]}),m==="view"&&g?r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Animal"}),r.jsx("p",{className:"mt-1 text-sm text-gray-900",children:g.animal_name})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Record Type"}),r.jsx("p",{className:"mt-1 text-sm text-gray-900",children:(q=g.record_type)==null?void 0:q.replace("_"," ")})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Date"}),r.jsx("p",{className:"mt-1 text-sm text-gray-900",children:g.record_date||g.date?new Date(g.record_date||g.date).toLocaleDateString():"Not set"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Veterinarian"}),r.jsx("p",{className:"mt-1 text-sm text-gray-900",children:g.veterinarian||"Not specified"})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),r.jsx("p",{className:"mt-1 text-sm text-gray-900",children:g.description})]}),g.treatment&&r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Treatment"}),r.jsx("p",{className:"mt-1 text-sm text-gray-900",children:g.treatment})]}),g.cost>0&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Cost"}),r.jsxs("p",{className:"mt-1 text-sm text-gray-900",children:["",g.cost.toLocaleString("en-NG",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),(g.next_due_date||g.next_due)&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Next Due Date"}),r.jsx("p",{className:"mt-1 text-sm text-gray-900",children:new Date(g.next_due_date||g.next_due).toLocaleDateString()})]}),g.notes&&r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Notes"}),r.jsx("p",{className:"mt-1 text-sm text-gray-900",children:g.notes})]})]}),r.jsx("div",{className:"flex justify-end space-x-3 mt-6",children:r.jsx("button",{onClick:()=>b(!1),className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-xl transition-colors",children:"Close"})})]}):r.jsx(mC,{record:g,mode:m,livestock:t,onRecordSaved:F,onCancel:()=>b(!1)})]})})]})},xC=({user:e,mode:t,onUserSaved:s,onCancel:n})=>{const{user:i}=$e(),[a,l]=N.useState({full_name:"",email:"",phone:"",role:"Farm Attendant",password:"",confirmPassword:""}),[o,c]=N.useState(!1),[d,u]=N.useState(""),[h,f]=N.useState({}),v=["Farm Attendant","Veterinary Doctor","Pasture Officer","Admin","Farm Manager","Maintenance Officer","Feed Production Officer"];(i==null?void 0:i.role)==="Admin"&&v.unshift("Farm Manager","Admin");const y=["Vendor","Contractor","Visitor","Other"].includes(a.role);N.useEffect(()=>{e&&t==="edit"&&l({full_name:e.full_name||"",email:e.email||"",phone:e.phone||"",role:e.role||"Farm Attendant",password:"",confirmPassword:""})},[e,t]);const b=()=>{const j={};return a.full_name.trim()||(j.full_name="Full name is required"),y?a.email.trim()&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a.email)&&(j.email="Please enter a valid email address"):a.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a.email)||(j.email="Please enter a valid email address"):j.email="Email is required",a.role||(j.role="Role is required"),y?a.password&&(a.password.length<6&&(j.password="Password must be at least 6 characters"),a.password!==a.confirmPassword&&(j.confirmPassword="Passwords do not match")):t==="create"?(a.password?a.password.length<6&&(j.password="Password must be at least 6 characters"):j.password="Password is required",a.password!==a.confirmPassword&&(j.confirmPassword="Passwords do not match")):t==="edit"&&a.password&&(a.password.length<6&&(j.password="Password must be at least 6 characters"),a.password!==a.confirmPassword&&(j.confirmPassword="Passwords do not match")),f(j),Object.keys(j).length===0},m=j=>{const{name:w,value:_}=j.target;l({...a,[w]:_}),h[w]&&f({...h,[w]:""})},x=async j=>{var w;if(j.preventDefault(),c(!0),u(""),!b()){c(!1);return}try{const _={full_name:a.full_name,phone:a.phone,role:a.role};a.email.trim()&&(_.email=a.email),(t==="create"||t==="edit"&&a.password)&&(_.password=a.password);let k;t==="create"?k=await Ns.createUser(_):k=await Ns.updateUser(e.id,_),s&&s(k.data)}catch(_){console.error("User save error:",_);const k=(w=_.response)==null?void 0:w.data;k!=null&&k.field?f({[k.field]:k.message}):k!=null&&k.message?u(k.message):u(t==="create"?"Failed to create user":"Failed to update user")}finally{c(!1)}},g=j=>{const w="w-full border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 transition-colors";return h[j]?`${w} border-red-500 focus:ring-red-200`:`${w} border-gray-300 focus:ring-primary-200 focus:border-primary-500`};return r.jsxs("form",{onSubmit:x,className:"space-y-4",children:[d&&r.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg text-sm",children:d}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Full Name ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",name:"full_name",value:a.full_name,onChange:m,className:g("full_name"),placeholder:"Enter full name"}),h.full_name&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:h.full_name})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Email ",!y&&r.jsx("span",{className:"text-red-500",children:"*"}),y&&r.jsx("span",{className:"text-gray-500 text-xs",children:"(Optional for external users)"})]}),r.jsx("input",{type:"email",name:"email",value:a.email,onChange:m,className:g("email"),placeholder:y?"Enter email address (optional)":"Enter email address"}),h.email&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:h.email})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),r.jsx("input",{type:"tel",name:"phone",value:a.phone,onChange:m,className:g("phone"),placeholder:"Enter phone number"}),h.phone&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:h.phone})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Role ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("select",{name:"role",value:a.role,onChange:m,className:g("role"),children:v.map(j=>r.jsx("option",{value:j,children:j},j))}),h.role&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:h.role})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[t==="create"?"Password":"New Password",t==="create"&&!y&&r.jsx("span",{className:"text-red-500",children:"*"}),y&&r.jsx("span",{className:"text-gray-500 text-xs",children:"(Not required for external users)"})]}),r.jsx("input",{type:"password",name:"password",value:a.password,onChange:m,className:g("password"),placeholder:y?"Enter password (optional)":t==="create"?"Enter password":"Leave blank to keep current password"}),h.password&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:h.password})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[t==="create"?"Confirm Password":"Confirm New Password",t==="create"&&!y&&r.jsx("span",{className:"text-red-500",children:"*"}),y&&r.jsx("span",{className:"text-gray-500 text-xs",children:"(Optional)"})]}),r.jsx("input",{type:"password",name:"confirmPassword",value:a.confirmPassword,onChange:m,className:g("confirmPassword"),placeholder:y?"Confirm password (optional)":"Confirm password"}),h.confirmPassword&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:h.confirmPassword})]})]}),r.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[r.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-xl transition-colors",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:o,className:"px-4 py-2 bg-primary-600 hover:bg-primary-700 text-white rounded-xl transition-colors disabled:opacity-50",children:o?r.jsxs("span",{className:"flex items-center",children:[r.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),t==="create"?"Creating...":"Updating..."]}):t==="create"?"Create User":"Update User"})]})]})},pC=({user:e,mode:t,onUserSaved:s,onCancel:n})=>{const[i,a]=N.useState({full_name:"",phone:"",job_description:"",email:""}),[l,o]=N.useState(!1),[c,d]=N.useState(""),[u,h]=N.useState({}),f=["Vendor","Contractor","Equipment Supplier","Feed Supplier","Veterinary Service","Transport Service","Maintenance Worker","Consultant","Inspector","Delivery Personnel","Other"];N.useEffect(()=>{e&&t==="edit"&&a({full_name:e.full_name||"",phone:e.phone||"",job_description:e.job_description||e.role||"",email:e.email||""})},[e,t]);const v=()=>{const m={};return i.full_name.trim()||(m.full_name="Full name is required"),i.phone.trim()?/^\+?[\d\s\-\(\)]{10,}$/.test(i.phone.replace(/\s+/g,""))||(m.phone="Please enter a valid phone number"):m.phone="Phone number is required",i.job_description.trim()||(m.job_description="Job description/role is required"),i.email.trim()&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(i.email)&&(m.email="Please enter a valid email address"),h(m),Object.keys(m).length===0},p=m=>{const{name:x,value:g}=m.target;a({...i,[x]:g}),u[x]&&h({...u,[x]:""})},y=async m=>{var x;if(m.preventDefault(),o(!0),d(""),!v()){o(!1);return}try{const g={full_name:i.full_name.trim(),phone:i.phone.trim(),role:"External User",job_description:i.job_description.trim(),email:i.email.trim()||null,is_external:!0};let j;t==="create"?j=await Ns.createUser(g):j=await Ns.updateUser(e.id,g),s&&s(j.data)}catch(g){console.error("External user save error:",g);const j=(x=g.response)==null?void 0:x.data;j!=null&&j.field?h({[j.field]:j.message}):j!=null&&j.message?d(j.message):d(t==="create"?"Failed to add external user":"Failed to update external user")}finally{o(!1)}},b=m=>{const x="w-full border rounded-xl px-3 py-2 focus:outline-none focus:ring-2 transition-colors";return u[m]?`${x} border-red-500 focus:ring-red-200`:`${x} border-gray-300 focus:ring-primary-200 focus:border-primary-500`};return r.jsxs("form",{onSubmit:y,className:"space-y-4",children:[c&&r.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-xl text-sm",children:c}),r.jsxs("div",{className:"bg-blue-50 border border-blue-200 text-blue-700 px-4 py-3 rounded-xl text-sm",children:[r.jsx("p",{className:"font-medium",children:"External User Registration"}),r.jsx("p",{className:"text-xs mt-1",children:"External users don't need login credentials. Only basic contact information is required."})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Full Name ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",name:"full_name",value:i.full_name,onChange:p,className:b("full_name"),placeholder:"Enter full name"}),u.full_name&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:u.full_name})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Phone Number ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"tel",name:"phone",value:i.phone,onChange:p,className:b("phone"),placeholder:"Enter phone number"}),u.phone&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:u.phone})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Job Description/Role ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("select",{name:"job_description",value:i.job_description,onChange:p,className:b("job_description"),children:[r.jsx("option",{value:"",children:"Select job role"}),f.map(m=>r.jsx("option",{value:m,children:m},m))]}),i.job_description==="Other"&&r.jsx("input",{type:"text",name:"job_description",value:"",onChange:m=>a({...i,job_description:m.target.value}),className:b("job_description"),placeholder:"Specify other job description"})]}),u.job_description&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:u.job_description})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Email ",r.jsx("span",{className:"text-gray-500 text-xs",children:"(Optional)"})]}),r.jsx("input",{type:"email",name:"email",value:i.email,onChange:p,className:b("email"),placeholder:"Enter email address (optional)"}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Email is optional for external users as they won't access the system directly."}),u.email&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:u.email})]})]}),r.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[r.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-xl transition-colors",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:l,className:"px-4 py-2 bg-primary-600 hover:bg-primary-700 text-white rounded-xl transition-colors disabled:opacity-50",children:l?r.jsxs("span",{className:"flex items-center",children:[r.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),t==="create"?"Adding...":"Updating..."]}):t==="create"?"Add External User":"Update External User"})]})]})},gC=()=>{const{user:e}=$e(),[t,s]=N.useState([]),[n,i]=N.useState(!0),[a,l]=N.useState(""),[o,c]=N.useState(""),[d,u]=N.useState(""),[h,f]=N.useState("all"),[v,p]=N.useState(!1),[y,b]=N.useState(!1),[m,x]=N.useState("create"),[g,j]=N.useState("create"),[w,_]=N.useState(null),k=["Admin","Farm Manager"].includes(e==null?void 0:e.role),S=["Admin","Farm Manager","Farm Attendant","Pasture Officer","Veterinary Doctor","Feed Production Officer"],A=["Vendor","Contractor","Visitor","Other"];N.useEffect(()=>{O()},[]);const O=async()=>{try{i(!0);const D=await Ns.getUsers();s(D.data),l("")}catch(D){console.error("Failed to fetch users:",D),l("Failed to load users. Please try again.")}finally{i(!1)}},C=t.filter(D=>{var Z,J,z;const q=((Z=D.full_name)==null?void 0:Z.toLowerCase().includes(o.toLowerCase()))||((J=D.email)==null?void 0:J.toLowerCase().includes(o.toLowerCase()))||((z=D.phone)==null?void 0:z.includes(o)),R=!d||D.role===d,Y=h==="all"||h==="staff"&&S.includes(D.role)||h==="external"&&A.includes(D.role);return q&&R&&Y}),L=C.filter(D=>S.includes(D.role)),V=C.filter(D=>A.includes(D.role)),K=D=>({Admin:"bg-red-100 text-red-700 border-red-200","Farm Manager":"bg-blue-100 text-blue-700 border-blue-200","Pasture Manager":"bg-green-100 text-green-700 border-green-200","Farm Attendant":"bg-yellow-100 text-yellow-700 border-yellow-200","Veterinary Doctor":"bg-purple-100 text-purple-700 border-purple-200",Vendor:"bg-orange-100 text-orange-700 border-orange-200",Contractor:"bg-indigo-100 text-indigo-700 border-indigo-200"})[D]||"bg-gray-100 text-gray-700 border-gray-200",H=()=>{k&&(x("create"),_(null),p(!0))},P=()=>{k&&(j("create"),_(null),b(!0))},W=D=>{k&&(x("edit"),_(D),p(!0))},M=D=>{x("view"),_(D),p(!0)},F=D=>{m==="create"?s([...t,D]):m==="edit"&&s(t.map(q=>q.id===D.id?D:q)),p(!1),_(null)},B=D=>{g==="create"?s([...t,D]):g==="edit"&&s(t.map(q=>q.id===D.id?D:q)),b(!1),_(null)};return n?r.jsx("div",{className:"flex items-center justify-center min-h-96",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"User Management"}),r.jsx("p",{className:"text-gray-600 mt-2",children:"Manage staff and external users"})]}),k&&r.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 mt-4 sm:mt-0",children:[r.jsxs("button",{onClick:H,className:"bg-primary-600 hover:bg-primary-700 text-white px-4 py-2 rounded-xl flex items-center space-x-2 transition-colors",children:[r.jsx(Wn,{className:"w-5 h-5"}),r.jsx("span",{children:"Add Staff User"})]}),r.jsxs("button",{onClick:P,className:"bg-orange-600 hover:bg-orange-700 text-white px-4 py-2 rounded-xl flex items-center space-x-2 transition-colors",children:[r.jsx(Wn,{className:"w-5 h-5"}),r.jsx("span",{children:"Add External User"})]})]})]}),a&&r.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-xl",children:a}),r.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search Users"}),r.jsxs("div",{className:"relative",children:[r.jsx(Or,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),r.jsx("input",{type:"text",placeholder:"Search by name, email, or phone...",value:o,onChange:D=>c(D.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Filter by Role"}),r.jsxs("select",{value:d,onChange:D=>u(D.target.value),className:"w-full border border-gray-300 rounded-xl px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[r.jsx("option",{value:"",children:"All Roles"}),[...S,...A].map(D=>r.jsx("option",{value:D,children:D},D))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Filter by Category"}),r.jsxs("select",{value:h,onChange:D=>f(D.target.value),className:"w-full border border-gray-300 rounded-xl px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[r.jsx("option",{value:"all",children:"All Users"}),r.jsx("option",{value:"staff",children:"Active Staff"}),r.jsx("option",{value:"external",children:"External Users"})]})]}),r.jsx("div",{className:"flex items-end",children:r.jsxs("div",{className:"text-sm text-gray-600",children:[r.jsxs("p",{className:"font-medium",children:["Total: ",C.length]}),r.jsxs("p",{children:["Staff: ",L.length," | External: ",V.length]})]})})]})}),(h==="all"||h==="staff")&&r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[r.jsxs("div",{className:"p-6 border-b border-gray-200",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(u2,{className:"w-5 h-5 text-green-600"}),r.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Active Staff"}),r.jsx("span",{className:"bg-green-100 text-green-700 px-2 py-1 rounded-full text-sm font-medium",children:L.length})]}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Farm employees and staff members"})]}),r.jsx("div",{className:"p-6",children:L.length===0?r.jsxs("div",{className:"text-center py-8",children:[r.jsx(Zt,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No staff found"}),r.jsx("p",{className:"text-gray-600",children:"No staff members match your search criteria."})]}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:L.map(D=>r.jsxs("div",{className:"border border-gray-200 rounded-xl p-4 hover:shadow-md transition-shadow",children:[r.jsx("div",{className:"flex items-start justify-between mb-3",children:r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-semibold text-gray-900",children:D.full_name}),r.jsx("span",{className:`inline-block px-2 py-1 text-xs font-medium rounded-full border ${K(D.role)}`,children:D.role})]})}),r.jsxs("div",{className:"space-y-2 mb-4",children:[r.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[r.jsx(ys,{className:"w-4 h-4"}),r.jsx("span",{children:D.email})]}),D.phone&&r.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[r.jsx(Zl,{className:"w-4 h-4"}),r.jsx("span",{children:D.phone})]}),r.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[r.jsx(We,{className:"w-4 h-4"}),r.jsxs("span",{children:["Joined ",new Date(D.created_at).toLocaleDateString()]})]})]}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsxs("button",{onClick:()=>M(D),className:"flex-1 bg-gray-100 hover:bg-gray-200 text-gray-700 px-3 py-2 rounded-lg text-sm font-medium transition-colors flex items-center justify-center space-x-1",children:[r.jsx(yt,{className:"w-4 h-4"}),r.jsx("span",{children:"View"})]}),k&&r.jsxs("button",{onClick:()=>W(D),className:"flex-1 bg-primary-100 hover:bg-primary-200 text-primary-700 px-3 py-2 rounded-lg text-sm font-medium transition-colors flex items-center justify-center space-x-1",children:[r.jsx(sn,{className:"w-4 h-4"}),r.jsx("span",{children:"Edit"})]})]})]},D.id))})})]}),(h==="all"||h==="external")&&r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[r.jsxs("div",{className:"p-6 border-b border-gray-200",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(h2,{className:"w-5 h-5 text-orange-600"}),r.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"External Users"}),r.jsx("span",{className:"bg-orange-100 text-orange-700 px-2 py-1 rounded-full text-sm font-medium",children:V.length})]}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Vendors, contractors, and other external contacts"})]}),r.jsx("div",{className:"p-6",children:V.length===0?r.jsxs("div",{className:"text-center py-8",children:[r.jsx(Zt,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No external users found"}),r.jsx("p",{className:"text-gray-600",children:"No external users match your search criteria."})]}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:V.map(D=>r.jsxs("div",{className:"border border-gray-200 rounded-xl p-4 hover:shadow-md transition-shadow",children:[r.jsx("div",{className:"flex items-start justify-between mb-3",children:r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-semibold text-gray-900",children:D.full_name}),r.jsx("span",{className:`inline-block px-2 py-1 text-xs font-medium rounded-full border ${K(D.role)}`,children:D.role})]})}),r.jsxs("div",{className:"space-y-2 mb-4",children:[r.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[r.jsx(ys,{className:"w-4 h-4"}),r.jsx("span",{children:D.email})]}),D.phone&&r.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[r.jsx(Zl,{className:"w-4 h-4"}),r.jsx("span",{children:D.phone})]}),r.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[r.jsx(We,{className:"w-4 h-4"}),r.jsxs("span",{children:["Added ",new Date(D.created_at).toLocaleDateString()]})]})]}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsxs("button",{onClick:()=>M(D),className:"flex-1 bg-gray-100 hover:bg-gray-200 text-gray-700 px-3 py-2 rounded-lg text-sm font-medium transition-colors flex items-center justify-center space-x-1",children:[r.jsx(yt,{className:"w-4 h-4"}),r.jsx("span",{children:"View"})]}),k&&r.jsxs("button",{onClick:()=>W(D),className:"flex-1 bg-primary-100 hover:bg-primary-200 text-primary-700 px-3 py-2 rounded-lg text-sm font-medium transition-colors flex items-center justify-center space-x-1",children:[r.jsx(sn,{className:"w-4 h-4"}),r.jsx("span",{children:"Edit"})]})]})]},D.id))})})]}),v&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:m==="create"?"Add New User":m==="edit"?"Edit User":"User Details"}),r.jsx("button",{onClick:()=>p(!1),className:"text-gray-400 hover:text-gray-600",children:r.jsx(Re,{className:"w-6 h-6"})})]}),m==="view"&&w?r.jsx("div",{className:"space-y-4",children:r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Full Name"}),r.jsx("p",{className:"mt-1 text-sm text-gray-900",children:w.full_name})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Role"}),r.jsx("span",{className:`inline-block px-2 py-1 text-xs font-medium rounded-full border ${K(w.role)}`,children:w.role})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),r.jsx("p",{className:"mt-1 text-sm text-gray-900",children:w.email})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Phone"}),r.jsx("p",{className:"mt-1 text-sm text-gray-900",children:w.phone||"Not provided"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Category"}),r.jsx("p",{className:"mt-1 text-sm text-gray-900",children:S.includes(w.role)?"Active Staff":"External User"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Joined Date"}),r.jsx("p",{className:"mt-1 text-sm text-gray-900",children:new Date(w.created_at).toLocaleDateString()})]})]})}):r.jsx(xC,{user:w,mode:m,onUserSaved:F,onCancel:()=>p(!1)}),m==="view"&&r.jsx("div",{className:"flex justify-end space-x-3 mt-6",children:r.jsx("button",{onClick:()=>p(!1),className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-xl transition-colors",children:"Close"})})]})}),y&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:g==="create"?"Add External User":g==="edit"?"Edit External User":"External User Details"}),r.jsx("button",{onClick:()=>b(!1),className:"text-gray-400 hover:text-gray-600",children:r.jsx(Re,{className:"w-6 h-6"})})]}),r.jsx(pC,{user:w,mode:g,onUserSaved:B,onCancel:()=>b(!1)})]})})]})},yC=({resource:e,mode:t,onResourceSaved:s,onCancel:n})=>{const[i,a]=N.useState({name:"",category:"",current_stock:"",unit:"",min_threshold:"",max_capacity:"",cost_per_unit:"",supplier:"",expiry_date:""}),[l,o]=N.useState(!1),[c,d]=N.useState(""),[u,h]=N.useState({}),[f,v]=N.useState([]),p=["Feed","Seeds","Fertilizer","Medical","Equipment","Tools","Chemicals","Other"],y=["bags","kg","liters","units","boxes","tons","pieces","bottles"];N.useEffect(()=>{b()},[]),N.useEffect(()=>{var w,_,k,S;e&&t==="edit"&&a({name:e.name||"",category:e.category||"",current_stock:((w=e.current_stock)==null?void 0:w.toString())||"",unit:e.unit||"",min_threshold:((_=e.min_threshold)==null?void 0:_.toString())||"",max_capacity:((k=e.max_capacity)==null?void 0:k.toString())||"",cost_per_unit:((S=e.cost_per_unit)==null?void 0:S.toString())||"",supplier:e.supplier||"",expiry_date:e.expiry_date?e.expiry_date.split("T")[0]:""})},[e,t]);const b=async()=>{try{const w=await Uw.getSuppliers();v(w.data)}catch(w){console.error("Failed to fetch suppliers:",w),v([])}},m=()=>{const w={};return i.name.trim()||(w.name="Resource name is required"),i.category||(w.category="Category is required"),(!i.current_stock||isNaN(i.current_stock)||Number(i.current_stock)<0)&&(w.current_stock="Valid current stock is required"),i.unit.trim()||(w.unit="Unit is required"),i.min_threshold&&(isNaN(i.min_threshold)||Number(i.min_threshold)<0)&&(w.min_threshold="Min threshold must be a valid number"),i.max_capacity&&(isNaN(i.max_capacity)||Number(i.max_capacity)<0)&&(w.max_capacity="Max capacity must be a valid number"),i.cost_per_unit&&(isNaN(i.cost_per_unit)||Number(i.cost_per_unit)<0)&&(w.cost_per_unit="Cost per unit must be a valid number"),h(w),Object.keys(w).length===0},x=w=>{const{name:_,value:k}=w.target;a({...i,[_]:k}),u[_]&&h({...u,[_]:""})},g=async w=>{var _;if(w.preventDefault(),o(!0),d(""),!m()){o(!1);return}try{const k={name:i.name.trim(),category:i.category,current_stock:Number(i.current_stock),unit:i.unit.trim(),min_threshold:i.min_threshold?Number(i.min_threshold):0,max_capacity:i.max_capacity?Number(i.max_capacity):0,cost_per_unit:i.cost_per_unit?Number(i.cost_per_unit):0,supplier:i.supplier.trim(),expiry_date:i.expiry_date||null};let S;t==="create"?S=await Ql.createResource(k):S=await Ql.updateResource(e.id,k),s&&s(S.data)}catch(k){console.error("Resource save error:",k);const S=(_=k.response)==null?void 0:_.data;S!=null&&S.field?h({[S.field]:S.message}):S!=null&&S.message?d(S.message):d(t==="create"?"Failed to create resource":"Failed to update resource")}finally{o(!1)}},j=w=>{const _="w-full border rounded-xl px-3 py-2 focus:outline-none focus:ring-2 transition-colors";return u[w]?`${_} border-red-500 focus:ring-red-200`:`${_} border-gray-300 focus:ring-primary-200 focus:border-primary-500`};return r.jsxs("form",{onSubmit:g,className:"space-y-4",children:[c&&r.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-xl text-sm",children:c}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Resource Name ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",name:"name",value:i.name,onChange:x,className:j("name"),placeholder:"Enter resource name"}),u.name&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:u.name})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Category ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("select",{name:"category",value:i.category,onChange:x,className:j("category"),children:[r.jsx("option",{value:"",children:"Select category"}),p.map(w=>r.jsx("option",{value:w,children:w},w))]}),u.category&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:u.category})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Current Stock ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"number",name:"current_stock",value:i.current_stock,onChange:x,className:j("current_stock"),placeholder:"Enter current stock",min:"0",step:"0.01"}),u.current_stock&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:u.current_stock})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Unit ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("select",{name:"unit",value:i.unit,onChange:x,className:j("unit"),children:[r.jsx("option",{value:"",children:"Select unit"}),y.map(w=>r.jsx("option",{value:w,children:w},w))]}),u.unit&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:u.unit})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Min Threshold"}),r.jsx("input",{type:"number",name:"min_threshold",value:i.min_threshold,onChange:x,className:j("min_threshold"),placeholder:"Minimum stock level",min:"0",step:"0.01"}),u.min_threshold&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:u.min_threshold})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Max Capacity"}),r.jsx("input",{type:"number",name:"max_capacity",value:i.max_capacity,onChange:x,className:j("max_capacity"),placeholder:"Maximum storage capacity",min:"0",step:"0.01"}),u.max_capacity&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:u.max_capacity})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cost per Unit ()"}),r.jsx("input",{type:"number",name:"cost_per_unit",value:i.cost_per_unit,onChange:x,className:j("cost_per_unit"),placeholder:"Cost in Naira",min:"0",step:"0.01"}),u.cost_per_unit&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:u.cost_per_unit})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Supplier"}),r.jsxs("select",{name:"supplier",value:i.supplier,onChange:x,className:j("supplier"),children:[r.jsx("option",{value:"",children:"Select supplier"}),f.map(w=>r.jsxs("option",{value:w.company_name||w.full_name,children:[w.company_name||w.full_name,w.specialization&&` - ${w.specialization}`,w.rating>0&&` (${w.rating})`]},w.id))]}),u.supplier&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:u.supplier})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Expiry Date"}),r.jsx("input",{type:"date",name:"expiry_date",value:i.expiry_date,onChange:x,className:j("expiry_date")})]})]}),r.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[r.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-xl transition-colors",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:l,className:"px-4 py-2 bg-primary-600 hover:bg-primary-700 text-white rounded-xl transition-colors disabled:opacity-50",children:l?r.jsxs("span",{className:"flex items-center",children:[r.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),t==="create"?"Creating...":"Updating..."]}):t==="create"?"Create Resource":"Update Resource"})]})]})},vC=()=>{const{user:e}=$e(),[t,s]=N.useState([]),[n,i]=N.useState(!0),[a,l]=N.useState(""),[o,c]=N.useState(""),[d,u]=N.useState(""),[h,f]=N.useState(""),[v,p]=N.useState(!1),[y,b]=N.useState("create"),[m,x]=N.useState(null),g=["Admin","Farm Manager"].includes(e==null?void 0:e.role);N.useEffect(()=>{j()},[]);const j=async()=>{try{i(!0);const P=await Ql.getResources();s(P.data),l("")}catch(P){console.error("Failed to fetch resources:",P),l("Failed to load resources. Please try again."),s([{id:1,name:"Chicken Feed",category:"Feed",current_stock:45,unit:"bags",min_threshold:20,max_capacity:100,cost_per_unit:10200,supplier:"AgriSupply Co.",last_updated:"2024-01-15T10:30:00Z",expiry_date:"2024-03-15",status:"in_stock"},{id:2,name:"Corn Seeds",category:"Seeds",current_stock:8,unit:"kg",min_threshold:10,max_capacity:50,cost_per_unit:4800,supplier:"SeedPro Ltd.",last_updated:"2024-01-10T14:20:00Z",expiry_date:"2024-06-30",status:"low_stock"},{id:3,name:"Fertilizer NPK",category:"Fertilizer",current_stock:0,unit:"bags",min_threshold:5,max_capacity:30,cost_per_unit:14e3,supplier:"FertMax Solutions",last_updated:"2024-01-08T09:15:00Z",expiry_date:"2024-12-31",status:"out_of_stock"},{id:4,name:"Veterinary Supplies",category:"Medical",current_stock:25,unit:"units",min_threshold:15,max_capacity:50,cost_per_unit:3500,supplier:"VetCare Supplies",last_updated:"2024-01-12T16:45:00Z",expiry_date:"2024-08-15",status:"in_stock"}])}finally{i(!1)}},w=P=>{switch(P){case"in_stock":return"bg-green-100 text-green-700 border-green-200";case"low_stock":return"bg-yellow-100 text-yellow-700 border-yellow-200";case"out_of_stock":return"bg-red-100 text-red-700 border-red-200";default:return"bg-gray-100 text-gray-700 border-gray-200"}},_=P=>{switch(P){case"in_stock":return r.jsx(Zu,{className:"w-4 h-4"});case"low_stock":return r.jsx(Jl,{className:"w-4 h-4"});case"out_of_stock":return r.jsx(c2,{className:"w-4 h-4"});default:return r.jsx(hl,{className:"w-4 h-4"})}},k=t.filter(P=>{var B,D,q;const W=((B=P.name)==null?void 0:B.toLowerCase().includes(o.toLowerCase()))||((D=P.category)==null?void 0:D.toLowerCase().includes(o.toLowerCase()))||((q=P.supplier)==null?void 0:q.toLowerCase().includes(o.toLowerCase())),M=!d||P.category===d,F=!h||P.status===h;return W&&M&&F}),S=[...new Set(t.map(P=>P.category))],A=t.reduce((P,W)=>P+W.current_stock*W.cost_per_unit,0),O=t.filter(P=>P.status==="low_stock"||P.status==="out_of_stock").length,C=()=>{g&&(b("create"),x(null),p(!0))},L=P=>{g&&(b("edit"),x(P),p(!0))},V=P=>{b("view"),x(P),p(!0)},K=P=>{y==="create"?s([P,...t]):y==="edit"&&s(t.map(W=>W.id===P.id?P:W)),p(!1),x(null)},H=async P=>{if(g&&window.confirm(`Are you sure you want to delete "${P.name}"? This action cannot be undone.`))try{await Ql.deleteResource(P.id),s(t.filter(W=>W.id!==P.id))}catch(W){console.error("Failed to delete resource:",W),l("Failed to delete resource. Please try again.")}};return n?r.jsx("div",{className:"flex items-center justify-center min-h-96",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Farm Resources & Inventory"}),r.jsx("p",{className:"text-gray-600 mt-2",children:"Track and manage farm supplies, feed, seeds, and equipment"})]}),g&&r.jsxs("button",{onClick:C,className:"mt-4 sm:mt-0 bg-primary-600 hover:bg-primary-700 text-white px-4 py-2 rounded-xl flex items-center space-x-2 transition-colors",children:[r.jsx(Wn,{className:"w-5 h-5"}),r.jsx("span",{children:"Add Resource"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[r.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Items"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.length})]}),r.jsx(hl,{className:"w-8 h-8 text-blue-600"})]})}),r.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Value"}),r.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["",A.toLocaleString("en-NG",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),r.jsx(Dg,{className:"w-8 h-8 text-green-600"})]})}),r.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Low Stock Alerts"}),r.jsx("p",{className:"text-2xl font-bold text-red-600",children:O})]}),r.jsx(Jl,{className:"w-8 h-8 text-red-600"})]})}),r.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Categories"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:S.length})]}),r.jsx(Fo,{className:"w-8 h-8 text-purple-600"})]})})]}),r.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search Resources"}),r.jsxs("div",{className:"relative",children:[r.jsx(Or,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),r.jsx("input",{type:"text",placeholder:"Search by name, category, or supplier...",value:o,onChange:P=>c(P.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Filter by Category"}),r.jsxs("select",{value:d,onChange:P=>u(P.target.value),className:"w-full border border-gray-300 rounded-xl px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[r.jsx("option",{value:"",children:"All Categories"}),S.map(P=>r.jsx("option",{value:P,children:P},P))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Filter by Status"}),r.jsxs("select",{value:h,onChange:P=>f(P.target.value),className:"w-full border border-gray-300 rounded-xl px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[r.jsx("option",{value:"",children:"All Status"}),r.jsx("option",{value:"in_stock",children:"In Stock"}),r.jsx("option",{value:"low_stock",children:"Low Stock"}),r.jsx("option",{value:"out_of_stock",children:"Out of Stock"})]})]}),r.jsx("div",{className:"flex items-end",children:r.jsxs("div",{className:"text-sm text-gray-600",children:[r.jsxs("p",{className:"font-medium",children:["Showing: ",k.length," items"]}),r.jsxs("p",{children:["Value: ",k.reduce((P,W)=>P+W.current_stock*W.cost_per_unit,0).toLocaleString("en-NG",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})})]})}),r.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:r.jsx("div",{className:"p-6",children:k.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(hl,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No resources found"}),r.jsx("p",{className:"text-gray-600",children:t.length===0?"Get started by adding your first resource.":"Try adjusting your search criteria."}),g&&t.length===0&&r.jsx("button",{onClick:C,className:"mt-4 bg-primary-600 hover:bg-primary-700 text-white px-4 py-2 rounded-xl transition-colors",children:"Add First Resource"})]}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:k.map(P=>r.jsxs("div",{className:"border border-gray-200 rounded-xl p-6 hover:shadow-md transition-shadow",children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:P.name}),r.jsx("p",{className:"text-sm text-gray-600",children:P.category})]}),r.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 text-xs font-medium rounded-full border ${w(P.status)}`,children:[_(P.status),P.status.replace("_"," ")]})]}),r.jsxs("div",{className:"space-y-3 mb-4",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Current Stock:"}),r.jsxs("span",{className:"font-semibold text-gray-900",children:[P.current_stock," ",P.unit]})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Min Threshold:"}),r.jsxs("span",{className:"text-sm text-gray-700",children:[P.min_threshold," ",P.unit]})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Unit Cost:"}),r.jsxs("span",{className:"text-sm text-gray-700",children:["",P.cost_per_unit.toLocaleString("en-NG",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Total Value:"}),r.jsxs("span",{className:"font-semibold text-gray-900",children:["",(P.current_stock*P.cost_per_unit).toLocaleString("en-NG",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),r.jsxs("div",{className:"border-t pt-2",children:[r.jsxs("p",{className:"text-xs text-gray-500",children:["Supplier: ",P.supplier]}),r.jsxs("p",{className:"text-xs text-gray-500",children:["Updated: ",new Date(P.last_updated).toLocaleDateString()]})]})]}),r.jsxs("div",{className:"mb-4",children:[r.jsxs("div",{className:"flex justify-between text-xs text-gray-600 mb-1",children:[r.jsx("span",{children:"Stock Level"}),r.jsxs("span",{children:[Math.round(P.current_stock/P.max_capacity*100),"%"]})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:`h-2 rounded-full ${P.current_stock<=P.min_threshold?"bg-red-500":P.current_stock<=P.min_threshold*1.5?"bg-yellow-500":"bg-green-500"}`,style:{width:`${Math.min(P.current_stock/P.max_capacity*100,100)}%`}})})]}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsxs("button",{onClick:()=>V(P),className:"flex-1 bg-gray-100 hover:bg-gray-200 text-gray-700 px-3 py-2 rounded-lg text-sm font-medium transition-colors flex items-center justify-center space-x-1",children:[r.jsx(yt,{className:"w-4 h-4"}),r.jsx("span",{children:"View"})]}),g&&r.jsxs(r.Fragment,{children:[r.jsxs("button",{onClick:()=>L(P),className:"flex-1 bg-primary-100 hover:bg-primary-200 text-primary-700 px-3 py-2 rounded-lg text-sm font-medium transition-colors flex items-center justify-center space-x-1",children:[r.jsx(sn,{className:"w-4 h-4"}),r.jsx("span",{children:"Edit"})]}),r.jsx("button",{onClick:()=>H(P),className:"bg-red-100 hover:bg-red-200 text-red-700 px-3 py-2 rounded-lg text-sm font-medium transition-colors flex items-center justify-center",children:r.jsx(zs,{className:"w-4 h-4"})})]})]})]},P.id))})})}),v&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:y==="create"?"Add New Resource":y==="edit"?"Edit Resource":"Resource Details"}),r.jsx("button",{onClick:()=>p(!1),className:"text-gray-400 hover:text-gray-600",children:r.jsx(Re,{className:"w-6 h-6"})})]}),y==="view"&&m?r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Resource Name"}),r.jsx("p",{className:"mt-1 text-sm text-gray-900",children:m.name})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Category"}),r.jsx("p",{className:"mt-1 text-sm text-gray-900",children:m.category})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Current Stock"}),r.jsxs("p",{className:"mt-1 text-sm text-gray-900",children:[m.current_stock," ",m.unit]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Status"}),r.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 text-xs font-medium rounded-full border ${w(m.status)}`,children:[_(m.status),m.status.replace("_"," ")]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Supplier"}),r.jsx("p",{className:"mt-1 text-sm text-gray-900",children:m.supplier})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Cost per Unit"}),r.jsxs("p",{className:"mt-1 text-sm text-gray-900",children:["",m.cost_per_unit.toLocaleString("en-NG",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Expiry Date"}),r.jsx("p",{className:"mt-1 text-sm text-gray-900",children:m.expiry_date?new Date(m.expiry_date).toLocaleDateString():"No expiry date"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Total Value"}),r.jsxs("p",{className:"mt-1 text-sm text-gray-900",children:["",(m.current_stock*m.cost_per_unit).toLocaleString("en-NG",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]}),r.jsx("div",{className:"flex justify-end space-x-3 mt-6",children:r.jsx("button",{onClick:()=>p(!1),className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-xl transition-colors",children:"Close"})})]}):r.jsx(yC,{resource:m,mode:y,onResourceSaved:K,onCancel:()=>p(!1)})]})})]})},bC=()=>{var a;const[e,t]=N.useState("overview"),[s,n]=N.useState(!1),i=[{id:"overview",name:"Overview",icon:ul},{id:"livestock",name:"Livestock Areas",icon:ca},{id:"crops",name:"Crop Fields",icon:ef},{id:"equipment",name:"Equipment",icon:Re},{id:"infrastructure",name:"Infrastructure",icon:Da}];return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Farm Map"}),r.jsx("p",{className:"text-gray-600 mt-2",children:"Interactive map showing farm layout and locations"})]}),r.jsxs("button",{onClick:()=>n(!0),className:"mt-4 sm:mt-0 bg-primary-600 hover:bg-primary-700 text-white px-4 py-2 rounded-xl flex items-center space-x-2 transition-colors",children:[r.jsx(s2,{className:"w-5 h-5"}),r.jsx("span",{children:"Map Info"})]})]}),r.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:r.jsx("div",{className:"flex flex-wrap gap-2",children:i.map(l=>{const o=l.icon;return r.jsxs("button",{onClick:()=>t(l.id),className:`flex items-center space-x-2 px-4 py-2 rounded-xl text-sm font-medium transition-colors ${e===l.id?"bg-primary-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[r.jsx(o,{className:"w-4 h-4"}),r.jsx("span",{children:l.name})]},l.id)})})}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 h-[600px] relative overflow-hidden",children:[r.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gradient-to-br from-green-50 to-blue-50",children:r.jsxs("div",{className:"text-center",children:[r.jsx(ul,{className:"w-16 h-16 text-green-600 mx-auto mb-4"}),r.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Interactive Farm Map"}),r.jsx("p",{className:"text-gray-600 max-w-md mx-auto mb-6",children:"This will display a comprehensive interactive map of your farm with different layers showing livestock areas, crop fields, equipment locations, and infrastructure."}),r.jsxs("div",{className:"space-y-2 text-sm text-gray-500",children:[r.jsx("p",{children:" Real-time location tracking"}),r.jsx("p",{children:" Equipment positioning"}),r.jsx("p",{children:" Livestock area monitoring"}),r.jsx("p",{children:" Field boundary mapping"}),r.jsx("p",{children:" Infrastructure layout"})]})]})}),r.jsxs("div",{className:"absolute top-4 right-4 bg-white rounded-lg shadow-lg p-4 max-w-xs",children:[r.jsxs("h4",{className:"font-semibold text-gray-900 mb-3",children:["Current Layer: ",(a=i.find(l=>l.id===e))==null?void 0:a.name]}),r.jsxs("div",{className:"space-y-2 text-sm",children:[e==="overview"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),r.jsx("span",{children:"Farm Boundaries"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),r.jsx("span",{children:"Water Sources"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-3 h-3 bg-brown-500 rounded-full"}),r.jsx("span",{children:"Buildings"})]})]}),e==="livestock"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full"}),r.jsx("span",{children:"Cattle Areas"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-3 h-3 bg-yellow-500 rounded-full"}),r.jsx("span",{children:"Poultry Areas"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-3 h-3 bg-purple-500 rounded-full"}),r.jsx("span",{children:"Grazing Zones"})]})]}),e==="crops"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-3 h-3 bg-green-400 rounded-full"}),r.jsx("span",{children:"Active Fields"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-3 h-3 bg-brown-400 rounded-full"}),r.jsx("span",{children:"Fallow Land"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-3 h-3 bg-orange-400 rounded-full"}),r.jsx("span",{children:"Harvest Ready"})]})]}),e==="equipment"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Tractor,{className:"w-3 h-3 text-blue-600"}),r.jsx("span",{children:"Active Equipment"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-3 h-3 bg-gray-500 rounded-full"}),r.jsx("span",{children:"Parked Equipment"})]})]}),e==="infrastructure"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Da,{className:"w-3 h-3 text-brown-600"}),r.jsx("span",{children:"Buildings"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(m2,{className:"w-3 h-3 text-yellow-600"}),r.jsx("span",{children:"Utilities"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-3 h-3 bg-gray-600 rounded-full"}),r.jsx("span",{children:"Roads/Paths"})]})]})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[r.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Area"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"245 acres"})]}),r.jsx(ul,{className:"w-8 h-8 text-green-600"})]})}),r.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Fields"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"12"})]}),r.jsx(ef,{className:"w-8 h-8 text-blue-600"})]})}),r.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Livestock Areas"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"8"})]}),r.jsx(Da,{className:"w-8 h-8 text-brown-600"})]})}),r.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Equipment Points"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"15"})]}),r.jsx(Da,{className:"w-8 h-8 text-orange-600"})]})})]}),s&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Farm Map Features"}),r.jsx("button",{onClick:()=>n(!1),className:"text-gray-400 hover:text-gray-600",children:r.jsx(Re,{className:"w-6 h-6"})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Planned Features"}),r.jsxs("ul",{className:"space-y-2 text-sm text-gray-600",children:[r.jsx("li",{children:" GPS integration for real-time equipment tracking"}),r.jsx("li",{children:" Satellite imagery overlay with field boundaries"}),r.jsx("li",{children:" Interactive markers for livestock, equipment, and infrastructure"}),r.jsx("li",{children:" Weather overlay showing precipitation and temperature zones"}),r.jsx("li",{children:" Soil type mapping and crop rotation planning"}),r.jsx("li",{children:" Historical data visualization and analysis"}),r.jsx("li",{children:" Mobile app integration for field updates"}),r.jsx("li",{children:" Integration with IoT sensors for environmental monitoring"})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Layer Information"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-700",children:"Overview Layer"}),r.jsx("p",{className:"text-gray-600",children:"Complete farm layout with boundaries and main features"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-700",children:"Livestock Layer"}),r.jsx("p",{className:"text-gray-600",children:"Animal locations, grazing areas, and enclosures"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-700",children:"Crops Layer"}),r.jsx("p",{className:"text-gray-600",children:"Field boundaries, crop types, and growth stages"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-700",children:"Equipment Layer"}),r.jsx("p",{className:"text-gray-600",children:"Machinery locations and maintenance areas"})]})]})]})]}),r.jsx("div",{className:"flex justify-end mt-6",children:r.jsx("button",{onClick:()=>n(!1),className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-xl transition-colors",children:"Close"})})]})})]})},jC=({planting:e,mode:t,onPlantingSaved:s,onCancel:n})=>{const[i,a]=N.useState({crop_name:"",variety:"",planting_date:"",expected_harvest_date:"",area_planted:"",location:"",growth_stage:"planted",plant_spacing:"",row_spacing:"",irrigation_schedule:"",irrigation_method:"",notes:""}),[l,o]=N.useState(!1),[c,d]=N.useState(""),[u,h]=N.useState({}),f=["planted","germinated","seedling","vegetative","flowering","fruiting","mature","harvested"],v=["Corn","Wheat","Rice","Soybeans","Tomatoes","Potatoes","Carrots","Onions","Lettuce","Peppers","Beans","Cassava","Yam","Plantain"];N.useEffect(()=>{var x;e&&t==="edit"&&a({crop_name:e.crop_name||"",variety:e.variety||"",planting_date:e.planting_date?e.planting_date.split("T")[0]:"",expected_harvest_date:e.expected_harvest_date?e.expected_harvest_date.split("T")[0]:"",area_planted:((x=e.area_planted)==null?void 0:x.toString())||"",location:e.location||"",growth_stage:e.growth_stage||"planted",plant_spacing:e.plant_spacing||"",row_spacing:e.row_spacing||"",irrigation_schedule:e.irrigation_schedule||"",irrigation_method:e.irrigation_method||"",notes:e.notes||""})},[e,t]);const p=()=>{const x={};return i.crop_name.trim()||(x.crop_name="Crop name is required"),i.planting_date||(x.planting_date="Planting date is required"),(!i.area_planted||isNaN(i.area_planted)||Number(i.area_planted)<=0)&&(x.area_planted="Valid area planted is required"),i.planting_date&&i.expected_harvest_date&&new Date(i.expected_harvest_date)<=new Date(i.planting_date)&&(x.expected_harvest_date="Harvest date must be after planting date"),h(x),Object.keys(x).length===0},y=x=>{const{name:g,value:j}=x.target;a({...i,[g]:j}),u[g]&&h({...u,[g]:""})},b=async x=>{var g;if(x.preventDefault(),o(!0),d(""),!p()){o(!1);return}try{const j={crop_name:i.crop_name==="other"?(i.custom_crop_name||"").trim():i.crop_name.trim(),variety:i.variety.trim(),planting_date:i.planting_date,expected_harvest_date:i.expected_harvest_date||null,area_planted:Number(i.area_planted),location:i.location.trim(),growth_stage:i.growth_stage,plant_spacing:i.plant_spacing.trim(),row_spacing:i.row_spacing.trim(),irrigation_schedule:i.irrigation_schedule.trim(),irrigation_method:i.irrigation_method.trim(),notes:i.notes.trim()};let w;t==="create"?w=await Kl.createPlanting(j):w=await Kl.updatePlanting(e.id,j),s&&s(w.data)}catch(j){console.error("Planting save error:",j);const w=(g=j.response)==null?void 0:g.data;w!=null&&w.field?h({[w.field]:w.message}):w!=null&&w.message?d(w.message):d(t==="create"?"Failed to create planting record":"Failed to update planting record")}finally{o(!1)}},m=x=>{const g="w-full border rounded-xl px-3 py-2 focus:outline-none focus:ring-2 transition-colors";return u[x]?`${g} border-red-500 focus:ring-red-200`:`${g} border-gray-300 focus:ring-primary-200 focus:border-primary-500`};return r.jsxs("form",{onSubmit:b,className:"space-y-4",children:[c&&r.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-xl text-sm",children:c}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Crop Name ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("select",{name:"crop_name",value:i.crop_name,onChange:y,className:m("crop_name"),children:[r.jsx("option",{value:"",children:"Select crop"}),v.map(x=>r.jsx("option",{value:x,children:x},x)),r.jsx("option",{value:"other",children:"Other (specify below)"})]}),i.crop_name==="other"&&r.jsx("input",{type:"text",name:"custom_crop_name",value:i.custom_crop_name||"",onChange:x=>a({...i,custom_crop_name:x.target.value}),className:m("crop_name"),placeholder:"Enter crop name"})]}),u.crop_name&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:u.crop_name})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Variety"}),r.jsx("input",{type:"text",name:"variety",value:i.variety,onChange:y,className:m("variety"),placeholder:"Enter variety (optional)"}),u.variety&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:u.variety})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Planting Date ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"date",name:"planting_date",value:i.planting_date,onChange:y,className:m("planting_date")}),u.planting_date&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:u.planting_date})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Expected Harvest Date"}),r.jsx("input",{type:"date",name:"expected_harvest_date",value:i.expected_harvest_date,onChange:y,className:m("expected_harvest_date")}),u.expected_harvest_date&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:u.expected_harvest_date})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Area Planted (hectares) ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"number",name:"area_planted",value:i.area_planted,onChange:y,className:m("area_planted"),placeholder:"Enter area in hectares",min:"0.01",step:"0.01"}),u.area_planted&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:u.area_planted})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Location"}),r.jsx("input",{type:"text",name:"location",value:i.location,onChange:y,className:m("location"),placeholder:"Field/plot location"}),u.location&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:u.location})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Growth Stage"}),r.jsx("select",{name:"growth_stage",value:i.growth_stage,onChange:y,className:m("growth_stage"),children:f.map(x=>r.jsx("option",{value:x,children:x.charAt(0).toUpperCase()+x.slice(1)},x))}),u.growth_stage&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:u.growth_stage})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Plant Spacing (cm)"}),r.jsx("input",{type:"number",name:"plant_spacing",value:i.plant_spacing,onChange:y,className:m("plant_spacing"),placeholder:"e.g., 30",min:"1",step:"1"}),u.plant_spacing&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:u.plant_spacing})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Row Spacing (cm)"}),r.jsx("input",{type:"number",name:"row_spacing",value:i.row_spacing,onChange:y,className:m("row_spacing"),placeholder:"e.g., 75",min:"1",step:"1"}),u.row_spacing&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:u.row_spacing})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Irrigation Method"}),r.jsxs("select",{name:"irrigation_method",value:i.irrigation_method,onChange:y,className:m("irrigation_method"),children:[r.jsx("option",{value:"",children:"Select irrigation method"}),r.jsx("option",{value:"drip",children:"Drip Irrigation"}),r.jsx("option",{value:"sprinkler",children:"Sprinkler"}),r.jsx("option",{value:"furrow",children:"Furrow"}),r.jsx("option",{value:"flood",children:"Flood"}),r.jsx("option",{value:"manual",children:"Manual Watering"}),r.jsx("option",{value:"rainfed",children:"Rain-fed"})]}),u.irrigation_method&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:u.irrigation_method})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Irrigation Schedule"}),r.jsx("input",{type:"text",name:"irrigation_schedule",value:i.irrigation_schedule,onChange:y,className:m("irrigation_schedule"),placeholder:"e.g., Every 2 days, Twice weekly"}),u.irrigation_schedule&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:u.irrigation_schedule})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),r.jsx("textarea",{name:"notes",value:i.notes,onChange:y,rows:3,className:m("notes"),placeholder:"Any additional notes about this planting..."}),u.notes&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:u.notes})]})]}),r.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[r.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-xl transition-colors",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:l,className:"px-4 py-2 bg-primary-600 hover:bg-primary-700 text-white rounded-xl transition-colors disabled:opacity-50",children:l?r.jsxs("span",{className:"flex items-center",children:[r.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),t==="create"?"Creating...":"Updating..."]}):t==="create"?"Create Planting":"Update Planting"})]})]})},wC=()=>{const{user:e}=$e(),[t,s]=N.useState([]),[n,i]=N.useState(!0),[a,l]=N.useState(""),[o,c]=N.useState(""),[d,u]=N.useState(""),[h,f]=N.useState(""),[v,p]=N.useState(!1),[y,b]=N.useState("create"),[m,x]=N.useState(null),g=["Admin","Farm Manager"].includes(e==null?void 0:e.role);N.useEffect(()=>{j()},[]);const j=async()=>{try{i(!0);const P=await Kl.getPlantings();s(P.data),l("")}catch(P){console.error("Failed to fetch plantings:",P),l("Failed to load plantings. Please try again."),s([{id:1,crop_name:"Corn",variety:"Sweet Corn - Golden Bantam",location:"North Field A",area_planted:5.2,planting_date:"2024-03-15",expected_harvest_date:"2024-07-15",growth_stage:"flowering",status:"active",notes:"Growth is excellent, showing early signs of flowering"},{id:2,crop_name:"Tomatoes",variety:"Roma Tomatoes",location:"Greenhouse B",area_planted:2.1,planting_date:"2024-02-20",expected_harvest_date:"2024-06-20",growth_stage:"fruiting",status:"active",notes:"Some plants showing signs of blight, treatment applied"}])}finally{i(!1)}},w=P=>{switch(P){case"healthy":return"bg-green-100 text-green-700 border-green-200";case"needs_attention":return"bg-yellow-100 text-yellow-700 border-yellow-200";case"ready_for_harvest":return"bg-blue-100 text-blue-700 border-blue-200";case"diseased":return"bg-red-100 text-red-700 border-red-200";default:return"bg-gray-100 text-gray-700 border-gray-200"}},_=P=>{switch(P){case"seedling":return"bg-green-50 text-green-600";case"vegetative":return"bg-blue-50 text-blue-600";case"flowering":return"bg-purple-50 text-purple-600";case"fruiting":return"bg-orange-50 text-orange-600";case"maturation":return"bg-yellow-50 text-yellow-600";default:return"bg-gray-50 text-gray-600"}},k=t.filter(P=>{var B,D,q;const W=((B=P.crop_name)==null?void 0:B.toLowerCase().includes(o.toLowerCase()))||((D=P.variety)==null?void 0:D.toLowerCase().includes(o.toLowerCase()))||((q=P.field_location)==null?void 0:q.toLowerCase().includes(o.toLowerCase())),M=!d||P.growth_stage===d,F=!h||P.crop_name===h;return W&&M&&F}),S=[...new Set(t.map(P=>P.crop_name))],A=t.reduce((P,W)=>P+W.area_planted,0),O=t.filter(P=>P.status==="ready_for_harvest").length,C=()=>{g&&(b("create"),x(null),p(!0))},L=P=>{g&&(b("edit"),x(P),p(!0))},V=P=>{b("view"),x(P),p(!0)},K=P=>{y==="create"?s([P,...t]):y==="edit"&&s(t.map(W=>W.id===P.id?P:W)),p(!1),x(null)},H=async P=>{if(g&&window.confirm(`Are you sure you want to delete the "${P.crop_name}" planting? This action cannot be undone.`))try{await Kl.deletePlanting(P.id),s(t.filter(W=>W.id!==P.id))}catch(W){console.error("Failed to delete planting:",W),l("Failed to delete planting. Please try again.")}};return n?r.jsx("div",{className:"flex items-center justify-center min-h-96",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Planting Tracker"}),r.jsx("p",{className:"text-gray-600 mt-2",children:"Track planting activities, growth stages, and harvest planning"})]}),g&&r.jsxs("button",{onClick:C,className:"mt-4 sm:mt-0 bg-primary-600 hover:bg-primary-700 text-white px-4 py-2 rounded-xl flex items-center space-x-2 transition-colors",children:[r.jsx(Wn,{className:"w-5 h-5"}),r.jsx("span",{children:"Add Planting"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[r.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Plantings"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.length})]}),r.jsx(Ad,{className:"w-8 h-8 text-green-600"})]})}),r.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Area"}),r.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[Number(A||0).toFixed(1)," acres"]})]}),r.jsx(sf,{className:"w-8 h-8 text-blue-600"})]})}),r.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Ready for Harvest"}),r.jsx("p",{className:"text-2xl font-bold text-green-600",children:O})]}),r.jsx(Be,{className:"w-8 h-8 text-green-600"})]})}),r.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Crop Varieties"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:S.length})]}),r.jsx(Fo,{className:"w-8 h-8 text-purple-600"})]})})]}),r.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search Plantings"}),r.jsxs("div",{className:"relative",children:[r.jsx(Or,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),r.jsx("input",{type:"text",placeholder:"Search by crop, variety, or location...",value:o,onChange:P=>c(P.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Filter by Crop"}),r.jsxs("select",{value:h,onChange:P=>f(P.target.value),className:"w-full border border-gray-300 rounded-xl px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[r.jsx("option",{value:"",children:"All Crops"}),S.map(P=>r.jsx("option",{value:P,children:P},P))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Filter by Growth Stage"}),r.jsxs("select",{value:d,onChange:P=>u(P.target.value),className:"w-full border border-gray-300 rounded-xl px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[r.jsx("option",{value:"",children:"All Growth Stages"}),r.jsx("option",{value:"seedling",children:"Seedling"}),r.jsx("option",{value:"vegetative",children:"Vegetative"}),r.jsx("option",{value:"flowering",children:"Flowering"}),r.jsx("option",{value:"fruiting",children:"Fruiting"}),r.jsx("option",{value:"maturation",children:"Maturation"})]})]}),r.jsx("div",{className:"flex items-end",children:r.jsxs("div",{className:"text-sm text-gray-600",children:[r.jsxs("p",{className:"font-medium",children:["Showing: ",k.length," plantings"]}),r.jsxs("p",{children:["  Area: ",Number(k.reduce((P,W)=>P+(Number(W.area_planted)||0),0)).toFixed(1)," acres"]})]})})]})}),r.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:r.jsx("div",{className:"p-6",children:k.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(Ad,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No plantings found"}),r.jsx("p",{className:"text-gray-600",children:t.length===0?"Get started by recording your first planting.":"Try adjusting your search criteria."}),g&&t.length===0&&r.jsx("button",{onClick:C,className:"mt-4 bg-primary-600 hover:bg-primary-700 text-white px-4 py-2 rounded-xl transition-colors",children:"Record First Planting"})]}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:k.map(P=>r.jsxs("div",{className:"border border-gray-200 rounded-xl p-6 hover:shadow-md transition-shadow",children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:P.crop_name}),r.jsx("p",{className:"text-sm text-gray-600",children:P.variety})]}),r.jsx("span",{className:`inline-block px-2 py-1 text-xs font-medium rounded-full border ${w(P.status)}`,children:P.status.replace("_"," ")})]}),r.jsxs("div",{className:"space-y-3 mb-4",children:[r.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[r.jsx(ca,{className:"w-4 h-4"}),r.jsx("span",{children:P.field_location})]}),r.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[r.jsx(sf,{className:"w-4 h-4"}),r.jsxs("span",{children:[P.area_planted," acres"]})]}),r.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[r.jsx(We,{className:"w-4 h-4"}),r.jsxs("span",{children:["Planted: ",new Date(P.planting_date).toLocaleDateString()]})]}),r.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[r.jsx(zt,{className:"w-4 h-4"}),r.jsxs("span",{children:["Harvest: ",P.expected_harvest_date?new Date(P.expected_harvest_date).toLocaleDateString():"Not set"]})]}),r.jsx("div",{className:"border-t pt-2",children:r.jsx("span",{className:`inline-block px-2 py-1 text-xs font-medium rounded-full ${_(P.growth_stage)}`,children:P.growth_stage.replace("_"," ")})})]}),P.notes&&r.jsx("div",{className:"mb-4 p-3 bg-gray-50 rounded-lg",children:r.jsxs("p",{className:"text-xs text-gray-600 italic",children:['"',P.notes,'"']})}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsxs("button",{onClick:()=>V(P),className:"flex-1 bg-gray-100 hover:bg-gray-200 text-gray-700 px-3 py-2 rounded-lg text-sm font-medium transition-colors flex items-center justify-center space-x-1",children:[r.jsx(yt,{className:"w-4 h-4"}),r.jsx("span",{children:"View"})]}),g&&r.jsxs(r.Fragment,{children:[r.jsxs("button",{onClick:()=>L(P),className:"flex-1 bg-primary-100 hover:bg-primary-200 text-primary-700 px-3 py-2 rounded-lg text-sm font-medium transition-colors flex items-center justify-center space-x-1",children:[r.jsx(sn,{className:"w-4 h-4"}),r.jsx("span",{children:"Update"})]}),r.jsx("button",{onClick:()=>H(P),className:"bg-red-100 hover:bg-red-200 text-red-700 px-3 py-2 rounded-lg text-sm font-medium transition-colors flex items-center justify-center",children:r.jsx(zs,{className:"w-4 h-4"})})]})]})]},P.id))})})}),v&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:y==="create"?"Record New Planting":y==="edit"?"Update Planting":"Planting Details"}),r.jsx("button",{onClick:()=>p(!1),className:"text-gray-400 hover:text-gray-600",children:r.jsx(Re,{className:"w-6 h-6"})})]}),y==="view"&&m?r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Crop Name"}),r.jsx("p",{className:"mt-1 text-sm text-gray-900",children:m.crop_name})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Variety"}),r.jsx("p",{className:"mt-1 text-sm text-gray-900",children:m.variety||"Not specified"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Location"}),r.jsx("p",{className:"mt-1 text-sm text-gray-900",children:m.location||"Not specified"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Area Planted"}),r.jsxs("p",{className:"mt-1 text-sm text-gray-900",children:[m.area_planted," hectares"]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Growth Stage"}),r.jsx("span",{className:`inline-block px-2 py-1 text-xs font-medium rounded-full ${_(m.growth_stage)}`,children:m.growth_stage.charAt(0).toUpperCase()+m.growth_stage.slice(1)})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Growth Stage"}),r.jsx("span",{className:`inline-block px-2 py-1 text-xs font-medium rounded-full ${_(m.growth_stage)}`,children:m.growth_stage.replace("_"," ")})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Spacing"}),r.jsx("p",{className:"mt-1 text-sm text-gray-900",children:m.spacing})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Planting Depth"}),r.jsx("p",{className:"mt-1 text-sm text-gray-900",children:m.depth})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Irrigation Schedule"}),r.jsx("p",{className:"mt-1 text-sm text-gray-900",children:m.irrigation_schedule})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Fertilizer"}),r.jsx("p",{className:"mt-1 text-sm text-gray-900",children:m.fertilizer_applied})]})]}),m.notes&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Notes"}),r.jsx("p",{className:"mt-1 text-sm text-gray-900 bg-gray-50 p-3 rounded-lg",children:m.notes})]}),r.jsx("div",{className:"flex justify-end space-x-3 mt-6",children:r.jsx("button",{onClick:()=>p(!1),className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-xl transition-colors",children:"Close"})})]}):r.jsx(jC,{planting:m,mode:y,onPlantingSaved:K,onCancel:()=>p(!1)})]})})]})},NC=()=>{const[e,t]=N.useState(null),[s,n]=N.useState(!1),[i,a]=N.useState(!1);N.useEffect(()=>{(()=>{if(window.matchMedia("(display-mode: standalone)").matches){a(!0);return}if(window.navigator.standalone===!0){a(!0);return}})();const c=u=>{console.log("beforeinstallprompt event fired"),u.preventDefault(),t(u),n(!0)},d=u=>{console.log("PWA was installed"),n(!1),a(!0),t(null)};return window.addEventListener("beforeinstallprompt",c),window.addEventListener("appinstalled",d),()=>{window.removeEventListener("beforeinstallprompt",c),window.removeEventListener("appinstalled",d)}},[]);const l=async()=>{if(e){e.prompt();const{outcome:o}=await e.userChoice;console.log(`Install prompt outcome: ${o}`),t(null),n(!1)}};return i||!s?null:r.jsx("div",{className:"fixed bottom-4 right-4 bg-white shadow-lg rounded-lg p-4 z-50 max-w-sm animate-in slide-in-from-bottom-4 duration-300",children:r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx("div",{className:"flex-shrink-0 p-2 bg-primary-100 rounded-lg",children:r.jsx(Tg,{className:"w-5 h-5 text-primary-600"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-sm font-medium text-gray-900 mb-3",children:"Install the Livestock Management App for a better experience!"}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("button",{className:"px-4 py-2 bg-primary-600 hover:bg-primary-700 text-white text-sm font-medium rounded-lg transition-colors duration-200",onClick:l,children:"Install"}),r.jsx("button",{className:"px-4 py-2 text-gray-500 hover:text-gray-700 text-sm font-medium transition-colors duration-200",onClick:()=>n(!1),children:"Maybe later"})]})]})]})})},_C=()=>{const[e,t]=N.useState({name:"",email:"",phone:"",avatar:""}),[s,n]=N.useState(""),[i,a]=N.useState(!1),[l,o]=N.useState(!1),[c,d]=N.useState({current:"",new:"",confirm:""}),[u,h]=N.useState(!1),[f,v]=N.useState({}),[p,y]=N.useState(!1),[b,m]=N.useState(""),x="BNHDRbAjLIrCvsBN1AIZpWClyCqUAUPq9ae46_TgiLy2uY4CGWmozC_cjdLIJtTX-Pg8Zsk0AZzlENIH-YqHMq8";N.useEffect(()=>{async function C(){try{const L=await Ns.getProfile();t({name:L.data.full_name,email:L.data.email,phone:L.data.phone,avatar:L.data.avatar||""}),v({push:L.data.notif_push??!0,email:L.data.notif_email??!0,morningTime:L.data.notif_morning??"08:00",eveningTime:L.data.notif_evening??"18:00"})}catch{}}C()},[]);const g=C=>{t({...e,[C.target.name]:C.target.value})},j=C=>{const L=C.target.files[0];L&&n(URL.createObjectURL(L))},w=async()=>{y(!0),m(""),y(!1),a(!1),m("Profile updated successfully!"),setTimeout(()=>m(""),3e3)},_=C=>{d({...c,[C.target.name]:C.target.value})},k=async()=>{y(!0),m(""),y(!1),o(!1),d({current:"",new:"",confirm:""}),m("Password changed successfully!"),setTimeout(()=>m(""),3e3)},S=async()=>{if("serviceWorker"in navigator&&"PushManager"in window){const C=await navigator.serviceWorker.ready;if(await Notification.requestPermission()!=="granted"){alert("Permission denied for push notifications.");return}const V=await C.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:x});await fetch("/api/notifications/subscribe",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(V)}),alert("Push notifications enabled!")}},A=C=>{const{name:L,value:V,type:K,checked:H}=C.target;v({...f,[L]:K==="checkbox"?H:V})},O=async()=>{y(!0),m("");try{await Ns.updateNotifications({push:f.push,email:f.email,morningTime:f.morningTime,eveningTime:f.eveningTime}),f.push&&await S(),m("Notification settings updated!")}catch{m("Failed to update notification settings.")}y(!1),h(!1),setTimeout(()=>m(""),3e3)};return r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Profile Settings"}),r.jsx("p",{className:"text-gray-600 mt-2",children:"Manage your account preferences and security settings"})]})}),b&&r.jsxs("div",{className:"bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded-xl text-sm flex items-center",children:[r.jsx(Ta,{className:"w-5 h-5 mr-2"}),b]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"lg:col-span-2",children:[r.jsxs("div",{className:"card-enhanced",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-xl flex items-center justify-center",children:r.jsx(St,{className:"w-5 h-5 text-blue-600"})}),r.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Personal Information"})]}),!i&&r.jsxs("button",{onClick:()=>a(!0),className:"bg-primary-600 hover:bg-primary-700 text-white px-4 py-2 rounded-xl flex items-center space-x-2 transition-colors",children:[r.jsx(tf,{className:"w-4 h-4"}),r.jsx("span",{children:"Edit"})]})]}),r.jsxs("div",{className:"flex items-center mb-6",children:[r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"w-20 h-20 rounded-full bg-gradient-to-br from-primary-400 to-primary-600 p-1",children:r.jsx("div",{className:"w-full h-full rounded-full bg-white p-1",children:s||e.avatar?r.jsx("img",{src:s||e.avatar,alt:"Profile Avatar",className:"w-full h-full rounded-full object-cover"}):r.jsx("div",{className:"w-full h-full rounded-full bg-slate-100 flex items-center justify-center",children:r.jsx(St,{className:"w-8 h-8 text-slate-400"})})})}),i&&r.jsxs("label",{className:"absolute -bottom-2 -right-2 p-2 bg-primary-600 hover:bg-primary-700 rounded-full cursor-pointer transition-colors shadow-lg",children:[r.jsx(Nn,{className:"w-4 h-4 text-white"}),r.jsx("input",{type:"file",accept:"image/*",onChange:j,className:"hidden"})]})]}),r.jsxs("div",{className:"ml-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-slate-800",children:e.name}),r.jsx("p",{className:"text-slate-600",children:e.email})]})]}),i?r.jsxs("div",{className:"space-y-4 animate-in slide-in-from-top-2 duration-300",children:[r.jsxs("div",{className:"relative",children:[r.jsx(St,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-slate-400"}),r.jsx("input",{type:"text",name:"name",value:e.name,onChange:g,placeholder:"Full Name",className:"w-full pl-12 pr-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-all"})]}),r.jsxs("div",{className:"relative",children:[r.jsx(ys,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-slate-400"}),r.jsx("input",{type:"email",name:"email",value:e.email,onChange:g,placeholder:"Email Address",className:"w-full pl-12 pr-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-all"})]}),r.jsxs("div",{className:"relative",children:[r.jsx(Zl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-slate-400"}),r.jsx("input",{type:"tel",name:"phone",value:e.phone,onChange:g,placeholder:"Phone Number",className:"w-full pl-12 pr-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-all"})]}),r.jsxs("div",{className:"flex space-x-3 pt-2",children:[r.jsxs("button",{onClick:w,disabled:p,className:"flex-1 flex items-center justify-center space-x-2 px-6 py-3 bg-gradient-to-r from-primary-600 to-primary-700 hover:from-primary-700 hover:to-primary-800 text-white rounded-xl transition-all duration-200 hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed shadow-lg",children:[p?r.jsx("div",{className:"w-5 h-5 border-2 border-white/20 border-t-white rounded-full animate-spin"}):r.jsx(Ta,{className:"w-5 h-5"}),r.jsx("span",{children:p?"Saving...":"Save Changes"})]}),r.jsx("button",{onClick:()=>a(!1),className:"px-6 py-3 bg-slate-100 hover:bg-slate-200 text-slate-700 rounded-xl transition-all duration-200 hover:scale-105",children:r.jsx(Re,{className:"w-5 h-5"})})]})]}):r.jsxs("div",{className:"space-y-4 animate-in fade-in duration-300",children:[r.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-slate-50 rounded-xl",children:[r.jsx(St,{className:"w-5 h-5 text-slate-500"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-slate-500",children:"Name"}),r.jsx("p",{className:"font-medium text-slate-800",children:e.name})]})]}),r.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-slate-50 rounded-xl",children:[r.jsx(ys,{className:"w-5 h-5 text-slate-500"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-slate-500",children:"Email"}),r.jsx("p",{className:"font-medium text-slate-800",children:e.email})]})]}),r.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-slate-50 rounded-xl",children:[r.jsx(Zl,{className:"w-5 h-5 text-slate-500"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-slate-500",children:"Phone"}),r.jsx("p",{className:"font-medium text-slate-800",children:e.phone})]})]})]})]}),r.jsxs("div",{className:"bg-white/80 backdrop-blur-sm mt-4 rounded-2xl shadow-xl border border-white/20 p-8 hover:shadow-2xl transition-all duration-300",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"p-2 bg-slate-100 rounded-xl",children:r.jsx(ds,{className:"w-6 h-6 text-slate-600"})}),r.jsx("h2",{className:"text-2xl font-semibold text-slate-800",children:"Security"})]}),!l&&r.jsxs("button",{onClick:()=>o(!0),className:"flex items-center space-x-2 px-4 py-2 bg-slate-50 hover:bg-slate-100 text-slate-600 rounded-xl transition-all duration-200 hover:scale-105",children:[r.jsx(ds,{className:"w-4 h-4"}),r.jsx("span",{children:"Change"})]})]}),l?r.jsxs("div",{className:"space-y-4 animate-in slide-in-from-top-2 duration-300",children:[r.jsxs("div",{className:"relative",children:[r.jsx(ds,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-slate-400"}),r.jsx("input",{type:"password",name:"current",value:c.current,onChange:_,placeholder:"Current Password",className:"w-full pl-12 pr-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-all"})]}),r.jsxs("div",{className:"relative",children:[r.jsx(ds,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-slate-400"}),r.jsx("input",{type:"password",name:"new",value:c.new,onChange:_,placeholder:"New Password",className:"w-full pl-12 pr-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-all"})]}),r.jsxs("div",{className:"relative",children:[r.jsx(ds,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-slate-400"}),r.jsx("input",{type:"password",name:"confirm",value:c.confirm,onChange:_,placeholder:"Confirm New Password",className:"w-full pl-12 pr-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-all"})]}),r.jsxs("div",{className:"flex space-x-3 pt-2",children:[r.jsxs("button",{onClick:k,disabled:p,className:"flex-1 flex items-center justify-center space-x-2 px-6 py-3 bg-gradient-to-r from-primary-600 to-primary-700 hover:from-primary-700 hover:to-primary-800 text-white rounded-xl transition-all duration-200 hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed shadow-lg",children:[p?r.jsx("div",{className:"w-5 h-5 border-2 border-white/20 border-t-white rounded-full animate-spin"}):r.jsx(Ta,{className:"w-5 h-5"}),r.jsx("span",{children:p?"Changing...":"Update Password"})]}),r.jsx("button",{onClick:()=>o(!1),className:"px-6 py-3 bg-slate-100 hover:bg-slate-200 text-slate-700 rounded-xl transition-all duration-200 hover:scale-105",children:r.jsx(Re,{className:"w-5 h-5"})})]})]}):r.jsxs("div",{className:"p-4 bg-slate-50 rounded-xl text-center",children:[r.jsx(ds,{className:"w-12 h-12 mx-auto text-slate-400 mb-3"}),r.jsx("p",{className:"text-slate-600",children:"Your password is secure"}),r.jsx("p",{className:"text-sm text-slate-500",children:"Last changed 30 days ago"})]})]})]}),r.jsxs("div",{className:"mt-6 bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-white/20 p-8 hover:shadow-2xl transition-all duration-300",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"p-2 bg-primary-100 rounded-xl",children:r.jsx(Mg,{className:"w-6 h-6 text-primary-600"})}),r.jsx("h2",{className:"text-2xl font-semibold text-slate-800",children:"Notifications"})]}),!u&&r.jsxs("button",{onClick:()=>h(!0),className:"flex items-center space-x-2 px-4 py-2 bg-primary-50 hover:bg-primary-100 text-primary-600 rounded-xl transition-all duration-200 hover:scale-105",children:[r.jsx(tf,{className:"w-4 h-4"}),r.jsx("span",{children:"Edit"})]})]}),u?r.jsxs("div",{className:"grid md:grid-cols-2 gap-6 animate-in slide-in-from-top-2 duration-300",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-slate-700 mb-3",children:"Preferences"}),r.jsxs("label",{className:"flex items-center space-x-3 p-3 bg-slate-50 rounded-xl cursor-pointer hover:bg-slate-100 transition-colors",children:[r.jsx("input",{type:"checkbox",name:"push",checked:f.push,onChange:A,className:"w-5 h-5 text-primary-600 border-2 border-slate-300 rounded focus:ring-primary-500 focus:ring-2"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-slate-800",children:"Push Notifications"}),r.jsx("p",{className:"text-sm text-slate-600",children:"Receive notifications on your device"})]})]}),r.jsxs("label",{className:"flex items-center space-x-3 p-3 bg-slate-50 rounded-xl cursor-pointer hover:bg-slate-100 transition-colors",children:[r.jsx("input",{type:"checkbox",name:"email",checked:f.email,onChange:A,className:"w-5 h-5 text-primary-600 border-2 border-slate-300 rounded focus:ring-primary-500 focus:ring-2"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-slate-800",children:"Email Notifications"}),r.jsx("p",{className:"text-sm text-slate-600",children:"Receive updates via email"})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-slate-700 mb-3",children:"Schedule"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Morning Summary"}),r.jsx("input",{type:"time",name:"morningTime",value:f.morningTime,onChange:A,className:"w-full px-4 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200 bg-slate-50 focus:bg-white"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Evening Summary"}),r.jsx("input",{type:"time",name:"eveningTime",value:f.eveningTime,onChange:A,className:"w-full px-4 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200 bg-slate-50 focus:bg-white"})]})]})]}),r.jsxs("div",{className:"md:col-span-2 flex space-x-3 pt-4",children:[r.jsxs("button",{onClick:O,disabled:p,className:"flex-1 flex items-center justify-center space-x-2 px-6 py-3 bg-gradient-to-r from-primary-600 to-primary-700 hover:from-primary-700 hover:to-primary-800 text-white rounded-xl transition-all duration-200 hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed shadow-lg",children:[p?r.jsx("div",{className:"w-5 h-5 border-2 border-white/20 border-t-white rounded-full animate-spin"}):r.jsx(Ta,{className:"w-5 h-5"}),r.jsx("span",{children:p?"Saving...":"Save Settings"})]}),r.jsx("button",{onClick:()=>h(!1),className:"px-6 py-3 bg-slate-100 hover:bg-slate-200 text-slate-700 rounded-xl transition-all duration-200 hover:scale-105",children:r.jsx(Re,{className:"w-5 h-5"})})]})]}):r.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-4 animate-in fade-in duration-300",children:[r.jsxs("div",{className:"p-4 bg-slate-50 rounded-xl",children:[r.jsx("p",{className:"text-sm text-slate-500 mb-1",children:"Push Notifications"}),r.jsx("p",{className:"font-semibold text-slate-800",children:f.push?"Enabled":"Disabled"})]}),r.jsxs("div",{className:"p-4 bg-slate-50 rounded-xl",children:[r.jsx("p",{className:"text-sm text-slate-500 mb-1",children:"Email Notifications"}),r.jsx("p",{className:"font-semibold text-slate-800",children:f.email?"Enabled":"Disabled"})]}),r.jsxs("div",{className:"p-4 bg-slate-50 rounded-xl",children:[r.jsx("p",{className:"text-sm text-slate-500 mb-1",children:"Morning Summary"}),r.jsx("p",{className:"font-semibold text-slate-800",children:f.morningTime})]}),r.jsxs("div",{className:"p-4 bg-slate-50 rounded-xl",children:[r.jsx("p",{className:"text-sm text-slate-500 mb-1",children:"Evening Summary"}),r.jsx("p",{className:"font-semibold text-slate-800",children:f.eveningTime})]})]})]})]})]})},at=({children:e})=>{const{user:t,loading:s}=$e();return s?r.jsx("div",{className:"min-h-screen flex items-center justify-center",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):t?e:r.jsx(Vl,{to:"/login"})},Zn=({children:e})=>{const{user:t,loading:s}=$e();return s?r.jsx("div",{className:"min-h-screen flex items-center justify-center",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):t?r.jsx(Vl,{to:"/dashboard"}):e},kC=({children:e})=>{const{user:t,loading:s}=$e();return s?r.jsx("div",{className:"min-h-screen flex items-center justify-center",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):t?t.role==="Admin"||t.role==="Admin User"?e:r.jsx(Vl,{to:"/dashboard"}):r.jsx(Vl,{to:"/login"})};function SC(){return r.jsxs($w,{children:[r.jsx(rj,{children:r.jsxs(K1,{children:[r.jsx(ke,{path:"/login",element:r.jsx(Zn,{children:r.jsx(f2,{})})}),r.jsx(ke,{path:"/register",element:r.jsx(Zn,{children:r.jsx(x2,{})})}),r.jsx(ke,{path:"/forgot-password",element:r.jsx(Zn,{children:r.jsx(p2,{})})}),r.jsx(ke,{path:"/reset-password/:token",element:r.jsx(Zn,{children:r.jsx(g2,{})})}),r.jsx(ke,{path:"/verify-email/:token",element:r.jsx(Zn,{children:r.jsx(af,{})})}),r.jsx(ke,{path:"/verify-email",element:r.jsx(Zn,{children:r.jsx(af,{})})}),r.jsx(ke,{path:"/",element:r.jsx(at,{children:r.jsx(rt,{children:r.jsx(lf,{})})})}),r.jsx(ke,{path:"/dashboard",element:r.jsx(at,{children:r.jsx(rt,{children:r.jsx(lf,{})})})}),r.jsx(ke,{path:"/tasks",element:r.jsx(at,{children:r.jsx(rt,{children:r.jsx(SN,{})})})}),r.jsx(ke,{path:"/task-history",element:r.jsx(at,{children:r.jsx(rt,{children:r.jsx(CN,{})})})}),r.jsx(ke,{path:"/task-details/:id",element:r.jsx(at,{children:r.jsx(rt,{children:r.jsx(PN,{})})})}),r.jsx(ke,{path:"/calendar",element:r.jsx(at,{children:r.jsx(rt,{children:r.jsx(MN,{})})})}),r.jsx(ke,{path:"/livestock",element:r.jsx(at,{children:r.jsx(rt,{children:r.jsx(hC,{})})})}),r.jsx(ke,{path:"/profile",element:r.jsx(at,{children:r.jsx(rt,{children:r.jsx(_C,{})})})}),r.jsx(ke,{path:"/users",element:r.jsx(at,{children:r.jsx(rt,{children:r.jsx(gC,{})})})}),r.jsx(ke,{path:"/livestock/health",element:r.jsx(at,{children:r.jsx(rt,{children:r.jsx(fC,{})})})}),r.jsx(ke,{path:"/farm-resources",element:r.jsx(at,{children:r.jsx(rt,{children:r.jsx(vC,{})})})}),r.jsx(ke,{path:"/farm-map",element:r.jsx(at,{children:r.jsx(rt,{children:r.jsx(bC,{})})})}),r.jsx(ke,{path:"/planting-tracker",element:r.jsx(at,{children:r.jsx(rt,{children:r.jsx(wC,{})})})}),r.jsx(ke,{path:"/reports",element:r.jsx(at,{children:r.jsx(kC,{children:r.jsx(rt,{children:r.jsx(uC,{})})})})})]})}),r.jsx(NC,{})]})}"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(e=>{console.log("SW registered: ",e)}).catch(e=>{console.log("SW registration failed: ",e)})});Rc.createRoot(document.getElementById("root")).render(r.jsx(ta.StrictMode,{children:r.jsx(SC,{})}));
