var wy=Object.defineProperty;var Ny=(e,t,s)=>t in e?wy(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s;var U=(e,t,s)=>(Ny(e,typeof t!="symbol"?t+"":t,s),s);function _y(e,t){for(var s=0;s<t.length;s++){const n=t[s];if(typeof n!="string"&&!Array.isArray(n)){for(const r in n)if(r!=="default"&&!(r in e)){const a=Object.getOwnPropertyDescriptor(n,r);a&&Object.defineProperty(e,r,a.get?a:{enumerable:!0,get:()=>n[r]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function s(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(r){if(r.ep)return;r.ep=!0;const a=s(r);fetch(r.href,a)}})();function ky(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Sp={exports:{}},no={},Cp={exports:{}},ee={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qi=Symbol.for("react.element"),Sy=Symbol.for("react.portal"),Cy=Symbol.for("react.fragment"),Py=Symbol.for("react.strict_mode"),My=Symbol.for("react.profiler"),Ey=Symbol.for("react.provider"),Ty=Symbol.for("react.context"),Dy=Symbol.for("react.forward_ref"),Ry=Symbol.for("react.suspense"),Ly=Symbol.for("react.memo"),Fy=Symbol.for("react.lazy"),ph=Symbol.iterator;function Ay(e){return e===null||typeof e!="object"?null:(e=ph&&e[ph]||e["@@iterator"],typeof e=="function"?e:null)}var Pp={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Mp=Object.assign,Ep={};function Nr(e,t,s){this.props=e,this.context=t,this.refs=Ep,this.updater=s||Pp}Nr.prototype.isReactComponent={};Nr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Nr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Tp(){}Tp.prototype=Nr.prototype;function Vd(e,t,s){this.props=e,this.context=t,this.refs=Ep,this.updater=s||Pp}var Ud=Vd.prototype=new Tp;Ud.constructor=Vd;Mp(Ud,Nr.prototype);Ud.isPureReactComponent=!0;var xh=Array.isArray,Dp=Object.prototype.hasOwnProperty,$d={current:null},Rp={key:!0,ref:!0,__self:!0,__source:!0};function Lp(e,t,s){var n,r={},a=null,l=null;if(t!=null)for(n in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(a=""+t.key),t)Dp.call(t,n)&&!Rp.hasOwnProperty(n)&&(r[n]=t[n]);var o=arguments.length-2;if(o===1)r.children=s;else if(1<o){for(var c=Array(o),d=0;d<o;d++)c[d]=arguments[d+2];r.children=c}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)r[n]===void 0&&(r[n]=o[n]);return{$$typeof:qi,type:e,key:a,ref:l,props:r,_owner:$d.current}}function Oy(e,t){return{$$typeof:qi,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Yd(e){return typeof e=="object"&&e!==null&&e.$$typeof===qi}function zy(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(s){return t[s]})}var gh=/\/+/g;function Ao(e,t){return typeof e=="object"&&e!==null&&e.key!=null?zy(""+e.key):t.toString(36)}function Wa(e,t,s,n,r){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case qi:case Sy:l=!0}}if(l)return l=e,r=r(l),e=n===""?"."+Ao(l,0):n,xh(r)?(s="",e!=null&&(s=e.replace(gh,"$&/")+"/"),Wa(r,t,s,"",function(d){return d})):r!=null&&(Yd(r)&&(r=Oy(r,s+(!r.key||l&&l.key===r.key?"":(""+r.key).replace(gh,"$&/")+"/")+e)),t.push(r)),1;if(l=0,n=n===""?".":n+":",xh(e))for(var o=0;o<e.length;o++){a=e[o];var c=n+Ao(a,o);l+=Wa(a,t,s,c,r)}else if(c=Ay(e),typeof c=="function")for(e=c.call(e),o=0;!(a=e.next()).done;)a=a.value,c=n+Ao(a,o++),l+=Wa(a,t,s,c,r);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function ia(e,t,s){if(e==null)return e;var n=[],r=0;return Wa(e,n,"","",function(a){return t.call(s,a,r++)}),n}function Iy(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(s){(e._status===0||e._status===-1)&&(e._status=1,e._result=s)},function(s){(e._status===0||e._status===-1)&&(e._status=2,e._result=s)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ke={current:null},Ha={transition:null},By={ReactCurrentDispatcher:Ke,ReactCurrentBatchConfig:Ha,ReactCurrentOwner:$d};function Fp(){throw Error("act(...) is not supported in production builds of React.")}ee.Children={map:ia,forEach:function(e,t,s){ia(e,function(){t.apply(this,arguments)},s)},count:function(e){var t=0;return ia(e,function(){t++}),t},toArray:function(e){return ia(e,function(t){return t})||[]},only:function(e){if(!Yd(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ee.Component=Nr;ee.Fragment=Cy;ee.Profiler=My;ee.PureComponent=Vd;ee.StrictMode=Py;ee.Suspense=Ry;ee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=By;ee.act=Fp;ee.cloneElement=function(e,t,s){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Mp({},e.props),r=e.key,a=e.ref,l=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,l=$d.current),t.key!==void 0&&(r=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in t)Dp.call(t,c)&&!Rp.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&o!==void 0?o[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=s;else if(1<c){o=Array(c);for(var d=0;d<c;d++)o[d]=arguments[d+2];n.children=o}return{$$typeof:qi,type:e.type,key:r,ref:a,props:n,_owner:l}};ee.createContext=function(e){return e={$$typeof:Ty,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Ey,_context:e},e.Consumer=e};ee.createElement=Lp;ee.createFactory=function(e){var t=Lp.bind(null,e);return t.type=e,t};ee.createRef=function(){return{current:null}};ee.forwardRef=function(e){return{$$typeof:Dy,render:e}};ee.isValidElement=Yd;ee.lazy=function(e){return{$$typeof:Fy,_payload:{_status:-1,_result:e},_init:Iy}};ee.memo=function(e,t){return{$$typeof:Ly,type:e,compare:t===void 0?null:t}};ee.startTransition=function(e){var t=Ha.transition;Ha.transition={};try{e()}finally{Ha.transition=t}};ee.unstable_act=Fp;ee.useCallback=function(e,t){return Ke.current.useCallback(e,t)};ee.useContext=function(e){return Ke.current.useContext(e)};ee.useDebugValue=function(){};ee.useDeferredValue=function(e){return Ke.current.useDeferredValue(e)};ee.useEffect=function(e,t){return Ke.current.useEffect(e,t)};ee.useId=function(){return Ke.current.useId()};ee.useImperativeHandle=function(e,t,s){return Ke.current.useImperativeHandle(e,t,s)};ee.useInsertionEffect=function(e,t){return Ke.current.useInsertionEffect(e,t)};ee.useLayoutEffect=function(e,t){return Ke.current.useLayoutEffect(e,t)};ee.useMemo=function(e,t){return Ke.current.useMemo(e,t)};ee.useReducer=function(e,t,s){return Ke.current.useReducer(e,t,s)};ee.useRef=function(e){return Ke.current.useRef(e)};ee.useState=function(e){return Ke.current.useState(e)};ee.useSyncExternalStore=function(e,t,s){return Ke.current.useSyncExternalStore(e,t,s)};ee.useTransition=function(){return Ke.current.useTransition()};ee.version="18.3.1";Cp.exports=ee;var N=Cp.exports;const ro=ky(N),Wy=_y({__proto__:null,default:ro},[N]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hy=N,Vy=Symbol.for("react.element"),Uy=Symbol.for("react.fragment"),$y=Object.prototype.hasOwnProperty,Yy=Hy.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,qy={key:!0,ref:!0,__self:!0,__source:!0};function Ap(e,t,s){var n,r={},a=null,l=null;s!==void 0&&(a=""+s),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(l=t.ref);for(n in t)$y.call(t,n)&&!qy.hasOwnProperty(n)&&(r[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)r[n]===void 0&&(r[n]=t[n]);return{$$typeof:Vy,type:e,key:a,ref:l,props:r,_owner:Yy.current}}no.Fragment=Uy;no.jsx=Ap;no.jsxs=Ap;Sp.exports=no;var i=Sp.exports,Pc={},Op={exports:{}},pt={},zp={exports:{}},Ip={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(D,z){var Y=D.length;D.push(z);e:for(;0<Y;){var R=Y-1>>>1,T=D[R];if(0<r(T,z))D[R]=z,D[Y]=T,Y=R;else break e}}function s(D){return D.length===0?null:D[0]}function n(D){if(D.length===0)return null;var z=D[0],Y=D.pop();if(Y!==z){D[0]=Y;e:for(var R=0,T=D.length,L=T>>>1;R<L;){var H=2*(R+1)-1,Q=D[H],q=H+1,oe=D[q];if(0>r(Q,Y))q<T&&0>r(oe,Q)?(D[R]=oe,D[q]=Y,R=q):(D[R]=Q,D[H]=Y,R=H);else if(q<T&&0>r(oe,Y))D[R]=oe,D[q]=Y,R=q;else break e}}return z}function r(D,z){var Y=D.sortIndex-z.sortIndex;return Y!==0?Y:D.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var l=Date,o=l.now();e.unstable_now=function(){return l.now()-o}}var c=[],d=[],u=1,h=null,m=3,v=!1,y=!1,g=!1,b=typeof setTimeout=="function"?setTimeout:null,f=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(D){for(var z=s(d);z!==null;){if(z.callback===null)n(d);else if(z.startTime<=D)n(d),z.sortIndex=z.expirationTime,t(c,z);else break;z=s(d)}}function j(D){if(g=!1,x(D),!y)if(s(c)!==null)y=!0,k(w);else{var z=s(d);z!==null&&B(j,z.startTime-D)}}function w(D,z){y=!1,g&&(g=!1,f(P),P=-1),v=!0;var Y=m;try{for(x(z),h=s(c);h!==null&&(!(h.expirationTime>z)||D&&!C());){var R=h.callback;if(typeof R=="function"){h.callback=null,m=h.priorityLevel;var T=R(h.expirationTime<=z);z=e.unstable_now(),typeof T=="function"?h.callback=T:h===s(c)&&n(c),x(z)}else n(c);h=s(c)}if(h!==null)var L=!0;else{var H=s(d);H!==null&&B(j,H.startTime-z),L=!1}return L}finally{h=null,m=Y,v=!1}}var _=!1,S=null,P=-1,A=5,O=-1;function C(){return!(e.unstable_now()-O<A)}function F(){if(S!==null){var D=e.unstable_now();O=D;var z=!0;try{z=S(!0,D)}finally{z?V():(_=!1,S=null)}}else _=!1}var V;if(typeof p=="function")V=function(){p(F)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,E=K.port2;K.port1.onmessage=F,V=function(){E.postMessage(null)}}else V=function(){b(F,0)};function k(D){S=D,_||(_=!0,V())}function B(D,z){P=b(function(){D(e.unstable_now())},z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(D){D.callback=null},e.unstable_continueExecution=function(){y||v||(y=!0,k(w))},e.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<D?Math.floor(1e3/D):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return s(c)},e.unstable_next=function(D){switch(m){case 1:case 2:case 3:var z=3;break;default:z=m}var Y=m;m=z;try{return D()}finally{m=Y}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(D,z){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var Y=m;m=D;try{return z()}finally{m=Y}},e.unstable_scheduleCallback=function(D,z,Y){var R=e.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?R+Y:R):Y=R,D){case 1:var T=-1;break;case 2:T=250;break;case 5:T=1073741823;break;case 4:T=1e4;break;default:T=5e3}return T=Y+T,D={id:u++,callback:z,priorityLevel:D,startTime:Y,expirationTime:T,sortIndex:-1},Y>R?(D.sortIndex=Y,t(d,D),s(c)===null&&D===s(d)&&(g?(f(P),P=-1):g=!0,B(j,Y-R))):(D.sortIndex=T,t(c,D),y||v||(y=!0,k(w))),D},e.unstable_shouldYield=C,e.unstable_wrapCallback=function(D){var z=m;return function(){var Y=m;m=z;try{return D.apply(this,arguments)}finally{m=Y}}}})(Ip);zp.exports=Ip;var Xy=zp.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qy=N,mt=Xy;function I(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=1;s<arguments.length;s++)t+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Bp=new Set,yi={};function zn(e,t){fr(e,t),fr(e+"Capture",t)}function fr(e,t){for(yi[e]=t,e=0;e<t.length;e++)Bp.add(t[e])}var us=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Mc=Object.prototype.hasOwnProperty,Ky=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,yh={},vh={};function Gy(e){return Mc.call(vh,e)?!0:Mc.call(yh,e)?!1:Ky.test(e)?vh[e]=!0:(yh[e]=!0,!1)}function Jy(e,t,s,n){if(s!==null&&s.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:s!==null?!s.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Zy(e,t,s,n){if(t===null||typeof t>"u"||Jy(e,t,s,n))return!0;if(n)return!1;if(s!==null)switch(s.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ge(e,t,s,n,r,a,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=r,this.mustUseProperty=s,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=l}var Oe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Oe[e]=new Ge(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Oe[t]=new Ge(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Oe[e]=new Ge(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Oe[e]=new Ge(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Oe[e]=new Ge(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Oe[e]=new Ge(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Oe[e]=new Ge(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Oe[e]=new Ge(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Oe[e]=new Ge(e,5,!1,e.toLowerCase(),null,!1,!1)});var qd=/[\-:]([a-z])/g;function Xd(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(qd,Xd);Oe[t]=new Ge(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(qd,Xd);Oe[t]=new Ge(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(qd,Xd);Oe[t]=new Ge(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Oe[e]=new Ge(e,1,!1,e.toLowerCase(),null,!1,!1)});Oe.xlinkHref=new Ge("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Oe[e]=new Ge(e,1,!1,e.toLowerCase(),null,!0,!0)});function Qd(e,t,s,n){var r=Oe.hasOwnProperty(t)?Oe[t]:null;(r!==null?r.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Zy(t,s,r,n)&&(s=null),n||r===null?Gy(t)&&(s===null?e.removeAttribute(t):e.setAttribute(t,""+s)):r.mustUseProperty?e[r.propertyName]=s===null?r.type===3?!1:"":s:(t=r.attributeName,n=r.attributeNamespace,s===null?e.removeAttribute(t):(r=r.type,s=r===3||r===4&&s===!0?"":""+s,n?e.setAttributeNS(n,t,s):e.setAttribute(t,s))))}var xs=Qy.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,aa=Symbol.for("react.element"),Yn=Symbol.for("react.portal"),qn=Symbol.for("react.fragment"),Kd=Symbol.for("react.strict_mode"),Ec=Symbol.for("react.profiler"),Wp=Symbol.for("react.provider"),Hp=Symbol.for("react.context"),Gd=Symbol.for("react.forward_ref"),Tc=Symbol.for("react.suspense"),Dc=Symbol.for("react.suspense_list"),Jd=Symbol.for("react.memo"),js=Symbol.for("react.lazy"),Vp=Symbol.for("react.offscreen"),bh=Symbol.iterator;function Dr(e){return e===null||typeof e!="object"?null:(e=bh&&e[bh]||e["@@iterator"],typeof e=="function"?e:null)}var ye=Object.assign,Oo;function Xr(e){if(Oo===void 0)try{throw Error()}catch(s){var t=s.stack.trim().match(/\n( *(at )?)/);Oo=t&&t[1]||""}return`
`+Oo+e}var zo=!1;function Io(e,t){if(!e||zo)return"";zo=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var n=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){n=d}e.call(t.prototype)}else{try{throw Error()}catch(d){n=d}e()}}catch(d){if(d&&n&&typeof d.stack=="string"){for(var r=d.stack.split(`
`),a=n.stack.split(`
`),l=r.length-1,o=a.length-1;1<=l&&0<=o&&r[l]!==a[o];)o--;for(;1<=l&&0<=o;l--,o--)if(r[l]!==a[o]){if(l!==1||o!==1)do if(l--,o--,0>o||r[l]!==a[o]){var c=`
`+r[l].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=l&&0<=o);break}}}finally{zo=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:"")?Xr(e):""}function ev(e){switch(e.tag){case 5:return Xr(e.type);case 16:return Xr("Lazy");case 13:return Xr("Suspense");case 19:return Xr("SuspenseList");case 0:case 2:case 15:return e=Io(e.type,!1),e;case 11:return e=Io(e.type.render,!1),e;case 1:return e=Io(e.type,!0),e;default:return""}}function Rc(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case qn:return"Fragment";case Yn:return"Portal";case Ec:return"Profiler";case Kd:return"StrictMode";case Tc:return"Suspense";case Dc:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Hp:return(e.displayName||"Context")+".Consumer";case Wp:return(e._context.displayName||"Context")+".Provider";case Gd:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Jd:return t=e.displayName||null,t!==null?t:Rc(e.type)||"Memo";case js:t=e._payload,e=e._init;try{return Rc(e(t))}catch{}}return null}function tv(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Rc(t);case 8:return t===Kd?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ys(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Up(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function sv(e){var t=Up(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var r=s.get,a=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(l){n=""+l,a.call(this,l)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return n},setValue:function(l){n=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function la(e){e._valueTracker||(e._valueTracker=sv(e))}function $p(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var s=t.getValue(),n="";return e&&(n=Up(e)?e.checked?"true":"false":e.value),e=n,e!==s?(t.setValue(e),!0):!1}function ul(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Lc(e,t){var s=t.checked;return ye({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??e._wrapperState.initialChecked})}function jh(e,t){var s=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;s=Ys(t.value!=null?t.value:s),e._wrapperState={initialChecked:n,initialValue:s,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Yp(e,t){t=t.checked,t!=null&&Qd(e,"checked",t,!1)}function Fc(e,t){Yp(e,t);var s=Ys(t.value),n=t.type;if(s!=null)n==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+s):e.value!==""+s&&(e.value=""+s);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ac(e,t.type,s):t.hasOwnProperty("defaultValue")&&Ac(e,t.type,Ys(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function wh(e,t,s){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,s||t===e.value||(e.value=t),e.defaultValue=t}s=e.name,s!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,s!==""&&(e.name=s)}function Ac(e,t,s){(t!=="number"||ul(e.ownerDocument)!==e)&&(s==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+s&&(e.defaultValue=""+s))}var Qr=Array.isArray;function ir(e,t,s,n){if(e=e.options,t){t={};for(var r=0;r<s.length;r++)t["$"+s[r]]=!0;for(s=0;s<e.length;s++)r=t.hasOwnProperty("$"+e[s].value),e[s].selected!==r&&(e[s].selected=r),r&&n&&(e[s].defaultSelected=!0)}else{for(s=""+Ys(s),t=null,r=0;r<e.length;r++){if(e[r].value===s){e[r].selected=!0,n&&(e[r].defaultSelected=!0);return}t!==null||e[r].disabled||(t=e[r])}t!==null&&(t.selected=!0)}}function Oc(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(I(91));return ye({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Nh(e,t){var s=t.value;if(s==null){if(s=t.children,t=t.defaultValue,s!=null){if(t!=null)throw Error(I(92));if(Qr(s)){if(1<s.length)throw Error(I(93));s=s[0]}t=s}t==null&&(t=""),s=t}e._wrapperState={initialValue:Ys(s)}}function qp(e,t){var s=Ys(t.value),n=Ys(t.defaultValue);s!=null&&(s=""+s,s!==e.value&&(e.value=s),t.defaultValue==null&&e.defaultValue!==s&&(e.defaultValue=s)),n!=null&&(e.defaultValue=""+n)}function _h(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Xp(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function zc(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Xp(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var oa,Qp=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,s,n,r){MSApp.execUnsafeLocalFunction(function(){return e(t,s,n,r)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(oa=oa||document.createElement("div"),oa.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=oa.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function vi(e,t){if(t){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=t;return}}e.textContent=t}var ri={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},nv=["Webkit","ms","Moz","O"];Object.keys(ri).forEach(function(e){nv.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ri[t]=ri[e]})});function Kp(e,t,s){return t==null||typeof t=="boolean"||t===""?"":s||typeof t!="number"||t===0||ri.hasOwnProperty(e)&&ri[e]?(""+t).trim():t+"px"}function Gp(e,t){e=e.style;for(var s in t)if(t.hasOwnProperty(s)){var n=s.indexOf("--")===0,r=Kp(s,t[s],n);s==="float"&&(s="cssFloat"),n?e.setProperty(s,r):e[s]=r}}var rv=ye({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ic(e,t){if(t){if(rv[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(I(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(I(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(I(61))}if(t.style!=null&&typeof t.style!="object")throw Error(I(62))}}function Bc(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Wc=null;function Zd(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Hc=null,ar=null,lr=null;function kh(e){if(e=Ki(e)){if(typeof Hc!="function")throw Error(I(280));var t=e.stateNode;t&&(t=co(t),Hc(e.stateNode,e.type,t))}}function Jp(e){ar?lr?lr.push(e):lr=[e]:ar=e}function Zp(){if(ar){var e=ar,t=lr;if(lr=ar=null,kh(e),t)for(e=0;e<t.length;e++)kh(t[e])}}function ex(e,t){return e(t)}function tx(){}var Bo=!1;function sx(e,t,s){if(Bo)return e(t,s);Bo=!0;try{return ex(e,t,s)}finally{Bo=!1,(ar!==null||lr!==null)&&(tx(),Zp())}}function bi(e,t){var s=e.stateNode;if(s===null)return null;var n=co(s);if(n===null)return null;s=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(I(231,t,typeof s));return s}var Vc=!1;if(us)try{var Rr={};Object.defineProperty(Rr,"passive",{get:function(){Vc=!0}}),window.addEventListener("test",Rr,Rr),window.removeEventListener("test",Rr,Rr)}catch{Vc=!1}function iv(e,t,s,n,r,a,l,o,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(s,d)}catch(u){this.onError(u)}}var ii=!1,hl=null,fl=!1,Uc=null,av={onError:function(e){ii=!0,hl=e}};function lv(e,t,s,n,r,a,l,o,c){ii=!1,hl=null,iv.apply(av,arguments)}function ov(e,t,s,n,r,a,l,o,c){if(lv.apply(this,arguments),ii){if(ii){var d=hl;ii=!1,hl=null}else throw Error(I(198));fl||(fl=!0,Uc=d)}}function In(e){var t=e,s=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(s=t.return),e=t.return;while(e)}return t.tag===3?s:null}function nx(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Sh(e){if(In(e)!==e)throw Error(I(188))}function cv(e){var t=e.alternate;if(!t){if(t=In(e),t===null)throw Error(I(188));return t!==e?null:e}for(var s=e,n=t;;){var r=s.return;if(r===null)break;var a=r.alternate;if(a===null){if(n=r.return,n!==null){s=n;continue}break}if(r.child===a.child){for(a=r.child;a;){if(a===s)return Sh(r),e;if(a===n)return Sh(r),t;a=a.sibling}throw Error(I(188))}if(s.return!==n.return)s=r,n=a;else{for(var l=!1,o=r.child;o;){if(o===s){l=!0,s=r,n=a;break}if(o===n){l=!0,n=r,s=a;break}o=o.sibling}if(!l){for(o=a.child;o;){if(o===s){l=!0,s=a,n=r;break}if(o===n){l=!0,n=a,s=r;break}o=o.sibling}if(!l)throw Error(I(189))}}if(s.alternate!==n)throw Error(I(190))}if(s.tag!==3)throw Error(I(188));return s.stateNode.current===s?e:t}function rx(e){return e=cv(e),e!==null?ix(e):null}function ix(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=ix(e);if(t!==null)return t;e=e.sibling}return null}var ax=mt.unstable_scheduleCallback,Ch=mt.unstable_cancelCallback,dv=mt.unstable_shouldYield,uv=mt.unstable_requestPaint,we=mt.unstable_now,hv=mt.unstable_getCurrentPriorityLevel,eu=mt.unstable_ImmediatePriority,lx=mt.unstable_UserBlockingPriority,ml=mt.unstable_NormalPriority,fv=mt.unstable_LowPriority,ox=mt.unstable_IdlePriority,io=null,Qt=null;function mv(e){if(Qt&&typeof Qt.onCommitFiberRoot=="function")try{Qt.onCommitFiberRoot(io,e,void 0,(e.current.flags&128)===128)}catch{}}var Dt=Math.clz32?Math.clz32:gv,pv=Math.log,xv=Math.LN2;function gv(e){return e>>>=0,e===0?32:31-(pv(e)/xv|0)|0}var ca=64,da=4194304;function Kr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function pl(e,t){var s=e.pendingLanes;if(s===0)return 0;var n=0,r=e.suspendedLanes,a=e.pingedLanes,l=s&268435455;if(l!==0){var o=l&~r;o!==0?n=Kr(o):(a&=l,a!==0&&(n=Kr(a)))}else l=s&~r,l!==0?n=Kr(l):a!==0&&(n=Kr(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&r)&&(r=n&-n,a=t&-t,r>=a||r===16&&(a&4194240)!==0))return t;if(n&4&&(n|=s&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)s=31-Dt(t),r=1<<s,n|=e[s],t&=~r;return n}function yv(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vv(e,t){for(var s=e.suspendedLanes,n=e.pingedLanes,r=e.expirationTimes,a=e.pendingLanes;0<a;){var l=31-Dt(a),o=1<<l,c=r[l];c===-1?(!(o&s)||o&n)&&(r[l]=yv(o,t)):c<=t&&(e.expiredLanes|=o),a&=~o}}function $c(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function cx(){var e=ca;return ca<<=1,!(ca&4194240)&&(ca=64),e}function Wo(e){for(var t=[],s=0;31>s;s++)t.push(e);return t}function Xi(e,t,s){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Dt(t),e[t]=s}function bv(e,t){var s=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<s;){var r=31-Dt(s),a=1<<r;t[r]=0,n[r]=-1,e[r]=-1,s&=~a}}function tu(e,t){var s=e.entangledLanes|=t;for(e=e.entanglements;s;){var n=31-Dt(s),r=1<<n;r&t|e[n]&t&&(e[n]|=t),s&=~r}}var le=0;function dx(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var ux,su,hx,fx,mx,Yc=!1,ua=[],Fs=null,As=null,Os=null,ji=new Map,wi=new Map,Ns=[],jv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ph(e,t){switch(e){case"focusin":case"focusout":Fs=null;break;case"dragenter":case"dragleave":As=null;break;case"mouseover":case"mouseout":Os=null;break;case"pointerover":case"pointerout":ji.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":wi.delete(t.pointerId)}}function Lr(e,t,s,n,r,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:s,eventSystemFlags:n,nativeEvent:a,targetContainers:[r]},t!==null&&(t=Ki(t),t!==null&&su(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,r!==null&&t.indexOf(r)===-1&&t.push(r),e)}function wv(e,t,s,n,r){switch(t){case"focusin":return Fs=Lr(Fs,e,t,s,n,r),!0;case"dragenter":return As=Lr(As,e,t,s,n,r),!0;case"mouseover":return Os=Lr(Os,e,t,s,n,r),!0;case"pointerover":var a=r.pointerId;return ji.set(a,Lr(ji.get(a)||null,e,t,s,n,r)),!0;case"gotpointercapture":return a=r.pointerId,wi.set(a,Lr(wi.get(a)||null,e,t,s,n,r)),!0}return!1}function px(e){var t=pn(e.target);if(t!==null){var s=In(t);if(s!==null){if(t=s.tag,t===13){if(t=nx(s),t!==null){e.blockedOn=t,mx(e.priority,function(){hx(s)});return}}else if(t===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Va(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var s=qc(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(s===null){s=e.nativeEvent;var n=new s.constructor(s.type,s);Wc=n,s.target.dispatchEvent(n),Wc=null}else return t=Ki(s),t!==null&&su(t),e.blockedOn=s,!1;t.shift()}return!0}function Mh(e,t,s){Va(e)&&s.delete(t)}function Nv(){Yc=!1,Fs!==null&&Va(Fs)&&(Fs=null),As!==null&&Va(As)&&(As=null),Os!==null&&Va(Os)&&(Os=null),ji.forEach(Mh),wi.forEach(Mh)}function Fr(e,t){e.blockedOn===t&&(e.blockedOn=null,Yc||(Yc=!0,mt.unstable_scheduleCallback(mt.unstable_NormalPriority,Nv)))}function Ni(e){function t(r){return Fr(r,e)}if(0<ua.length){Fr(ua[0],e);for(var s=1;s<ua.length;s++){var n=ua[s];n.blockedOn===e&&(n.blockedOn=null)}}for(Fs!==null&&Fr(Fs,e),As!==null&&Fr(As,e),Os!==null&&Fr(Os,e),ji.forEach(t),wi.forEach(t),s=0;s<Ns.length;s++)n=Ns[s],n.blockedOn===e&&(n.blockedOn=null);for(;0<Ns.length&&(s=Ns[0],s.blockedOn===null);)px(s),s.blockedOn===null&&Ns.shift()}var or=xs.ReactCurrentBatchConfig,xl=!0;function _v(e,t,s,n){var r=le,a=or.transition;or.transition=null;try{le=1,nu(e,t,s,n)}finally{le=r,or.transition=a}}function kv(e,t,s,n){var r=le,a=or.transition;or.transition=null;try{le=4,nu(e,t,s,n)}finally{le=r,or.transition=a}}function nu(e,t,s,n){if(xl){var r=qc(e,t,s,n);if(r===null)Go(e,t,n,gl,s),Ph(e,n);else if(wv(r,e,t,s,n))n.stopPropagation();else if(Ph(e,n),t&4&&-1<jv.indexOf(e)){for(;r!==null;){var a=Ki(r);if(a!==null&&ux(a),a=qc(e,t,s,n),a===null&&Go(e,t,n,gl,s),a===r)break;r=a}r!==null&&n.stopPropagation()}else Go(e,t,n,null,s)}}var gl=null;function qc(e,t,s,n){if(gl=null,e=Zd(n),e=pn(e),e!==null)if(t=In(e),t===null)e=null;else if(s=t.tag,s===13){if(e=nx(t),e!==null)return e;e=null}else if(s===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return gl=e,null}function xx(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(hv()){case eu:return 1;case lx:return 4;case ml:case fv:return 16;case ox:return 536870912;default:return 16}default:return 16}}var ks=null,ru=null,Ua=null;function gx(){if(Ua)return Ua;var e,t=ru,s=t.length,n,r="value"in ks?ks.value:ks.textContent,a=r.length;for(e=0;e<s&&t[e]===r[e];e++);var l=s-e;for(n=1;n<=l&&t[s-n]===r[a-n];n++);return Ua=r.slice(e,1<n?1-n:void 0)}function $a(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ha(){return!0}function Eh(){return!1}function xt(e){function t(s,n,r,a,l){this._reactName=s,this._targetInst=r,this.type=n,this.nativeEvent=a,this.target=l,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(s=e[o],this[o]=s?s(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?ha:Eh,this.isPropagationStopped=Eh,this}return ye(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=ha)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=ha)},persist:function(){},isPersistent:ha}),t}var _r={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},iu=xt(_r),Qi=ye({},_r,{view:0,detail:0}),Sv=xt(Qi),Ho,Vo,Ar,ao=ye({},Qi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:au,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ar&&(Ar&&e.type==="mousemove"?(Ho=e.screenX-Ar.screenX,Vo=e.screenY-Ar.screenY):Vo=Ho=0,Ar=e),Ho)},movementY:function(e){return"movementY"in e?e.movementY:Vo}}),Th=xt(ao),Cv=ye({},ao,{dataTransfer:0}),Pv=xt(Cv),Mv=ye({},Qi,{relatedTarget:0}),Uo=xt(Mv),Ev=ye({},_r,{animationName:0,elapsedTime:0,pseudoElement:0}),Tv=xt(Ev),Dv=ye({},_r,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Rv=xt(Dv),Lv=ye({},_r,{data:0}),Dh=xt(Lv),Fv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Av={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ov={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zv(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Ov[e])?!!t[e]:!1}function au(){return zv}var Iv=ye({},Qi,{key:function(e){if(e.key){var t=Fv[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=$a(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Av[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:au,charCode:function(e){return e.type==="keypress"?$a(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?$a(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Bv=xt(Iv),Wv=ye({},ao,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Rh=xt(Wv),Hv=ye({},Qi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:au}),Vv=xt(Hv),Uv=ye({},_r,{propertyName:0,elapsedTime:0,pseudoElement:0}),$v=xt(Uv),Yv=ye({},ao,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),qv=xt(Yv),Xv=[9,13,27,32],lu=us&&"CompositionEvent"in window,ai=null;us&&"documentMode"in document&&(ai=document.documentMode);var Qv=us&&"TextEvent"in window&&!ai,yx=us&&(!lu||ai&&8<ai&&11>=ai),Lh=String.fromCharCode(32),Fh=!1;function vx(e,t){switch(e){case"keyup":return Xv.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bx(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Xn=!1;function Kv(e,t){switch(e){case"compositionend":return bx(t);case"keypress":return t.which!==32?null:(Fh=!0,Lh);case"textInput":return e=t.data,e===Lh&&Fh?null:e;default:return null}}function Gv(e,t){if(Xn)return e==="compositionend"||!lu&&vx(e,t)?(e=gx(),Ua=ru=ks=null,Xn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return yx&&t.locale!=="ko"?null:t.data;default:return null}}var Jv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ah(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Jv[e.type]:t==="textarea"}function jx(e,t,s,n){Jp(n),t=yl(t,"onChange"),0<t.length&&(s=new iu("onChange","change",null,s,n),e.push({event:s,listeners:t}))}var li=null,_i=null;function Zv(e){Dx(e,0)}function lo(e){var t=Gn(e);if($p(t))return e}function eb(e,t){if(e==="change")return t}var wx=!1;if(us){var $o;if(us){var Yo="oninput"in document;if(!Yo){var Oh=document.createElement("div");Oh.setAttribute("oninput","return;"),Yo=typeof Oh.oninput=="function"}$o=Yo}else $o=!1;wx=$o&&(!document.documentMode||9<document.documentMode)}function zh(){li&&(li.detachEvent("onpropertychange",Nx),_i=li=null)}function Nx(e){if(e.propertyName==="value"&&lo(_i)){var t=[];jx(t,_i,e,Zd(e)),sx(Zv,t)}}function tb(e,t,s){e==="focusin"?(zh(),li=t,_i=s,li.attachEvent("onpropertychange",Nx)):e==="focusout"&&zh()}function sb(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return lo(_i)}function nb(e,t){if(e==="click")return lo(t)}function rb(e,t){if(e==="input"||e==="change")return lo(t)}function ib(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var At=typeof Object.is=="function"?Object.is:ib;function ki(e,t){if(At(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var s=Object.keys(e),n=Object.keys(t);if(s.length!==n.length)return!1;for(n=0;n<s.length;n++){var r=s[n];if(!Mc.call(t,r)||!At(e[r],t[r]))return!1}return!0}function Ih(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Bh(e,t){var s=Ih(e);e=0;for(var n;s;){if(s.nodeType===3){if(n=e+s.textContent.length,e<=t&&n>=t)return{node:s,offset:t-e};e=n}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Ih(s)}}function _x(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?_x(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function kx(){for(var e=window,t=ul();t instanceof e.HTMLIFrameElement;){try{var s=typeof t.contentWindow.location.href=="string"}catch{s=!1}if(s)e=t.contentWindow;else break;t=ul(e.document)}return t}function ou(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function ab(e){var t=kx(),s=e.focusedElem,n=e.selectionRange;if(t!==s&&s&&s.ownerDocument&&_x(s.ownerDocument.documentElement,s)){if(n!==null&&ou(s)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in s)s.selectionStart=t,s.selectionEnd=Math.min(e,s.value.length);else if(e=(t=s.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var r=s.textContent.length,a=Math.min(n.start,r);n=n.end===void 0?a:Math.min(n.end,r),!e.extend&&a>n&&(r=n,n=a,a=r),r=Bh(s,a);var l=Bh(s,n);r&&l&&(e.rangeCount!==1||e.anchorNode!==r.node||e.anchorOffset!==r.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(t=t.createRange(),t.setStart(r.node,r.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}}for(t=[],e=s;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<t.length;s++)e=t[s],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var lb=us&&"documentMode"in document&&11>=document.documentMode,Qn=null,Xc=null,oi=null,Qc=!1;function Wh(e,t,s){var n=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Qc||Qn==null||Qn!==ul(n)||(n=Qn,"selectionStart"in n&&ou(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),oi&&ki(oi,n)||(oi=n,n=yl(Xc,"onSelect"),0<n.length&&(t=new iu("onSelect","select",null,t,s),e.push({event:t,listeners:n}),t.target=Qn)))}function fa(e,t){var s={};return s[e.toLowerCase()]=t.toLowerCase(),s["Webkit"+e]="webkit"+t,s["Moz"+e]="moz"+t,s}var Kn={animationend:fa("Animation","AnimationEnd"),animationiteration:fa("Animation","AnimationIteration"),animationstart:fa("Animation","AnimationStart"),transitionend:fa("Transition","TransitionEnd")},qo={},Sx={};us&&(Sx=document.createElement("div").style,"AnimationEvent"in window||(delete Kn.animationend.animation,delete Kn.animationiteration.animation,delete Kn.animationstart.animation),"TransitionEvent"in window||delete Kn.transitionend.transition);function oo(e){if(qo[e])return qo[e];if(!Kn[e])return e;var t=Kn[e],s;for(s in t)if(t.hasOwnProperty(s)&&s in Sx)return qo[e]=t[s];return e}var Cx=oo("animationend"),Px=oo("animationiteration"),Mx=oo("animationstart"),Ex=oo("transitionend"),Tx=new Map,Hh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Gs(e,t){Tx.set(e,t),zn(t,[e])}for(var Xo=0;Xo<Hh.length;Xo++){var Qo=Hh[Xo],ob=Qo.toLowerCase(),cb=Qo[0].toUpperCase()+Qo.slice(1);Gs(ob,"on"+cb)}Gs(Cx,"onAnimationEnd");Gs(Px,"onAnimationIteration");Gs(Mx,"onAnimationStart");Gs("dblclick","onDoubleClick");Gs("focusin","onFocus");Gs("focusout","onBlur");Gs(Ex,"onTransitionEnd");fr("onMouseEnter",["mouseout","mouseover"]);fr("onMouseLeave",["mouseout","mouseover"]);fr("onPointerEnter",["pointerout","pointerover"]);fr("onPointerLeave",["pointerout","pointerover"]);zn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));zn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));zn("onBeforeInput",["compositionend","keypress","textInput","paste"]);zn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));zn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));zn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),db=new Set("cancel close invalid load scroll toggle".split(" ").concat(Gr));function Vh(e,t,s){var n=e.type||"unknown-event";e.currentTarget=s,ov(n,t,void 0,e),e.currentTarget=null}function Dx(e,t){t=(t&4)!==0;for(var s=0;s<e.length;s++){var n=e[s],r=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var l=n.length-1;0<=l;l--){var o=n[l],c=o.instance,d=o.currentTarget;if(o=o.listener,c!==a&&r.isPropagationStopped())break e;Vh(r,o,d),a=c}else for(l=0;l<n.length;l++){if(o=n[l],c=o.instance,d=o.currentTarget,o=o.listener,c!==a&&r.isPropagationStopped())break e;Vh(r,o,d),a=c}}}if(fl)throw e=Uc,fl=!1,Uc=null,e}function ue(e,t){var s=t[ed];s===void 0&&(s=t[ed]=new Set);var n=e+"__bubble";s.has(n)||(Rx(t,e,2,!1),s.add(n))}function Ko(e,t,s){var n=0;t&&(n|=4),Rx(s,e,n,t)}var ma="_reactListening"+Math.random().toString(36).slice(2);function Si(e){if(!e[ma]){e[ma]=!0,Bp.forEach(function(s){s!=="selectionchange"&&(db.has(s)||Ko(s,!1,e),Ko(s,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ma]||(t[ma]=!0,Ko("selectionchange",!1,t))}}function Rx(e,t,s,n){switch(xx(t)){case 1:var r=_v;break;case 4:r=kv;break;default:r=nu}s=r.bind(null,t,s,e),r=void 0,!Vc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(r=!0),n?r!==void 0?e.addEventListener(t,s,{capture:!0,passive:r}):e.addEventListener(t,s,!0):r!==void 0?e.addEventListener(t,s,{passive:r}):e.addEventListener(t,s,!1)}function Go(e,t,s,n,r){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var l=n.tag;if(l===3||l===4){var o=n.stateNode.containerInfo;if(o===r||o.nodeType===8&&o.parentNode===r)break;if(l===4)for(l=n.return;l!==null;){var c=l.tag;if((c===3||c===4)&&(c=l.stateNode.containerInfo,c===r||c.nodeType===8&&c.parentNode===r))return;l=l.return}for(;o!==null;){if(l=pn(o),l===null)return;if(c=l.tag,c===5||c===6){n=a=l;continue e}o=o.parentNode}}n=n.return}sx(function(){var d=a,u=Zd(s),h=[];e:{var m=Tx.get(e);if(m!==void 0){var v=iu,y=e;switch(e){case"keypress":if($a(s)===0)break e;case"keydown":case"keyup":v=Bv;break;case"focusin":y="focus",v=Uo;break;case"focusout":y="blur",v=Uo;break;case"beforeblur":case"afterblur":v=Uo;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=Th;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=Pv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=Vv;break;case Cx:case Px:case Mx:v=Tv;break;case Ex:v=$v;break;case"scroll":v=Sv;break;case"wheel":v=qv;break;case"copy":case"cut":case"paste":v=Rv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=Rh}var g=(t&4)!==0,b=!g&&e==="scroll",f=g?m!==null?m+"Capture":null:m;g=[];for(var p=d,x;p!==null;){x=p;var j=x.stateNode;if(x.tag===5&&j!==null&&(x=j,f!==null&&(j=bi(p,f),j!=null&&g.push(Ci(p,j,x)))),b)break;p=p.return}0<g.length&&(m=new v(m,y,null,s,u),h.push({event:m,listeners:g}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",m&&s!==Wc&&(y=s.relatedTarget||s.fromElement)&&(pn(y)||y[hs]))break e;if((v||m)&&(m=u.window===u?u:(m=u.ownerDocument)?m.defaultView||m.parentWindow:window,v?(y=s.relatedTarget||s.toElement,v=d,y=y?pn(y):null,y!==null&&(b=In(y),y!==b||y.tag!==5&&y.tag!==6)&&(y=null)):(v=null,y=d),v!==y)){if(g=Th,j="onMouseLeave",f="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(g=Rh,j="onPointerLeave",f="onPointerEnter",p="pointer"),b=v==null?m:Gn(v),x=y==null?m:Gn(y),m=new g(j,p+"leave",v,s,u),m.target=b,m.relatedTarget=x,j=null,pn(u)===d&&(g=new g(f,p+"enter",y,s,u),g.target=x,g.relatedTarget=b,j=g),b=j,v&&y)t:{for(g=v,f=y,p=0,x=g;x;x=Wn(x))p++;for(x=0,j=f;j;j=Wn(j))x++;for(;0<p-x;)g=Wn(g),p--;for(;0<x-p;)f=Wn(f),x--;for(;p--;){if(g===f||f!==null&&g===f.alternate)break t;g=Wn(g),f=Wn(f)}g=null}else g=null;v!==null&&Uh(h,m,v,g,!1),y!==null&&b!==null&&Uh(h,b,y,g,!0)}}e:{if(m=d?Gn(d):window,v=m.nodeName&&m.nodeName.toLowerCase(),v==="select"||v==="input"&&m.type==="file")var w=eb;else if(Ah(m))if(wx)w=rb;else{w=sb;var _=tb}else(v=m.nodeName)&&v.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(w=nb);if(w&&(w=w(e,d))){jx(h,w,s,u);break e}_&&_(e,m,d),e==="focusout"&&(_=m._wrapperState)&&_.controlled&&m.type==="number"&&Ac(m,"number",m.value)}switch(_=d?Gn(d):window,e){case"focusin":(Ah(_)||_.contentEditable==="true")&&(Qn=_,Xc=d,oi=null);break;case"focusout":oi=Xc=Qn=null;break;case"mousedown":Qc=!0;break;case"contextmenu":case"mouseup":case"dragend":Qc=!1,Wh(h,s,u);break;case"selectionchange":if(lb)break;case"keydown":case"keyup":Wh(h,s,u)}var S;if(lu)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else Xn?vx(e,s)&&(P="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(P="onCompositionStart");P&&(yx&&s.locale!=="ko"&&(Xn||P!=="onCompositionStart"?P==="onCompositionEnd"&&Xn&&(S=gx()):(ks=u,ru="value"in ks?ks.value:ks.textContent,Xn=!0)),_=yl(d,P),0<_.length&&(P=new Dh(P,e,null,s,u),h.push({event:P,listeners:_}),S?P.data=S:(S=bx(s),S!==null&&(P.data=S)))),(S=Qv?Kv(e,s):Gv(e,s))&&(d=yl(d,"onBeforeInput"),0<d.length&&(u=new Dh("onBeforeInput","beforeinput",null,s,u),h.push({event:u,listeners:d}),u.data=S))}Dx(h,t)})}function Ci(e,t,s){return{instance:e,listener:t,currentTarget:s}}function yl(e,t){for(var s=t+"Capture",n=[];e!==null;){var r=e,a=r.stateNode;r.tag===5&&a!==null&&(r=a,a=bi(e,s),a!=null&&n.unshift(Ci(e,a,r)),a=bi(e,t),a!=null&&n.push(Ci(e,a,r))),e=e.return}return n}function Wn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Uh(e,t,s,n,r){for(var a=t._reactName,l=[];s!==null&&s!==n;){var o=s,c=o.alternate,d=o.stateNode;if(c!==null&&c===n)break;o.tag===5&&d!==null&&(o=d,r?(c=bi(s,a),c!=null&&l.unshift(Ci(s,c,o))):r||(c=bi(s,a),c!=null&&l.push(Ci(s,c,o)))),s=s.return}l.length!==0&&e.push({event:t,listeners:l})}var ub=/\r\n?/g,hb=/\u0000|\uFFFD/g;function $h(e){return(typeof e=="string"?e:""+e).replace(ub,`
`).replace(hb,"")}function pa(e,t,s){if(t=$h(t),$h(e)!==t&&s)throw Error(I(425))}function vl(){}var Kc=null,Gc=null;function Jc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Zc=typeof setTimeout=="function"?setTimeout:void 0,fb=typeof clearTimeout=="function"?clearTimeout:void 0,Yh=typeof Promise=="function"?Promise:void 0,mb=typeof queueMicrotask=="function"?queueMicrotask:typeof Yh<"u"?function(e){return Yh.resolve(null).then(e).catch(pb)}:Zc;function pb(e){setTimeout(function(){throw e})}function Jo(e,t){var s=t,n=0;do{var r=s.nextSibling;if(e.removeChild(s),r&&r.nodeType===8)if(s=r.data,s==="/$"){if(n===0){e.removeChild(r),Ni(t);return}n--}else s!=="$"&&s!=="$?"&&s!=="$!"||n++;s=r}while(s);Ni(t)}function zs(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function qh(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(t===0)return e;t--}else s==="/$"&&t++}e=e.previousSibling}return null}var kr=Math.random().toString(36).slice(2),qt="__reactFiber$"+kr,Pi="__reactProps$"+kr,hs="__reactContainer$"+kr,ed="__reactEvents$"+kr,xb="__reactListeners$"+kr,gb="__reactHandles$"+kr;function pn(e){var t=e[qt];if(t)return t;for(var s=e.parentNode;s;){if(t=s[hs]||s[qt]){if(s=t.alternate,t.child!==null||s!==null&&s.child!==null)for(e=qh(e);e!==null;){if(s=e[qt])return s;e=qh(e)}return t}e=s,s=e.parentNode}return null}function Ki(e){return e=e[qt]||e[hs],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Gn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(I(33))}function co(e){return e[Pi]||null}var td=[],Jn=-1;function Js(e){return{current:e}}function he(e){0>Jn||(e.current=td[Jn],td[Jn]=null,Jn--)}function de(e,t){Jn++,td[Jn]=e.current,e.current=t}var qs={},Ye=Js(qs),rt=Js(!1),Sn=qs;function mr(e,t){var s=e.type.contextTypes;if(!s)return qs;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var r={},a;for(a in s)r[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=r),r}function it(e){return e=e.childContextTypes,e!=null}function bl(){he(rt),he(Ye)}function Xh(e,t,s){if(Ye.current!==qs)throw Error(I(168));de(Ye,t),de(rt,s)}function Lx(e,t,s){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return s;n=n.getChildContext();for(var r in n)if(!(r in t))throw Error(I(108,tv(e)||"Unknown",r));return ye({},s,n)}function jl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||qs,Sn=Ye.current,de(Ye,e),de(rt,rt.current),!0}function Qh(e,t,s){var n=e.stateNode;if(!n)throw Error(I(169));s?(e=Lx(e,t,Sn),n.__reactInternalMemoizedMergedChildContext=e,he(rt),he(Ye),de(Ye,e)):he(rt),de(rt,s)}var ss=null,uo=!1,Zo=!1;function Fx(e){ss===null?ss=[e]:ss.push(e)}function yb(e){uo=!0,Fx(e)}function Zs(){if(!Zo&&ss!==null){Zo=!0;var e=0,t=le;try{var s=ss;for(le=1;e<s.length;e++){var n=s[e];do n=n(!0);while(n!==null)}ss=null,uo=!1}catch(r){throw ss!==null&&(ss=ss.slice(e+1)),ax(eu,Zs),r}finally{le=t,Zo=!1}}return null}var Zn=[],er=0,wl=null,Nl=0,yt=[],vt=0,Cn=null,as=1,ls="";function dn(e,t){Zn[er++]=Nl,Zn[er++]=wl,wl=e,Nl=t}function Ax(e,t,s){yt[vt++]=as,yt[vt++]=ls,yt[vt++]=Cn,Cn=e;var n=as;e=ls;var r=32-Dt(n)-1;n&=~(1<<r),s+=1;var a=32-Dt(t)+r;if(30<a){var l=r-r%5;a=(n&(1<<l)-1).toString(32),n>>=l,r-=l,as=1<<32-Dt(t)+r|s<<r|n,ls=a+e}else as=1<<a|s<<r|n,ls=e}function cu(e){e.return!==null&&(dn(e,1),Ax(e,1,0))}function du(e){for(;e===wl;)wl=Zn[--er],Zn[er]=null,Nl=Zn[--er],Zn[er]=null;for(;e===Cn;)Cn=yt[--vt],yt[vt]=null,ls=yt[--vt],yt[vt]=null,as=yt[--vt],yt[vt]=null}var ft=null,ht=null,fe=!1,Tt=null;function Ox(e,t){var s=bt(5,null,null,0);s.elementType="DELETED",s.stateNode=t,s.return=e,t=e.deletions,t===null?(e.deletions=[s],e.flags|=16):t.push(s)}function Kh(e,t){switch(e.tag){case 5:var s=e.type;return t=t.nodeType!==1||s.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ft=e,ht=zs(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ft=e,ht=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(s=Cn!==null?{id:as,overflow:ls}:null,e.memoizedState={dehydrated:t,treeContext:s,retryLane:1073741824},s=bt(18,null,null,0),s.stateNode=t,s.return=e,e.child=s,ft=e,ht=null,!0):!1;default:return!1}}function sd(e){return(e.mode&1)!==0&&(e.flags&128)===0}function nd(e){if(fe){var t=ht;if(t){var s=t;if(!Kh(e,t)){if(sd(e))throw Error(I(418));t=zs(s.nextSibling);var n=ft;t&&Kh(e,t)?Ox(n,s):(e.flags=e.flags&-4097|2,fe=!1,ft=e)}}else{if(sd(e))throw Error(I(418));e.flags=e.flags&-4097|2,fe=!1,ft=e}}}function Gh(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ft=e}function xa(e){if(e!==ft)return!1;if(!fe)return Gh(e),fe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Jc(e.type,e.memoizedProps)),t&&(t=ht)){if(sd(e))throw zx(),Error(I(418));for(;t;)Ox(e,t),t=zs(t.nextSibling)}if(Gh(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(I(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"){if(t===0){ht=zs(e.nextSibling);break e}t--}else s!=="$"&&s!=="$!"&&s!=="$?"||t++}e=e.nextSibling}ht=null}}else ht=ft?zs(e.stateNode.nextSibling):null;return!0}function zx(){for(var e=ht;e;)e=zs(e.nextSibling)}function pr(){ht=ft=null,fe=!1}function uu(e){Tt===null?Tt=[e]:Tt.push(e)}var vb=xs.ReactCurrentBatchConfig;function Or(e,t,s){if(e=s.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(I(309));var n=s.stateNode}if(!n)throw Error(I(147,e));var r=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(l){var o=r.refs;l===null?delete o[a]:o[a]=l},t._stringRef=a,t)}if(typeof e!="string")throw Error(I(284));if(!s._owner)throw Error(I(290,e))}return e}function ga(e,t){throw e=Object.prototype.toString.call(t),Error(I(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Jh(e){var t=e._init;return t(e._payload)}function Ix(e){function t(f,p){if(e){var x=f.deletions;x===null?(f.deletions=[p],f.flags|=16):x.push(p)}}function s(f,p){if(!e)return null;for(;p!==null;)t(f,p),p=p.sibling;return null}function n(f,p){for(f=new Map;p!==null;)p.key!==null?f.set(p.key,p):f.set(p.index,p),p=p.sibling;return f}function r(f,p){return f=Hs(f,p),f.index=0,f.sibling=null,f}function a(f,p,x){return f.index=x,e?(x=f.alternate,x!==null?(x=x.index,x<p?(f.flags|=2,p):x):(f.flags|=2,p)):(f.flags|=1048576,p)}function l(f){return e&&f.alternate===null&&(f.flags|=2),f}function o(f,p,x,j){return p===null||p.tag!==6?(p=ac(x,f.mode,j),p.return=f,p):(p=r(p,x),p.return=f,p)}function c(f,p,x,j){var w=x.type;return w===qn?u(f,p,x.props.children,j,x.key):p!==null&&(p.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===js&&Jh(w)===p.type)?(j=r(p,x.props),j.ref=Or(f,p,x),j.return=f,j):(j=Ja(x.type,x.key,x.props,null,f.mode,j),j.ref=Or(f,p,x),j.return=f,j)}function d(f,p,x,j){return p===null||p.tag!==4||p.stateNode.containerInfo!==x.containerInfo||p.stateNode.implementation!==x.implementation?(p=lc(x,f.mode,j),p.return=f,p):(p=r(p,x.children||[]),p.return=f,p)}function u(f,p,x,j,w){return p===null||p.tag!==7?(p=wn(x,f.mode,j,w),p.return=f,p):(p=r(p,x),p.return=f,p)}function h(f,p,x){if(typeof p=="string"&&p!==""||typeof p=="number")return p=ac(""+p,f.mode,x),p.return=f,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case aa:return x=Ja(p.type,p.key,p.props,null,f.mode,x),x.ref=Or(f,null,p),x.return=f,x;case Yn:return p=lc(p,f.mode,x),p.return=f,p;case js:var j=p._init;return h(f,j(p._payload),x)}if(Qr(p)||Dr(p))return p=wn(p,f.mode,x,null),p.return=f,p;ga(f,p)}return null}function m(f,p,x,j){var w=p!==null?p.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return w!==null?null:o(f,p,""+x,j);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case aa:return x.key===w?c(f,p,x,j):null;case Yn:return x.key===w?d(f,p,x,j):null;case js:return w=x._init,m(f,p,w(x._payload),j)}if(Qr(x)||Dr(x))return w!==null?null:u(f,p,x,j,null);ga(f,x)}return null}function v(f,p,x,j,w){if(typeof j=="string"&&j!==""||typeof j=="number")return f=f.get(x)||null,o(p,f,""+j,w);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case aa:return f=f.get(j.key===null?x:j.key)||null,c(p,f,j,w);case Yn:return f=f.get(j.key===null?x:j.key)||null,d(p,f,j,w);case js:var _=j._init;return v(f,p,x,_(j._payload),w)}if(Qr(j)||Dr(j))return f=f.get(x)||null,u(p,f,j,w,null);ga(p,j)}return null}function y(f,p,x,j){for(var w=null,_=null,S=p,P=p=0,A=null;S!==null&&P<x.length;P++){S.index>P?(A=S,S=null):A=S.sibling;var O=m(f,S,x[P],j);if(O===null){S===null&&(S=A);break}e&&S&&O.alternate===null&&t(f,S),p=a(O,p,P),_===null?w=O:_.sibling=O,_=O,S=A}if(P===x.length)return s(f,S),fe&&dn(f,P),w;if(S===null){for(;P<x.length;P++)S=h(f,x[P],j),S!==null&&(p=a(S,p,P),_===null?w=S:_.sibling=S,_=S);return fe&&dn(f,P),w}for(S=n(f,S);P<x.length;P++)A=v(S,f,P,x[P],j),A!==null&&(e&&A.alternate!==null&&S.delete(A.key===null?P:A.key),p=a(A,p,P),_===null?w=A:_.sibling=A,_=A);return e&&S.forEach(function(C){return t(f,C)}),fe&&dn(f,P),w}function g(f,p,x,j){var w=Dr(x);if(typeof w!="function")throw Error(I(150));if(x=w.call(x),x==null)throw Error(I(151));for(var _=w=null,S=p,P=p=0,A=null,O=x.next();S!==null&&!O.done;P++,O=x.next()){S.index>P?(A=S,S=null):A=S.sibling;var C=m(f,S,O.value,j);if(C===null){S===null&&(S=A);break}e&&S&&C.alternate===null&&t(f,S),p=a(C,p,P),_===null?w=C:_.sibling=C,_=C,S=A}if(O.done)return s(f,S),fe&&dn(f,P),w;if(S===null){for(;!O.done;P++,O=x.next())O=h(f,O.value,j),O!==null&&(p=a(O,p,P),_===null?w=O:_.sibling=O,_=O);return fe&&dn(f,P),w}for(S=n(f,S);!O.done;P++,O=x.next())O=v(S,f,P,O.value,j),O!==null&&(e&&O.alternate!==null&&S.delete(O.key===null?P:O.key),p=a(O,p,P),_===null?w=O:_.sibling=O,_=O);return e&&S.forEach(function(F){return t(f,F)}),fe&&dn(f,P),w}function b(f,p,x,j){if(typeof x=="object"&&x!==null&&x.type===qn&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case aa:e:{for(var w=x.key,_=p;_!==null;){if(_.key===w){if(w=x.type,w===qn){if(_.tag===7){s(f,_.sibling),p=r(_,x.props.children),p.return=f,f=p;break e}}else if(_.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===js&&Jh(w)===_.type){s(f,_.sibling),p=r(_,x.props),p.ref=Or(f,_,x),p.return=f,f=p;break e}s(f,_);break}else t(f,_);_=_.sibling}x.type===qn?(p=wn(x.props.children,f.mode,j,x.key),p.return=f,f=p):(j=Ja(x.type,x.key,x.props,null,f.mode,j),j.ref=Or(f,p,x),j.return=f,f=j)}return l(f);case Yn:e:{for(_=x.key;p!==null;){if(p.key===_)if(p.tag===4&&p.stateNode.containerInfo===x.containerInfo&&p.stateNode.implementation===x.implementation){s(f,p.sibling),p=r(p,x.children||[]),p.return=f,f=p;break e}else{s(f,p);break}else t(f,p);p=p.sibling}p=lc(x,f.mode,j),p.return=f,f=p}return l(f);case js:return _=x._init,b(f,p,_(x._payload),j)}if(Qr(x))return y(f,p,x,j);if(Dr(x))return g(f,p,x,j);ga(f,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,p!==null&&p.tag===6?(s(f,p.sibling),p=r(p,x),p.return=f,f=p):(s(f,p),p=ac(x,f.mode,j),p.return=f,f=p),l(f)):s(f,p)}return b}var xr=Ix(!0),Bx=Ix(!1),_l=Js(null),kl=null,tr=null,hu=null;function fu(){hu=tr=kl=null}function mu(e){var t=_l.current;he(_l),e._currentValue=t}function rd(e,t,s){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===s)break;e=e.return}}function cr(e,t){kl=e,hu=tr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(nt=!0),e.firstContext=null)}function _t(e){var t=e._currentValue;if(hu!==e)if(e={context:e,memoizedValue:t,next:null},tr===null){if(kl===null)throw Error(I(308));tr=e,kl.dependencies={lanes:0,firstContext:e}}else tr=tr.next=e;return t}var xn=null;function pu(e){xn===null?xn=[e]:xn.push(e)}function Wx(e,t,s,n){var r=t.interleaved;return r===null?(s.next=s,pu(t)):(s.next=r.next,r.next=s),t.interleaved=s,fs(e,n)}function fs(e,t){e.lanes|=t;var s=e.alternate;for(s!==null&&(s.lanes|=t),s=e,e=e.return;e!==null;)e.childLanes|=t,s=e.alternate,s!==null&&(s.childLanes|=t),s=e,e=e.return;return s.tag===3?s.stateNode:null}var ws=!1;function xu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Hx(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function cs(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Is(e,t,s){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,te&2){var r=n.pending;return r===null?t.next=t:(t.next=r.next,r.next=t),n.pending=t,fs(e,s)}return r=n.interleaved,r===null?(t.next=t,pu(n)):(t.next=r.next,r.next=t),n.interleaved=t,fs(e,s)}function Ya(e,t,s){if(t=t.updateQueue,t!==null&&(t=t.shared,(s&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,s|=n,t.lanes=s,tu(e,s)}}function Zh(e,t){var s=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,s===n)){var r=null,a=null;if(s=s.firstBaseUpdate,s!==null){do{var l={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};a===null?r=a=l:a=a.next=l,s=s.next}while(s!==null);a===null?r=a=t:a=a.next=t}else r=a=t;s={baseState:n.baseState,firstBaseUpdate:r,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=t:e.next=t,s.lastBaseUpdate=t}function Sl(e,t,s,n){var r=e.updateQueue;ws=!1;var a=r.firstBaseUpdate,l=r.lastBaseUpdate,o=r.shared.pending;if(o!==null){r.shared.pending=null;var c=o,d=c.next;c.next=null,l===null?a=d:l.next=d,l=c;var u=e.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==l&&(o===null?u.firstBaseUpdate=d:o.next=d,u.lastBaseUpdate=c))}if(a!==null){var h=r.baseState;l=0,u=d=c=null,o=a;do{var m=o.lane,v=o.eventTime;if((n&m)===m){u!==null&&(u=u.next={eventTime:v,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var y=e,g=o;switch(m=t,v=s,g.tag){case 1:if(y=g.payload,typeof y=="function"){h=y.call(v,h,m);break e}h=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=g.payload,m=typeof y=="function"?y.call(v,h,m):y,m==null)break e;h=ye({},h,m);break e;case 2:ws=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,m=r.effects,m===null?r.effects=[o]:m.push(o))}else v={eventTime:v,lane:m,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(d=u=v,c=h):u=u.next=v,l|=m;if(o=o.next,o===null){if(o=r.shared.pending,o===null)break;m=o,o=m.next,m.next=null,r.lastBaseUpdate=m,r.shared.pending=null}}while(1);if(u===null&&(c=h),r.baseState=c,r.firstBaseUpdate=d,r.lastBaseUpdate=u,t=r.shared.interleaved,t!==null){r=t;do l|=r.lane,r=r.next;while(r!==t)}else a===null&&(r.shared.lanes=0);Mn|=l,e.lanes=l,e.memoizedState=h}}function ef(e,t,s){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],r=n.callback;if(r!==null){if(n.callback=null,n=s,typeof r!="function")throw Error(I(191,r));r.call(n)}}}var Gi={},Kt=Js(Gi),Mi=Js(Gi),Ei=Js(Gi);function gn(e){if(e===Gi)throw Error(I(174));return e}function gu(e,t){switch(de(Ei,t),de(Mi,e),de(Kt,Gi),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:zc(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=zc(t,e)}he(Kt),de(Kt,t)}function gr(){he(Kt),he(Mi),he(Ei)}function Vx(e){gn(Ei.current);var t=gn(Kt.current),s=zc(t,e.type);t!==s&&(de(Mi,e),de(Kt,s))}function yu(e){Mi.current===e&&(he(Kt),he(Mi))}var xe=Js(0);function Cl(e){for(var t=e;t!==null;){if(t.tag===13){var s=t.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ec=[];function vu(){for(var e=0;e<ec.length;e++)ec[e]._workInProgressVersionPrimary=null;ec.length=0}var qa=xs.ReactCurrentDispatcher,tc=xs.ReactCurrentBatchConfig,Pn=0,ge=null,Me=null,De=null,Pl=!1,ci=!1,Ti=0,bb=0;function Ie(){throw Error(I(321))}function bu(e,t){if(t===null)return!1;for(var s=0;s<t.length&&s<e.length;s++)if(!At(e[s],t[s]))return!1;return!0}function ju(e,t,s,n,r,a){if(Pn=a,ge=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,qa.current=e===null||e.memoizedState===null?_b:kb,e=s(n,r),ci){a=0;do{if(ci=!1,Ti=0,25<=a)throw Error(I(301));a+=1,De=Me=null,t.updateQueue=null,qa.current=Sb,e=s(n,r)}while(ci)}if(qa.current=Ml,t=Me!==null&&Me.next!==null,Pn=0,De=Me=ge=null,Pl=!1,t)throw Error(I(300));return e}function wu(){var e=Ti!==0;return Ti=0,e}function $t(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return De===null?ge.memoizedState=De=e:De=De.next=e,De}function kt(){if(Me===null){var e=ge.alternate;e=e!==null?e.memoizedState:null}else e=Me.next;var t=De===null?ge.memoizedState:De.next;if(t!==null)De=t,Me=e;else{if(e===null)throw Error(I(310));Me=e,e={memoizedState:Me.memoizedState,baseState:Me.baseState,baseQueue:Me.baseQueue,queue:Me.queue,next:null},De===null?ge.memoizedState=De=e:De=De.next=e}return De}function Di(e,t){return typeof t=="function"?t(e):t}function sc(e){var t=kt(),s=t.queue;if(s===null)throw Error(I(311));s.lastRenderedReducer=e;var n=Me,r=n.baseQueue,a=s.pending;if(a!==null){if(r!==null){var l=r.next;r.next=a.next,a.next=l}n.baseQueue=r=a,s.pending=null}if(r!==null){a=r.next,n=n.baseState;var o=l=null,c=null,d=a;do{var u=d.lane;if((Pn&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:e(n,d.action);else{var h={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(o=c=h,l=n):c=c.next=h,ge.lanes|=u,Mn|=u}d=d.next}while(d!==null&&d!==a);c===null?l=n:c.next=o,At(n,t.memoizedState)||(nt=!0),t.memoizedState=n,t.baseState=l,t.baseQueue=c,s.lastRenderedState=n}if(e=s.interleaved,e!==null){r=e;do a=r.lane,ge.lanes|=a,Mn|=a,r=r.next;while(r!==e)}else r===null&&(s.lanes=0);return[t.memoizedState,s.dispatch]}function nc(e){var t=kt(),s=t.queue;if(s===null)throw Error(I(311));s.lastRenderedReducer=e;var n=s.dispatch,r=s.pending,a=t.memoizedState;if(r!==null){s.pending=null;var l=r=r.next;do a=e(a,l.action),l=l.next;while(l!==r);At(a,t.memoizedState)||(nt=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),s.lastRenderedState=a}return[a,n]}function Ux(){}function $x(e,t){var s=ge,n=kt(),r=t(),a=!At(n.memoizedState,r);if(a&&(n.memoizedState=r,nt=!0),n=n.queue,Nu(Xx.bind(null,s,n,e),[e]),n.getSnapshot!==t||a||De!==null&&De.memoizedState.tag&1){if(s.flags|=2048,Ri(9,qx.bind(null,s,n,r,t),void 0,null),Le===null)throw Error(I(349));Pn&30||Yx(s,t,r)}return r}function Yx(e,t,s){e.flags|=16384,e={getSnapshot:t,value:s},t=ge.updateQueue,t===null?(t={lastEffect:null,stores:null},ge.updateQueue=t,t.stores=[e]):(s=t.stores,s===null?t.stores=[e]:s.push(e))}function qx(e,t,s,n){t.value=s,t.getSnapshot=n,Qx(t)&&Kx(e)}function Xx(e,t,s){return s(function(){Qx(t)&&Kx(e)})}function Qx(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!At(e,s)}catch{return!0}}function Kx(e){var t=fs(e,1);t!==null&&Rt(t,e,1,-1)}function tf(e){var t=$t();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Di,lastRenderedState:e},t.queue=e,e=e.dispatch=Nb.bind(null,ge,e),[t.memoizedState,e]}function Ri(e,t,s,n){return e={tag:e,create:t,destroy:s,deps:n,next:null},t=ge.updateQueue,t===null?(t={lastEffect:null,stores:null},ge.updateQueue=t,t.lastEffect=e.next=e):(s=t.lastEffect,s===null?t.lastEffect=e.next=e:(n=s.next,s.next=e,e.next=n,t.lastEffect=e)),e}function Gx(){return kt().memoizedState}function Xa(e,t,s,n){var r=$t();ge.flags|=e,r.memoizedState=Ri(1|t,s,void 0,n===void 0?null:n)}function ho(e,t,s,n){var r=kt();n=n===void 0?null:n;var a=void 0;if(Me!==null){var l=Me.memoizedState;if(a=l.destroy,n!==null&&bu(n,l.deps)){r.memoizedState=Ri(t,s,a,n);return}}ge.flags|=e,r.memoizedState=Ri(1|t,s,a,n)}function sf(e,t){return Xa(8390656,8,e,t)}function Nu(e,t){return ho(2048,8,e,t)}function Jx(e,t){return ho(4,2,e,t)}function Zx(e,t){return ho(4,4,e,t)}function e0(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function t0(e,t,s){return s=s!=null?s.concat([e]):null,ho(4,4,e0.bind(null,t,e),s)}function _u(){}function s0(e,t){var s=kt();t=t===void 0?null:t;var n=s.memoizedState;return n!==null&&t!==null&&bu(t,n[1])?n[0]:(s.memoizedState=[e,t],e)}function n0(e,t){var s=kt();t=t===void 0?null:t;var n=s.memoizedState;return n!==null&&t!==null&&bu(t,n[1])?n[0]:(e=e(),s.memoizedState=[e,t],e)}function r0(e,t,s){return Pn&21?(At(s,t)||(s=cx(),ge.lanes|=s,Mn|=s,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,nt=!0),e.memoizedState=s)}function jb(e,t){var s=le;le=s!==0&&4>s?s:4,e(!0);var n=tc.transition;tc.transition={};try{e(!1),t()}finally{le=s,tc.transition=n}}function i0(){return kt().memoizedState}function wb(e,t,s){var n=Ws(e);if(s={lane:n,action:s,hasEagerState:!1,eagerState:null,next:null},a0(e))l0(t,s);else if(s=Wx(e,t,s,n),s!==null){var r=Qe();Rt(s,e,n,r),o0(s,t,n)}}function Nb(e,t,s){var n=Ws(e),r={lane:n,action:s,hasEagerState:!1,eagerState:null,next:null};if(a0(e))l0(t,r);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var l=t.lastRenderedState,o=a(l,s);if(r.hasEagerState=!0,r.eagerState=o,At(o,l)){var c=t.interleaved;c===null?(r.next=r,pu(t)):(r.next=c.next,c.next=r),t.interleaved=r;return}}catch{}finally{}s=Wx(e,t,r,n),s!==null&&(r=Qe(),Rt(s,e,n,r),o0(s,t,n))}}function a0(e){var t=e.alternate;return e===ge||t!==null&&t===ge}function l0(e,t){ci=Pl=!0;var s=e.pending;s===null?t.next=t:(t.next=s.next,s.next=t),e.pending=t}function o0(e,t,s){if(s&4194240){var n=t.lanes;n&=e.pendingLanes,s|=n,t.lanes=s,tu(e,s)}}var Ml={readContext:_t,useCallback:Ie,useContext:Ie,useEffect:Ie,useImperativeHandle:Ie,useInsertionEffect:Ie,useLayoutEffect:Ie,useMemo:Ie,useReducer:Ie,useRef:Ie,useState:Ie,useDebugValue:Ie,useDeferredValue:Ie,useTransition:Ie,useMutableSource:Ie,useSyncExternalStore:Ie,useId:Ie,unstable_isNewReconciler:!1},_b={readContext:_t,useCallback:function(e,t){return $t().memoizedState=[e,t===void 0?null:t],e},useContext:_t,useEffect:sf,useImperativeHandle:function(e,t,s){return s=s!=null?s.concat([e]):null,Xa(4194308,4,e0.bind(null,t,e),s)},useLayoutEffect:function(e,t){return Xa(4194308,4,e,t)},useInsertionEffect:function(e,t){return Xa(4,2,e,t)},useMemo:function(e,t){var s=$t();return t=t===void 0?null:t,e=e(),s.memoizedState=[e,t],e},useReducer:function(e,t,s){var n=$t();return t=s!==void 0?s(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=wb.bind(null,ge,e),[n.memoizedState,e]},useRef:function(e){var t=$t();return e={current:e},t.memoizedState=e},useState:tf,useDebugValue:_u,useDeferredValue:function(e){return $t().memoizedState=e},useTransition:function(){var e=tf(!1),t=e[0];return e=jb.bind(null,e[1]),$t().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,s){var n=ge,r=$t();if(fe){if(s===void 0)throw Error(I(407));s=s()}else{if(s=t(),Le===null)throw Error(I(349));Pn&30||Yx(n,t,s)}r.memoizedState=s;var a={value:s,getSnapshot:t};return r.queue=a,sf(Xx.bind(null,n,a,e),[e]),n.flags|=2048,Ri(9,qx.bind(null,n,a,s,t),void 0,null),s},useId:function(){var e=$t(),t=Le.identifierPrefix;if(fe){var s=ls,n=as;s=(n&~(1<<32-Dt(n)-1)).toString(32)+s,t=":"+t+"R"+s,s=Ti++,0<s&&(t+="H"+s.toString(32)),t+=":"}else s=bb++,t=":"+t+"r"+s.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},kb={readContext:_t,useCallback:s0,useContext:_t,useEffect:Nu,useImperativeHandle:t0,useInsertionEffect:Jx,useLayoutEffect:Zx,useMemo:n0,useReducer:sc,useRef:Gx,useState:function(){return sc(Di)},useDebugValue:_u,useDeferredValue:function(e){var t=kt();return r0(t,Me.memoizedState,e)},useTransition:function(){var e=sc(Di)[0],t=kt().memoizedState;return[e,t]},useMutableSource:Ux,useSyncExternalStore:$x,useId:i0,unstable_isNewReconciler:!1},Sb={readContext:_t,useCallback:s0,useContext:_t,useEffect:Nu,useImperativeHandle:t0,useInsertionEffect:Jx,useLayoutEffect:Zx,useMemo:n0,useReducer:nc,useRef:Gx,useState:function(){return nc(Di)},useDebugValue:_u,useDeferredValue:function(e){var t=kt();return Me===null?t.memoizedState=e:r0(t,Me.memoizedState,e)},useTransition:function(){var e=nc(Di)[0],t=kt().memoizedState;return[e,t]},useMutableSource:Ux,useSyncExternalStore:$x,useId:i0,unstable_isNewReconciler:!1};function Mt(e,t){if(e&&e.defaultProps){t=ye({},t),e=e.defaultProps;for(var s in e)t[s]===void 0&&(t[s]=e[s]);return t}return t}function id(e,t,s,n){t=e.memoizedState,s=s(n,t),s=s==null?t:ye({},t,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var fo={isMounted:function(e){return(e=e._reactInternals)?In(e)===e:!1},enqueueSetState:function(e,t,s){e=e._reactInternals;var n=Qe(),r=Ws(e),a=cs(n,r);a.payload=t,s!=null&&(a.callback=s),t=Is(e,a,r),t!==null&&(Rt(t,e,r,n),Ya(t,e,r))},enqueueReplaceState:function(e,t,s){e=e._reactInternals;var n=Qe(),r=Ws(e),a=cs(n,r);a.tag=1,a.payload=t,s!=null&&(a.callback=s),t=Is(e,a,r),t!==null&&(Rt(t,e,r,n),Ya(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var s=Qe(),n=Ws(e),r=cs(s,n);r.tag=2,t!=null&&(r.callback=t),t=Is(e,r,n),t!==null&&(Rt(t,e,n,s),Ya(t,e,n))}};function nf(e,t,s,n,r,a,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,l):t.prototype&&t.prototype.isPureReactComponent?!ki(s,n)||!ki(r,a):!0}function c0(e,t,s){var n=!1,r=qs,a=t.contextType;return typeof a=="object"&&a!==null?a=_t(a):(r=it(t)?Sn:Ye.current,n=t.contextTypes,a=(n=n!=null)?mr(e,r):qs),t=new t(s,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=fo,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=a),t}function rf(e,t,s,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(s,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(s,n),t.state!==e&&fo.enqueueReplaceState(t,t.state,null)}function ad(e,t,s,n){var r=e.stateNode;r.props=s,r.state=e.memoizedState,r.refs={},xu(e);var a=t.contextType;typeof a=="object"&&a!==null?r.context=_t(a):(a=it(t)?Sn:Ye.current,r.context=mr(e,a)),r.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(id(e,t,a,s),r.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(t=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),t!==r.state&&fo.enqueueReplaceState(r,r.state,null),Sl(e,s,r,n),r.state=e.memoizedState),typeof r.componentDidMount=="function"&&(e.flags|=4194308)}function yr(e,t){try{var s="",n=t;do s+=ev(n),n=n.return;while(n);var r=s}catch(a){r=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:r,digest:null}}function rc(e,t,s){return{value:e,source:null,stack:s??null,digest:t??null}}function ld(e,t){try{console.error(t.value)}catch(s){setTimeout(function(){throw s})}}var Cb=typeof WeakMap=="function"?WeakMap:Map;function d0(e,t,s){s=cs(-1,s),s.tag=3,s.payload={element:null};var n=t.value;return s.callback=function(){Tl||(Tl=!0,gd=n),ld(e,t)},s}function u0(e,t,s){s=cs(-1,s),s.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var r=t.value;s.payload=function(){return n(r)},s.callback=function(){ld(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(s.callback=function(){ld(e,t),typeof n!="function"&&(Bs===null?Bs=new Set([this]):Bs.add(this));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),s}function af(e,t,s){var n=e.pingCache;if(n===null){n=e.pingCache=new Cb;var r=new Set;n.set(t,r)}else r=n.get(t),r===void 0&&(r=new Set,n.set(t,r));r.has(s)||(r.add(s),e=Wb.bind(null,e,t,s),t.then(e,e))}function lf(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function of(e,t,s,n,r){return e.mode&1?(e.flags|=65536,e.lanes=r,e):(e===t?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(t=cs(-1,1),t.tag=2,Is(s,t,1))),s.lanes|=1),e)}var Pb=xs.ReactCurrentOwner,nt=!1;function Xe(e,t,s,n){t.child=e===null?Bx(t,null,s,n):xr(t,e.child,s,n)}function cf(e,t,s,n,r){s=s.render;var a=t.ref;return cr(t,r),n=ju(e,t,s,n,a,r),s=wu(),e!==null&&!nt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,ms(e,t,r)):(fe&&s&&cu(t),t.flags|=1,Xe(e,t,n,r),t.child)}function df(e,t,s,n,r){if(e===null){var a=s.type;return typeof a=="function"&&!Du(a)&&a.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(t.tag=15,t.type=a,h0(e,t,a,n,r)):(e=Ja(s.type,null,n,t,t.mode,r),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&r)){var l=a.memoizedProps;if(s=s.compare,s=s!==null?s:ki,s(l,n)&&e.ref===t.ref)return ms(e,t,r)}return t.flags|=1,e=Hs(a,n),e.ref=t.ref,e.return=t,t.child=e}function h0(e,t,s,n,r){if(e!==null){var a=e.memoizedProps;if(ki(a,n)&&e.ref===t.ref)if(nt=!1,t.pendingProps=n=a,(e.lanes&r)!==0)e.flags&131072&&(nt=!0);else return t.lanes=e.lanes,ms(e,t,r)}return od(e,t,s,n,r)}function f0(e,t,s){var n=t.pendingProps,r=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},de(nr,ut),ut|=s;else{if(!(s&1073741824))return e=a!==null?a.baseLanes|s:s,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,de(nr,ut),ut|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:s,de(nr,ut),ut|=n}else a!==null?(n=a.baseLanes|s,t.memoizedState=null):n=s,de(nr,ut),ut|=n;return Xe(e,t,r,s),t.child}function m0(e,t){var s=t.ref;(e===null&&s!==null||e!==null&&e.ref!==s)&&(t.flags|=512,t.flags|=2097152)}function od(e,t,s,n,r){var a=it(s)?Sn:Ye.current;return a=mr(t,a),cr(t,r),s=ju(e,t,s,n,a,r),n=wu(),e!==null&&!nt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,ms(e,t,r)):(fe&&n&&cu(t),t.flags|=1,Xe(e,t,s,r),t.child)}function uf(e,t,s,n,r){if(it(s)){var a=!0;jl(t)}else a=!1;if(cr(t,r),t.stateNode===null)Qa(e,t),c0(t,s,n),ad(t,s,n,r),n=!0;else if(e===null){var l=t.stateNode,o=t.memoizedProps;l.props=o;var c=l.context,d=s.contextType;typeof d=="object"&&d!==null?d=_t(d):(d=it(s)?Sn:Ye.current,d=mr(t,d));var u=s.getDerivedStateFromProps,h=typeof u=="function"||typeof l.getSnapshotBeforeUpdate=="function";h||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==n||c!==d)&&rf(t,l,n,d),ws=!1;var m=t.memoizedState;l.state=m,Sl(t,n,l,r),c=t.memoizedState,o!==n||m!==c||rt.current||ws?(typeof u=="function"&&(id(t,s,u,n),c=t.memoizedState),(o=ws||nf(t,s,o,n,m,c,d))?(h||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),l.props=n,l.state=c,l.context=d,n=o):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{l=t.stateNode,Hx(e,t),o=t.memoizedProps,d=t.type===t.elementType?o:Mt(t.type,o),l.props=d,h=t.pendingProps,m=l.context,c=s.contextType,typeof c=="object"&&c!==null?c=_t(c):(c=it(s)?Sn:Ye.current,c=mr(t,c));var v=s.getDerivedStateFromProps;(u=typeof v=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==h||m!==c)&&rf(t,l,n,c),ws=!1,m=t.memoizedState,l.state=m,Sl(t,n,l,r);var y=t.memoizedState;o!==h||m!==y||rt.current||ws?(typeof v=="function"&&(id(t,s,v,n),y=t.memoizedState),(d=ws||nf(t,s,d,n,m,y,c)||!1)?(u||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(n,y,c),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(n,y,c)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=y),l.props=n,l.state=y,l.context=c,n=d):(typeof l.componentDidUpdate!="function"||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),n=!1)}return cd(e,t,s,n,a,r)}function cd(e,t,s,n,r,a){m0(e,t);var l=(t.flags&128)!==0;if(!n&&!l)return r&&Qh(t,s,!1),ms(e,t,a);n=t.stateNode,Pb.current=t;var o=l&&typeof s.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&l?(t.child=xr(t,e.child,null,a),t.child=xr(t,null,o,a)):Xe(e,t,o,a),t.memoizedState=n.state,r&&Qh(t,s,!0),t.child}function p0(e){var t=e.stateNode;t.pendingContext?Xh(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Xh(e,t.context,!1),gu(e,t.containerInfo)}function hf(e,t,s,n,r){return pr(),uu(r),t.flags|=256,Xe(e,t,s,n),t.child}var dd={dehydrated:null,treeContext:null,retryLane:0};function ud(e){return{baseLanes:e,cachePool:null,transitions:null}}function x0(e,t,s){var n=t.pendingProps,r=xe.current,a=!1,l=(t.flags&128)!==0,o;if((o=l)||(o=e!==null&&e.memoizedState===null?!1:(r&2)!==0),o?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(r|=1),de(xe,r&1),e===null)return nd(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=n.children,e=n.fallback,a?(n=t.mode,a=t.child,l={mode:"hidden",children:l},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=l):a=xo(l,n,0,null),e=wn(e,n,s,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=ud(s),t.memoizedState=dd,e):ku(t,l));if(r=e.memoizedState,r!==null&&(o=r.dehydrated,o!==null))return Mb(e,t,l,n,o,r,s);if(a){a=n.fallback,l=t.mode,r=e.child,o=r.sibling;var c={mode:"hidden",children:n.children};return!(l&1)&&t.child!==r?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Hs(r,c),n.subtreeFlags=r.subtreeFlags&14680064),o!==null?a=Hs(o,a):(a=wn(a,l,s,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,l=e.child.memoizedState,l=l===null?ud(s):{baseLanes:l.baseLanes|s,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~s,t.memoizedState=dd,n}return a=e.child,e=a.sibling,n=Hs(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=s),n.return=t,n.sibling=null,e!==null&&(s=t.deletions,s===null?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=n,t.memoizedState=null,n}function ku(e,t){return t=xo({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ya(e,t,s,n){return n!==null&&uu(n),xr(t,e.child,null,s),e=ku(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Mb(e,t,s,n,r,a,l){if(s)return t.flags&256?(t.flags&=-257,n=rc(Error(I(422))),ya(e,t,l,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,r=t.mode,n=xo({mode:"visible",children:n.children},r,0,null),a=wn(a,r,l,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&xr(t,e.child,null,l),t.child.memoizedState=ud(l),t.memoizedState=dd,a);if(!(t.mode&1))return ya(e,t,l,null);if(r.data==="$!"){if(n=r.nextSibling&&r.nextSibling.dataset,n)var o=n.dgst;return n=o,a=Error(I(419)),n=rc(a,n,void 0),ya(e,t,l,n)}if(o=(l&e.childLanes)!==0,nt||o){if(n=Le,n!==null){switch(l&-l){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(n.suspendedLanes|l)?0:r,r!==0&&r!==a.retryLane&&(a.retryLane=r,fs(e,r),Rt(n,e,r,-1))}return Tu(),n=rc(Error(I(421))),ya(e,t,l,n)}return r.data==="$?"?(t.flags|=128,t.child=e.child,t=Hb.bind(null,e),r._reactRetry=t,null):(e=a.treeContext,ht=zs(r.nextSibling),ft=t,fe=!0,Tt=null,e!==null&&(yt[vt++]=as,yt[vt++]=ls,yt[vt++]=Cn,as=e.id,ls=e.overflow,Cn=t),t=ku(t,n.children),t.flags|=4096,t)}function ff(e,t,s){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),rd(e.return,t,s)}function ic(e,t,s,n,r){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:s,tailMode:r}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=s,a.tailMode=r)}function g0(e,t,s){var n=t.pendingProps,r=n.revealOrder,a=n.tail;if(Xe(e,t,n.children,s),n=xe.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ff(e,s,t);else if(e.tag===19)ff(e,s,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(de(xe,n),!(t.mode&1))t.memoizedState=null;else switch(r){case"forwards":for(s=t.child,r=null;s!==null;)e=s.alternate,e!==null&&Cl(e)===null&&(r=s),s=s.sibling;s=r,s===null?(r=t.child,t.child=null):(r=s.sibling,s.sibling=null),ic(t,!1,r,s,a);break;case"backwards":for(s=null,r=t.child,t.child=null;r!==null;){if(e=r.alternate,e!==null&&Cl(e)===null){t.child=r;break}e=r.sibling,r.sibling=s,s=r,r=e}ic(t,!0,s,null,a);break;case"together":ic(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Qa(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ms(e,t,s){if(e!==null&&(t.dependencies=e.dependencies),Mn|=t.lanes,!(s&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(I(153));if(t.child!==null){for(e=t.child,s=Hs(e,e.pendingProps),t.child=s,s.return=t;e.sibling!==null;)e=e.sibling,s=s.sibling=Hs(e,e.pendingProps),s.return=t;s.sibling=null}return t.child}function Eb(e,t,s){switch(t.tag){case 3:p0(t),pr();break;case 5:Vx(t);break;case 1:it(t.type)&&jl(t);break;case 4:gu(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,r=t.memoizedProps.value;de(_l,n._currentValue),n._currentValue=r;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(de(xe,xe.current&1),t.flags|=128,null):s&t.child.childLanes?x0(e,t,s):(de(xe,xe.current&1),e=ms(e,t,s),e!==null?e.sibling:null);de(xe,xe.current&1);break;case 19:if(n=(s&t.childLanes)!==0,e.flags&128){if(n)return g0(e,t,s);t.flags|=128}if(r=t.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),de(xe,xe.current),n)break;return null;case 22:case 23:return t.lanes=0,f0(e,t,s)}return ms(e,t,s)}var y0,hd,v0,b0;y0=function(e,t){for(var s=t.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return;s=s.return}s.sibling.return=s.return,s=s.sibling}};hd=function(){};v0=function(e,t,s,n){var r=e.memoizedProps;if(r!==n){e=t.stateNode,gn(Kt.current);var a=null;switch(s){case"input":r=Lc(e,r),n=Lc(e,n),a=[];break;case"select":r=ye({},r,{value:void 0}),n=ye({},n,{value:void 0}),a=[];break;case"textarea":r=Oc(e,r),n=Oc(e,n),a=[];break;default:typeof r.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=vl)}Ic(s,n);var l;s=null;for(d in r)if(!n.hasOwnProperty(d)&&r.hasOwnProperty(d)&&r[d]!=null)if(d==="style"){var o=r[d];for(l in o)o.hasOwnProperty(l)&&(s||(s={}),s[l]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(yi.hasOwnProperty(d)?a||(a=[]):(a=a||[]).push(d,null));for(d in n){var c=n[d];if(o=r!=null?r[d]:void 0,n.hasOwnProperty(d)&&c!==o&&(c!=null||o!=null))if(d==="style")if(o){for(l in o)!o.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(s||(s={}),s[l]="");for(l in c)c.hasOwnProperty(l)&&o[l]!==c[l]&&(s||(s={}),s[l]=c[l])}else s||(a||(a=[]),a.push(d,s)),s=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(a=a||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(yi.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&ue("scroll",e),a||o===c||(a=[])):(a=a||[]).push(d,c))}s&&(a=a||[]).push("style",s);var d=a;(t.updateQueue=d)&&(t.flags|=4)}};b0=function(e,t,s,n){s!==n&&(t.flags|=4)};function zr(e,t){if(!fe)switch(e.tailMode){case"hidden":t=e.tail;for(var s=null;t!==null;)t.alternate!==null&&(s=t),t=t.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var n=null;s!==null;)s.alternate!==null&&(n=s),s=s.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Be(e){var t=e.alternate!==null&&e.alternate.child===e.child,s=0,n=0;if(t)for(var r=e.child;r!==null;)s|=r.lanes|r.childLanes,n|=r.subtreeFlags&14680064,n|=r.flags&14680064,r.return=e,r=r.sibling;else for(r=e.child;r!==null;)s|=r.lanes|r.childLanes,n|=r.subtreeFlags,n|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=n,e.childLanes=s,t}function Tb(e,t,s){var n=t.pendingProps;switch(du(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Be(t),null;case 1:return it(t.type)&&bl(),Be(t),null;case 3:return n=t.stateNode,gr(),he(rt),he(Ye),vu(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(xa(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Tt!==null&&(bd(Tt),Tt=null))),hd(e,t),Be(t),null;case 5:yu(t);var r=gn(Ei.current);if(s=t.type,e!==null&&t.stateNode!=null)v0(e,t,s,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(I(166));return Be(t),null}if(e=gn(Kt.current),xa(t)){n=t.stateNode,s=t.type;var a=t.memoizedProps;switch(n[qt]=t,n[Pi]=a,e=(t.mode&1)!==0,s){case"dialog":ue("cancel",n),ue("close",n);break;case"iframe":case"object":case"embed":ue("load",n);break;case"video":case"audio":for(r=0;r<Gr.length;r++)ue(Gr[r],n);break;case"source":ue("error",n);break;case"img":case"image":case"link":ue("error",n),ue("load",n);break;case"details":ue("toggle",n);break;case"input":jh(n,a),ue("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},ue("invalid",n);break;case"textarea":Nh(n,a),ue("invalid",n)}Ic(s,a),r=null;for(var l in a)if(a.hasOwnProperty(l)){var o=a[l];l==="children"?typeof o=="string"?n.textContent!==o&&(a.suppressHydrationWarning!==!0&&pa(n.textContent,o,e),r=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&pa(n.textContent,o,e),r=["children",""+o]):yi.hasOwnProperty(l)&&o!=null&&l==="onScroll"&&ue("scroll",n)}switch(s){case"input":la(n),wh(n,a,!0);break;case"textarea":la(n),_h(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=vl)}n=r,t.updateQueue=n,n!==null&&(t.flags|=4)}else{l=r.nodeType===9?r:r.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Xp(s)),e==="http://www.w3.org/1999/xhtml"?s==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=l.createElement(s,{is:n.is}):(e=l.createElement(s),s==="select"&&(l=e,n.multiple?l.multiple=!0:n.size&&(l.size=n.size))):e=l.createElementNS(e,s),e[qt]=t,e[Pi]=n,y0(e,t,!1,!1),t.stateNode=e;e:{switch(l=Bc(s,n),s){case"dialog":ue("cancel",e),ue("close",e),r=n;break;case"iframe":case"object":case"embed":ue("load",e),r=n;break;case"video":case"audio":for(r=0;r<Gr.length;r++)ue(Gr[r],e);r=n;break;case"source":ue("error",e),r=n;break;case"img":case"image":case"link":ue("error",e),ue("load",e),r=n;break;case"details":ue("toggle",e),r=n;break;case"input":jh(e,n),r=Lc(e,n),ue("invalid",e);break;case"option":r=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},r=ye({},n,{value:void 0}),ue("invalid",e);break;case"textarea":Nh(e,n),r=Oc(e,n),ue("invalid",e);break;default:r=n}Ic(s,r),o=r;for(a in o)if(o.hasOwnProperty(a)){var c=o[a];a==="style"?Gp(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Qp(e,c)):a==="children"?typeof c=="string"?(s!=="textarea"||c!=="")&&vi(e,c):typeof c=="number"&&vi(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(yi.hasOwnProperty(a)?c!=null&&a==="onScroll"&&ue("scroll",e):c!=null&&Qd(e,a,c,l))}switch(s){case"input":la(e),wh(e,n,!1);break;case"textarea":la(e),_h(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Ys(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?ir(e,!!n.multiple,a,!1):n.defaultValue!=null&&ir(e,!!n.multiple,n.defaultValue,!0);break;default:typeof r.onClick=="function"&&(e.onclick=vl)}switch(s){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Be(t),null;case 6:if(e&&t.stateNode!=null)b0(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(I(166));if(s=gn(Ei.current),gn(Kt.current),xa(t)){if(n=t.stateNode,s=t.memoizedProps,n[qt]=t,(a=n.nodeValue!==s)&&(e=ft,e!==null))switch(e.tag){case 3:pa(n.nodeValue,s,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&pa(n.nodeValue,s,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(s.nodeType===9?s:s.ownerDocument).createTextNode(n),n[qt]=t,t.stateNode=n}return Be(t),null;case 13:if(he(xe),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(fe&&ht!==null&&t.mode&1&&!(t.flags&128))zx(),pr(),t.flags|=98560,a=!1;else if(a=xa(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(I(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(I(317));a[qt]=t}else pr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Be(t),a=!1}else Tt!==null&&(bd(Tt),Tt=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=s,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||xe.current&1?Ee===0&&(Ee=3):Tu())),t.updateQueue!==null&&(t.flags|=4),Be(t),null);case 4:return gr(),hd(e,t),e===null&&Si(t.stateNode.containerInfo),Be(t),null;case 10:return mu(t.type._context),Be(t),null;case 17:return it(t.type)&&bl(),Be(t),null;case 19:if(he(xe),a=t.memoizedState,a===null)return Be(t),null;if(n=(t.flags&128)!==0,l=a.rendering,l===null)if(n)zr(a,!1);else{if(Ee!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=Cl(e),l!==null){for(t.flags|=128,zr(a,!1),n=l.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=s,s=t.child;s!==null;)a=s,e=n,a.flags&=14680066,l=a.alternate,l===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return de(xe,xe.current&1|2),t.child}e=e.sibling}a.tail!==null&&we()>vr&&(t.flags|=128,n=!0,zr(a,!1),t.lanes=4194304)}else{if(!n)if(e=Cl(l),e!==null){if(t.flags|=128,n=!0,s=e.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),zr(a,!0),a.tail===null&&a.tailMode==="hidden"&&!l.alternate&&!fe)return Be(t),null}else 2*we()-a.renderingStartTime>vr&&s!==1073741824&&(t.flags|=128,n=!0,zr(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(s=a.last,s!==null?s.sibling=l:t.child=l,a.last=l)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=we(),t.sibling=null,s=xe.current,de(xe,n?s&1|2:s&1),t):(Be(t),null);case 22:case 23:return Eu(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?ut&1073741824&&(Be(t),t.subtreeFlags&6&&(t.flags|=8192)):Be(t),null;case 24:return null;case 25:return null}throw Error(I(156,t.tag))}function Db(e,t){switch(du(t),t.tag){case 1:return it(t.type)&&bl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return gr(),he(rt),he(Ye),vu(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return yu(t),null;case 13:if(he(xe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(I(340));pr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return he(xe),null;case 4:return gr(),null;case 10:return mu(t.type._context),null;case 22:case 23:return Eu(),null;case 24:return null;default:return null}}var va=!1,He=!1,Rb=typeof WeakSet=="function"?WeakSet:Set,$=null;function sr(e,t){var s=e.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(n){be(e,t,n)}else s.current=null}function fd(e,t,s){try{s()}catch(n){be(e,t,n)}}var mf=!1;function Lb(e,t){if(Kc=xl,e=kx(),ou(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var n=s.getSelection&&s.getSelection();if(n&&n.rangeCount!==0){s=n.anchorNode;var r=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{s.nodeType,a.nodeType}catch{s=null;break e}var l=0,o=-1,c=-1,d=0,u=0,h=e,m=null;t:for(;;){for(var v;h!==s||r!==0&&h.nodeType!==3||(o=l+r),h!==a||n!==0&&h.nodeType!==3||(c=l+n),h.nodeType===3&&(l+=h.nodeValue.length),(v=h.firstChild)!==null;)m=h,h=v;for(;;){if(h===e)break t;if(m===s&&++d===r&&(o=l),m===a&&++u===n&&(c=l),(v=h.nextSibling)!==null)break;h=m,m=h.parentNode}h=v}s=o===-1||c===-1?null:{start:o,end:c}}else s=null}s=s||{start:0,end:0}}else s=null;for(Gc={focusedElem:e,selectionRange:s},xl=!1,$=t;$!==null;)if(t=$,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,$=e;else for(;$!==null;){t=$;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var g=y.memoizedProps,b=y.memoizedState,f=t.stateNode,p=f.getSnapshotBeforeUpdate(t.elementType===t.type?g:Mt(t.type,g),b);f.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(I(163))}}catch(j){be(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,$=e;break}$=t.return}return y=mf,mf=!1,y}function di(e,t,s){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var r=n=n.next;do{if((r.tag&e)===e){var a=r.destroy;r.destroy=void 0,a!==void 0&&fd(t,s,a)}r=r.next}while(r!==n)}}function mo(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var s=t=t.next;do{if((s.tag&e)===e){var n=s.create;s.destroy=n()}s=s.next}while(s!==t)}}function md(e){var t=e.ref;if(t!==null){var s=e.stateNode;switch(e.tag){case 5:e=s;break;default:e=s}typeof t=="function"?t(e):t.current=e}}function j0(e){var t=e.alternate;t!==null&&(e.alternate=null,j0(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[qt],delete t[Pi],delete t[ed],delete t[xb],delete t[gb])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function w0(e){return e.tag===5||e.tag===3||e.tag===4}function pf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||w0(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function pd(e,t,s){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?s.nodeType===8?s.parentNode.insertBefore(e,t):s.insertBefore(e,t):(s.nodeType===8?(t=s.parentNode,t.insertBefore(e,s)):(t=s,t.appendChild(e)),s=s._reactRootContainer,s!=null||t.onclick!==null||(t.onclick=vl));else if(n!==4&&(e=e.child,e!==null))for(pd(e,t,s),e=e.sibling;e!==null;)pd(e,t,s),e=e.sibling}function xd(e,t,s){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?s.insertBefore(e,t):s.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(xd(e,t,s),e=e.sibling;e!==null;)xd(e,t,s),e=e.sibling}var Fe=null,Et=!1;function ys(e,t,s){for(s=s.child;s!==null;)N0(e,t,s),s=s.sibling}function N0(e,t,s){if(Qt&&typeof Qt.onCommitFiberUnmount=="function")try{Qt.onCommitFiberUnmount(io,s)}catch{}switch(s.tag){case 5:He||sr(s,t);case 6:var n=Fe,r=Et;Fe=null,ys(e,t,s),Fe=n,Et=r,Fe!==null&&(Et?(e=Fe,s=s.stateNode,e.nodeType===8?e.parentNode.removeChild(s):e.removeChild(s)):Fe.removeChild(s.stateNode));break;case 18:Fe!==null&&(Et?(e=Fe,s=s.stateNode,e.nodeType===8?Jo(e.parentNode,s):e.nodeType===1&&Jo(e,s),Ni(e)):Jo(Fe,s.stateNode));break;case 4:n=Fe,r=Et,Fe=s.stateNode.containerInfo,Et=!0,ys(e,t,s),Fe=n,Et=r;break;case 0:case 11:case 14:case 15:if(!He&&(n=s.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){r=n=n.next;do{var a=r,l=a.destroy;a=a.tag,l!==void 0&&(a&2||a&4)&&fd(s,t,l),r=r.next}while(r!==n)}ys(e,t,s);break;case 1:if(!He&&(sr(s,t),n=s.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=s.memoizedProps,n.state=s.memoizedState,n.componentWillUnmount()}catch(o){be(s,t,o)}ys(e,t,s);break;case 21:ys(e,t,s);break;case 22:s.mode&1?(He=(n=He)||s.memoizedState!==null,ys(e,t,s),He=n):ys(e,t,s);break;default:ys(e,t,s)}}function xf(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var s=e.stateNode;s===null&&(s=e.stateNode=new Rb),t.forEach(function(n){var r=Vb.bind(null,e,n);s.has(n)||(s.add(n),n.then(r,r))})}}function Pt(e,t){var s=t.deletions;if(s!==null)for(var n=0;n<s.length;n++){var r=s[n];try{var a=e,l=t,o=l;e:for(;o!==null;){switch(o.tag){case 5:Fe=o.stateNode,Et=!1;break e;case 3:Fe=o.stateNode.containerInfo,Et=!0;break e;case 4:Fe=o.stateNode.containerInfo,Et=!0;break e}o=o.return}if(Fe===null)throw Error(I(160));N0(a,l,r),Fe=null,Et=!1;var c=r.alternate;c!==null&&(c.return=null),r.return=null}catch(d){be(r,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)_0(t,e),t=t.sibling}function _0(e,t){var s=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Pt(t,e),Ht(e),n&4){try{di(3,e,e.return),mo(3,e)}catch(g){be(e,e.return,g)}try{di(5,e,e.return)}catch(g){be(e,e.return,g)}}break;case 1:Pt(t,e),Ht(e),n&512&&s!==null&&sr(s,s.return);break;case 5:if(Pt(t,e),Ht(e),n&512&&s!==null&&sr(s,s.return),e.flags&32){var r=e.stateNode;try{vi(r,"")}catch(g){be(e,e.return,g)}}if(n&4&&(r=e.stateNode,r!=null)){var a=e.memoizedProps,l=s!==null?s.memoizedProps:a,o=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&Yp(r,a),Bc(o,l);var d=Bc(o,a);for(l=0;l<c.length;l+=2){var u=c[l],h=c[l+1];u==="style"?Gp(r,h):u==="dangerouslySetInnerHTML"?Qp(r,h):u==="children"?vi(r,h):Qd(r,u,h,d)}switch(o){case"input":Fc(r,a);break;case"textarea":qp(r,a);break;case"select":var m=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!a.multiple;var v=a.value;v!=null?ir(r,!!a.multiple,v,!1):m!==!!a.multiple&&(a.defaultValue!=null?ir(r,!!a.multiple,a.defaultValue,!0):ir(r,!!a.multiple,a.multiple?[]:"",!1))}r[Pi]=a}catch(g){be(e,e.return,g)}}break;case 6:if(Pt(t,e),Ht(e),n&4){if(e.stateNode===null)throw Error(I(162));r=e.stateNode,a=e.memoizedProps;try{r.nodeValue=a}catch(g){be(e,e.return,g)}}break;case 3:if(Pt(t,e),Ht(e),n&4&&s!==null&&s.memoizedState.isDehydrated)try{Ni(t.containerInfo)}catch(g){be(e,e.return,g)}break;case 4:Pt(t,e),Ht(e);break;case 13:Pt(t,e),Ht(e),r=e.child,r.flags&8192&&(a=r.memoizedState!==null,r.stateNode.isHidden=a,!a||r.alternate!==null&&r.alternate.memoizedState!==null||(Pu=we())),n&4&&xf(e);break;case 22:if(u=s!==null&&s.memoizedState!==null,e.mode&1?(He=(d=He)||u,Pt(t,e),He=d):Pt(t,e),Ht(e),n&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!u&&e.mode&1)for($=e,u=e.child;u!==null;){for(h=$=u;$!==null;){switch(m=$,v=m.child,m.tag){case 0:case 11:case 14:case 15:di(4,m,m.return);break;case 1:sr(m,m.return);var y=m.stateNode;if(typeof y.componentWillUnmount=="function"){n=m,s=m.return;try{t=n,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(g){be(n,s,g)}}break;case 5:sr(m,m.return);break;case 22:if(m.memoizedState!==null){yf(h);continue}}v!==null?(v.return=m,$=v):yf(h)}u=u.sibling}e:for(u=null,h=e;;){if(h.tag===5){if(u===null){u=h;try{r=h.stateNode,d?(a=r.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=h.stateNode,c=h.memoizedProps.style,l=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=Kp("display",l))}catch(g){be(e,e.return,g)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(g){be(e,e.return,g)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Pt(t,e),Ht(e),n&4&&xf(e);break;case 21:break;default:Pt(t,e),Ht(e)}}function Ht(e){var t=e.flags;if(t&2){try{e:{for(var s=e.return;s!==null;){if(w0(s)){var n=s;break e}s=s.return}throw Error(I(160))}switch(n.tag){case 5:var r=n.stateNode;n.flags&32&&(vi(r,""),n.flags&=-33);var a=pf(e);xd(e,a,r);break;case 3:case 4:var l=n.stateNode.containerInfo,o=pf(e);pd(e,o,l);break;default:throw Error(I(161))}}catch(c){be(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Fb(e,t,s){$=e,k0(e)}function k0(e,t,s){for(var n=(e.mode&1)!==0;$!==null;){var r=$,a=r.child;if(r.tag===22&&n){var l=r.memoizedState!==null||va;if(!l){var o=r.alternate,c=o!==null&&o.memoizedState!==null||He;o=va;var d=He;if(va=l,(He=c)&&!d)for($=r;$!==null;)l=$,c=l.child,l.tag===22&&l.memoizedState!==null?vf(r):c!==null?(c.return=l,$=c):vf(r);for(;a!==null;)$=a,k0(a),a=a.sibling;$=r,va=o,He=d}gf(e)}else r.subtreeFlags&8772&&a!==null?(a.return=r,$=a):gf(e)}}function gf(e){for(;$!==null;){var t=$;if(t.flags&8772){var s=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:He||mo(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!He)if(s===null)n.componentDidMount();else{var r=t.elementType===t.type?s.memoizedProps:Mt(t.type,s.memoizedProps);n.componentDidUpdate(r,s.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&ef(t,a,n);break;case 3:var l=t.updateQueue;if(l!==null){if(s=null,t.child!==null)switch(t.child.tag){case 5:s=t.child.stateNode;break;case 1:s=t.child.stateNode}ef(t,l,s)}break;case 5:var o=t.stateNode;if(s===null&&t.flags&4){s=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&s.focus();break;case"img":c.src&&(s.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&Ni(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(I(163))}He||t.flags&512&&md(t)}catch(m){be(t,t.return,m)}}if(t===e){$=null;break}if(s=t.sibling,s!==null){s.return=t.return,$=s;break}$=t.return}}function yf(e){for(;$!==null;){var t=$;if(t===e){$=null;break}var s=t.sibling;if(s!==null){s.return=t.return,$=s;break}$=t.return}}function vf(e){for(;$!==null;){var t=$;try{switch(t.tag){case 0:case 11:case 15:var s=t.return;try{mo(4,t)}catch(c){be(t,s,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var r=t.return;try{n.componentDidMount()}catch(c){be(t,r,c)}}var a=t.return;try{md(t)}catch(c){be(t,a,c)}break;case 5:var l=t.return;try{md(t)}catch(c){be(t,l,c)}}}catch(c){be(t,t.return,c)}if(t===e){$=null;break}var o=t.sibling;if(o!==null){o.return=t.return,$=o;break}$=t.return}}var Ab=Math.ceil,El=xs.ReactCurrentDispatcher,Su=xs.ReactCurrentOwner,wt=xs.ReactCurrentBatchConfig,te=0,Le=null,Ce=null,Ae=0,ut=0,nr=Js(0),Ee=0,Li=null,Mn=0,po=0,Cu=0,ui=null,tt=null,Pu=0,vr=1/0,ts=null,Tl=!1,gd=null,Bs=null,ba=!1,Ss=null,Dl=0,hi=0,yd=null,Ka=-1,Ga=0;function Qe(){return te&6?we():Ka!==-1?Ka:Ka=we()}function Ws(e){return e.mode&1?te&2&&Ae!==0?Ae&-Ae:vb.transition!==null?(Ga===0&&(Ga=cx()),Ga):(e=le,e!==0||(e=window.event,e=e===void 0?16:xx(e.type)),e):1}function Rt(e,t,s,n){if(50<hi)throw hi=0,yd=null,Error(I(185));Xi(e,s,n),(!(te&2)||e!==Le)&&(e===Le&&(!(te&2)&&(po|=s),Ee===4&&_s(e,Ae)),at(e,n),s===1&&te===0&&!(t.mode&1)&&(vr=we()+500,uo&&Zs()))}function at(e,t){var s=e.callbackNode;vv(e,t);var n=pl(e,e===Le?Ae:0);if(n===0)s!==null&&Ch(s),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(s!=null&&Ch(s),t===1)e.tag===0?yb(bf.bind(null,e)):Fx(bf.bind(null,e)),mb(function(){!(te&6)&&Zs()}),s=null;else{switch(dx(n)){case 1:s=eu;break;case 4:s=lx;break;case 16:s=ml;break;case 536870912:s=ox;break;default:s=ml}s=R0(s,S0.bind(null,e))}e.callbackPriority=t,e.callbackNode=s}}function S0(e,t){if(Ka=-1,Ga=0,te&6)throw Error(I(327));var s=e.callbackNode;if(dr()&&e.callbackNode!==s)return null;var n=pl(e,e===Le?Ae:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Rl(e,n);else{t=n;var r=te;te|=2;var a=P0();(Le!==e||Ae!==t)&&(ts=null,vr=we()+500,jn(e,t));do try{Ib();break}catch(o){C0(e,o)}while(1);fu(),El.current=a,te=r,Ce!==null?t=0:(Le=null,Ae=0,t=Ee)}if(t!==0){if(t===2&&(r=$c(e),r!==0&&(n=r,t=vd(e,r))),t===1)throw s=Li,jn(e,0),_s(e,n),at(e,we()),s;if(t===6)_s(e,n);else{if(r=e.current.alternate,!(n&30)&&!Ob(r)&&(t=Rl(e,n),t===2&&(a=$c(e),a!==0&&(n=a,t=vd(e,a))),t===1))throw s=Li,jn(e,0),_s(e,n),at(e,we()),s;switch(e.finishedWork=r,e.finishedLanes=n,t){case 0:case 1:throw Error(I(345));case 2:un(e,tt,ts);break;case 3:if(_s(e,n),(n&130023424)===n&&(t=Pu+500-we(),10<t)){if(pl(e,0)!==0)break;if(r=e.suspendedLanes,(r&n)!==n){Qe(),e.pingedLanes|=e.suspendedLanes&r;break}e.timeoutHandle=Zc(un.bind(null,e,tt,ts),t);break}un(e,tt,ts);break;case 4:if(_s(e,n),(n&4194240)===n)break;for(t=e.eventTimes,r=-1;0<n;){var l=31-Dt(n);a=1<<l,l=t[l],l>r&&(r=l),n&=~a}if(n=r,n=we()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Ab(n/1960))-n,10<n){e.timeoutHandle=Zc(un.bind(null,e,tt,ts),n);break}un(e,tt,ts);break;case 5:un(e,tt,ts);break;default:throw Error(I(329))}}}return at(e,we()),e.callbackNode===s?S0.bind(null,e):null}function vd(e,t){var s=ui;return e.current.memoizedState.isDehydrated&&(jn(e,t).flags|=256),e=Rl(e,t),e!==2&&(t=tt,tt=s,t!==null&&bd(t)),e}function bd(e){tt===null?tt=e:tt.push.apply(tt,e)}function Ob(e){for(var t=e;;){if(t.flags&16384){var s=t.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var n=0;n<s.length;n++){var r=s[n],a=r.getSnapshot;r=r.value;try{if(!At(a(),r))return!1}catch{return!1}}}if(s=t.child,t.subtreeFlags&16384&&s!==null)s.return=t,t=s;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function _s(e,t){for(t&=~Cu,t&=~po,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var s=31-Dt(t),n=1<<s;e[s]=-1,t&=~n}}function bf(e){if(te&6)throw Error(I(327));dr();var t=pl(e,0);if(!(t&1))return at(e,we()),null;var s=Rl(e,t);if(e.tag!==0&&s===2){var n=$c(e);n!==0&&(t=n,s=vd(e,n))}if(s===1)throw s=Li,jn(e,0),_s(e,t),at(e,we()),s;if(s===6)throw Error(I(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,un(e,tt,ts),at(e,we()),null}function Mu(e,t){var s=te;te|=1;try{return e(t)}finally{te=s,te===0&&(vr=we()+500,uo&&Zs())}}function En(e){Ss!==null&&Ss.tag===0&&!(te&6)&&dr();var t=te;te|=1;var s=wt.transition,n=le;try{if(wt.transition=null,le=1,e)return e()}finally{le=n,wt.transition=s,te=t,!(te&6)&&Zs()}}function Eu(){ut=nr.current,he(nr)}function jn(e,t){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(s!==-1&&(e.timeoutHandle=-1,fb(s)),Ce!==null)for(s=Ce.return;s!==null;){var n=s;switch(du(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&bl();break;case 3:gr(),he(rt),he(Ye),vu();break;case 5:yu(n);break;case 4:gr();break;case 13:he(xe);break;case 19:he(xe);break;case 10:mu(n.type._context);break;case 22:case 23:Eu()}s=s.return}if(Le=e,Ce=e=Hs(e.current,null),Ae=ut=t,Ee=0,Li=null,Cu=po=Mn=0,tt=ui=null,xn!==null){for(t=0;t<xn.length;t++)if(s=xn[t],n=s.interleaved,n!==null){s.interleaved=null;var r=n.next,a=s.pending;if(a!==null){var l=a.next;a.next=r,n.next=l}s.pending=n}xn=null}return e}function C0(e,t){do{var s=Ce;try{if(fu(),qa.current=Ml,Pl){for(var n=ge.memoizedState;n!==null;){var r=n.queue;r!==null&&(r.pending=null),n=n.next}Pl=!1}if(Pn=0,De=Me=ge=null,ci=!1,Ti=0,Su.current=null,s===null||s.return===null){Ee=1,Li=t,Ce=null;break}e:{var a=e,l=s.return,o=s,c=t;if(t=Ae,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=o,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var m=u.alternate;m?(u.updateQueue=m.updateQueue,u.memoizedState=m.memoizedState,u.lanes=m.lanes):(u.updateQueue=null,u.memoizedState=null)}var v=lf(l);if(v!==null){v.flags&=-257,of(v,l,o,a,t),v.mode&1&&af(a,d,t),t=v,c=d;var y=t.updateQueue;if(y===null){var g=new Set;g.add(c),t.updateQueue=g}else y.add(c);break e}else{if(!(t&1)){af(a,d,t),Tu();break e}c=Error(I(426))}}else if(fe&&o.mode&1){var b=lf(l);if(b!==null){!(b.flags&65536)&&(b.flags|=256),of(b,l,o,a,t),uu(yr(c,o));break e}}a=c=yr(c,o),Ee!==4&&(Ee=2),ui===null?ui=[a]:ui.push(a),a=l;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var f=d0(a,c,t);Zh(a,f);break e;case 1:o=c;var p=a.type,x=a.stateNode;if(!(a.flags&128)&&(typeof p.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Bs===null||!Bs.has(x)))){a.flags|=65536,t&=-t,a.lanes|=t;var j=u0(a,o,t);Zh(a,j);break e}}a=a.return}while(a!==null)}E0(s)}catch(w){t=w,Ce===s&&s!==null&&(Ce=s=s.return);continue}break}while(1)}function P0(){var e=El.current;return El.current=Ml,e===null?Ml:e}function Tu(){(Ee===0||Ee===3||Ee===2)&&(Ee=4),Le===null||!(Mn&268435455)&&!(po&268435455)||_s(Le,Ae)}function Rl(e,t){var s=te;te|=2;var n=P0();(Le!==e||Ae!==t)&&(ts=null,jn(e,t));do try{zb();break}catch(r){C0(e,r)}while(1);if(fu(),te=s,El.current=n,Ce!==null)throw Error(I(261));return Le=null,Ae=0,Ee}function zb(){for(;Ce!==null;)M0(Ce)}function Ib(){for(;Ce!==null&&!dv();)M0(Ce)}function M0(e){var t=D0(e.alternate,e,ut);e.memoizedProps=e.pendingProps,t===null?E0(e):Ce=t,Su.current=null}function E0(e){var t=e;do{var s=t.alternate;if(e=t.return,t.flags&32768){if(s=Db(s,t),s!==null){s.flags&=32767,Ce=s;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ee=6,Ce=null;return}}else if(s=Tb(s,t,ut),s!==null){Ce=s;return}if(t=t.sibling,t!==null){Ce=t;return}Ce=t=e}while(t!==null);Ee===0&&(Ee=5)}function un(e,t,s){var n=le,r=wt.transition;try{wt.transition=null,le=1,Bb(e,t,s,n)}finally{wt.transition=r,le=n}return null}function Bb(e,t,s,n){do dr();while(Ss!==null);if(te&6)throw Error(I(327));s=e.finishedWork;var r=e.finishedLanes;if(s===null)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error(I(177));e.callbackNode=null,e.callbackPriority=0;var a=s.lanes|s.childLanes;if(bv(e,a),e===Le&&(Ce=Le=null,Ae=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||ba||(ba=!0,R0(ml,function(){return dr(),null})),a=(s.flags&15990)!==0,s.subtreeFlags&15990||a){a=wt.transition,wt.transition=null;var l=le;le=1;var o=te;te|=4,Su.current=null,Lb(e,s),_0(s,e),ab(Gc),xl=!!Kc,Gc=Kc=null,e.current=s,Fb(s),uv(),te=o,le=l,wt.transition=a}else e.current=s;if(ba&&(ba=!1,Ss=e,Dl=r),a=e.pendingLanes,a===0&&(Bs=null),mv(s.stateNode),at(e,we()),t!==null)for(n=e.onRecoverableError,s=0;s<t.length;s++)r=t[s],n(r.value,{componentStack:r.stack,digest:r.digest});if(Tl)throw Tl=!1,e=gd,gd=null,e;return Dl&1&&e.tag!==0&&dr(),a=e.pendingLanes,a&1?e===yd?hi++:(hi=0,yd=e):hi=0,Zs(),null}function dr(){if(Ss!==null){var e=dx(Dl),t=wt.transition,s=le;try{if(wt.transition=null,le=16>e?16:e,Ss===null)var n=!1;else{if(e=Ss,Ss=null,Dl=0,te&6)throw Error(I(331));var r=te;for(te|=4,$=e.current;$!==null;){var a=$,l=a.child;if($.flags&16){var o=a.deletions;if(o!==null){for(var c=0;c<o.length;c++){var d=o[c];for($=d;$!==null;){var u=$;switch(u.tag){case 0:case 11:case 15:di(8,u,a)}var h=u.child;if(h!==null)h.return=u,$=h;else for(;$!==null;){u=$;var m=u.sibling,v=u.return;if(j0(u),u===d){$=null;break}if(m!==null){m.return=v,$=m;break}$=v}}}var y=a.alternate;if(y!==null){var g=y.child;if(g!==null){y.child=null;do{var b=g.sibling;g.sibling=null,g=b}while(g!==null)}}$=a}}if(a.subtreeFlags&2064&&l!==null)l.return=a,$=l;else e:for(;$!==null;){if(a=$,a.flags&2048)switch(a.tag){case 0:case 11:case 15:di(9,a,a.return)}var f=a.sibling;if(f!==null){f.return=a.return,$=f;break e}$=a.return}}var p=e.current;for($=p;$!==null;){l=$;var x=l.child;if(l.subtreeFlags&2064&&x!==null)x.return=l,$=x;else e:for(l=p;$!==null;){if(o=$,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:mo(9,o)}}catch(w){be(o,o.return,w)}if(o===l){$=null;break e}var j=o.sibling;if(j!==null){j.return=o.return,$=j;break e}$=o.return}}if(te=r,Zs(),Qt&&typeof Qt.onPostCommitFiberRoot=="function")try{Qt.onPostCommitFiberRoot(io,e)}catch{}n=!0}return n}finally{le=s,wt.transition=t}}return!1}function jf(e,t,s){t=yr(s,t),t=d0(e,t,1),e=Is(e,t,1),t=Qe(),e!==null&&(Xi(e,1,t),at(e,t))}function be(e,t,s){if(e.tag===3)jf(e,e,s);else for(;t!==null;){if(t.tag===3){jf(t,e,s);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Bs===null||!Bs.has(n))){e=yr(s,e),e=u0(t,e,1),t=Is(t,e,1),e=Qe(),t!==null&&(Xi(t,1,e),at(t,e));break}}t=t.return}}function Wb(e,t,s){var n=e.pingCache;n!==null&&n.delete(t),t=Qe(),e.pingedLanes|=e.suspendedLanes&s,Le===e&&(Ae&s)===s&&(Ee===4||Ee===3&&(Ae&130023424)===Ae&&500>we()-Pu?jn(e,0):Cu|=s),at(e,t)}function T0(e,t){t===0&&(e.mode&1?(t=da,da<<=1,!(da&130023424)&&(da=4194304)):t=1);var s=Qe();e=fs(e,t),e!==null&&(Xi(e,t,s),at(e,s))}function Hb(e){var t=e.memoizedState,s=0;t!==null&&(s=t.retryLane),T0(e,s)}function Vb(e,t){var s=0;switch(e.tag){case 13:var n=e.stateNode,r=e.memoizedState;r!==null&&(s=r.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(I(314))}n!==null&&n.delete(t),T0(e,s)}var D0;D0=function(e,t,s){if(e!==null)if(e.memoizedProps!==t.pendingProps||rt.current)nt=!0;else{if(!(e.lanes&s)&&!(t.flags&128))return nt=!1,Eb(e,t,s);nt=!!(e.flags&131072)}else nt=!1,fe&&t.flags&1048576&&Ax(t,Nl,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Qa(e,t),e=t.pendingProps;var r=mr(t,Ye.current);cr(t,s),r=ju(null,t,n,e,r,s);var a=wu();return t.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,it(n)?(a=!0,jl(t)):a=!1,t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,xu(t),r.updater=fo,t.stateNode=r,r._reactInternals=t,ad(t,n,e,s),t=cd(null,t,n,!0,a,s)):(t.tag=0,fe&&a&&cu(t),Xe(null,t,r,s),t=t.child),t;case 16:n=t.elementType;e:{switch(Qa(e,t),e=t.pendingProps,r=n._init,n=r(n._payload),t.type=n,r=t.tag=$b(n),e=Mt(n,e),r){case 0:t=od(null,t,n,e,s);break e;case 1:t=uf(null,t,n,e,s);break e;case 11:t=cf(null,t,n,e,s);break e;case 14:t=df(null,t,n,Mt(n.type,e),s);break e}throw Error(I(306,n,""))}return t;case 0:return n=t.type,r=t.pendingProps,r=t.elementType===n?r:Mt(n,r),od(e,t,n,r,s);case 1:return n=t.type,r=t.pendingProps,r=t.elementType===n?r:Mt(n,r),uf(e,t,n,r,s);case 3:e:{if(p0(t),e===null)throw Error(I(387));n=t.pendingProps,a=t.memoizedState,r=a.element,Hx(e,t),Sl(t,n,null,s);var l=t.memoizedState;if(n=l.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){r=yr(Error(I(423)),t),t=hf(e,t,n,s,r);break e}else if(n!==r){r=yr(Error(I(424)),t),t=hf(e,t,n,s,r);break e}else for(ht=zs(t.stateNode.containerInfo.firstChild),ft=t,fe=!0,Tt=null,s=Bx(t,null,n,s),t.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(pr(),n===r){t=ms(e,t,s);break e}Xe(e,t,n,s)}t=t.child}return t;case 5:return Vx(t),e===null&&nd(t),n=t.type,r=t.pendingProps,a=e!==null?e.memoizedProps:null,l=r.children,Jc(n,r)?l=null:a!==null&&Jc(n,a)&&(t.flags|=32),m0(e,t),Xe(e,t,l,s),t.child;case 6:return e===null&&nd(t),null;case 13:return x0(e,t,s);case 4:return gu(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=xr(t,null,n,s):Xe(e,t,n,s),t.child;case 11:return n=t.type,r=t.pendingProps,r=t.elementType===n?r:Mt(n,r),cf(e,t,n,r,s);case 7:return Xe(e,t,t.pendingProps,s),t.child;case 8:return Xe(e,t,t.pendingProps.children,s),t.child;case 12:return Xe(e,t,t.pendingProps.children,s),t.child;case 10:e:{if(n=t.type._context,r=t.pendingProps,a=t.memoizedProps,l=r.value,de(_l,n._currentValue),n._currentValue=l,a!==null)if(At(a.value,l)){if(a.children===r.children&&!rt.current){t=ms(e,t,s);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var o=a.dependencies;if(o!==null){l=a.child;for(var c=o.firstContext;c!==null;){if(c.context===n){if(a.tag===1){c=cs(-1,s&-s),c.tag=2;var d=a.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}a.lanes|=s,c=a.alternate,c!==null&&(c.lanes|=s),rd(a.return,s,t),o.lanes|=s;break}c=c.next}}else if(a.tag===10)l=a.type===t.type?null:a.child;else if(a.tag===18){if(l=a.return,l===null)throw Error(I(341));l.lanes|=s,o=l.alternate,o!==null&&(o.lanes|=s),rd(l,s,t),l=a.sibling}else l=a.child;if(l!==null)l.return=a;else for(l=a;l!==null;){if(l===t){l=null;break}if(a=l.sibling,a!==null){a.return=l.return,l=a;break}l=l.return}a=l}Xe(e,t,r.children,s),t=t.child}return t;case 9:return r=t.type,n=t.pendingProps.children,cr(t,s),r=_t(r),n=n(r),t.flags|=1,Xe(e,t,n,s),t.child;case 14:return n=t.type,r=Mt(n,t.pendingProps),r=Mt(n.type,r),df(e,t,n,r,s);case 15:return h0(e,t,t.type,t.pendingProps,s);case 17:return n=t.type,r=t.pendingProps,r=t.elementType===n?r:Mt(n,r),Qa(e,t),t.tag=1,it(n)?(e=!0,jl(t)):e=!1,cr(t,s),c0(t,n,r),ad(t,n,r,s),cd(null,t,n,!0,e,s);case 19:return g0(e,t,s);case 22:return f0(e,t,s)}throw Error(I(156,t.tag))};function R0(e,t){return ax(e,t)}function Ub(e,t,s,n){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bt(e,t,s,n){return new Ub(e,t,s,n)}function Du(e){return e=e.prototype,!(!e||!e.isReactComponent)}function $b(e){if(typeof e=="function")return Du(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Gd)return 11;if(e===Jd)return 14}return 2}function Hs(e,t){var s=e.alternate;return s===null?(s=bt(e.tag,t,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=t,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&14680064,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,t=e.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function Ja(e,t,s,n,r,a){var l=2;if(n=e,typeof e=="function")Du(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case qn:return wn(s.children,r,a,t);case Kd:l=8,r|=8;break;case Ec:return e=bt(12,s,t,r|2),e.elementType=Ec,e.lanes=a,e;case Tc:return e=bt(13,s,t,r),e.elementType=Tc,e.lanes=a,e;case Dc:return e=bt(19,s,t,r),e.elementType=Dc,e.lanes=a,e;case Vp:return xo(s,r,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Wp:l=10;break e;case Hp:l=9;break e;case Gd:l=11;break e;case Jd:l=14;break e;case js:l=16,n=null;break e}throw Error(I(130,e==null?e:typeof e,""))}return t=bt(l,s,t,r),t.elementType=e,t.type=n,t.lanes=a,t}function wn(e,t,s,n){return e=bt(7,e,n,t),e.lanes=s,e}function xo(e,t,s,n){return e=bt(22,e,n,t),e.elementType=Vp,e.lanes=s,e.stateNode={isHidden:!1},e}function ac(e,t,s){return e=bt(6,e,null,t),e.lanes=s,e}function lc(e,t,s){return t=bt(4,e.children!==null?e.children:[],e.key,t),t.lanes=s,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Yb(e,t,s,n,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Wo(0),this.expirationTimes=Wo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wo(0),this.identifierPrefix=n,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Ru(e,t,s,n,r,a,l,o,c){return e=new Yb(e,t,s,o,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=bt(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},xu(a),e}function qb(e,t,s){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Yn,key:n==null?null:""+n,children:e,containerInfo:t,implementation:s}}function L0(e){if(!e)return qs;e=e._reactInternals;e:{if(In(e)!==e||e.tag!==1)throw Error(I(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(it(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(I(171))}if(e.tag===1){var s=e.type;if(it(s))return Lx(e,s,t)}return t}function F0(e,t,s,n,r,a,l,o,c){return e=Ru(s,n,!0,e,r,a,l,o,c),e.context=L0(null),s=e.current,n=Qe(),r=Ws(s),a=cs(n,r),a.callback=t??null,Is(s,a,r),e.current.lanes=r,Xi(e,r,n),at(e,n),e}function go(e,t,s,n){var r=t.current,a=Qe(),l=Ws(r);return s=L0(s),t.context===null?t.context=s:t.pendingContext=s,t=cs(a,l),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Is(r,t,l),e!==null&&(Rt(e,r,l,a),Ya(e,r,l)),l}function Ll(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function wf(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<t?s:t}}function Lu(e,t){wf(e,t),(e=e.alternate)&&wf(e,t)}function Xb(){return null}var A0=typeof reportError=="function"?reportError:function(e){console.error(e)};function Fu(e){this._internalRoot=e}yo.prototype.render=Fu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(I(409));go(e,t,null,null)};yo.prototype.unmount=Fu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;En(function(){go(null,e,null,null)}),t[hs]=null}};function yo(e){this._internalRoot=e}yo.prototype.unstable_scheduleHydration=function(e){if(e){var t=fx();e={blockedOn:null,target:e,priority:t};for(var s=0;s<Ns.length&&t!==0&&t<Ns[s].priority;s++);Ns.splice(s,0,e),s===0&&px(e)}};function Au(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function vo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Nf(){}function Qb(e,t,s,n,r){if(r){if(typeof n=="function"){var a=n;n=function(){var d=Ll(l);a.call(d)}}var l=F0(t,n,e,0,null,!1,!1,"",Nf);return e._reactRootContainer=l,e[hs]=l.current,Si(e.nodeType===8?e.parentNode:e),En(),l}for(;r=e.lastChild;)e.removeChild(r);if(typeof n=="function"){var o=n;n=function(){var d=Ll(c);o.call(d)}}var c=Ru(e,0,!1,null,null,!1,!1,"",Nf);return e._reactRootContainer=c,e[hs]=c.current,Si(e.nodeType===8?e.parentNode:e),En(function(){go(t,c,s,n)}),c}function bo(e,t,s,n,r){var a=s._reactRootContainer;if(a){var l=a;if(typeof r=="function"){var o=r;r=function(){var c=Ll(l);o.call(c)}}go(t,l,e,r)}else l=Qb(s,t,e,r,n);return Ll(l)}ux=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var s=Kr(t.pendingLanes);s!==0&&(tu(t,s|1),at(t,we()),!(te&6)&&(vr=we()+500,Zs()))}break;case 13:En(function(){var n=fs(e,1);if(n!==null){var r=Qe();Rt(n,e,1,r)}}),Lu(e,1)}};su=function(e){if(e.tag===13){var t=fs(e,134217728);if(t!==null){var s=Qe();Rt(t,e,134217728,s)}Lu(e,134217728)}};hx=function(e){if(e.tag===13){var t=Ws(e),s=fs(e,t);if(s!==null){var n=Qe();Rt(s,e,t,n)}Lu(e,t)}};fx=function(){return le};mx=function(e,t){var s=le;try{return le=e,t()}finally{le=s}};Hc=function(e,t,s){switch(t){case"input":if(Fc(e,s),t=s.name,s.type==="radio"&&t!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<s.length;t++){var n=s[t];if(n!==e&&n.form===e.form){var r=co(n);if(!r)throw Error(I(90));$p(n),Fc(n,r)}}}break;case"textarea":qp(e,s);break;case"select":t=s.value,t!=null&&ir(e,!!s.multiple,t,!1)}};ex=Mu;tx=En;var Kb={usingClientEntryPoint:!1,Events:[Ki,Gn,co,Jp,Zp,Mu]},Ir={findFiberByHostInstance:pn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Gb={bundleType:Ir.bundleType,version:Ir.version,rendererPackageName:Ir.rendererPackageName,rendererConfig:Ir.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:xs.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=rx(e),e===null?null:e.stateNode},findFiberByHostInstance:Ir.findFiberByHostInstance||Xb,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ja=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ja.isDisabled&&ja.supportsFiber)try{io=ja.inject(Gb),Qt=ja}catch{}}pt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Kb;pt.createPortal=function(e,t){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Au(t))throw Error(I(200));return qb(e,t,null,s)};pt.createRoot=function(e,t){if(!Au(e))throw Error(I(299));var s=!1,n="",r=A0;return t!=null&&(t.unstable_strictMode===!0&&(s=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(r=t.onRecoverableError)),t=Ru(e,1,!1,null,null,s,!1,n,r),e[hs]=t.current,Si(e.nodeType===8?e.parentNode:e),new Fu(t)};pt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(I(188)):(e=Object.keys(e).join(","),Error(I(268,e)));return e=rx(t),e=e===null?null:e.stateNode,e};pt.flushSync=function(e){return En(e)};pt.hydrate=function(e,t,s){if(!vo(t))throw Error(I(200));return bo(null,e,t,!0,s)};pt.hydrateRoot=function(e,t,s){if(!Au(e))throw Error(I(405));var n=s!=null&&s.hydratedSources||null,r=!1,a="",l=A0;if(s!=null&&(s.unstable_strictMode===!0&&(r=!0),s.identifierPrefix!==void 0&&(a=s.identifierPrefix),s.onRecoverableError!==void 0&&(l=s.onRecoverableError)),t=F0(t,null,e,1,s??null,r,!1,a,l),e[hs]=t.current,Si(e),n)for(e=0;e<n.length;e++)s=n[e],r=s._getVersion,r=r(s._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[s,r]:t.mutableSourceEagerHydrationData.push(s,r);return new yo(t)};pt.render=function(e,t,s){if(!vo(t))throw Error(I(200));return bo(null,e,t,!1,s)};pt.unmountComponentAtNode=function(e){if(!vo(e))throw Error(I(40));return e._reactRootContainer?(En(function(){bo(null,null,e,!1,function(){e._reactRootContainer=null,e[hs]=null})}),!0):!1};pt.unstable_batchedUpdates=Mu;pt.unstable_renderSubtreeIntoContainer=function(e,t,s,n){if(!vo(s))throw Error(I(200));if(e==null||e._reactInternals===void 0)throw Error(I(38));return bo(e,t,s,!1,n)};pt.version="18.3.1-next-f1338f8080-20240426";function O0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(O0)}catch(e){console.error(e)}}O0(),Op.exports=pt;var Jb=Op.exports,_f=Jb;Pc.createRoot=_f.createRoot,Pc.hydrateRoot=_f.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fi(){return Fi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},Fi.apply(this,arguments)}var Cs;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Cs||(Cs={}));const kf="popstate";function Zb(e){e===void 0&&(e={});function t(n,r){let{pathname:a,search:l,hash:o}=n.location;return jd("",{pathname:a,search:l,hash:o},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function s(n,r){return typeof r=="string"?r:Fl(r)}return t1(t,s,null,e)}function _e(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function z0(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function e1(){return Math.random().toString(36).substr(2,8)}function Sf(e,t){return{usr:e.state,key:e.key,idx:t}}function jd(e,t,s,n){return s===void 0&&(s=null),Fi({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Sr(t):t,{state:s,key:t&&t.key||n||e1()})}function Fl(e){let{pathname:t="/",search:s="",hash:n=""}=e;return s&&s!=="?"&&(t+=s.charAt(0)==="?"?s:"?"+s),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Sr(e){let t={};if(e){let s=e.indexOf("#");s>=0&&(t.hash=e.substr(s),e=e.substr(0,s));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function t1(e,t,s,n){n===void 0&&(n={});let{window:r=document.defaultView,v5Compat:a=!1}=n,l=r.history,o=Cs.Pop,c=null,d=u();d==null&&(d=0,l.replaceState(Fi({},l.state,{idx:d}),""));function u(){return(l.state||{idx:null}).idx}function h(){o=Cs.Pop;let b=u(),f=b==null?null:b-d;d=b,c&&c({action:o,location:g.location,delta:f})}function m(b,f){o=Cs.Push;let p=jd(g.location,b,f);s&&s(p,b),d=u()+1;let x=Sf(p,d),j=g.createHref(p);try{l.pushState(x,"",j)}catch(w){if(w instanceof DOMException&&w.name==="DataCloneError")throw w;r.location.assign(j)}a&&c&&c({action:o,location:g.location,delta:1})}function v(b,f){o=Cs.Replace;let p=jd(g.location,b,f);s&&s(p,b),d=u();let x=Sf(p,d),j=g.createHref(p);l.replaceState(x,"",j),a&&c&&c({action:o,location:g.location,delta:0})}function y(b){let f=r.location.origin!=="null"?r.location.origin:r.location.href,p=typeof b=="string"?b:Fl(b);return p=p.replace(/ $/,"%20"),_e(f,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,f)}let g={get action(){return o},get location(){return e(r,l)},listen(b){if(c)throw new Error("A history only accepts one active listener");return r.addEventListener(kf,h),c=b,()=>{r.removeEventListener(kf,h),c=null}},createHref(b){return t(r,b)},createURL:y,encodeLocation(b){let f=y(b);return{pathname:f.pathname,search:f.search,hash:f.hash}},push:m,replace:v,go(b){return l.go(b)}};return g}var Cf;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Cf||(Cf={}));function s1(e,t,s){return s===void 0&&(s="/"),n1(e,t,s,!1)}function n1(e,t,s,n){let r=typeof t=="string"?Sr(t):t,a=Ou(r.pathname||"/",s);if(a==null)return null;let l=I0(e);r1(l);let o=null;for(let c=0;o==null&&c<l.length;++c){let d=p1(a);o=f1(l[c],d,n)}return o}function I0(e,t,s,n){t===void 0&&(t=[]),s===void 0&&(s=[]),n===void 0&&(n="");let r=(a,l,o)=>{let c={relativePath:o===void 0?a.path||"":o,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};c.relativePath.startsWith("/")&&(_e(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let d=Vs([n,c.relativePath]),u=s.concat(c);a.children&&a.children.length>0&&(_e(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),I0(a.children,t,u,d)),!(a.path==null&&!a.index)&&t.push({path:d,score:u1(d,a.index),routesMeta:u})};return e.forEach((a,l)=>{var o;if(a.path===""||!((o=a.path)!=null&&o.includes("?")))r(a,l);else for(let c of B0(a.path))r(a,l,c)}),t}function B0(e){let t=e.split("/");if(t.length===0)return[];let[s,...n]=t,r=s.endsWith("?"),a=s.replace(/\?$/,"");if(n.length===0)return r?[a,""]:[a];let l=B0(n.join("/")),o=[];return o.push(...l.map(c=>c===""?a:[a,c].join("/"))),r&&o.push(...l),o.map(c=>e.startsWith("/")&&c===""?"/":c)}function r1(e){e.sort((t,s)=>t.score!==s.score?s.score-t.score:h1(t.routesMeta.map(n=>n.childrenIndex),s.routesMeta.map(n=>n.childrenIndex)))}const i1=/^:[\w-]+$/,a1=3,l1=2,o1=1,c1=10,d1=-2,Pf=e=>e==="*";function u1(e,t){let s=e.split("/"),n=s.length;return s.some(Pf)&&(n+=d1),t&&(n+=l1),s.filter(r=>!Pf(r)).reduce((r,a)=>r+(i1.test(a)?a1:a===""?o1:c1),n)}function h1(e,t){return e.length===t.length&&e.slice(0,-1).every((n,r)=>n===t[r])?e[e.length-1]-t[t.length-1]:0}function f1(e,t,s){s===void 0&&(s=!1);let{routesMeta:n}=e,r={},a="/",l=[];for(let o=0;o<n.length;++o){let c=n[o],d=o===n.length-1,u=a==="/"?t:t.slice(a.length)||"/",h=Mf({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),m=c.route;if(!h&&d&&s&&!n[n.length-1].route.index&&(h=Mf({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},u)),!h)return null;Object.assign(r,h.params),l.push({params:r,pathname:Vs([a,h.pathname]),pathnameBase:v1(Vs([a,h.pathnameBase])),route:m}),h.pathnameBase!=="/"&&(a=Vs([a,h.pathnameBase]))}return l}function Mf(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[s,n]=m1(e.path,e.caseSensitive,e.end),r=t.match(s);if(!r)return null;let a=r[0],l=a.replace(/(.)\/+$/,"$1"),o=r.slice(1);return{params:n.reduce((d,u,h)=>{let{paramName:m,isOptional:v}=u;if(m==="*"){let g=o[h]||"";l=a.slice(0,a.length-g.length).replace(/(.)\/+$/,"$1")}const y=o[h];return v&&!y?d[m]=void 0:d[m]=(y||"").replace(/%2F/g,"/"),d},{}),pathname:a,pathnameBase:l,pattern:e}}function m1(e,t,s){t===void 0&&(t=!1),s===void 0&&(s=!0),z0(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],r="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,o,c)=>(n.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),r+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?r+="\\/*$":e!==""&&e!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,t?void 0:"i"),n]}function p1(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return z0(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Ou(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let s=t.endsWith("/")?t.length-1:t.length,n=e.charAt(s);return n&&n!=="/"?null:e.slice(s)||"/"}function x1(e,t){t===void 0&&(t="/");let{pathname:s,search:n="",hash:r=""}=typeof e=="string"?Sr(e):e;return{pathname:s?s.startsWith("/")?s:g1(s,t):t,search:b1(n),hash:j1(r)}}function g1(e,t){let s=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(r=>{r===".."?s.length>1&&s.pop():r!=="."&&s.push(r)}),s.length>1?s.join("/"):"/"}function oc(e,t,s,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+s+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function y1(e){return e.filter((t,s)=>s===0||t.route.path&&t.route.path.length>0)}function zu(e,t){let s=y1(e);return t?s.map((n,r)=>r===s.length-1?n.pathname:n.pathnameBase):s.map(n=>n.pathnameBase)}function Iu(e,t,s,n){n===void 0&&(n=!1);let r;typeof e=="string"?r=Sr(e):(r=Fi({},e),_e(!r.pathname||!r.pathname.includes("?"),oc("?","pathname","search",r)),_e(!r.pathname||!r.pathname.includes("#"),oc("#","pathname","hash",r)),_e(!r.search||!r.search.includes("#"),oc("#","search","hash",r)));let a=e===""||r.pathname==="",l=a?"/":r.pathname,o;if(l==null)o=s;else{let h=t.length-1;if(!n&&l.startsWith("..")){let m=l.split("/");for(;m[0]==="..";)m.shift(),h-=1;r.pathname=m.join("/")}o=h>=0?t[h]:"/"}let c=x1(r,o),d=l&&l!=="/"&&l.endsWith("/"),u=(a||l===".")&&s.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}const Vs=e=>e.join("/").replace(/\/\/+/g,"/"),v1=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),b1=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,j1=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function w1(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const W0=["post","put","patch","delete"];new Set(W0);const N1=["get",...W0];new Set(N1);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ai(){return Ai=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},Ai.apply(this,arguments)}const Bu=N.createContext(null),_1=N.createContext(null),en=N.createContext(null),jo=N.createContext(null),gs=N.createContext({outlet:null,matches:[],isDataRoute:!1}),H0=N.createContext(null);function k1(e,t){let{relative:s}=t===void 0?{}:t;Cr()||_e(!1);let{basename:n,navigator:r}=N.useContext(en),{hash:a,pathname:l,search:o}=U0(e,{relative:s}),c=l;return n!=="/"&&(c=l==="/"?n:Vs([n,l])),r.createHref({pathname:c,search:o,hash:a})}function Cr(){return N.useContext(jo)!=null}function tn(){return Cr()||_e(!1),N.useContext(jo).location}function V0(e){N.useContext(en).static||N.useLayoutEffect(e)}function It(){let{isDataRoute:e}=N.useContext(gs);return e?z1():S1()}function S1(){Cr()||_e(!1);let e=N.useContext(Bu),{basename:t,future:s,navigator:n}=N.useContext(en),{matches:r}=N.useContext(gs),{pathname:a}=tn(),l=JSON.stringify(zu(r,s.v7_relativeSplatPath)),o=N.useRef(!1);return V0(()=>{o.current=!0}),N.useCallback(function(d,u){if(u===void 0&&(u={}),!o.current)return;if(typeof d=="number"){n.go(d);return}let h=Iu(d,JSON.parse(l),a,u.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Vs([t,h.pathname])),(u.replace?n.replace:n.push)(h,u.state,u)},[t,n,l,a,e])}function Wu(){let{matches:e}=N.useContext(gs),t=e[e.length-1];return t?t.params:{}}function U0(e,t){let{relative:s}=t===void 0?{}:t,{future:n}=N.useContext(en),{matches:r}=N.useContext(gs),{pathname:a}=tn(),l=JSON.stringify(zu(r,n.v7_relativeSplatPath));return N.useMemo(()=>Iu(e,JSON.parse(l),a,s==="path"),[e,l,a,s])}function C1(e,t){return P1(e,t)}function P1(e,t,s,n){Cr()||_e(!1);let{navigator:r}=N.useContext(en),{matches:a}=N.useContext(gs),l=a[a.length-1],o=l?l.params:{};l&&l.pathname;let c=l?l.pathnameBase:"/";l&&l.route;let d=tn(),u;if(t){var h;let b=typeof t=="string"?Sr(t):t;c==="/"||(h=b.pathname)!=null&&h.startsWith(c)||_e(!1),u=b}else u=d;let m=u.pathname||"/",v=m;if(c!=="/"){let b=c.replace(/^\//,"").split("/");v="/"+m.replace(/^\//,"").split("/").slice(b.length).join("/")}let y=s1(e,{pathname:v}),g=R1(y&&y.map(b=>Object.assign({},b,{params:Object.assign({},o,b.params),pathname:Vs([c,r.encodeLocation?r.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?c:Vs([c,r.encodeLocation?r.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),a,s,n);return t&&g?N.createElement(jo.Provider,{value:{location:Ai({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Cs.Pop}},g):g}function M1(){let e=O1(),t=w1(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),s=e instanceof Error?e.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},a=null;return N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},t),s?N.createElement("pre",{style:r},s):null,a)}const E1=N.createElement(M1,null);class T1 extends N.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,s){return s.location!==t.location||s.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:s.error,location:s.location,revalidation:t.revalidation||s.revalidation}}componentDidCatch(t,s){console.error("React Router caught the following error during render",t,s)}render(){return this.state.error!==void 0?N.createElement(gs.Provider,{value:this.props.routeContext},N.createElement(H0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function D1(e){let{routeContext:t,match:s,children:n}=e,r=N.useContext(Bu);return r&&r.static&&r.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=s.route.id),N.createElement(gs.Provider,{value:t},n)}function R1(e,t,s,n){var r;if(t===void 0&&(t=[]),s===void 0&&(s=null),n===void 0&&(n=null),e==null){var a;if(!s)return null;if(s.errors)e=s.matches;else if((a=n)!=null&&a.v7_partialHydration&&t.length===0&&!s.initialized&&s.matches.length>0)e=s.matches;else return null}let l=e,o=(r=s)==null?void 0:r.errors;if(o!=null){let u=l.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);u>=0||_e(!1),l=l.slice(0,Math.min(l.length,u+1))}let c=!1,d=-1;if(s&&n&&n.v7_partialHydration)for(let u=0;u<l.length;u++){let h=l[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(d=u),h.route.id){let{loaderData:m,errors:v}=s,y=h.route.loader&&m[h.route.id]===void 0&&(!v||v[h.route.id]===void 0);if(h.route.lazy||y){c=!0,d>=0?l=l.slice(0,d+1):l=[l[0]];break}}}return l.reduceRight((u,h,m)=>{let v,y=!1,g=null,b=null;s&&(v=o&&h.route.id?o[h.route.id]:void 0,g=h.route.errorElement||E1,c&&(d<0&&m===0?(I1("route-fallback",!1),y=!0,b=null):d===m&&(y=!0,b=h.route.hydrateFallbackElement||null)));let f=t.concat(l.slice(0,m+1)),p=()=>{let x;return v?x=g:y?x=b:h.route.Component?x=N.createElement(h.route.Component,null):h.route.element?x=h.route.element:x=u,N.createElement(D1,{match:h,routeContext:{outlet:u,matches:f,isDataRoute:s!=null},children:x})};return s&&(h.route.ErrorBoundary||h.route.errorElement||m===0)?N.createElement(T1,{location:s.location,revalidation:s.revalidation,component:g,error:v,children:p(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):p()},null)}var $0=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}($0||{}),Al=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Al||{});function L1(e){let t=N.useContext(Bu);return t||_e(!1),t}function F1(e){let t=N.useContext(_1);return t||_e(!1),t}function A1(e){let t=N.useContext(gs);return t||_e(!1),t}function Y0(e){let t=A1(),s=t.matches[t.matches.length-1];return s.route.id||_e(!1),s.route.id}function O1(){var e;let t=N.useContext(H0),s=F1(Al.UseRouteError),n=Y0(Al.UseRouteError);return t!==void 0?t:(e=s.errors)==null?void 0:e[n]}function z1(){let{router:e}=L1($0.UseNavigateStable),t=Y0(Al.UseNavigateStable),s=N.useRef(!1);return V0(()=>{s.current=!0}),N.useCallback(function(r,a){a===void 0&&(a={}),s.current&&(typeof r=="number"?e.navigate(r):e.navigate(r,Ai({fromRouteId:t},a)))},[e,t])}const Ef={};function I1(e,t,s){!t&&!Ef[e]&&(Ef[e]=!0)}function B1(e,t){e==null||e.v7_startTransition,(e==null?void 0:e.v7_relativeSplatPath)===void 0&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}function Ol(e){let{to:t,replace:s,state:n,relative:r}=e;Cr()||_e(!1);let{future:a,static:l}=N.useContext(en),{matches:o}=N.useContext(gs),{pathname:c}=tn(),d=It(),u=Iu(t,zu(o,a.v7_relativeSplatPath),c,r==="path"),h=JSON.stringify(u);return N.useEffect(()=>d(JSON.parse(h),{replace:s,state:n,relative:r}),[d,h,r,s,n]),null}function Se(e){_e(!1)}function W1(e){let{basename:t="/",children:s=null,location:n,navigationType:r=Cs.Pop,navigator:a,static:l=!1,future:o}=e;Cr()&&_e(!1);let c=t.replace(/^\/*/,"/"),d=N.useMemo(()=>({basename:c,navigator:a,static:l,future:Ai({v7_relativeSplatPath:!1},o)}),[c,o,a,l]);typeof n=="string"&&(n=Sr(n));let{pathname:u="/",search:h="",hash:m="",state:v=null,key:y="default"}=n,g=N.useMemo(()=>{let b=Ou(u,c);return b==null?null:{location:{pathname:b,search:h,hash:m,state:v,key:y},navigationType:r}},[c,u,h,m,v,y,r]);return g==null?null:N.createElement(en.Provider,{value:d},N.createElement(jo.Provider,{children:s,value:g}))}function H1(e){let{children:t,location:s}=e;return C1(wd(t),s)}new Promise(()=>{});function wd(e,t){t===void 0&&(t=[]);let s=[];return N.Children.forEach(e,(n,r)=>{if(!N.isValidElement(n))return;let a=[...t,r];if(n.type===N.Fragment){s.push.apply(s,wd(n.props.children,a));return}n.type!==Se&&_e(!1),!n.props.index||!n.props.children||_e(!1);let l={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(l.children=wd(n.props.children,a)),s.push(l)}),s}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Nd(){return Nd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},Nd.apply(this,arguments)}function V1(e,t){if(e==null)return{};var s={},n=Object.keys(e),r,a;for(a=0;a<n.length;a++)r=n[a],!(t.indexOf(r)>=0)&&(s[r]=e[r]);return s}function U1(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function $1(e,t){return e.button===0&&(!t||t==="_self")&&!U1(e)}function _d(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,s)=>{let n=e[s];return t.concat(Array.isArray(n)?n.map(r=>[s,r]):[[s,n]])},[]))}function Y1(e,t){let s=_d(e);return t&&t.forEach((n,r)=>{s.has(r)||t.getAll(r).forEach(a=>{s.append(r,a)})}),s}const q1=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],X1="6";try{window.__reactRouterVersion=X1}catch{}const Q1="startTransition",Tf=Wy[Q1];function K1(e){let{basename:t,children:s,future:n,window:r}=e,a=N.useRef();a.current==null&&(a.current=Zb({window:r,v5Compat:!0}));let l=a.current,[o,c]=N.useState({action:l.action,location:l.location}),{v7_startTransition:d}=n||{},u=N.useCallback(h=>{d&&Tf?Tf(()=>c(h)):c(h)},[c,d]);return N.useLayoutEffect(()=>l.listen(u),[l,u]),N.useEffect(()=>B1(n),[n]),N.createElement(W1,{basename:t,children:s,location:o.location,navigationType:o.action,navigator:l,future:n})}const G1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",J1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Nt=N.forwardRef(function(t,s){let{onClick:n,relative:r,reloadDocument:a,replace:l,state:o,target:c,to:d,preventScrollReset:u,viewTransition:h}=t,m=V1(t,q1),{basename:v}=N.useContext(en),y,g=!1;if(typeof d=="string"&&J1.test(d)&&(y=d,G1))try{let x=new URL(window.location.href),j=d.startsWith("//")?new URL(x.protocol+d):new URL(d),w=Ou(j.pathname,v);j.origin===x.origin&&w!=null?d=w+j.search+j.hash:g=!0}catch{}let b=k1(d,{relative:r}),f=Z1(d,{replace:l,state:o,target:c,preventScrollReset:u,relative:r,viewTransition:h});function p(x){n&&n(x),x.defaultPrevented||f(x)}return N.createElement("a",Nd({},m,{href:y||b,onClick:g||a?n:p,ref:s,target:c}))});var Df;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Df||(Df={}));var Rf;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Rf||(Rf={}));function Z1(e,t){let{target:s,replace:n,state:r,preventScrollReset:a,relative:l,viewTransition:o}=t===void 0?{}:t,c=It(),d=tn(),u=U0(e,{relative:l});return N.useCallback(h=>{if($1(h,s)){h.preventDefault();let m=n!==void 0?n:Fl(d)===Fl(u);c(e,{replace:m,state:r,preventScrollReset:a,relative:l,viewTransition:o})}},[d,c,u,n,r,s,e,a,l,o])}function q0(e){let t=N.useRef(_d(e)),s=N.useRef(!1),n=tn(),r=N.useMemo(()=>Y1(n.search,s.current?null:t.current),[n.search]),a=It(),l=N.useCallback((o,c)=>{const d=_d(typeof o=="function"?o(r):o);s.current=!0,a("?"+d,c)},[a,r]);return[r,l]}function X0(e,t){return function(){return e.apply(t,arguments)}}const{toString:ej}=Object.prototype,{getPrototypeOf:Hu}=Object,{iterator:wo,toStringTag:Q0}=Symbol,No=(e=>t=>{const s=ej.call(t);return e[s]||(e[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),Bt=e=>(e=e.toLowerCase(),t=>No(t)===e),_o=e=>t=>typeof t===e,{isArray:Pr}=Array,Oi=_o("undefined");function Ji(e){return e!==null&&!Oi(e)&&e.constructor!==null&&!Oi(e.constructor)&&lt(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const K0=Bt("ArrayBuffer");function tj(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&K0(e.buffer),t}const sj=_o("string"),lt=_o("function"),G0=_o("number"),Zi=e=>e!==null&&typeof e=="object",nj=e=>e===!0||e===!1,Za=e=>{if(No(e)!=="object")return!1;const t=Hu(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Q0 in e)&&!(wo in e)},rj=e=>{if(!Zi(e)||Ji(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},ij=Bt("Date"),aj=Bt("File"),lj=Bt("Blob"),oj=Bt("FileList"),cj=e=>Zi(e)&&lt(e.pipe),dj=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||lt(e.append)&&((t=No(e))==="formdata"||t==="object"&&lt(e.toString)&&e.toString()==="[object FormData]"))},uj=Bt("URLSearchParams"),[hj,fj,mj,pj]=["ReadableStream","Request","Response","Headers"].map(Bt),xj=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ea(e,t,{allOwnKeys:s=!1}={}){if(e===null||typeof e>"u")return;let n,r;if(typeof e!="object"&&(e=[e]),Pr(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{if(Ji(e))return;const a=s?Object.getOwnPropertyNames(e):Object.keys(e),l=a.length;let o;for(n=0;n<l;n++)o=a[n],t.call(null,e[o],o,e)}}function J0(e,t){if(Ji(e))return null;t=t.toLowerCase();const s=Object.keys(e);let n=s.length,r;for(;n-- >0;)if(r=s[n],t===r.toLowerCase())return r;return null}const yn=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),Z0=e=>!Oi(e)&&e!==yn;function kd(){const{caseless:e}=Z0(this)&&this||{},t={},s=(n,r)=>{const a=e&&J0(t,r)||r;Za(t[a])&&Za(n)?t[a]=kd(t[a],n):Za(n)?t[a]=kd({},n):Pr(n)?t[a]=n.slice():t[a]=n};for(let n=0,r=arguments.length;n<r;n++)arguments[n]&&ea(arguments[n],s);return t}const gj=(e,t,s,{allOwnKeys:n}={})=>(ea(t,(r,a)=>{s&&lt(r)?e[a]=X0(r,s):e[a]=r},{allOwnKeys:n}),e),yj=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),vj=(e,t,s,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),s&&Object.assign(e.prototype,s)},bj=(e,t,s,n)=>{let r,a,l;const o={};if(t=t||{},e==null)return t;do{for(r=Object.getOwnPropertyNames(e),a=r.length;a-- >0;)l=r[a],(!n||n(l,e,t))&&!o[l]&&(t[l]=e[l],o[l]=!0);e=s!==!1&&Hu(e)}while(e&&(!s||s(e,t))&&e!==Object.prototype);return t},jj=(e,t,s)=>{e=String(e),(s===void 0||s>e.length)&&(s=e.length),s-=t.length;const n=e.indexOf(t,s);return n!==-1&&n===s},wj=e=>{if(!e)return null;if(Pr(e))return e;let t=e.length;if(!G0(t))return null;const s=new Array(t);for(;t-- >0;)s[t]=e[t];return s},Nj=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Hu(Uint8Array)),_j=(e,t)=>{const n=(e&&e[wo]).call(e);let r;for(;(r=n.next())&&!r.done;){const a=r.value;t.call(e,a[0],a[1])}},kj=(e,t)=>{let s;const n=[];for(;(s=e.exec(t))!==null;)n.push(s);return n},Sj=Bt("HTMLFormElement"),Cj=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(s,n,r){return n.toUpperCase()+r}),Lf=(({hasOwnProperty:e})=>(t,s)=>e.call(t,s))(Object.prototype),Pj=Bt("RegExp"),eg=(e,t)=>{const s=Object.getOwnPropertyDescriptors(e),n={};ea(s,(r,a)=>{let l;(l=t(r,a,e))!==!1&&(n[a]=l||r)}),Object.defineProperties(e,n)},Mj=e=>{eg(e,(t,s)=>{if(lt(e)&&["arguments","caller","callee"].indexOf(s)!==-1)return!1;const n=e[s];if(lt(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")})}})},Ej=(e,t)=>{const s={},n=r=>{r.forEach(a=>{s[a]=!0})};return Pr(e)?n(e):n(String(e).split(t)),s},Tj=()=>{},Dj=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function Rj(e){return!!(e&&lt(e.append)&&e[Q0]==="FormData"&&e[wo])}const Lj=e=>{const t=new Array(10),s=(n,r)=>{if(Zi(n)){if(t.indexOf(n)>=0)return;if(Ji(n))return n;if(!("toJSON"in n)){t[r]=n;const a=Pr(n)?[]:{};return ea(n,(l,o)=>{const c=s(l,r+1);!Oi(c)&&(a[o]=c)}),t[r]=void 0,a}}return n};return s(e,0)},Fj=Bt("AsyncFunction"),Aj=e=>e&&(Zi(e)||lt(e))&&lt(e.then)&&lt(e.catch),tg=((e,t)=>e?setImmediate:t?((s,n)=>(yn.addEventListener("message",({source:r,data:a})=>{r===yn&&a===s&&n.length&&n.shift()()},!1),r=>{n.push(r),yn.postMessage(s,"*")}))(`axios@${Math.random()}`,[]):s=>setTimeout(s))(typeof setImmediate=="function",lt(yn.postMessage)),Oj=typeof queueMicrotask<"u"?queueMicrotask.bind(yn):typeof process<"u"&&process.nextTick||tg,zj=e=>e!=null&&lt(e[wo]),M={isArray:Pr,isArrayBuffer:K0,isBuffer:Ji,isFormData:dj,isArrayBufferView:tj,isString:sj,isNumber:G0,isBoolean:nj,isObject:Zi,isPlainObject:Za,isEmptyObject:rj,isReadableStream:hj,isRequest:fj,isResponse:mj,isHeaders:pj,isUndefined:Oi,isDate:ij,isFile:aj,isBlob:lj,isRegExp:Pj,isFunction:lt,isStream:cj,isURLSearchParams:uj,isTypedArray:Nj,isFileList:oj,forEach:ea,merge:kd,extend:gj,trim:xj,stripBOM:yj,inherits:vj,toFlatObject:bj,kindOf:No,kindOfTest:Bt,endsWith:jj,toArray:wj,forEachEntry:_j,matchAll:kj,isHTMLForm:Sj,hasOwnProperty:Lf,hasOwnProp:Lf,reduceDescriptors:eg,freezeMethods:Mj,toObjectSet:Ej,toCamelCase:Cj,noop:Tj,toFiniteNumber:Dj,findKey:J0,global:yn,isContextDefined:Z0,isSpecCompliantForm:Rj,toJSONObject:Lj,isAsyncFn:Fj,isThenable:Aj,setImmediate:tg,asap:Oj,isIterable:zj};function J(e,t,s,n,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),s&&(this.config=s),n&&(this.request=n),r&&(this.response=r,this.status=r.status?r.status:null)}M.inherits(J,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:M.toJSONObject(this.config),code:this.code,status:this.status}}});const sg=J.prototype,ng={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{ng[e]={value:e}});Object.defineProperties(J,ng);Object.defineProperty(sg,"isAxiosError",{value:!0});J.from=(e,t,s,n,r,a)=>{const l=Object.create(sg);return M.toFlatObject(e,l,function(c){return c!==Error.prototype},o=>o!=="isAxiosError"),J.call(l,e.message,t,s,n,r),l.cause=e,l.name=e.name,a&&Object.assign(l,a),l};const Ij=null;function Sd(e){return M.isPlainObject(e)||M.isArray(e)}function rg(e){return M.endsWith(e,"[]")?e.slice(0,-2):e}function Ff(e,t,s){return e?e.concat(t).map(function(r,a){return r=rg(r),!s&&a?"["+r+"]":r}).join(s?".":""):t}function Bj(e){return M.isArray(e)&&!e.some(Sd)}const Wj=M.toFlatObject(M,{},null,function(t){return/^is[A-Z]/.test(t)});function ko(e,t,s){if(!M.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,s=M.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,b){return!M.isUndefined(b[g])});const n=s.metaTokens,r=s.visitor||u,a=s.dots,l=s.indexes,c=(s.Blob||typeof Blob<"u"&&Blob)&&M.isSpecCompliantForm(t);if(!M.isFunction(r))throw new TypeError("visitor must be a function");function d(y){if(y===null)return"";if(M.isDate(y))return y.toISOString();if(M.isBoolean(y))return y.toString();if(!c&&M.isBlob(y))throw new J("Blob is not supported. Use a Buffer instead.");return M.isArrayBuffer(y)||M.isTypedArray(y)?c&&typeof Blob=="function"?new Blob([y]):Buffer.from(y):y}function u(y,g,b){let f=y;if(y&&!b&&typeof y=="object"){if(M.endsWith(g,"{}"))g=n?g:g.slice(0,-2),y=JSON.stringify(y);else if(M.isArray(y)&&Bj(y)||(M.isFileList(y)||M.endsWith(g,"[]"))&&(f=M.toArray(y)))return g=rg(g),f.forEach(function(x,j){!(M.isUndefined(x)||x===null)&&t.append(l===!0?Ff([g],j,a):l===null?g:g+"[]",d(x))}),!1}return Sd(y)?!0:(t.append(Ff(b,g,a),d(y)),!1)}const h=[],m=Object.assign(Wj,{defaultVisitor:u,convertValue:d,isVisitable:Sd});function v(y,g){if(!M.isUndefined(y)){if(h.indexOf(y)!==-1)throw Error("Circular reference detected in "+g.join("."));h.push(y),M.forEach(y,function(f,p){(!(M.isUndefined(f)||f===null)&&r.call(t,f,M.isString(p)?p.trim():p,g,m))===!0&&v(f,g?g.concat(p):[p])}),h.pop()}}if(!M.isObject(e))throw new TypeError("data must be an object");return v(e),t}function Af(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function Vu(e,t){this._pairs=[],e&&ko(e,this,t)}const ig=Vu.prototype;ig.append=function(t,s){this._pairs.push([t,s])};ig.toString=function(t){const s=t?function(n){return t.call(this,n,Af)}:Af;return this._pairs.map(function(r){return s(r[0])+"="+s(r[1])},"").join("&")};function Hj(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function ag(e,t,s){if(!t)return e;const n=s&&s.encode||Hj;M.isFunction(s)&&(s={serialize:s});const r=s&&s.serialize;let a;if(r?a=r(t,s):a=M.isURLSearchParams(t)?t.toString():new Vu(t,s).toString(n),a){const l=e.indexOf("#");l!==-1&&(e=e.slice(0,l)),e+=(e.indexOf("?")===-1?"?":"&")+a}return e}class Vj{constructor(){this.handlers=[]}use(t,s,n){return this.handlers.push({fulfilled:t,rejected:s,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){M.forEach(this.handlers,function(n){n!==null&&t(n)})}}const Of=Vj,lg={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Uj=typeof URLSearchParams<"u"?URLSearchParams:Vu,$j=typeof FormData<"u"?FormData:null,Yj=typeof Blob<"u"?Blob:null,qj={isBrowser:!0,classes:{URLSearchParams:Uj,FormData:$j,Blob:Yj},protocols:["http","https","file","blob","url","data"]},Uu=typeof window<"u"&&typeof document<"u",Cd=typeof navigator=="object"&&navigator||void 0,Xj=Uu&&(!Cd||["ReactNative","NativeScript","NS"].indexOf(Cd.product)<0),Qj=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),Kj=Uu&&window.location.href||"http://localhost",Gj=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Uu,hasStandardBrowserEnv:Xj,hasStandardBrowserWebWorkerEnv:Qj,navigator:Cd,origin:Kj},Symbol.toStringTag,{value:"Module"})),Ve={...Gj,...qj};function Jj(e,t){return ko(e,new Ve.classes.URLSearchParams,{visitor:function(s,n,r,a){return Ve.isNode&&M.isBuffer(s)?(this.append(n,s.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)},...t})}function Zj(e){return M.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function ew(e){const t={},s=Object.keys(e);let n;const r=s.length;let a;for(n=0;n<r;n++)a=s[n],t[a]=e[a];return t}function og(e){function t(s,n,r,a){let l=s[a++];if(l==="__proto__")return!0;const o=Number.isFinite(+l),c=a>=s.length;return l=!l&&M.isArray(r)?r.length:l,c?(M.hasOwnProp(r,l)?r[l]=[r[l],n]:r[l]=n,!o):((!r[l]||!M.isObject(r[l]))&&(r[l]=[]),t(s,n,r[l],a)&&M.isArray(r[l])&&(r[l]=ew(r[l])),!o)}if(M.isFormData(e)&&M.isFunction(e.entries)){const s={};return M.forEachEntry(e,(n,r)=>{t(Zj(n),r,s,0)}),s}return null}function tw(e,t,s){if(M.isString(e))try{return(t||JSON.parse)(e),M.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(s||JSON.stringify)(e)}const $u={transitional:lg,adapter:["xhr","http","fetch"],transformRequest:[function(t,s){const n=s.getContentType()||"",r=n.indexOf("application/json")>-1,a=M.isObject(t);if(a&&M.isHTMLForm(t)&&(t=new FormData(t)),M.isFormData(t))return r?JSON.stringify(og(t)):t;if(M.isArrayBuffer(t)||M.isBuffer(t)||M.isStream(t)||M.isFile(t)||M.isBlob(t)||M.isReadableStream(t))return t;if(M.isArrayBufferView(t))return t.buffer;if(M.isURLSearchParams(t))return s.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let o;if(a){if(n.indexOf("application/x-www-form-urlencoded")>-1)return Jj(t,this.formSerializer).toString();if((o=M.isFileList(t))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return ko(o?{"files[]":t}:t,c&&new c,this.formSerializer)}}return a||r?(s.setContentType("application/json",!1),tw(t)):t}],transformResponse:[function(t){const s=this.transitional||$u.transitional,n=s&&s.forcedJSONParsing,r=this.responseType==="json";if(M.isResponse(t)||M.isReadableStream(t))return t;if(t&&M.isString(t)&&(n&&!this.responseType||r)){const l=!(s&&s.silentJSONParsing)&&r;try{return JSON.parse(t)}catch(o){if(l)throw o.name==="SyntaxError"?J.from(o,J.ERR_BAD_RESPONSE,this,null,this.response):o}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ve.classes.FormData,Blob:Ve.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};M.forEach(["delete","get","head","post","put","patch"],e=>{$u.headers[e]={}});const Yu=$u,sw=M.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),nw=e=>{const t={};let s,n,r;return e&&e.split(`
`).forEach(function(l){r=l.indexOf(":"),s=l.substring(0,r).trim().toLowerCase(),n=l.substring(r+1).trim(),!(!s||t[s]&&sw[s])&&(s==="set-cookie"?t[s]?t[s].push(n):t[s]=[n]:t[s]=t[s]?t[s]+", "+n:n)}),t},zf=Symbol("internals");function Br(e){return e&&String(e).trim().toLowerCase()}function el(e){return e===!1||e==null?e:M.isArray(e)?e.map(el):String(e)}function rw(e){const t=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=s.exec(e);)t[n[1]]=n[2];return t}const iw=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function cc(e,t,s,n,r){if(M.isFunction(n))return n.call(this,t,s);if(r&&(t=s),!!M.isString(t)){if(M.isString(n))return t.indexOf(n)!==-1;if(M.isRegExp(n))return n.test(t)}}function aw(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,s,n)=>s.toUpperCase()+n)}function lw(e,t){const s=M.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+s,{value:function(r,a,l){return this[n].call(this,t,r,a,l)},configurable:!0})})}class So{constructor(t){t&&this.set(t)}set(t,s,n){const r=this;function a(o,c,d){const u=Br(c);if(!u)throw new Error("header name must be a non-empty string");const h=M.findKey(r,u);(!h||r[h]===void 0||d===!0||d===void 0&&r[h]!==!1)&&(r[h||c]=el(o))}const l=(o,c)=>M.forEach(o,(d,u)=>a(d,u,c));if(M.isPlainObject(t)||t instanceof this.constructor)l(t,s);else if(M.isString(t)&&(t=t.trim())&&!iw(t))l(nw(t),s);else if(M.isObject(t)&&M.isIterable(t)){let o={},c,d;for(const u of t){if(!M.isArray(u))throw TypeError("Object iterator must return a key-value pair");o[d=u[0]]=(c=o[d])?M.isArray(c)?[...c,u[1]]:[c,u[1]]:u[1]}l(o,s)}else t!=null&&a(s,t,n);return this}get(t,s){if(t=Br(t),t){const n=M.findKey(this,t);if(n){const r=this[n];if(!s)return r;if(s===!0)return rw(r);if(M.isFunction(s))return s.call(this,r,n);if(M.isRegExp(s))return s.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,s){if(t=Br(t),t){const n=M.findKey(this,t);return!!(n&&this[n]!==void 0&&(!s||cc(this,this[n],n,s)))}return!1}delete(t,s){const n=this;let r=!1;function a(l){if(l=Br(l),l){const o=M.findKey(n,l);o&&(!s||cc(n,n[o],o,s))&&(delete n[o],r=!0)}}return M.isArray(t)?t.forEach(a):a(t),r}clear(t){const s=Object.keys(this);let n=s.length,r=!1;for(;n--;){const a=s[n];(!t||cc(this,this[a],a,t,!0))&&(delete this[a],r=!0)}return r}normalize(t){const s=this,n={};return M.forEach(this,(r,a)=>{const l=M.findKey(n,a);if(l){s[l]=el(r),delete s[a];return}const o=t?aw(a):String(a).trim();o!==a&&delete s[a],s[o]=el(r),n[o]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const s=Object.create(null);return M.forEach(this,(n,r)=>{n!=null&&n!==!1&&(s[r]=t&&M.isArray(n)?n.join(", "):n)}),s}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,s])=>t+": "+s).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...s){const n=new this(t);return s.forEach(r=>n.set(r)),n}static accessor(t){const n=(this[zf]=this[zf]={accessors:{}}).accessors,r=this.prototype;function a(l){const o=Br(l);n[o]||(lw(r,l),n[o]=!0)}return M.isArray(t)?t.forEach(a):a(t),this}}So.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);M.reduceDescriptors(So.prototype,({value:e},t)=>{let s=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[s]=n}}});M.freezeMethods(So);const Lt=So;function dc(e,t){const s=this||Yu,n=t||s,r=Lt.from(n.headers);let a=n.data;return M.forEach(e,function(o){a=o.call(s,a,r.normalize(),t?t.status:void 0)}),r.normalize(),a}function cg(e){return!!(e&&e.__CANCEL__)}function Mr(e,t,s){J.call(this,e??"canceled",J.ERR_CANCELED,t,s),this.name="CanceledError"}M.inherits(Mr,J,{__CANCEL__:!0});function dg(e,t,s){const n=s.config.validateStatus;!s.status||!n||n(s.status)?e(s):t(new J("Request failed with status code "+s.status,[J.ERR_BAD_REQUEST,J.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))}function ow(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function cw(e,t){e=e||10;const s=new Array(e),n=new Array(e);let r=0,a=0,l;return t=t!==void 0?t:1e3,function(c){const d=Date.now(),u=n[a];l||(l=d),s[r]=c,n[r]=d;let h=a,m=0;for(;h!==r;)m+=s[h++],h=h%e;if(r=(r+1)%e,r===a&&(a=(a+1)%e),d-l<t)return;const v=u&&d-u;return v?Math.round(m*1e3/v):void 0}}function dw(e,t){let s=0,n=1e3/t,r,a;const l=(d,u=Date.now())=>{s=u,r=null,a&&(clearTimeout(a),a=null),e(...d)};return[(...d)=>{const u=Date.now(),h=u-s;h>=n?l(d,u):(r=d,a||(a=setTimeout(()=>{a=null,l(r)},n-h)))},()=>r&&l(r)]}const zl=(e,t,s=3)=>{let n=0;const r=cw(50,250);return dw(a=>{const l=a.loaded,o=a.lengthComputable?a.total:void 0,c=l-n,d=r(c),u=l<=o;n=l;const h={loaded:l,total:o,progress:o?l/o:void 0,bytes:c,rate:d||void 0,estimated:d&&o&&u?(o-l)/d:void 0,event:a,lengthComputable:o!=null,[t?"download":"upload"]:!0};e(h)},s)},If=(e,t)=>{const s=e!=null;return[n=>t[0]({lengthComputable:s,total:e,loaded:n}),t[1]]},Bf=e=>(...t)=>M.asap(()=>e(...t)),uw=Ve.hasStandardBrowserEnv?((e,t)=>s=>(s=new URL(s,Ve.origin),e.protocol===s.protocol&&e.host===s.host&&(t||e.port===s.port)))(new URL(Ve.origin),Ve.navigator&&/(msie|trident)/i.test(Ve.navigator.userAgent)):()=>!0,hw=Ve.hasStandardBrowserEnv?{write(e,t,s,n,r,a){const l=[e+"="+encodeURIComponent(t)];M.isNumber(s)&&l.push("expires="+new Date(s).toGMTString()),M.isString(n)&&l.push("path="+n),M.isString(r)&&l.push("domain="+r),a===!0&&l.push("secure"),document.cookie=l.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function fw(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function mw(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function ug(e,t,s){let n=!fw(t);return e&&(n||s==!1)?mw(e,t):t}const Wf=e=>e instanceof Lt?{...e}:e;function Tn(e,t){t=t||{};const s={};function n(d,u,h,m){return M.isPlainObject(d)&&M.isPlainObject(u)?M.merge.call({caseless:m},d,u):M.isPlainObject(u)?M.merge({},u):M.isArray(u)?u.slice():u}function r(d,u,h,m){if(M.isUndefined(u)){if(!M.isUndefined(d))return n(void 0,d,h,m)}else return n(d,u,h,m)}function a(d,u){if(!M.isUndefined(u))return n(void 0,u)}function l(d,u){if(M.isUndefined(u)){if(!M.isUndefined(d))return n(void 0,d)}else return n(void 0,u)}function o(d,u,h){if(h in t)return n(d,u);if(h in e)return n(void 0,d)}const c={url:a,method:a,data:a,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:o,headers:(d,u,h)=>r(Wf(d),Wf(u),h,!0)};return M.forEach(Object.keys({...e,...t}),function(u){const h=c[u]||r,m=h(e[u],t[u],u);M.isUndefined(m)&&h!==o||(s[u]=m)}),s}const hg=e=>{const t=Tn({},e);let{data:s,withXSRFToken:n,xsrfHeaderName:r,xsrfCookieName:a,headers:l,auth:o}=t;t.headers=l=Lt.from(l),t.url=ag(ug(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),o&&l.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):"")));let c;if(M.isFormData(s)){if(Ve.hasStandardBrowserEnv||Ve.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if((c=l.getContentType())!==!1){const[d,...u]=c?c.split(";").map(h=>h.trim()).filter(Boolean):[];l.setContentType([d||"multipart/form-data",...u].join("; "))}}if(Ve.hasStandardBrowserEnv&&(n&&M.isFunction(n)&&(n=n(t)),n||n!==!1&&uw(t.url))){const d=r&&a&&hw.read(a);d&&l.set(r,d)}return t},pw=typeof XMLHttpRequest<"u",xw=pw&&function(e){return new Promise(function(s,n){const r=hg(e);let a=r.data;const l=Lt.from(r.headers).normalize();let{responseType:o,onUploadProgress:c,onDownloadProgress:d}=r,u,h,m,v,y;function g(){v&&v(),y&&y(),r.cancelToken&&r.cancelToken.unsubscribe(u),r.signal&&r.signal.removeEventListener("abort",u)}let b=new XMLHttpRequest;b.open(r.method.toUpperCase(),r.url,!0),b.timeout=r.timeout;function f(){if(!b)return;const x=Lt.from("getAllResponseHeaders"in b&&b.getAllResponseHeaders()),w={data:!o||o==="text"||o==="json"?b.responseText:b.response,status:b.status,statusText:b.statusText,headers:x,config:e,request:b};dg(function(S){s(S),g()},function(S){n(S),g()},w),b=null}"onloadend"in b?b.onloadend=f:b.onreadystatechange=function(){!b||b.readyState!==4||b.status===0&&!(b.responseURL&&b.responseURL.indexOf("file:")===0)||setTimeout(f)},b.onabort=function(){b&&(n(new J("Request aborted",J.ECONNABORTED,e,b)),b=null)},b.onerror=function(){n(new J("Network Error",J.ERR_NETWORK,e,b)),b=null},b.ontimeout=function(){let j=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const w=r.transitional||lg;r.timeoutErrorMessage&&(j=r.timeoutErrorMessage),n(new J(j,w.clarifyTimeoutError?J.ETIMEDOUT:J.ECONNABORTED,e,b)),b=null},a===void 0&&l.setContentType(null),"setRequestHeader"in b&&M.forEach(l.toJSON(),function(j,w){b.setRequestHeader(w,j)}),M.isUndefined(r.withCredentials)||(b.withCredentials=!!r.withCredentials),o&&o!=="json"&&(b.responseType=r.responseType),d&&([m,y]=zl(d,!0),b.addEventListener("progress",m)),c&&b.upload&&([h,v]=zl(c),b.upload.addEventListener("progress",h),b.upload.addEventListener("loadend",v)),(r.cancelToken||r.signal)&&(u=x=>{b&&(n(!x||x.type?new Mr(null,e,b):x),b.abort(),b=null)},r.cancelToken&&r.cancelToken.subscribe(u),r.signal&&(r.signal.aborted?u():r.signal.addEventListener("abort",u)));const p=ow(r.url);if(p&&Ve.protocols.indexOf(p)===-1){n(new J("Unsupported protocol "+p+":",J.ERR_BAD_REQUEST,e));return}b.send(a||null)})},gw=(e,t)=>{const{length:s}=e=e?e.filter(Boolean):[];if(t||s){let n=new AbortController,r;const a=function(d){if(!r){r=!0,o();const u=d instanceof Error?d:this.reason;n.abort(u instanceof J?u:new Mr(u instanceof Error?u.message:u))}};let l=t&&setTimeout(()=>{l=null,a(new J(`timeout ${t} of ms exceeded`,J.ETIMEDOUT))},t);const o=()=>{e&&(l&&clearTimeout(l),l=null,e.forEach(d=>{d.unsubscribe?d.unsubscribe(a):d.removeEventListener("abort",a)}),e=null)};e.forEach(d=>d.addEventListener("abort",a));const{signal:c}=n;return c.unsubscribe=()=>M.asap(o),c}},yw=gw,vw=function*(e,t){let s=e.byteLength;if(!t||s<t){yield e;return}let n=0,r;for(;n<s;)r=n+t,yield e.slice(n,r),n=r},bw=async function*(e,t){for await(const s of jw(e))yield*vw(s,t)},jw=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:s,value:n}=await t.read();if(s)break;yield n}}finally{await t.cancel()}},Hf=(e,t,s,n)=>{const r=bw(e,t);let a=0,l,o=c=>{l||(l=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:d,value:u}=await r.next();if(d){o(),c.close();return}let h=u.byteLength;if(s){let m=a+=h;s(m)}c.enqueue(new Uint8Array(u))}catch(d){throw o(d),d}},cancel(c){return o(c),r.return()}},{highWaterMark:2})},Co=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",fg=Co&&typeof ReadableStream=="function",ww=Co&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),mg=(e,...t)=>{try{return!!e(...t)}catch{return!1}},Nw=fg&&mg(()=>{let e=!1;const t=new Request(Ve.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),Vf=64*1024,Pd=fg&&mg(()=>M.isReadableStream(new Response("").body)),Il={stream:Pd&&(e=>e.body)};Co&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!Il[t]&&(Il[t]=M.isFunction(e[t])?s=>s[t]():(s,n)=>{throw new J(`Response type '${t}' is not supported`,J.ERR_NOT_SUPPORT,n)})})})(new Response);const _w=async e=>{if(e==null)return 0;if(M.isBlob(e))return e.size;if(M.isSpecCompliantForm(e))return(await new Request(Ve.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(M.isArrayBufferView(e)||M.isArrayBuffer(e))return e.byteLength;if(M.isURLSearchParams(e)&&(e=e+""),M.isString(e))return(await ww(e)).byteLength},kw=async(e,t)=>{const s=M.toFiniteNumber(e.getContentLength());return s??_w(t)},Sw=Co&&(async e=>{let{url:t,method:s,data:n,signal:r,cancelToken:a,timeout:l,onDownloadProgress:o,onUploadProgress:c,responseType:d,headers:u,withCredentials:h="same-origin",fetchOptions:m}=hg(e);d=d?(d+"").toLowerCase():"text";let v=yw([r,a&&a.toAbortSignal()],l),y;const g=v&&v.unsubscribe&&(()=>{v.unsubscribe()});let b;try{if(c&&Nw&&s!=="get"&&s!=="head"&&(b=await kw(u,n))!==0){let w=new Request(t,{method:"POST",body:n,duplex:"half"}),_;if(M.isFormData(n)&&(_=w.headers.get("content-type"))&&u.setContentType(_),w.body){const[S,P]=If(b,zl(Bf(c)));n=Hf(w.body,Vf,S,P)}}M.isString(h)||(h=h?"include":"omit");const f="credentials"in Request.prototype;y=new Request(t,{...m,signal:v,method:s.toUpperCase(),headers:u.normalize().toJSON(),body:n,duplex:"half",credentials:f?h:void 0});let p=await fetch(y,m);const x=Pd&&(d==="stream"||d==="response");if(Pd&&(o||x&&g)){const w={};["status","statusText","headers"].forEach(A=>{w[A]=p[A]});const _=M.toFiniteNumber(p.headers.get("content-length")),[S,P]=o&&If(_,zl(Bf(o),!0))||[];p=new Response(Hf(p.body,Vf,S,()=>{P&&P(),g&&g()}),w)}d=d||"text";let j=await Il[M.findKey(Il,d)||"text"](p,e);return!x&&g&&g(),await new Promise((w,_)=>{dg(w,_,{data:j,headers:Lt.from(p.headers),status:p.status,statusText:p.statusText,config:e,request:y})})}catch(f){throw g&&g(),f&&f.name==="TypeError"&&/Load failed|fetch/i.test(f.message)?Object.assign(new J("Network Error",J.ERR_NETWORK,e,y),{cause:f.cause||f}):J.from(f,f&&f.code,e,y)}}),Md={http:Ij,xhr:xw,fetch:Sw};M.forEach(Md,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Uf=e=>`- ${e}`,Cw=e=>M.isFunction(e)||e===null||e===!1,pg={getAdapter:e=>{e=M.isArray(e)?e:[e];const{length:t}=e;let s,n;const r={};for(let a=0;a<t;a++){s=e[a];let l;if(n=s,!Cw(s)&&(n=Md[(l=String(s)).toLowerCase()],n===void 0))throw new J(`Unknown adapter '${l}'`);if(n)break;r[l||"#"+a]=n}if(!n){const a=Object.entries(r).map(([o,c])=>`adapter ${o} `+(c===!1?"is not supported by the environment":"is not available in the build"));let l=t?a.length>1?`since :
`+a.map(Uf).join(`
`):" "+Uf(a[0]):"as no adapter specified";throw new J("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return n},adapters:Md};function uc(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Mr(null,e)}function $f(e){return uc(e),e.headers=Lt.from(e.headers),e.data=dc.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),pg.getAdapter(e.adapter||Yu.adapter)(e).then(function(n){return uc(e),n.data=dc.call(e,e.transformResponse,n),n.headers=Lt.from(n.headers),n},function(n){return cg(n)||(uc(e),n&&n.response&&(n.response.data=dc.call(e,e.transformResponse,n.response),n.response.headers=Lt.from(n.response.headers))),Promise.reject(n)})}const xg="1.11.0",Po={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Po[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const Yf={};Po.transitional=function(t,s,n){function r(a,l){return"[Axios v"+xg+"] Transitional option '"+a+"'"+l+(n?". "+n:"")}return(a,l,o)=>{if(t===!1)throw new J(r(l," has been removed"+(s?" in "+s:"")),J.ERR_DEPRECATED);return s&&!Yf[l]&&(Yf[l]=!0,console.warn(r(l," has been deprecated since v"+s+" and will be removed in the near future"))),t?t(a,l,o):!0}};Po.spelling=function(t){return(s,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function Pw(e,t,s){if(typeof e!="object")throw new J("options must be an object",J.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let r=n.length;for(;r-- >0;){const a=n[r],l=t[a];if(l){const o=e[a],c=o===void 0||l(o,a,e);if(c!==!0)throw new J("option "+a+" must be "+c,J.ERR_BAD_OPTION_VALUE);continue}if(s!==!0)throw new J("Unknown option "+a,J.ERR_BAD_OPTION)}}const tl={assertOptions:Pw,validators:Po},Vt=tl.validators;class Bl{constructor(t){this.defaults=t||{},this.interceptors={request:new Of,response:new Of}}async request(t,s){try{return await this._request(t,s)}catch(n){if(n instanceof Error){let r={};Error.captureStackTrace?Error.captureStackTrace(r):r=new Error;const a=r.stack?r.stack.replace(/^.+\n/,""):"";try{n.stack?a&&!String(n.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+a):n.stack=a}catch{}}throw n}}_request(t,s){typeof t=="string"?(s=s||{},s.url=t):s=t||{},s=Tn(this.defaults,s);const{transitional:n,paramsSerializer:r,headers:a}=s;n!==void 0&&tl.assertOptions(n,{silentJSONParsing:Vt.transitional(Vt.boolean),forcedJSONParsing:Vt.transitional(Vt.boolean),clarifyTimeoutError:Vt.transitional(Vt.boolean)},!1),r!=null&&(M.isFunction(r)?s.paramsSerializer={serialize:r}:tl.assertOptions(r,{encode:Vt.function,serialize:Vt.function},!0)),s.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?s.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:s.allowAbsoluteUrls=!0),tl.assertOptions(s,{baseUrl:Vt.spelling("baseURL"),withXsrfToken:Vt.spelling("withXSRFToken")},!0),s.method=(s.method||this.defaults.method||"get").toLowerCase();let l=a&&M.merge(a.common,a[s.method]);a&&M.forEach(["delete","get","head","post","put","patch","common"],y=>{delete a[y]}),s.headers=Lt.concat(l,a);const o=[];let c=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(s)===!1||(c=c&&g.synchronous,o.unshift(g.fulfilled,g.rejected))});const d=[];this.interceptors.response.forEach(function(g){d.push(g.fulfilled,g.rejected)});let u,h=0,m;if(!c){const y=[$f.bind(this),void 0];for(y.unshift(...o),y.push(...d),m=y.length,u=Promise.resolve(s);h<m;)u=u.then(y[h++],y[h++]);return u}m=o.length;let v=s;for(h=0;h<m;){const y=o[h++],g=o[h++];try{v=y(v)}catch(b){g.call(this,b);break}}try{u=$f.call(this,v)}catch(y){return Promise.reject(y)}for(h=0,m=d.length;h<m;)u=u.then(d[h++],d[h++]);return u}getUri(t){t=Tn(this.defaults,t);const s=ug(t.baseURL,t.url,t.allowAbsoluteUrls);return ag(s,t.params,t.paramsSerializer)}}M.forEach(["delete","get","head","options"],function(t){Bl.prototype[t]=function(s,n){return this.request(Tn(n||{},{method:t,url:s,data:(n||{}).data}))}});M.forEach(["post","put","patch"],function(t){function s(n){return function(a,l,o){return this.request(Tn(o||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:a,data:l}))}}Bl.prototype[t]=s(),Bl.prototype[t+"Form"]=s(!0)});const sl=Bl;class qu{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let s;this.promise=new Promise(function(a){s=a});const n=this;this.promise.then(r=>{if(!n._listeners)return;let a=n._listeners.length;for(;a-- >0;)n._listeners[a](r);n._listeners=null}),this.promise.then=r=>{let a;const l=new Promise(o=>{n.subscribe(o),a=o}).then(r);return l.cancel=function(){n.unsubscribe(a)},l},t(function(a,l,o){n.reason||(n.reason=new Mr(a,l,o),s(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const s=this._listeners.indexOf(t);s!==-1&&this._listeners.splice(s,1)}toAbortSignal(){const t=new AbortController,s=n=>{t.abort(n)};return this.subscribe(s),t.signal.unsubscribe=()=>this.unsubscribe(s),t.signal}static source(){let t;return{token:new qu(function(r){t=r}),cancel:t}}}const Mw=qu;function Ew(e){return function(s){return e.apply(null,s)}}function Tw(e){return M.isObject(e)&&e.isAxiosError===!0}const Ed={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Ed).forEach(([e,t])=>{Ed[t]=e});const Dw=Ed;function gg(e){const t=new sl(e),s=X0(sl.prototype.request,t);return M.extend(s,sl.prototype,t,{allOwnKeys:!0}),M.extend(s,t,null,{allOwnKeys:!0}),s.create=function(r){return gg(Tn(e,r))},s}const Pe=gg(Yu);Pe.Axios=sl;Pe.CanceledError=Mr;Pe.CancelToken=Mw;Pe.isCancel=cg;Pe.VERSION=xg;Pe.toFormData=ko;Pe.AxiosError=J;Pe.Cancel=Pe.CanceledError;Pe.all=function(t){return Promise.all(t)};Pe.spread=Ew;Pe.isAxiosError=Tw;Pe.mergeConfig=Tn;Pe.AxiosHeaders=Lt;Pe.formToJSON=e=>og(M.isHTMLForm(e)?new FormData(e):e);Pe.getAdapter=pg.getAdapter;Pe.HttpStatusCode=Dw;Pe.default=Pe;const Rw=Pe,Lw="/api",G=Rw.create({baseURL:Lw});G.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e});const Ps={login:e=>G.post("/auth/login",e),register:e=>G.post("/auth/register",e),sendVerification:e=>G.post("/auth/send-verification",{email:e}),sendEmailVerification:e=>G.post("/auth/send-verification",{email:e}),verifyEmail:e=>G.post("/auth/verify-email",{token:e}),forgotPassword:e=>G.post("/auth/forgot-password",{email:e}),resetPassword:(e,t)=>G.post("/auth/reset-password",{token:e,newPassword:t})},ps={getProfile:()=>G.get("/users/profile"),updateProfile:e=>G.put("/users/profile",e),getUsers:()=>G.get("/users"),createUser:e=>G.post("/users",e),updateUser:(e,t)=>G.put(`/users/${e}`,t),deleteUser:e=>G.delete(`/users/${e}`),uploadAvatar:e=>G.post("/users/avatar",e),changePassword:e=>G.put("/users/password",e),updateNotifications:e=>G.put("/users/notifications",e)},qf={getStats:()=>G.get("/dashboard/stats"),getTasks:()=>G.get("/dashboard/tasks")},Ms={getTasks:()=>G.get("/tasks"),completeTask:e=>G.put(`/tasks/${e}/complete`),createTask:e=>G.post("/tasks",e),updateTask:(e,t)=>G.put(`/tasks/${e}`,t),deleteTask:e=>G.delete(`/tasks/${e}`),completeTaskWithEvidence:e=>G.post(`/tasks/${e.get("taskId")}/complete-with-evidence`,e),getTaskDetails:e=>G.get(`/tasks/${e}/details`),getWeeklyHistory:()=>G.get("/tasks/history/weekly"),getHistory:e=>G.get(`/tasks/history/${e.week||"current"}`)},wa={getEvents:()=>G.get("/events"),createEvent:e=>G.post("/events",e),updateEvent:(e,t)=>G.put(`/events/${e}`,t),deleteEvent:e=>G.delete(`/events/${e}`)},hc={getStats:e=>G.get("/reports/stats",{params:e}),getStaffPerformance:e=>G.get("/reports/staff-performance",{params:e}),exportReport:e=>G.get("/reports/export",{params:e,responseType:"blob"})},vn={getLivestock:()=>G.get("/livestock"),getLivestockById:e=>G.get(`/livestock/${e}`),createLivestock:e=>G.post("/livestock",e),updateLivestock:(e,t)=>G.put(`/livestock/${e}`,t),deleteLivestock:e=>G.delete(`/livestock/${e}`)},Wl={getResources:()=>G.get("/farm-resources"),getResourceById:e=>G.get(`/farm-resources/${e}`),createResource:e=>G.post("/farm-resources",e),updateResource:(e,t)=>G.put(`/farm-resources/${e}`,t),deleteResource:e=>G.delete(`/farm-resources/${e}`)},Hl={getPlantings:()=>G.get("/plantings"),getPlantingById:e=>G.get(`/plantings/${e}`),createPlanting:e=>G.post("/plantings",e),updatePlanting:(e,t)=>G.put(`/plantings/${e}`,t),deletePlanting:e=>G.delete(`/plantings/${e}`)},Vl={getHealthRecords:()=>G.get("/livestock-health"),getHealthRecordById:e=>G.get(`/livestock-health/${e}`),createHealthRecord:e=>G.post("/livestock-health",e),updateHealthRecord:(e,t)=>G.put(`/livestock-health/${e}`,t),deleteHealthRecord:e=>G.delete(`/livestock-health/${e}`)},yg=N.createContext(),ze=()=>{const e=N.useContext(yg);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},Fw=({children:e})=>{const[t,s]=N.useState(null),[n,r]=N.useState(!0),a=N.useCallback(y=>{if(!y)return!0;try{const g=JSON.parse(atob(y.split(".")[1])),b=Date.now()/1e3;return g.exp<b}catch{return!0}},[]),l=N.useCallback(()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),s(null),window.location.pathname!=="/login"&&(window.location.href="/login")},[]);N.useEffect(()=>{const y=localStorage.getItem("token"),g=localStorage.getItem("user");y&&g&&(a(y)?l():s(JSON.parse(g))),r(!1);const b=setInterval(()=>{const f=localStorage.getItem("token");f&&a(f)&&l()},6e4);return()=>clearInterval(b)},[a,l]);const v={user:t,login:(y,g)=>{localStorage.setItem("token",y),localStorage.setItem("user",JSON.stringify(g)),s(g)},logout:(y=!1)=>{if(y){l();return}window.confirm("Are you sure you want to log out?")&&(localStorage.removeItem("token"),localStorage.removeItem("user"),s(null))},loading:n,sendEmailVerification:async y=>{try{return(await Ps.sendEmailVerification(y)).data}catch(g){throw g}},verifyEmail:async y=>{try{return(await Ps.verifyEmail(y)).data}catch(g){throw g}},forgotPassword:async y=>{try{return(await Ps.forgotPassword(y)).data}catch(g){throw g}},resetPassword:async(y,g)=>{try{return(await Ps.resetPassword(y,g)).data}catch(b){throw b}},forceLogout:l};return i.jsx(yg.Provider,{value:v,children:e})};var Aw={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Ow=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),zw=(e,t)=>{const s=N.forwardRef(({color:n="currentColor",size:r=24,strokeWidth:a=2,absoluteStrokeWidth:l,children:o,...c},d)=>N.createElement("svg",{ref:d,...Aw,width:r,height:r,stroke:n,strokeWidth:l?Number(a)*24/Number(r):a,className:`lucide lucide-${Ow(e)}`,...c},[...t.map(([u,h])=>N.createElement(u,h)),...(Array.isArray(o)?o:[o])||[]]));return s.displayName=`${e}`,s};var X=zw;const Dn=X("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),vg=X("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),Ul=X("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),Xs=X("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),Iw=X("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),Bw=X("Baby",[["path",{d:"M9 12h.01",key:"157uk2"}],["path",{d:"M15 12h.01",key:"1k8ypt"}],["path",{d:"M10 16c.5.3 1.2.5 2 .5s1.5-.2 2-.5",key:"1u7htd"}],["path",{d:"M19 6.3a9 9 0 0 1 1.8 3.9 2 2 0 0 1 0 3.6 9 9 0 0 1-17.6 0 2 2 0 0 1 0-3.6A9 9 0 0 1 12 3c2 0 3.5 1.1 3.5 2.5s-.9 2.5-2 2.5c-.8 0-1.5-.4-1.5-1",key:"5yv0yz"}]]),Ww=X("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]),bg=X("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),jg=X("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),St=X("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),fi=X("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),Ft=X("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]]),Hw=X("CheckSquare",[["polyline",{points:"9 11 12 14 22 4",key:"19ybtz"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]),Na=X("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]]),Vw=X("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),Uw=X("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),wg=X("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),Us=X("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),$w=X("CloudRain",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M16 14v6",key:"1j4efv"}],["path",{d:"M8 14v6",key:"17c4r9"}],["path",{d:"M12 16v6",key:"c8a4gj"}]]),Yw=X("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]),Ng=X("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),Xf=X("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),Ot=X("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),$l=X("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),Xu=X("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),qw=X("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]),Es=X("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),_a=X("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),Xw=X("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),Qf=X("Layers",[["polygon",{points:"12 2 2 7 12 12 22 7 12 2",key:"1b0ttc"}],["polyline",{points:"2 17 12 22 22 17",key:"imjtdl"}],["polyline",{points:"2 12 12 17 22 12",key:"5dexcv"}]]),Qw=X("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]),ns=X("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),fc=X("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),ds=X("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),ta=X("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),nl=X("Map",[["polygon",{points:"3 6 9 3 15 6 21 3 21 18 15 21 9 18 3 21",key:"ok2ie8"}],["line",{x1:"9",x2:"9",y1:"3",y2:"18",key:"w34qz5"}],["line",{x1:"15",x2:"15",y1:"6",y2:"21",key:"volv9a"}]]),Kw=X("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]),rl=X("Package",[["path",{d:"M16.5 9.4 7.55 4.24",key:"10qotr"}],["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z",key:"yt0hxn"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]]),Kf=X("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]),Rn=X("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),Yl=X("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),Gw=X("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]),Ln=X("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),Gf=X("Ruler",[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]]),_g=X("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]),sa=X("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),Td=X("Sprout",[["path",{d:"M7 20h10",key:"e6iznv"}],["path",{d:"M10 20c5.5-2.5.8-6.4 3-10",key:"161w41"}],["path",{d:"M9.5 9.4c1.1.8 1.8 2.2 2.3 3.7-2 .4-3.5.4-4.8-.3-1.2-.6-2.3-1.9-3-4.2 2.8-.5 4.4 0 5.5.8z",key:"9gtqwd"}],["path",{d:"M14.1 6a7 7 0 0 0-1.1 4c1.9-.1 3.3-.6 4.3-1.4 1-1 1.6-2.3 1.7-4.6-2.7.1-4 1-4.9 2z",key:"bkxnd2"}]]),ka=X("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),Jw=X("Sunset",[["path",{d:"M12 10V2",key:"16sf7g"}],["path",{d:"m4.93 10.93 1.41 1.41",key:"2a7f42"}],["path",{d:"M2 18h2",key:"j10viu"}],["path",{d:"M20 18h2",key:"wocana"}],["path",{d:"m19.07 10.93-1.41 1.41",key:"15zs5n"}],["path",{d:"M22 22H2",key:"19qnx5"}],["path",{d:"m16 6-4 4-4-4",key:"6wukr"}],["path",{d:"M16 18a4 4 0 0 0-8 0",key:"1lzouq"}]]),Jf=X("Syringe",[["path",{d:"m18 2 4 4",key:"22kx64"}],["path",{d:"m17 7 3-3",key:"1w1zoj"}],["path",{d:"M19 9 8.7 19.3c-1 1-2.5 1-3.4 0l-.6-.6c-1-1-1-2.5 0-3.4L15 5",key:"1exhtz"}],["path",{d:"m9 11 4 4",key:"rovt3i"}],["path",{d:"m5 19-3 3",key:"59f2uf"}],["path",{d:"m14 4 6 6",key:"yqp9t2"}]]),Zw=X("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]),br=X("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),e2=X("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]),Qu=X("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),t2=X("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]),s2=X("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]),rr=X("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),is=X("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),n2=X("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2v0a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"1ogz0v"}]]),Ue=X("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),r2=X("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),ot=({children:e})=>{var v,y,g;const t=It(),{user:s,logout:n}=ze(),r=tn(),[a,l]=N.useState(!1),[o,c]=N.useState({}),d=b=>{c(f=>({...f,[b]:!f[b]}))},u=b=>{const f=b.icon;if(b.submenu){const x=o[b.name];return i.jsxs("div",{children:[i.jsxs("button",{onClick:()=>d(b.name),className:"w-full flex items-center justify-between px-3 py-2 rounded-xl text-sm font-medium transition-colors text-gray-700 hover:bg-gray-100",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(f,{className:"w-5 h-5"}),i.jsx("span",{children:b.name})]}),x?i.jsx(Vw,{className:"w-4 h-4"}):i.jsx(wg,{className:"w-4 h-4"})]}),x&&i.jsx("div",{className:"ml-6 mt-1 space-y-1",children:b.submenu.map(j=>{const w=j.icon,_=r.pathname===j.href;return i.jsxs(Nt,{to:j.href,className:`flex items-center gap-3 px-3 py-2 rounded-xl text-sm font-medium transition-colors ${_?"bg-primary-600 text-white":"text-gray-700 hover:bg-gray-100"}`,onClick:()=>l(!1),children:[i.jsx(w,{className:"w-4 h-4"}),i.jsx("span",{children:j.name})]},j.name)})})]},b.name)}const p=r.pathname===b.href;return i.jsxs(Nt,{to:b.href,className:`flex items-center gap-3 px-3 py-2 rounded-xl text-sm font-medium transition-colors ${p?"bg-primary-600 text-white":"text-gray-700 hover:bg-gray-100"}`,onClick:()=>l(!1),children:[i.jsx(f,{className:"w-5 h-5"}),i.jsx("span",{children:b.name})]},b.name)},h=()=>{n()},m=[{name:"Dashboard",href:"/dashboard",icon:Qw},{name:"Tasks",href:"/tasks",icon:Hw},{name:"Calendar",href:"/calendar",icon:St},{name:"Livestock",icon:Dn,submenu:[{name:"Overview",href:"/livestock",icon:Dn},{name:"Health",href:"/livestock/health",icon:Es}]},{name:"Farm Resources",href:"/farm-resources",icon:rl},{name:"Farm Map",href:"/farm-map",icon:nl},{name:"Planting Tracker",href:"/planting-tracker",icon:Td},{name:"Users",href:"/users",icon:is},...(s==null?void 0:s.role)==="Admin"||(s==null?void 0:s.role)==="Farm Manager"?[{name:"Reports",href:"/reports",icon:bg}]:[]];return i.jsxs("div",{className:"min-h-screen bg-gray-50 relative overflow-hidden",children:[i.jsx("div",{className:"absolute inset-0 pointer-events-none z-0",children:i.jsxs("svg",{width:"100%",height:"100%",className:"absolute top-0 left-0 animate-fade-in",style:{zIndex:0},children:[i.jsx("circle",{cx:"10%",cy:"10%",r:"80",fill:"#d1fae5",opacity:"0.3",children:i.jsx("animate",{attributeName:"r",values:"80;100;80",dur:"6s",repeatCount:"indefinite"})}),i.jsx("circle",{cx:"80%",cy:"20%",r:"60",fill:"#a7f3d0",opacity:"0.2",children:i.jsx("animate",{attributeName:"r",values:"60;80;60",dur:"7s",repeatCount:"indefinite"})}),i.jsx("circle",{cx:"50%",cy:"80%",r:"100",fill:"#f0abfc",opacity:"0.15",children:i.jsx("animate",{attributeName:"r",values:"100;120;100",dur:"8s",repeatCount:"indefinite"})})]})}),i.jsxs("nav",{className:"relative z-10 w-full bg-white shadow-sm border-b border-gray-200 px-4 py-3 flex items-center justify-between lg:hidden",children:[i.jsx("div",{className:"flex items-center gap-3",children:i.jsx("span",{className:"font-bold text-lg text-gray-900",children:"Alliance CropCraft"})}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("button",{className:"lg:hidden p-2 rounded-md text-gray-600 hover:bg-gray-100",onClick:()=>l(!a),children:i.jsxs("svg",{width:"24",height:"24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[i.jsx("line",{x1:"3",y1:"12",x2:"21",y2:"12"}),i.jsx("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),i.jsx("line",{x1:"3",y1:"18",x2:"21",y2:"18"})]})}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("button",{className:"relative p-2 text-gray-400 hover:text-gray-600",children:[i.jsx(jg,{className:"w-5 h-5"}),i.jsx("span",{className:"absolute -top-1 -right-1 w-4 h-4 bg-red-500 text-white text-xs rounded-full flex items-center justify-center",children:"3"})]}),i.jsxs("div",{className:"hidden sm:flex items-center gap-2",children:[i.jsxs("div",{className:"text-right",children:[i.jsx("p",{className:"text-sm font-medium text-gray-900",children:s==null?void 0:s.full_name}),i.jsx("p",{className:"text-xs text-primary-600",children:s==null?void 0:s.role})]}),i.jsx("div",{className:" cursor-pointer w-8 h-8 bg-primary-600 rounded-full flex items-center justify-center",children:i.jsx("span",{className:"text-white text-sm font-medium",children:(v=s==null?void 0:s.full_name)==null?void 0:v.split(" ").map(b=>b[0]).join("").toUpperCase()})}),i.jsx("button",{onClick:h,className:"p-2 text-gray-400 hover:text-gray-600",children:i.jsx(fc,{className:"w-5 h-5"})})]})]})]})]}),a&&i.jsx("div",{className:"fixed inset-0 z-20 bg-black bg-opacity-30",onClick:()=>l(!1)}),i.jsxs("div",{className:`fixed top-0 left-0 z-30 w-64 h-full bg-white shadow-lg transform ${a?"translate-x-0":"-translate-x-full"} transition-transform duration-300 lg:hidden`,children:[i.jsx("div",{className:"p-6 border-b border-gray-200 flex items-center gap-3",children:i.jsx("span",{className:"font-bold text-lg text-gray-900",children:"Alliance CropCraft"})}),i.jsx("nav",{className:"flex-1 p-4 space-y-2",children:m.map(u)}),i.jsxs("div",{className:"p-4 border-t border-gray-200 flex items-center gap-2",children:[i.jsx("div",{className:"w-8 h-8 bg-primary-600 rounded-full flex items-center justify-center",children:i.jsx("span",{className:"text-white text-sm font-medium",children:(y=s==null?void 0:s.full_name)==null?void 0:y.split(" ").map(b=>b[0]).join("").toUpperCase()})}),i.jsxs("div",{onClick:()=>t("/profile"),className:"flex-1 pointer-cursor",children:[i.jsx("p",{className:"text-sm font-medium text-gray-900",children:s==null?void 0:s.full_name}),i.jsx("p",{className:"text-xs text-primary-600",children:s==null?void 0:s.role})]}),i.jsx("button",{onClick:h,className:"p-2 text-gray-400 hover:text-gray-600",children:i.jsx(fc,{className:"w-5 h-5"})})]})]}),i.jsxs("div",{className:"relative z-10 flex flex-col lg:flex-row",children:[i.jsxs("aside",{className:"hidden lg:flex lg:flex-col lg:w-64 lg:min-h-screen bg-white shadow-lg border-r border-gray-200 z-20",children:[i.jsx("div",{className:"p-6 border-b border-gray-200 flex items-center gap-3",children:i.jsx("span",{className:"font-bold text-lg text-gray-900",children:"Alliance CropCraft"})}),i.jsx("nav",{className:"flex-1 p-4 space-y-2",children:m.map(u)}),i.jsxs("div",{className:"p-4 border-t border-gray-200 flex items-center gap-2",children:[i.jsx("div",{className:"w-8 h-8 bg-primary-600 rounded-full flex items-center justify-center",children:i.jsx("span",{className:"text-white text-sm font-medium",children:(g=s==null?void 0:s.full_name)==null?void 0:g.split(" ").map(b=>b[0]).join("").toUpperCase()})}),i.jsxs("div",{onClick:()=>t("/profile"),className:"flex-1 cursor-pointer",children:[i.jsx("p",{className:"text-sm font-medium text-gray-900",children:s==null?void 0:s.full_name}),i.jsx("p",{className:"text-xs text-primary-600",children:s==null?void 0:s.role})]}),i.jsx("button",{onClick:h,className:"p-2 text-gray-400 hover:text-gray-600",children:i.jsx(fc,{className:"w-5 h-5"})})]})]}),i.jsx("main",{className:"flex-1 p-2 sm:p-6",children:e})]})]})},ur=({size:e="80",className:t=""})=>i.jsx("div",{className:`inline-flex items-center justify-center ${t}`,children:i.jsx("img",{src:"/logo.png",alt:"Alliance CropCraft Limited",className:"rounded-full object-cover shadow-sm border-1 border-white",style:{width:`${e}px`,height:`${e}px`}})}),i2=()=>{const[e,t]=N.useState({email:"",password:""}),[s,n]=N.useState(!1),[r,a]=N.useState(""),[l,o]=N.useState(!1),c=N.useRef(null),d=N.useRef(null),{login:u}=ze(),h=It();N.useEffect(()=>{r&&d.current&&c.current&&setTimeout(()=>{d.current.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"})},100)},[r]);const m=y=>{t({...e,[y.target.name]:y.target.value})},v=async y=>{var g;y.preventDefault(),n(!0),a("");try{const b=await Ps.login(e),{token:f,user:p}=b.data;u(f,p),h("/dashboard")}catch(b){const f=(g=b.response)==null?void 0:g.data;f!=null&&f.email_not_verified?h("/verify-email",{state:{message:f.message,email:f.user_email}}):f!=null&&f.field?a(f.message):a((f==null?void 0:f.message)||"Login failed")}finally{n(!1)}};return i.jsxs("div",{ref:c,className:"min-h-screen flex flex-col lg:flex-row relative",children:[i.jsxs("div",{className:"hidden lg:flex lg:w-3/5 relative overflow-hidden h-screen sticky top-0",children:[i.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat transform scale-105 transition-transform duration-700 hover:scale-100",style:{backgroundImage:"url('https://images.unsplash.com/photo-1625246333195-78d9c38ad449?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2940&q=80')"},children:i.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-black/50 via-black/30 to-transparent"})}),i.jsx("div",{className:"absolute top-8 left-8 z-20 animate-slide-down",children:i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx(ur,{size:"48"}),i.jsxs("div",{className:"text-white",children:[i.jsx("h3",{className:"text-xl font-bold tracking-wide",children:"Alliance CropCraft"}),i.jsx("p",{className:"text-sm opacity-90 font-medium",children:"Limited"})]})]})}),i.jsx("div",{className:"relative z-10 flex flex-col justify-end p-6 lg:p-12 text-white",children:i.jsxs("div",{className:"max-w-lg animate-slide-up",children:[i.jsxs("div",{className:"mb-6",children:[i.jsx("div",{className:"w-16 h-1 bg-primary-700 mb-4 animate-expand"}),i.jsx("h1",{className:"text-3xl lg:text-5xl font-bold mb-3 leading-tight",children:"Welcome Back"})]}),i.jsxs("div",{className:"space-y-3 animate-slide-up delay-300",children:[i.jsx("p",{className:"text-lg opacity-90 leading-relaxed",children:"Sign in to access Alliance CropCraft comprehensive farm management dashboard with real-time insights."}),i.jsxs("div",{className:"flex items-center space-x-6 text-sm opacity-80 mt-6",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:"w-2 h-2 bg-primary-700 rounded-full animate-pulse"}),i.jsx("span",{children:"Livestock Monitoring"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:"w-2 h-2 bg-primary-700 rounded-full animate-pulse delay-300"}),i.jsx("span",{children:"Task Management"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:"w-2 h-2 bg-primary-700 rounded-full animate-pulse delay-600"}),i.jsx("span",{children:"Smart Reports"})]})]})]})]})})]}),i.jsxs("div",{className:"w-full lg:w-2/5 relative overflow-hidden min-h-screen",children:[i.jsxs("div",{className:"absolute inset-0 bg-gradient-to-br from-slate-50 via-white to-primary-50",children:[i.jsx("div",{className:"absolute top-20 right-20 w-40 h-40 bg-primary-200/20 rounded-full animate-float blur-xl"}),i.jsx("div",{className:"absolute top-24 right-24 w-10 h-10 flex items-center justify-center animate-float delay-100",children:i.jsxs("svg",{viewBox:"0 0 64 64",className:"w-8 h-8 opacity-70",children:[i.jsx("circle",{cx:"32",cy:"32",r:"30",fill:"#8B4513"}),i.jsx("ellipse",{cx:"32",cy:"45",rx:"25",ry:"15",fill:"#D2691E"}),i.jsx("circle",{cx:"25",cy:"25",r:"3",fill:"#000"}),i.jsx("circle",{cx:"39",cy:"25",r:"3",fill:"#000"}),i.jsx("ellipse",{cx:"32",cy:"35",rx:"4",ry:"2",fill:"#000"}),i.jsx("path",{d:"M20 15 Q15 10 12 15 Q15 20 20 15",fill:"#8B4513"}),i.jsx("path",{d:"M44 15 Q49 10 52 15 Q49 20 44 15",fill:"#8B4513"}),i.jsx("rect",{x:"28",y:"50",width:"8",height:"12",fill:"#000"})]})}),i.jsx("div",{className:"absolute bottom-40 left-10 w-32 h-32 bg-green-300/20 rounded-full animate-float-reverse delay-1000 blur-lg"}),i.jsx("div",{className:"absolute bottom-44 left-14 w-8 h-8 flex items-center justify-center animate-float-reverse delay-1100",children:i.jsxs("svg",{viewBox:"0 0 64 64",className:"w-7 h-7 opacity-70",children:[i.jsx("ellipse",{cx:"32",cy:"35",rx:"22",ry:"18",fill:"#FFB6C1"}),i.jsx("circle",{cx:"32",cy:"25",r:"15",fill:"#FFB6C1"}),i.jsx("circle",{cx:"27",cy:"22",r:"2",fill:"#000"}),i.jsx("circle",{cx:"37",cy:"22",r:"2",fill:"#000"}),i.jsx("ellipse",{cx:"32",cy:"28",rx:"6",ry:"4",fill:"#FF69B4"}),i.jsx("circle",{cx:"30",cy:"28",r:"1",fill:"#000"}),i.jsx("circle",{cx:"34",cy:"28",r:"1",fill:"#000"}),i.jsx("path",{d:"M20 18 Q15 15 18 12 Q22 15 20 18",fill:"#FFB6C1"}),i.jsx("path",{d:"M44 18 Q49 15 46 12 Q42 15 44 18",fill:"#FFB6C1"}),i.jsx("path",{d:"M32 45 Q28 50 32 52 Q36 50 32 45",fill:"#FF69B4"})]})}),i.jsx("div",{className:"absolute top-1/2 right-10 w-24 h-24 bg-teal-200/30 rounded-full animate-pulse-slow delay-500 blur-lg"}),i.jsx("div",{className:"absolute top-1/2 right-14 w-7 h-7 flex items-center justify-center animate-pulse-slow delay-600",children:i.jsxs("svg",{viewBox:"0 0 64 64",className:"w-6 h-6 opacity-70",children:[i.jsx("ellipse",{cx:"32",cy:"40",rx:"18",ry:"20",fill:"#FFFFFF"}),i.jsx("circle",{cx:"32",cy:"25",r:"12",fill:"#FFFFFF"}),i.jsx("circle",{cx:"29",cy:"22",r:"1.5",fill:"#000"}),i.jsx("circle",{cx:"35",cy:"22",r:"1.5",fill:"#000"}),i.jsx("path",{d:"M32 26 L28 28 L32 30 Z",fill:"#FFA500"}),i.jsx("path",{d:"M25 15 Q20 10 25 8 Q30 12 25 15",fill:"#FF0000"}),i.jsx("ellipse",{cx:"32",cy:"55",rx:"8",ry:"3",fill:"#FFA500"}),i.jsx("circle",{cx:"28",cy:"55",r:"1",fill:"#FFA500"}),i.jsx("circle",{cx:"36",cy:"55",r:"1",fill:"#FFA500"})]})}),i.jsx("div",{className:"absolute top-1/3 left-1/4 w-28 h-28 bg-lime-200/20 rounded-full animate-float delay-700 blur-xl"}),i.jsx("div",{className:"absolute top-1/3 left-1/4 w-8 h-8 flex items-center justify-center animate-float delay-800",children:i.jsxs("svg",{viewBox:"0 0 64 64",className:"w-7 h-7 opacity-70",children:[i.jsx("ellipse",{cx:"32",cy:"38",rx:"20",ry:"15",fill:"#F5F5DC"}),i.jsx("circle",{cx:"32",cy:"25",r:"10",fill:"#000"}),i.jsx("circle",{cx:"29",cy:"22",r:"1",fill:"#FFF"}),i.jsx("circle",{cx:"35",cy:"22",r:"1",fill:"#FFF"}),i.jsx("circle",{cx:"25",cy:"30",r:"4",fill:"#F5F5DC"}),i.jsx("circle",{cx:"39",cy:"30",r:"4",fill:"#F5F5DC"}),i.jsx("circle",{cx:"20",cy:"35",r:"3",fill:"#F5F5DC"}),i.jsx("circle",{cx:"44",cy:"35",r:"3",fill:"#F5F5DC"}),i.jsx("circle",{cx:"32",cy:"20",r:"3",fill:"#F5F5DC"}),i.jsx("rect",{x:"28",y:"48",width:"3",height:"10",fill:"#000"}),i.jsx("rect",{x:"33",y:"48",width:"3",height:"10",fill:"#000"})]})}),i.jsx("div",{className:"absolute bottom-20 right-1/3 w-20 h-20 bg-primary-700/20 rounded-full animate-float-reverse delay-300 blur-lg"}),i.jsx("div",{className:"absolute bottom-24 right-1/3 w-7 h-7 flex items-center justify-center animate-float-reverse delay-400",children:i.jsxs("svg",{viewBox:"0 0 64 64",className:"w-6 h-6 opacity-70",children:[i.jsx("ellipse",{cx:"32",cy:"40",rx:"16",ry:"18",fill:"#8B4513"}),i.jsx("ellipse",{cx:"32",cy:"20",rx:"8",ry:"12",fill:"#8B4513"}),i.jsx("circle",{cx:"29",cy:"18",r:"1",fill:"#000"}),i.jsx("circle",{cx:"35",cy:"18",r:"1",fill:"#000"}),i.jsx("path",{d:"M32 22 L28 24 L32 26 Z",fill:"#000"}),i.jsx("path",{d:"M28 8 Q25 5 28 3 Q32 6 30 10 Q28 12 28 8",fill:"#654321"}),i.jsx("path",{d:"M36 8 Q39 5 36 3 Q32 6 34 10 Q36 12 36 8",fill:"#654321"}),i.jsx("rect",{x:"26",y:"52",width:"3",height:"8",fill:"#000"}),i.jsx("rect",{x:"35",y:"52",width:"3",height:"8",fill:"#000"}),i.jsx("ellipse",{cx:"32",cy:"25",rx:"12",ry:"8",fill:"#A0522D"})]})}),i.jsx("div",{className:"absolute top-32 left-16 w-6 h-6 animate-float delay-1500 opacity-60",children:i.jsxs("svg",{viewBox:"0 0 32 32",className:"w-6 h-6",children:[i.jsx("circle",{cx:"16",cy:"16",r:"14",fill:"#90EE90"}),i.jsx("text",{x:"16",y:"20",textAnchor:"middle",fontSize:"16",fill:"#4A5568",children:"🐰"})]})}),i.jsx("div",{className:"absolute bottom-32 right-12 w-6 h-6 animate-float-reverse delay-2000 opacity-60",children:i.jsxs("svg",{viewBox:"0 0 32 32",className:"w-6 h-6",children:[i.jsx("circle",{cx:"16",cy:"16",r:"14",fill:"#FFE4B5"}),i.jsx("text",{x:"16",y:"20",textAnchor:"middle",fontSize:"16",fill:"#4A5568",children:"🐐"})]})})]}),i.jsx("div",{className:"relative z-10 flex items-center justify-center min-h-screen p-8",children:i.jsxs("div",{className:"max-w-md w-full animate-fade-in-up",children:[i.jsxs("div",{className:"text-center mb-8 lg:hidden",children:[i.jsx("div",{className:"flex justify-center mb-4",children:i.jsx(ur,{size:"64"})}),i.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Alliance CropCraft"}),i.jsx("p",{className:"text-primary-600 font-medium",children:"Limited"})]}),i.jsxs("div",{className:"bg-white/80 backdrop-blur-xl rounded-3xl shadow-2xl border border-white/50 p-8 transition-all duration-500 hover:shadow-3xl hover:bg-white/90",children:[i.jsxs("div",{className:"text-center mb-8 hidden lg:block",children:[i.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16",children:i.jsx(ur,{size:"64"})}),i.jsx("h2",{className:"text-3xl font-bold text-gray-900 animate-slide-down mb-2",children:"Sign In"}),i.jsx("p",{className:"text-green-600 font-medium animate-slide-down delay-200",children:"Access your dashboard"})]}),r&&i.jsx("div",{ref:d,className:"mb-6 p-4 bg-red-50 border-l-4 border-red-400 rounded-r-xl animate-shake",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("svg",{className:"w-5 h-5 text-red-400 mr-3",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),i.jsx("span",{className:"text-red-700 font-medium",children:r})]})}),i.jsxs("form",{onSubmit:v,className:"space-y-6",children:[i.jsxs("div",{className:"animate-slide-up delay-300",children:[i.jsx("label",{htmlFor:"email",className:"block text-sm font-semibold text-gray-700 mb-3",children:"Email Address"}),i.jsx("div",{className:"relative",children:i.jsx("input",{id:"email",name:"email",type:"email",required:!0,className:"w-full px-4 py-4 border-2 border-gray-200 rounded-2xl focus:ring-2 focus:ring-green-500 focus:border-green-500 focus:outline-none transition-all duration-300 hover:border-green-300 bg-white/70 backdrop-blur-sm text-gray-900 placeholder-gray-500",placeholder:"Enter your email address",value:e.email,onChange:m})})]}),i.jsxs("div",{className:"animate-slide-up delay-500",children:[i.jsx("label",{htmlFor:"password",className:"block text-sm font-semibold text-gray-700 mb-3",children:"Password"}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{id:"password",name:"password",type:l?"text":"password",required:!0,className:"w-full px-4 py-4 pr-12 border-2 border-gray-200 rounded-2xl focus:ring-2 focus:ring-green-500 focus:border-green-500 focus:outline-none transition-all duration-300 hover:border-green-300 bg-white/70 backdrop-blur-sm text-gray-900 placeholder-gray-500",placeholder:"Enter your password",value:e.password,onChange:m}),i.jsx("button",{type:"button",className:"absolute right-4 top-4 text-gray-400 hover:text-gray-600 transition-colors duration-200",onClick:()=>o(!l),children:l?i.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"})}):i.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]})]}),i.jsx("button",{type:"submit",disabled:s,className:"w-full bg-gradient-to-r from-green-600 via-green-500 to-teal-600 hover:from-green-700 hover:via-green-600 hover:to-teal-700 text-white font-bold py-4 px-6 rounded-2xl transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed transform hover:scale-105 hover:shadow-xl active:scale-95 animate-slide-up delay-700 shadow-lg",children:s?i.jsxs("span",{className:"flex items-center justify-center",children:[i.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-6 w-6 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[i.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),i.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Signing you in..."]}):i.jsx("span",{className:"flex items-center justify-center",children:"Sign In"})})]}),i.jsx("div",{className:"mt-6 text-center animate-slide-up delay-800",children:i.jsx(Nt,{to:"/forgot-password",className:"text-sm text-green-600 hover:text-green-700 font-medium transition-colors",children:"Forgot your password?"})}),i.jsxs("div",{className:"mt-8 text-center animate-slide-up delay-900",children:[i.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"New to Alliance CropCraft?"}),i.jsxs(Nt,{to:"/register",className:"inline-flex items-center px-6 py-3 border-2 border-green-600 text-green-600 hover:bg-green-600 hover:text-white font-semibold rounded-2xl transition-all duration-300 transform hover:scale-105 hover:shadow-lg active:scale-95",children:[i.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"})}),"Create New Account"]})]})]})]})})]}),i.jsx("style",{jsx:!0,children:`
        @keyframes slide-up {
          from { opacity: 0; transform: translateY(30px); }
          to { opacity: 1; transform: translateY(0); }
        }
        
        @keyframes slide-down {
          from { opacity: 0; transform: translateY(-20px); }
          to { opacity: 1; transform: translateY(0); }
        }
        
        @keyframes fade-in-up {
          from { opacity: 0; transform: translateY(40px); }
          to { opacity: 1; transform: translateY(0); }
        }
        
        @keyframes expand {
          from { width: 0; }
          to { width: 4rem; }
        }
        
        @keyframes bounce-gentle {
          0%, 100% { transform: translateY(0); }
          50% { transform: translateY(-3px); }
        }
        
        @keyframes float {
          0%, 100% { transform: translateY(0px) translateX(0px); }
          33% { transform: translateY(-20px) translateX(10px); }
          66% { transform: translateY(-10px) translateX(-5px); }
        }
        
        @keyframes float-reverse {
          0%, 100% { transform: translateY(0px) translateX(0px); }
          33% { transform: translateY(-15px) translateX(-10px); }
          66% { transform: translateY(-25px) translateX(5px); }
        }
        
        @keyframes pulse-slow {
          0%, 100% { opacity: 0.2; transform: scale(1); }
          50% { opacity: 0.4; transform: scale(1.05); }
        }
        
        @keyframes logo-glow {
          0%, 100% { filter: drop-shadow(0 0 10px rgba(16, 185, 129, 0.3)); }
          50% { filter: drop-shadow(0 0 20px rgba(16, 185, 129, 0.6)); }
        }
        
        @keyframes shake {
          0%, 100% { transform: translateX(0); }
          25% { transform: translateX(-5px); }
          75% { transform: translateX(5px); }
        }
        
        .animate-slide-up { animation: slide-up 0.8s ease-out forwards; opacity: 0; }
        .animate-slide-down { animation: slide-down 0.8s ease-out forwards; opacity: 0; }
        .animate-fade-in-up { animation: fade-in-up 1.2s ease-out forwards; opacity: 0; }
        .animate-expand { animation: expand 1.5s ease-out forwards; }
        .animate-bounce-gentle { animation: bounce-gentle 3s ease-in-out infinite; }
        .animate-float { animation: float 6s ease-in-out infinite; }
        .animate-float-reverse { animation: float-reverse 8s ease-in-out infinite; }
        .animate-pulse-slow { animation: pulse-slow 4s ease-in-out infinite; }
        .animate-shake { animation: shake 0.6s ease-in-out; }
        
        .delay-100 { animation-delay: 0.1s; }
        .delay-200 { animation-delay: 0.2s; }
        .delay-300 { animation-delay: 0.3s; }
        .delay-400 { animation-delay: 0.4s; }
        .delay-500 { animation-delay: 0.5s; }
        .delay-600 { animation-delay: 0.6s; }
        .delay-700 { animation-delay: 0.7s; }
        .delay-800 { animation-delay: 0.8s; }
        .delay-900 { animation-delay: 0.9s; }
        .delay-1000 { animation-delay: 1s; }
        .delay-1100 { animation-delay: 1.1s; }
        .delay-1200 { animation-delay: 1.2s; }
        .delay-1500 { animation-delay: 1.5s; }
        .delay-2000 { animation-delay: 2s; }
        
        .shadow-3xl {
          box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
        }
      `})]})},a2=()=>{const[e,t]=N.useState({full_name:"",email:"",phone:"",role:"",password:"",confirmPassword:""}),[s,n]=N.useState(!1),[r,a]=N.useState(""),[l,o]=N.useState(!1),[c,d]=N.useState(!1),[u,h]=N.useState(!1),m=N.useRef(null),v=N.useRef(null),{login:y}=ze(),g=It(),b=["Farm Attendant","Veterinary Doctor","Pasture Manager","Admin","Farm Manager","Maintenance Officer","Field Production Officer"];N.useEffect(()=>{r&&v.current&&m.current&&setTimeout(()=>{v.current.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"})},100)},[r]);const f=_=>{t({...e,[_.target.name]:_.target.value})},p=_=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(_),x=_=>/^\d{10,15}$/.test(_.replace(/\D/g,"")),j=_=>_.length>=8&&/[0-9!@#$%^&*(),.?":{}|<>]/.test(_),w=async _=>{var S;if(_.preventDefault(),n(!0),a(""),e.password!==e.confirmPassword){a("Passwords do not match"),n(!1);return}if(!l){a("Please accept the terms and conditions"),n(!1);return}if(!p(e.email)){a("Please enter a valid email address"),n(!1);return}if(e.phone&&!x(e.phone)){a("Please enter a valid phone number (10-15 digits)"),n(!1);return}if(!j(e.password)){a("Password must be at least 8 characters and contain a number or symbol"),n(!1);return}if(!e.full_name.trim()){a("Full name is required"),n(!1);return}if(!e.role){a("Please select your role"),n(!1);return}try{const{confirmPassword:P,...A}=e,O=await Ps.register(A);if(O.data.verification_required)localStorage.setItem("pendingVerificationEmail",O.data.user.email),g("/verify-email",{state:{message:O.data.message,email:O.data.user.email}});else{const{token:C,user:F}=O.data;y(C,F),g("/dashboard")}}catch(P){const A=(S=P.response)==null?void 0:S.data;A!=null&&A.field?a(A.message):a((A==null?void 0:A.message)||"Registration failed")}finally{n(!1)}};return i.jsxs("div",{ref:m,className:"min-h-screen flex flex-col lg:flex-row relative",children:[i.jsxs("div",{className:"hidden lg:flex lg:w-3/5 relative overflow-hidden h-screen sticky top-0",children:[i.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat transform scale-105 transition-transform duration-700 hover:scale-100",style:{backgroundImage:"url('https://images.unsplash.com/photo-1625246333195-78d9c38ad449?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2940&q=80')"},children:i.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-black/50 via-black/30 to-transparent"})}),i.jsx("div",{className:"absolute top-8 left-8 z-20 animate-slide-down",children:i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx(ur,{size:"48"}),i.jsxs("div",{className:"text-white",children:[i.jsx("h3",{className:"text-xl font-bold tracking-wide",children:"Alliance CropCraft"}),i.jsx("p",{className:"text-sm opacity-90 font-medium",children:"Limited"})]})]})}),i.jsx("div",{className:"relative z-10 flex flex-col justify-end p-6 lg:p-12 text-white",children:i.jsxs("div",{className:"max-w-lg animate-slide-up",children:[i.jsxs("div",{className:"mb-6",children:[i.jsx("div",{className:"w-16 h-1 bg-primary-700 mb-4 animate-expand"}),i.jsx("h1",{className:"text-3xl lg:text-5xl font-bold mb-3 leading-tight",children:"Create an Account"})]}),i.jsxs("div",{className:"space-y-3 animate-slide-up delay-300",children:[i.jsx("p",{className:"text-lg opacity-90 leading-relaxed",children:"Create your account to access Alliance CropCraft comprehensive farm management dashboard with real-time insights."}),i.jsxs("div",{className:"flex items-center space-x-6 text-sm opacity-80 mt-6",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:"w-2 h-2 bg-primary-700 rounded-full animate-pulse"}),i.jsx("span",{children:"Livestock Monitoring"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:"w-2 h-2 bg-primary-700 rounded-full animate-pulse delay-300"}),i.jsx("span",{children:"Task Management"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:"w-2 h-2 bg-primary-700 rounded-full animate-pulse delay-600"}),i.jsx("span",{children:"Smart Reports"})]})]})]})]})})]}),i.jsxs("div",{className:"w-full lg:w-2/5 relative overflow-hidden min-h-screen",children:[i.jsxs("div",{className:"absolute inset-0 bg-gradient-to-br from-slate-50 via-white to-primary-50",children:[i.jsx("div",{className:"absolute top-20 right-20 w-40 h-40 bg-primary-200/20 rounded-full animate-float blur-xl"}),i.jsx("div",{className:"absolute top-24 right-24 w-10 h-10 flex items-center justify-center animate-float delay-100",children:i.jsxs("svg",{viewBox:"0 0 64 64",className:"w-8 h-8 opacity-70",children:[i.jsx("circle",{cx:"32",cy:"32",r:"30",fill:"#8B4513"}),i.jsx("ellipse",{cx:"32",cy:"45",rx:"25",ry:"15",fill:"#D2691E"}),i.jsx("circle",{cx:"25",cy:"25",r:"3",fill:"#000"}),i.jsx("circle",{cx:"39",cy:"25",r:"3",fill:"#000"}),i.jsx("ellipse",{cx:"32",cy:"35",rx:"4",ry:"2",fill:"#000"}),i.jsx("path",{d:"M20 15 Q15 10 12 15 Q15 20 20 15",fill:"#8B4513"}),i.jsx("path",{d:"M44 15 Q49 10 52 15 Q49 20 44 15",fill:"#8B4513"}),i.jsx("rect",{x:"28",y:"50",width:"8",height:"12",fill:"#000"})]})}),i.jsx("div",{className:"absolute bottom-40 left-10 w-32 h-32 bg-green-300/20 rounded-full animate-float-reverse delay-1000 blur-lg"}),i.jsx("div",{className:"absolute bottom-44 left-14 w-8 h-8 flex items-center justify-center animate-float-reverse delay-1100",children:i.jsxs("svg",{viewBox:"0 0 64 64",className:"w-7 h-7 opacity-70",children:[i.jsx("ellipse",{cx:"32",cy:"35",rx:"22",ry:"18",fill:"#FFB6C1"}),i.jsx("circle",{cx:"32",cy:"25",r:"15",fill:"#FFB6C1"}),i.jsx("circle",{cx:"27",cy:"22",r:"2",fill:"#000"}),i.jsx("circle",{cx:"37",cy:"22",r:"2",fill:"#000"}),i.jsx("ellipse",{cx:"32",cy:"28",rx:"6",ry:"4",fill:"#FF69B4"}),i.jsx("circle",{cx:"30",cy:"28",r:"1",fill:"#000"}),i.jsx("circle",{cx:"34",cy:"28",r:"1",fill:"#000"}),i.jsx("path",{d:"M20 18 Q15 15 18 12 Q22 15 20 18",fill:"#FFB6C1"}),i.jsx("path",{d:"M44 18 Q49 15 46 12 Q42 15 44 18",fill:"#FFB6C1"}),i.jsx("path",{d:"M32 45 Q28 50 32 52 Q36 50 32 45",fill:"#FF69B4"})]})}),i.jsx("div",{className:"absolute top-1/2 right-10 w-24 h-24 bg-teal-200/30 rounded-full animate-pulse-slow delay-500 blur-lg"}),i.jsx("div",{className:"absolute top-1/2 right-14 w-7 h-7 flex items-center justify-center animate-pulse-slow delay-600",children:i.jsxs("svg",{viewBox:"0 0 64 64",className:"w-6 h-6 opacity-70",children:[i.jsx("ellipse",{cx:"32",cy:"40",rx:"18",ry:"20",fill:"#FFFFFF"}),i.jsx("circle",{cx:"32",cy:"25",r:"12",fill:"#FFFFFF"}),i.jsx("circle",{cx:"29",cy:"22",r:"1.5",fill:"#000"}),i.jsx("circle",{cx:"35",cy:"22",r:"1.5",fill:"#000"}),i.jsx("path",{d:"M32 26 L28 28 L32 30 Z",fill:"#FFA500"}),i.jsx("path",{d:"M25 15 Q20 10 25 8 Q30 12 25 15",fill:"#FF0000"}),i.jsx("ellipse",{cx:"32",cy:"55",rx:"8",ry:"3",fill:"#FFA500"}),i.jsx("circle",{cx:"28",cy:"55",r:"1",fill:"#FFA500"}),i.jsx("circle",{cx:"36",cy:"55",r:"1",fill:"#FFA500"})]})}),i.jsx("div",{className:"absolute top-1/3 left-1/4 w-28 h-28 bg-lime-200/20 rounded-full animate-float delay-700 blur-xl"}),i.jsx("div",{className:"absolute top-1/3 left-1/4 w-8 h-8 flex items-center justify-center animate-float delay-800",children:i.jsxs("svg",{viewBox:"0 0 64 64",className:"w-7 h-7 opacity-70",children:[i.jsx("ellipse",{cx:"32",cy:"38",rx:"20",ry:"15",fill:"#F5F5DC"}),i.jsx("circle",{cx:"32",cy:"25",r:"10",fill:"#000"}),i.jsx("circle",{cx:"29",cy:"22",r:"1",fill:"#FFF"}),i.jsx("circle",{cx:"35",cy:"22",r:"1",fill:"#FFF"}),i.jsx("circle",{cx:"25",cy:"30",r:"4",fill:"#F5F5DC"}),i.jsx("circle",{cx:"39",cy:"30",r:"4",fill:"#F5F5DC"}),i.jsx("circle",{cx:"20",cy:"35",r:"3",fill:"#F5F5DC"}),i.jsx("circle",{cx:"44",cy:"35",r:"3",fill:"#F5F5DC"}),i.jsx("circle",{cx:"32",cy:"20",r:"3",fill:"#F5F5DC"}),i.jsx("rect",{x:"28",y:"48",width:"3",height:"10",fill:"#000"}),i.jsx("rect",{x:"33",y:"48",width:"3",height:"10",fill:"#000"})]})}),i.jsx("div",{className:"absolute bottom-20 right-1/3 w-20 h-20 bg-primary-700/20 rounded-full animate-float-reverse delay-300 blur-lg"}),i.jsx("div",{className:"absolute bottom-24 right-1/3 w-7 h-7 flex items-center justify-center animate-float-reverse delay-400",children:i.jsxs("svg",{viewBox:"0 0 64 64",className:"w-6 h-6 opacity-70",children:[i.jsx("ellipse",{cx:"32",cy:"40",rx:"16",ry:"18",fill:"#8B4513"}),i.jsx("ellipse",{cx:"32",cy:"20",rx:"8",ry:"12",fill:"#8B4513"}),i.jsx("circle",{cx:"29",cy:"18",r:"1",fill:"#000"}),i.jsx("circle",{cx:"35",cy:"18",r:"1",fill:"#000"}),i.jsx("path",{d:"M32 22 L28 24 L32 26 Z",fill:"#000"}),i.jsx("path",{d:"M28 8 Q25 5 28 3 Q32 6 30 10 Q28 12 28 8",fill:"#654321"}),i.jsx("path",{d:"M36 8 Q39 5 36 3 Q32 6 34 10 Q36 12 36 8",fill:"#654321"}),i.jsx("rect",{x:"26",y:"52",width:"3",height:"8",fill:"#000"}),i.jsx("rect",{x:"35",y:"52",width:"3",height:"8",fill:"#000"}),i.jsx("ellipse",{cx:"32",cy:"25",rx:"12",ry:"8",fill:"#A0522D"})]})}),i.jsx("div",{className:"absolute top-32 left-16 w-6 h-6 animate-float delay-1500 opacity-60",children:i.jsxs("svg",{viewBox:"0 0 32 32",className:"w-6 h-6",children:[i.jsx("circle",{cx:"16",cy:"16",r:"14",fill:"#90EE90"}),i.jsx("text",{x:"16",y:"20",textAnchor:"middle",fontSize:"16",fill:"#4A5568",children:"🐰"})]})}),i.jsx("div",{className:"absolute bottom-32 right-12 w-6 h-6 animate-float-reverse delay-2000 opacity-60",children:i.jsxs("svg",{viewBox:"0 0 32 32",className:"w-6 h-6",children:[i.jsx("circle",{cx:"16",cy:"16",r:"14",fill:"#FFE4B5"}),i.jsx("text",{x:"16",y:"20",textAnchor:"middle",fontSize:"16",fill:"#4A5568",children:"🐐"})]})})]}),i.jsx("div",{className:"relative z-10 flex items-center justify-center min-h-screen p-6 overflow-y-auto",children:i.jsxs("div",{className:"max-w-md w-full animate-fade-in-up my-8",children:[i.jsxs("div",{className:"text-center mb-6 lg:hidden",children:[i.jsx("div",{className:"flex justify-center mb-4",children:i.jsx(ur,{size:"64"})}),i.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Alliance CropCraft"}),i.jsx("p",{className:"text-primary-600 font-medium",children:"Limited"})]}),i.jsxs("div",{className:"bg-white/85 backdrop-blur-xl rounded-3xl shadow-2xl border border-white/50 p-6 transition-all duration-500 hover:shadow-3xl hover:bg-white/90",children:[i.jsxs("div",{className:"text-center mb-6 hidden lg:block",children:[i.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 ",children:i.jsx(ur,{size:"64"})}),i.jsx("h2",{className:"text-3xl font-bold text-gray-900 animate-slide-down mb-2",children:"Create Account"})]}),r&&i.jsx("div",{ref:v,className:"mb-4 p-4 bg-red-50 border-l-4 border-red-400 rounded-r-xl animate-shake",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("svg",{className:"w-5 h-5 text-red-400 mr-3",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),i.jsx("span",{className:"text-red-700 font-medium text-sm",children:r})]})}),i.jsxs("form",{onSubmit:w,className:"space-y-4",children:[i.jsxs("div",{className:"animate-slide-up delay-300",children:[i.jsx("label",{htmlFor:"full_name",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Full Name"}),i.jsx("div",{className:"relative",children:i.jsx("input",{id:"full_name",name:"full_name",type:"text",required:!0,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-2xl focus:ring-2 focus:ring-green-500 focus:border-green-500 focus:outline-none transition-all duration-300 hover:border-green-300 bg-white/70 backdrop-blur-sm text-gray-900 placeholder-gray-500",placeholder:"Enter your full name",value:e.full_name,onChange:f})})]}),i.jsxs("div",{className:"animate-slide-up delay-400",children:[i.jsx("label",{htmlFor:"email",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Email Address"}),i.jsx("div",{className:"relative",children:i.jsx("input",{id:"email",name:"email",type:"email",required:!0,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-2xl focus:ring-2 focus:ring-green-500 focus:border-green-500 focus:outline-none transition-all duration-300 hover:border-green-300 bg-white/70 backdrop-blur-sm text-gray-900 placeholder-gray-500",placeholder:"Enter your email address",value:e.email,onChange:f})})]}),i.jsxs("div",{className:"animate-slide-up delay-500",children:[i.jsx("label",{htmlFor:"phone",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Phone Number"}),i.jsx("div",{className:"relative",children:i.jsx("input",{id:"phone",name:"phone",type:"tel",className:"w-full px-4 py-3 border-2 border-gray-200 rounded-2xl focus:ring-2 focus:ring-green-500 focus:border-green-500 focus:outline-none transition-all duration-300 hover:border-green-300 bg-white/70 backdrop-blur-sm text-gray-900 placeholder-gray-500",placeholder:"Enter your phone number",value:e.phone,onChange:f})})]}),i.jsxs("div",{className:"animate-slide-up delay-600",children:[i.jsx("label",{htmlFor:"role",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Role"}),i.jsxs("div",{className:"relative",children:[i.jsxs("select",{id:"role",name:"role",required:!0,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-2xl focus:ring-2 focus:ring-green-500 focus:border-green-500 focus:outline-none transition-all duration-300 hover:border-green-300 bg-white/70 backdrop-blur-sm text-gray-900 appearance-none",value:e.role,onChange:f,children:[i.jsx("option",{value:"",children:"Select your role"}),b.map(_=>i.jsx("option",{value:_,children:_},_))]}),i.jsx("svg",{className:"absolute right-4 top-4 w-4 h-4 text-gray-400 pointer-events-none",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})]})]}),i.jsxs("div",{className:"animate-slide-up delay-700",children:[i.jsx("label",{htmlFor:"password",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Password"}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{id:"password",name:"password",type:c?"text":"password",required:!0,className:"w-full px-4 py-3 pr-12 border-2 border-gray-200 rounded-2xl focus:ring-2 focus:ring-green-500 focus:border-green-500 focus:outline-none transition-all duration-300 hover:border-green-300 bg-white/70 backdrop-blur-sm text-gray-900 placeholder-gray-500",placeholder:"Create a strong password",value:e.password,onChange:f}),i.jsx("button",{type:"button",className:"absolute right-4 top-4 text-gray-400 hover:text-gray-600 transition-colors duration-200",onClick:()=>d(!c),children:c?i.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"})}):i.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]})]}),i.jsxs("div",{className:"animate-slide-up delay-800",children:[i.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Confirm Password"}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:u?"text":"password",required:!0,className:"w-full px-4 py-3 pr-12 border-2 border-gray-200 rounded-2xl focus:ring-2 focus:ring-green-500 focus:border-green-500 focus:outline-none transition-all duration-300 hover:border-green-300 bg-white/70 backdrop-blur-sm text-gray-900 placeholder-gray-500",placeholder:"Confirm your password",value:e.confirmPassword,onChange:f}),i.jsx("button",{type:"button",className:"absolute right-4 top-4 text-gray-400 hover:text-gray-600 transition-colors duration-200",onClick:()=>h(!u),children:u?i.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"})}):i.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]})]}),i.jsx("div",{className:"animate-slide-up delay-900 bt-2",children:i.jsxs("div",{className:"flex items-start space-x-3 mt-4",children:[i.jsx("input",{id:"acceptTerms",type:"checkbox",className:"mt-1 h-4 w-4 text-green-600 focus:ring-green-500 border-gray-300 rounded transition-colors duration-200",checked:l,onChange:_=>o(_.target.checked)}),i.jsxs("label",{htmlFor:"acceptTerms",className:"text-sm text-gray-700 leading-relaxed",children:["I agree to the"," ",i.jsx("a",{href:"#",className:"text-green-600 hover:text-green-700 font-medium underline",children:"Terms and Conditions"})," ","and"," ",i.jsx("a",{href:"#",className:"text-green-600 hover:text-green-700 font-medium underline",children:"Privacy Policy"})]})]})}),i.jsx("button",{type:"submit",disabled:s,className:"w-full bg-gradient-to-r from-green-600 via-green-500 to-teal-600 hover:from-green-700 hover:via-green-600 hover:to-teal-700 text-white font-bold py-4 px-6 rounded-2xl transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed transform hover:scale-105 hover:shadow-xl active:scale-95 animate-slide-up delay-1000 shadow-lg mt-6",children:s?i.jsxs("span",{className:"flex items-center justify-center",children:[i.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-6 w-6 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[i.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),i.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Creating Account..."]}):i.jsx("span",{className:"flex items-center justify-center",children:"Create Account"})})]}),i.jsxs("div",{className:"mt-6 text-center animate-slide-up delay-1100",children:[i.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Already have an account?"}),i.jsxs(Nt,{to:"/login",className:"inline-flex items-center px-6 py-3 border-2 border-green-600 text-green-600 hover:bg-green-600 hover:text-white font-semibold rounded-2xl transition-all duration-300 transform hover:scale-105 hover:shadow-lg active:scale-95",children:[i.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"})}),"Sign In"]})]})]})]})})]}),i.jsx("style",{jsx:!0,children:`
        @keyframes slide-up {
          from { opacity: 0; transform: translateY(30px); }
          to { opacity: 1; transform: translateY(0); }
        }
        
        @keyframes slide-down {
          from { opacity: 0; transform: translateY(-20px); }
          to { opacity: 1; transform: translateY(0); }
        }
        
        @keyframes fade-in-up {
          from { opacity: 0; transform: translateY(40px); }
          to { opacity: 1; transform: translateY(0); }
        }
        
        @keyframes expand {
          from { width: 0; }
          to { width: 4rem; }
        }
        
        @keyframes bounce-gentle {
          0%, 100% { transform: translateY(0); }
          50% { transform: translateY(-3px); }
        }
        
        @keyframes float {
          0%, 100% { transform: translateY(0px) translateX(0px); }
          33% { transform: translateY(-20px) translateX(10px); }
          66% { transform: translateY(-10px) translateX(-5px); }
        }
        
        @keyframes float-reverse {
          0%, 100% { transform: translateY(0px) translateX(0px); }
          33% { transform: translateY(-15px) translateX(-10px); }
          66% { transform: translateY(-25px) translateX(5px); }
        }
        
        @keyframes pulse-slow {
          0%, 100% { opacity: 0.2; transform: scale(1); }
          50% { opacity: 0.4; transform: scale(1.05); }
        }
        
        @keyframes logo-glow {
          0%, 100% { filter: drop-shadow(0 0 10px rgba(16, 185, 129, 0.3)); }
          50% { filter: drop-shadow(0 0 20px rgba(16, 185, 129, 0.6)); }
        }
        
        @keyframes shake {
          0%, 100% { transform: translateX(0); }
          25% { transform: translateX(-5px); }
          75% { transform: translateX(5px); }
        }
        
        .animate-slide-up { animation: slide-up 0.8s ease-out forwards; opacity: 0; }
        .animate-slide-down { animation: slide-down 0.8s ease-out forwards; opacity: 0; }
        .animate-fade-in-up { animation: fade-in-up 1.2s ease-out forwards; opacity: 0; }
        .animate-expand { animation: expand 1.5s ease-out forwards; }
        .animate-bounce-gentle { animation: bounce-gentle 3s ease-in-out infinite; }
        .animate-float { animation: float 6s ease-in-out infinite; }
        .animate-float-reverse { animation: float-reverse 8s ease-in-out infinite; }
        .animate-pulse-slow { animation: pulse-slow 4s ease-in-out infinite; }
        .animate-logo-glow { animation: logo-glow 3s ease-in-out infinite; }
        .animate-shake { animation: shake 0.6s ease-in-out; }
        
        .delay-100 { animation-delay: 0.1s; }
        .delay-200 { animation-delay: 0.2s; }
        .delay-300 { animation-delay: 0.3s; }
        .delay-400 { animation-delay: 0.4s; }
        .delay-500 { animation-delay: 0.5s; }
        .delay-600 { animation-delay: 0.6s; }
        .delay-700 { animation-delay: 0.7s; }
        .delay-800 { animation-delay: 0.8s; }
        .delay-900 { animation-delay: 0.9s; }
        .delay-1000 { animation-delay: 1s; }
        .delay-1100 { animation-delay: 1.1s; }
        .delay-1200 { animation-delay: 1.2s; }
        .delay-1500 { animation-delay: 1.5s; }
        .delay-2000 { animation-delay: 2s; }
        
        .shadow-3xl {
          box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
        }
      `})]})},l2=()=>{const[e,t]=N.useState(""),[s,n]=N.useState(!1),[r,a]=N.useState(""),[l,o]=N.useState(""),[c,d]=N.useState(!1),{forgotPassword:u}=ze(),h=async m=>{var v,y;if(m.preventDefault(),n(!0),o(""),a(""),!e.trim()){o("Please enter your email address."),n(!1);return}try{await u(e),d(!0),a("Password reset instructions have been sent to your email address.")}catch(g){o(((y=(v=g.response)==null?void 0:v.data)==null?void 0:y.message)||"Failed to send reset email. Please try again.")}finally{n(!1)}};return c?i.jsx("div",{className:"min-h-screen bg-primary-50 flex items-center justify-center px-4 sm:px-6 lg:px-8",children:i.jsx("div",{className:"max-w-md w-full bg-farm-50 space-y-8",children:i.jsxs("div",{className:"card-enhanced text-center",children:[i.jsx("div",{className:"w-16 h-16 bg-farm-100 rounded-full flex items-center justify-center mx-auto mb-6",children:i.jsx(Ft,{className:"w-8 h-8 text-green-600"})}),i.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Check Your Email"}),i.jsxs("p",{className:"text-gray-600 mb-6",children:["We've sent password reset instructions to ",i.jsx("strong",{children:e})]}),i.jsx("p",{className:"text-sm text-gray-500 mb-6",children:"Didn't receive the email? Check your spam folder or contact support."}),i.jsxs(Nt,{to:"/login",className:"btn-primary w-full flex items-center justify-center space-x-2",children:[i.jsx(Xs,{className:"w-4 h-4"}),i.jsx("span",{children:"Back to Login"})]})]})})}):i.jsx("div",{className:"min-h-screen bg-primary-100 flex items-center justify-center px-4 sm:px-6 lg:px-8",children:i.jsx("div",{className:"max-w-md w-full space-y-8",children:i.jsxs("div",{className:"card-enhanced bg-primary-100",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsx("div",{className:"w-16 h-16 bg-primary-100 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx(ds,{className:"w-8 h-8 text-green-600"})}),i.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Reset Your Password"}),i.jsx("p",{className:"mt-2 text-gray-600",children:"Enter your email address and we'll send you instructions to reset your password."})]}),i.jsxs("form",{onSubmit:h,className:"space-y-6",children:[l&&i.jsx("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4",children:i.jsx("p",{className:"text-red-700 text-sm",children:l})}),r&&i.jsx("div",{className:"bg-green-50 border border-green-200 rounded-xl p-4",children:i.jsx("p",{className:"text-green-700 text-sm",children:r})}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),i.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"input-field",placeholder:"Enter your email address",value:e,onChange:m=>t(m.target.value),disabled:s})]}),i.jsx("button",{type:"submit",disabled:s,className:"btn-primary w-full flex items-center justify-center space-x-2",children:s?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),i.jsx("span",{children:"Sending..."})]}):i.jsxs(i.Fragment,{children:[i.jsx(ds,{className:"w-4 h-4"}),i.jsx("span",{children:"Send Reset Instructions"})]})}),i.jsx("div",{className:"text-center",children:i.jsxs(Nt,{to:"/login",className:"text-primary-600 hover:text-primary-700 font-medium text-sm flex items-center justify-center space-x-1",children:[i.jsx(Xs,{className:"w-4 h-4"}),i.jsx("span",{children:"Back to Login"})]})})]})]})})})},o2=()=>{const[e,t]=N.useState({newPassword:"",confirmPassword:""}),[s,n]=N.useState({newPassword:!1,confirmPassword:!1}),[r,a]=N.useState(!1),[l,o]=N.useState(""),[c,d]=N.useState(!1),[u,h]=N.useState(null),{token:m}=Wu(),v=It(),{resetPassword:y}=ze();N.useEffect(()=>{m?h(!0):(h(!1),o("Invalid or missing reset token."))},[m]);const g=x=>{const{name:j,value:w}=x.target;t(_=>({..._,[j]:w})),o("")},b=x=>{n(j=>({...j,[x]:!j[x]}))},f=()=>e.newPassword.length<6?(o("Password must be at least 6 characters long."),!1):e.newPassword!==e.confirmPassword?(o("Passwords do not match."),!1):!0,p=async x=>{var j,w;if(x.preventDefault(),!!f()){a(!0),o("");try{await y(m,e.newPassword),d(!0),setTimeout(()=>{v("/login")},3e3)}catch(_){o(((w=(j=_.response)==null?void 0:j.data)==null?void 0:w.message)||"Failed to reset password. Please try again.")}finally{a(!1)}}};return u===!1?i.jsx("div",{className:"min-h-screen flex items-center justify-center px-4 sm:px-6 lg:px-8",children:i.jsx("div",{className:"max-w-md w-full space-y-8",children:i.jsxs("div",{className:"card-enhanced text-center",children:[i.jsx("div",{className:"w-16 h-16 bg-earth-100 rounded-full flex items-center justify-center mx-auto mb-6",children:i.jsx(ns,{className:"w-8 h-8 text-earth-600"})}),i.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Invalid Reset Link"}),i.jsx("p",{className:"text-gray-600 mb-6",children:"This password reset link is invalid or has expired."}),i.jsx(Nt,{to:"/forgot-password",className:"btn-primary w-full",children:"Request New Reset Link"})]})})}):c?i.jsx("div",{className:"min-h-screen bg-primary-50 flex items-center justify-center px-4 sm:px-6 lg:px-8",children:i.jsx("div",{className:"max-w-md w-full space-y-8",children:i.jsxs("div",{className:"card-enhanced text-center",children:[i.jsx("div",{className:"w-16 h-16 bg-primary-100 rounded-full flex items-center justify-center mx-auto mb-6",children:i.jsx(Ft,{className:"w-8 h-8 text-primary-700"})}),i.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Password Reset Successful"}),i.jsx("p",{className:"text-gray-600 mb-6",children:"Your password has been successfully reset. You will be redirected to the login page shortly."}),i.jsxs(Nt,{to:"/login",className:"btn-primary w-full flex items-center justify-center space-x-2",children:[i.jsx(Xs,{className:"w-4 h-4"}),i.jsx("span",{children:"Go to Login"})]})]})})}):i.jsx("div",{className:"min-h-screen bg-primary-50 flex items-center justify-center px-4 sm:px-6 lg:px-8",children:i.jsx("div",{className:"max-w-md w-full space-y-8",children:i.jsxs("div",{className:"card-enhanced",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsx("div",{className:"w-16 h-16 bg-primary-100 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx(ns,{className:"w-8 h-8 text-primary-700"})}),i.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Create New Password"}),i.jsx("p",{className:"mt-2 text-gray-600",children:"Enter your new password below."})]}),i.jsxs("form",{onSubmit:p,className:"space-y-6",children:[l&&i.jsx("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4",children:i.jsx("p",{className:"text-red-700 text-sm",children:l})}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"newPassword",className:"block text-sm font-medium text-gray-700 mb-2",children:"New Password"}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{id:"newPassword",name:"newPassword",type:s.newPassword?"text":"password",required:!0,className:"input-field pr-12",placeholder:"Enter new password",value:e.newPassword,onChange:g,disabled:r}),i.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>b("newPassword"),children:s.newPassword?i.jsx(Xf,{className:"h-5 w-5 text-gray-400"}):i.jsx(Ot,{className:"h-5 w-5 text-gray-400"})})]})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm New Password"}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:s.confirmPassword?"text":"password",required:!0,className:"input-field pr-12",placeholder:"Confirm new password",value:e.confirmPassword,onChange:g,disabled:r}),i.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>b("confirmPassword"),children:s.confirmPassword?i.jsx(Xf,{className:"h-5 w-5 text-gray-400"}):i.jsx(Ot,{className:"h-5 w-5 text-gray-400"})})]})]}),i.jsx("button",{type:"submit",disabled:r,className:"btn-primary w-full flex items-center justify-center space-x-2",children:r?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),i.jsx("span",{children:"Resetting..."})]}):i.jsxs(i.Fragment,{children:[i.jsx(ns,{className:"w-4 h-4"}),i.jsx("span",{children:"Reset Password"})]})}),i.jsx("div",{className:"text-center",children:i.jsxs(Nt,{to:"/login",className:"text-primary-600 hover:text-primary-700 font-medium text-sm flex items-center justify-center space-x-1",children:[i.jsx(Xs,{className:"w-4 h-4"}),i.jsx("span",{children:"Back to Login"})]})})]})]})})})},Zf=()=>{var b;const[e,t]=N.useState(!1),[s,n]=N.useState(""),[r,a]=N.useState(!1),[l,o]=N.useState(!1),[c,d]=N.useState(""),{token:u}=Wu(),[h]=q0(),m=It(),v=tn();ze(),N.useEffect(()=>{var x,j,w;const f=u||h.get("token"),p=((x=v.state)==null?void 0:x.email)||localStorage.getItem("pendingVerificationEmail")||h.get("email");p&&d(p),(j=v.state)!=null&&j.message&&n(""),f?(t(!0),y(f)):(w=v.state)!=null&&w.message||n("Invalid or missing verification token.")},[u,h,v.state]);const y=async f=>{var p;try{const x=await Ps.verifyEmail(f);a(!0),n(""),localStorage.removeItem("pendingVerificationEmail"),setTimeout(()=>{m("/login",{state:{message:"Email verified successfully! You can now log in.",type:"success"}})},3e3)}catch(x){const j=(p=x.response)==null?void 0:p.data;j!=null&&j.token_expired?n("Verification link has expired. Please request a new one."):n((j==null?void 0:j.message)||"Email verification failed. The link may be invalid or expired.")}finally{t(!1)}},g=async()=>{var p;let f=c;if(!(!f&&(f=prompt("Please enter your email address to resend verification:"),!f))){o(!0),n("");try{await Ps.sendVerification(f),n(""),alert("Verification email has been sent to your email address. Please check your inbox and spam folder.")}catch(x){const j=(p=x.response)==null?void 0:p.data;n((j==null?void 0:j.message)||"Failed to send verification email.")}finally{o(!1)}}};return e?i.jsx("div",{className:"min-h-screen farm-gradient flex items-center justify-center px-4 sm:px-6 lg:px-8",children:i.jsx("div",{className:"max-w-md w-full space-y-8",children:i.jsxs("div",{className:"card-enhanced text-center",children:[i.jsx("div",{className:"w-16 h-16 sky-gradient rounded-full flex items-center justify-center mx-auto mb-6",children:i.jsx(ds,{className:"w-8 h-8 text-white"})}),i.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Verifying Email"}),i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600 mx-auto"}),i.jsx("p",{className:"text-gray-600 mt-4",children:"Please wait while we verify your email address..."})]})})}):r?i.jsx("div",{className:"min-h-screen farm-gradient flex items-center justify-center px-4 sm:px-6 lg:px-8",children:i.jsx("div",{className:"max-w-md w-full space-y-8",children:i.jsxs("div",{className:"card-enhanced text-center",children:[i.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:i.jsx(Ft,{className:"w-8 h-8 text-green-600"})}),i.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Email Verified Successfully!"}),i.jsx("p",{className:"text-gray-600 mb-6",children:"Your email address has been verified. You can now log in to your account."}),i.jsx("p",{className:"text-sm text-gray-500 mb-6",children:"You will be redirected to the login page in a few seconds."}),i.jsxs(Nt,{to:"/login",className:"btn-primary w-full flex items-center justify-center space-x-2",children:[i.jsx(Xs,{className:"w-4 h-4"}),i.jsx("span",{children:"Go to Login"})]})]})})}):i.jsx("div",{className:"min-h-screen farm-gradient flex items-center justify-center px-4 sm:px-6 lg:px-8",children:i.jsx("div",{className:"max-w-md w-full space-y-8",children:i.jsxs("div",{className:"card-enhanced text-center",children:[i.jsx("div",{className:`w-16 h-16 ${s?"bg-red-100":"bg-blue-100"} rounded-full flex items-center justify-center mx-auto mb-6`,children:s?i.jsx(vg,{className:"w-8 h-8 text-red-600"}):i.jsx(ds,{className:"w-8 h-8 text-blue-600"})}),i.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:s?"Email Verification":"Verify Your Email"}),i.jsx("p",{className:"text-gray-600 mb-6",children:s||((b=v.state)==null?void 0:b.message)||"Please check your email for a verification link."}),c&&i.jsxs("p",{className:"text-sm text-gray-500 mb-6",children:["Verification email sent to: ",i.jsx("strong",{children:c})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("button",{onClick:g,disabled:l,className:"btn-primary w-full flex items-center justify-center space-x-2",children:l?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),i.jsx("span",{children:"Sending..."})]}):i.jsxs(i.Fragment,{children:[i.jsx(ds,{className:"w-4 h-4"}),i.jsx("span",{children:"Resend Verification Email"})]})}),i.jsxs(Nt,{to:"/login",className:"btn-secondary w-full flex items-center justify-center space-x-2",children:[i.jsx(Xs,{className:"w-4 h-4"}),i.jsx("span",{children:"Back to Login"})]})]})]})})})},c2=()=>{const{user:e}=ze(),t=It(),[s,n]=N.useState(null),[r,a]=N.useState({morning:[],afternoon:[],evening:[]}),[l,o]=N.useState(null),[c,d]=N.useState(!0);N.useEffect(()=>{const g=async()=>{try{const f=await qf.getStats(),p=await qf.getTasks();n(f.data),a(p.data)}catch(f){console.error("Error fetching dashboard data:",f)}finally{d(!1)}},b=async()=>{try{const f={lat:7.7883,lon:3.919,name:"Alliance CropCraft Farm"},p=await fetch(`https://api.openweathermap.org/data/2.5/weather?lat=${f.lat}&lon=${f.lon}&appid=f4d6cec31b04951c0ac2ac398f1a3c40&units=metric`);if(p.ok){const x=await p.json();o({temperature:Math.round(x.main.temp),description:x.weather[0].description,condition:x.weather[0].main,humidity:x.main.humidity,feelsLike:Math.round(x.main.feels_like),location:f.name})}else throw new Error("Weather API request failed")}catch(f){console.error("Error fetching weather data:",f),o({temperature:28,description:"partly cloudy",condition:"Clouds",humidity:75,feelsLike:31,location:"Alliance CropCraft Farm"})}};g(),b()},[]);const u=g=>{switch(g){case"high":return"bg-red-100 text-red-700";case"medium":return"bg-yellow-100 text-yellow-700";case"low":return"bg-green-100 text-green-700";default:return"bg-gray-100 text-gray-700"}},h=g=>{switch(g==null?void 0:g.toLowerCase()){case"clear":return ka;case"clouds":return Yw;case"rain":case"drizzle":return $w;default:return ka}},m=()=>{const g=new Date().getHours();return g<12?"Good morning":g<17?"Good afternoon":"Good evening"},v=({title:g,tasks:b,icon:f,color:p})=>i.jsxs("div",{className:"card",children:[i.jsx("div",{className:"flex items-center justify-between mb-6",children:i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:`w-12 h-12 ${p} rounded-xl flex items-center justify-center shadow-sm`,children:i.jsx(f,{className:"w-6 h-6 text-white"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:g}),i.jsxs("p",{className:"text-sm text-gray-500",children:[b.filter(x=>x.status==="completed").length," of ",b.length," completed"]})]})]})}),i.jsx("div",{className:"w-full bg-gray-100 rounded-full h-3 mb-6",children:i.jsx("div",{className:`h-3 rounded-full transition-all duration-500 ${p.replace("bg-","bg-").replace("-500","-400")}`,style:{width:`${b.length>0?b.filter(x=>x.status==="completed").length/b.length*100:0}%`}})}),i.jsx("div",{className:"space-y-4",children:b.slice(0,4).map(x=>i.jsxs("div",{className:"flex items-center justify-between group hover:bg-gray-50 -mx-2 px-2 py-2 rounded-lg transition-colors cursor-pointer",onClick:()=>t(`/task-details/${x.id}`),children:[i.jsxs("div",{className:"flex items-center space-x-3 flex-1 min-w-0",children:[x.status==="completed"?i.jsx(Ft,{className:"w-5 h-5 text-green-500 flex-shrink-0"}):i.jsx(Us,{className:"w-5 h-5 text-gray-400 flex-shrink-0"}),i.jsxs("div",{className:"min-w-0 flex-1",children:[i.jsx("p",{className:`font-medium ${x.status==="completed"?"line-through text-gray-500":"text-gray-900"}`,children:x.title}),i.jsx("p",{className:"text-sm text-gray-500 mt-1",children:x.due_time})]})]}),i.jsx("span",{className:`px-3 py-1 text-xs font-medium rounded-full ${u(x.priority)} ml-3 flex-shrink-0`,children:x.priority})]},x.id))})]});if(c)return i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})});const y=l?h(l.condition):ka;return i.jsxs("div",{className:"space-y-8 max-w-7xl mx-auto px-2 sm:px-4 lg:px-8 py-6",children:[i.jsxs("div",{className:"relative bg-gradient-to-br from-primary-800 via-primary-700 to-primary-500 rounded-2xl p-4 sm:p-8 text-white overflow-hidden",children:[i.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-10",children:i.jsx("div",{className:"absolute inset-0",style:{backgroundImage:`radial-gradient(circle at 25% 25%, rgba(255,255,255,0.1) 0%, transparent 50%), 
                             radial-gradient(circle at 75% 75%, rgba(255,255,255,0.1) 0%, transparent 50%)`}})}),i.jsx("div",{className:"relative z-10",children:i.jsxs("div",{className:"flex flex-col gap-6 lg:flex-row lg:items-center lg:justify-between lg:gap-0",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("h1",{className:"text-2xl sm:text-2xl lg:text-4xl font-bold mb-2",children:[m(),", ",e==null?void 0:e.full_name,"!"]}),i.jsxs("p",{className:"text-white text-base sm:text-md mb-4",children:["You have ",(s==null?void 0:s.pendingTasks)||0," pending tasks today"]}),i.jsxs("div",{className:"flex flex-wrap items-center gap-4 sm:gap-8",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-3xl sm:text-2xl font-bold",children:(s==null?void 0:s.completedTasks)||"0/0"}),i.jsx("p",{className:"text-white text-sm",children:"Tasks Completed"})]}),i.jsx("div",{className:"hidden sm:block h-12 w-px bg-blue-300 opacity-50"}),i.jsxs("div",{children:[i.jsxs("div",{className:"text-3xl sm:text-2xl font-bold",children:[(s==null?void 0:s.completionRate)||0,"%"]}),i.jsx("p",{className:"text-white text-sm",children:"Success Rate"})]})]})]}),l&&i.jsx("div",{className:"hidden sm:block lg:text-right",children:i.jsxs("div",{className:"flex flex-row items-center gap-4 lg:flex-col lg:items-end lg:gap-0 lg:space-y-2",children:[i.jsx(y,{className:"w-16 h-16 sm:w-12 sm:h-12 md:w-12 md:h-12 text-white opacity-90"}),i.jsxs("div",{children:[i.jsxs("div",{className:"text-2xl sm:text-2xl font-bold",children:[l.temperature,"°C"]}),i.jsx("p",{className:"text-white capitalize text-lg sm:text-sm",children:l.description}),i.jsxs("div",{className:"flex items-center justify-end space-x-1 mt-2 text-white",children:[i.jsx(ta,{className:"w-4 h-4"}),i.jsx("span",{className:"text-sm",children:l.location})]})]})]})})]})})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4 sm:gap-6",children:[i.jsx("div",{className:"card group hover:shadow-lg transition-all duration-300",children:i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-emerald-400 to-emerald-600 rounded-2xl flex items-center justify-center shadow-lg group-hover:scale-105 transition-transform",children:i.jsx(Qu,{className:"w-7 h-7 text-white"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:"Completion Rate"}),i.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[(s==null?void 0:s.completionRate)||0,"%"]})]})]})}),i.jsx("div",{className:"card group hover:shadow-lg transition-all duration-300",children:i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-purple-400 to-purple-600 rounded-2xl flex items-center justify-center shadow-lg group-hover:scale-105 transition-transform",children:i.jsx(is,{className:"w-7 h-7 text-white"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:"Active Staff"}),i.jsx("p",{className:"text-2xl font-bold text-gray-900",children:(s==null?void 0:s.activeStaff)||0})]})]})}),i.jsx("div",{className:"card group hover:shadow-lg transition-all duration-300",children:i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-orange-400 to-orange-600 rounded-2xl flex items-center justify-center shadow-lg group-hover:scale-105 transition-transform",children:i.jsx(St,{className:"w-7 h-7 text-white"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:"This Week"}),i.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[(s==null?void 0:s.thisWeekTasks)||0," Tasks"]})]})]})})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-6 gap-2",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:"Today's Schedule"}),i.jsxs("button",{onClick:()=>t("/task-history?week=current"),className:"inline-flex items-center gap-2 px-3 py-1.5 text-sm font-medium text-primary-600 bg-primary-50 rounded-lg hover:bg-primary-100 transition-colors",children:[i.jsx("span",{children:"Tasks This Week"}),i.jsx(Iw,{className:"w-4 h-4"})]})]}),i.jsx("div",{className:"text-xs sm:text-sm text-gray-500",children:new Date().toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-8",children:[i.jsx(v,{title:"Morning Tasks",tasks:r.morning,icon:ka,color:"bg-gradient-to-br from-amber-400 to-orange-500"}),i.jsx(v,{title:"Afternoon Tasks",tasks:r.afternoon,icon:Jw,color:"bg-gradient-to-br from-red-400 to-pink-500"}),i.jsx(v,{title:"Evening Tasks",tasks:r.evening,icon:Kw,color:"bg-gradient-to-br from-indigo-400 to-purple-500"})]})]})]})},d2=({onTaskCreated:e,onCancel:t})=>{const[s,n]=N.useState([]),[r,a]=N.useState({title:"",description:"",priority:"medium",assigned_to:"",due_date:"",due_time:"",tag:"static",recurrent:!0,active_date:""}),[l,o]=N.useState(!1),[c,d]=N.useState(""),[u,h]=N.useState({}),[m,v]=N.useState("");N.useEffect(()=>{(async()=>{try{const x=await ps.getUsers();n(x.data)}catch(x){d("Failed to load users. Please refresh the page."),console.error("Failed to fetch users:",x)}})()},[]);const y=()=>{const p={};if(r.title.trim()?r.title.length>100&&(p.title="Title must be less than 100 characters"):p.title="Task title is required",r.assigned_to||(p.assigned_to="Please assign the task to someone"),!r.due_date)p.due_date="Due date is required";else{const x=r.due_date,j=new Date().toISOString().split("T")[0];x<j&&(p.due_date="Due date cannot be in the past")}return r.description&&r.description.length>500&&(p.description="Description must be less than 500 characters"),h(p),Object.keys(p).length===0},g=p=>{const{name:x,value:j}=p.target;u[x]&&h({...u,[x]:""}),a(x==="tag"?{...r,tag:j,recurrent:j==="static",active_date:j==="dynamic"?r.due_date:""}:x==="due_date"?{...r,due_date:j,active_date:r.tag==="dynamic"?j:""}:{...r,[x]:j})},b=async p=>{var x;if(p.preventDefault(),o(!0),d(""),v(""),!y()){o(!1),d("Please fix the errors below");return}try{const j=await Ms.createTask(r);v("Task created successfully!"),a({title:"",description:"",priority:"medium",assigned_to:"",due_date:"",due_time:"",tag:"static",recurrent:!0,active_date:""}),e&&e(j.data),setTimeout(()=>v(""),3e3)}catch(j){console.error("Task creation error:",j);const w=(x=j.response)==null?void 0:x.data;w!=null&&w.field?(h({[w.field]:w.message}),d("Please check the highlighted field")):w!=null&&w.message?d(w.message):j.code==="ERR_NETWORK"?d("Network error. Please check your connection and try again."):d("Failed to create task. Please try again.")}finally{o(!1)}},f=p=>{const x="w-full border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 transition-colors";return u[p]?`${x} border-red-500 focus:ring-red-200`:`${x} border-gray-300 focus:ring-primary-200 focus:border-primary-500`};return i.jsx("div",{className:"max-h-[90vh] sm:max-h-[80vh] overflow-y-auto",children:i.jsxs("form",{onSubmit:b,className:"space-y-4 px-1 pb-4",children:[i.jsxs("div",{className:"flex items-center justify-between sticky top-0 bg-white pt-2 pb-4 z-10",children:[i.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Create New Task"}),t&&i.jsx("button",{type:"button",onClick:t,className:"text-gray-500 hover:text-gray-700 text-sm",children:"Cancel"})]}),c&&i.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg text-sm",children:c}),m&&i.jsx("div",{className:"bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded-lg text-sm",children:m}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Title ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",name:"title",value:r.title,onChange:g,maxLength:100,className:f("title"),placeholder:"Enter task title"}),u.title&&i.jsx("p",{className:"text-red-500 text-xs mt-1",children:u.title})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),i.jsx("textarea",{name:"description",value:r.description,onChange:g,maxLength:500,rows:3,className:f("description"),placeholder:"Enter task description (optional)"}),i.jsxs("div",{className:"flex justify-between mt-1",children:[u.description&&i.jsx("p",{className:"text-red-500 text-xs",children:u.description}),i.jsxs("p",{className:"text-gray-400 text-xs ml-auto",children:[r.description.length,"/500"]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Priority"}),i.jsxs("select",{name:"priority",value:r.priority,onChange:g,className:f("priority"),children:[i.jsx("option",{value:"high",children:"High"}),i.jsx("option",{value:"medium",children:"Medium"}),i.jsx("option",{value:"low",children:"Low"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Task Type"}),i.jsxs("select",{name:"tag",value:r.tag,onChange:g,className:f("tag"),children:[i.jsx("option",{value:"static",children:"Static (Daily/Recurrent)"}),i.jsx("option",{value:"dynamic",children:"Dynamic (One-time)"})]})]})]}),i.jsxs("div",{className:"text-xs text-gray-500 bg-gray-50 p-2 rounded",children:[r.tag==="static"&&"This task will recur every day.",r.tag==="dynamic"&&"This task will only be active on the selected date."]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Assign To ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsxs("select",{name:"assigned_to",value:r.assigned_to,onChange:g,className:f("assigned_to"),children:[i.jsx("option",{value:"",children:"-- Select User --"}),s.map(p=>i.jsxs("option",{value:p.id,children:[p.full_name," (",p.role,")"]},p.id))]}),u.assigned_to&&i.jsx("p",{className:"text-red-500 text-xs mt-1",children:u.assigned_to})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Due Date ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"date",name:"due_date",value:r.due_date,onChange:g,min:new Date().toISOString().split("T")[0],className:f("due_date")}),u.due_date&&i.jsx("p",{className:"text-red-500 text-xs mt-1",children:u.due_date})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Due Time"}),i.jsx("input",{type:"time",name:"due_time",value:r.due_time,onChange:g,className:f("due_time")})]})]}),i.jsx("button",{type:"submit",disabled:l,className:"w-full bg-primary-600 text-white py-2 px-4 rounded-lg hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-200 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:l?i.jsxs("span",{className:"flex items-center justify-center",children:[i.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[i.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),i.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Creating Task..."]}):"Create Task"})]})})},u2=({task:e,onTaskUpdated:t,onCancel:s})=>{const[n,r]=N.useState([]),[a,l]=N.useState({title:(e==null?void 0:e.title)||"",description:(e==null?void 0:e.description)||"",priority:(e==null?void 0:e.priority)||"medium",assigned_to:(e==null?void 0:e.assigned_to)||"",due_date:(e==null?void 0:e.due_date)||"",due_time:(e==null?void 0:e.due_time)||"",tag:(e==null?void 0:e.tag)||"static",recurrent:(e==null?void 0:e.recurrent)!==!1,active_date:(e==null?void 0:e.active_date)||""}),[o,c]=N.useState(!1),[d,u]=N.useState(""),[h,m]=N.useState({}),[v,y]=N.useState("");N.useEffect(()=>{(async()=>{try{const j=await ps.getUsers();r(j.data)}catch(j){u("Failed to load users. Please refresh the page."),console.error("Failed to fetch users:",j)}})()},[]),N.useEffect(()=>{e&&l({title:e.title||"",description:e.description||"",priority:e.priority||"medium",assigned_to:e.assigned_to||"",due_date:e.due_date||"",due_time:e.due_time||"",tag:e.tag||"static",recurrent:e.recurrent!==!1,active_date:e.active_date||""})},[e]);const g=()=>{const x={};if(a.title.trim()?a.title.length>100&&(x.title="Title must be less than 100 characters"):x.title="Task title is required",a.assigned_to||(x.assigned_to="Please assign the task to someone"),!a.due_date)x.due_date="Due date is required";else{const j=a.due_date,w=new Date().toISOString().split("T")[0];j<w&&(x.due_date="Due date cannot be in the past")}return a.description&&a.description.length>500&&(x.description="Description must be less than 500 characters"),m(x),Object.keys(x).length===0},b=x=>{const{name:j,value:w}=x.target;h[j]&&m({...h,[j]:""}),l(j==="tag"?{...a,tag:w,recurrent:w==="static",active_date:w==="dynamic"?a.due_date:""}:j==="due_date"?{...a,due_date:w,active_date:a.tag==="dynamic"?w:""}:{...a,[j]:w})},f=async x=>{var j;if(x.preventDefault(),c(!0),u(""),y(""),!g()){c(!1),u("Please fix the errors below");return}try{const w=await Ms.updateTask(e.id,a);y("Task updated successfully!"),t&&t(w.data),setTimeout(()=>y(""),3e3)}catch(w){console.error("Task update error:",w);const _=(j=w.response)==null?void 0:j.data;_!=null&&_.field?(m({[_.field]:_.message}),u("Please check the highlighted field")):_!=null&&_.message?u(_.message):w.code==="ERR_NETWORK"?u("Network error. Please check your connection and try again."):u("Failed to update task. Please try again.")}finally{c(!1)}},p=x=>{const j="w-full border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 transition-colors";return h[x]?`${j} border-red-500 focus:ring-red-200`:`${j} border-gray-300 focus:ring-primary-200 focus:border-primary-500`};return i.jsx("div",{className:"max-h-[90vh] sm:max-h-[80vh] overflow-y-auto",children:i.jsxs("form",{onSubmit:f,className:"space-y-4 px-1 pb-4",children:[i.jsxs("div",{className:"flex items-center justify-between sticky top-0 bg-white pt-2 pb-4 z-10",children:[i.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Edit Task"}),s&&i.jsx("button",{type:"button",onClick:s,className:"text-gray-500 hover:text-gray-700 text-sm",children:"Cancel"})]}),d&&i.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg text-sm",children:d}),v&&i.jsx("div",{className:"bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded-lg text-sm",children:v}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Title ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",name:"title",value:a.title,onChange:b,maxLength:100,className:p("title"),placeholder:"Enter task title"}),h.title&&i.jsx("p",{className:"text-red-500 text-xs mt-1",children:h.title})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),i.jsx("textarea",{name:"description",value:a.description,onChange:b,maxLength:500,rows:3,className:p("description"),placeholder:"Enter task description (optional)"}),i.jsxs("div",{className:"flex justify-between mt-1",children:[h.description&&i.jsx("p",{className:"text-red-500 text-xs",children:h.description}),i.jsxs("p",{className:"text-gray-400 text-xs ml-auto",children:[a.description.length,"/500"]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Priority"}),i.jsxs("select",{name:"priority",value:a.priority,onChange:b,className:p("priority"),children:[i.jsx("option",{value:"high",children:"High"}),i.jsx("option",{value:"medium",children:"Medium"}),i.jsx("option",{value:"low",children:"Low"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Task Type"}),i.jsxs("select",{name:"tag",value:a.tag,onChange:b,className:p("tag"),children:[i.jsx("option",{value:"static",children:"Static (Daily/Recurrent)"}),i.jsx("option",{value:"dynamic",children:"Dynamic (One-time)"})]})]})]}),i.jsxs("div",{className:"text-xs text-gray-500 bg-gray-50 p-2 rounded",children:[a.tag==="static"&&"This task will recur every day.",a.tag==="dynamic"&&"This task will only be active on the selected date."]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Assign To ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsxs("select",{name:"assigned_to",value:a.assigned_to,onChange:b,className:p("assigned_to"),children:[i.jsx("option",{value:"",children:"-- Select User --"}),n.map(x=>i.jsxs("option",{value:x.id,children:[x.full_name," (",x.role,")"]},x.id))]}),h.assigned_to&&i.jsx("p",{className:"text-red-500 text-xs mt-1",children:h.assigned_to})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Due Date ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"date",name:"due_date",value:a.due_date,onChange:b,min:new Date().toISOString().split("T")[0],className:p("due_date")}),h.due_date&&i.jsx("p",{className:"text-red-500 text-xs mt-1",children:h.due_date})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Due Time"}),i.jsx("input",{type:"time",name:"due_time",value:a.due_time,onChange:b,className:p("due_time")})]})]}),i.jsx("button",{type:"submit",disabled:o,className:"w-full bg-primary-600 text-white py-2 px-4 rounded-lg hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-200 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:o?i.jsxs("span",{className:"flex items-center justify-center",children:[i.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[i.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),i.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Updating Task..."]}):"Update Task"})]})})},kg=6048e5,h2=864e5,em=Symbol.for("constructDateFrom");function Qs(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&em in e?e[em](t):e instanceof Date?new e.constructor(t):new Date(t)}function Wt(e,t){return Qs(t||e,e)}let f2={};function Mo(){return f2}function zi(e,t){var o,c,d,u;const s=Mo(),n=(t==null?void 0:t.weekStartsOn)??((c=(o=t==null?void 0:t.locale)==null?void 0:o.options)==null?void 0:c.weekStartsOn)??s.weekStartsOn??((u=(d=s.locale)==null?void 0:d.options)==null?void 0:u.weekStartsOn)??0,r=Wt(e,t==null?void 0:t.in),a=r.getDay(),l=(a<n?7:0)+a-n;return r.setDate(r.getDate()-l),r.setHours(0,0,0,0),r}function ql(e,t){return zi(e,{...t,weekStartsOn:1})}function Sg(e,t){const s=Wt(e,t==null?void 0:t.in),n=s.getFullYear(),r=Qs(s,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const a=ql(r),l=Qs(s,0);l.setFullYear(n,0,4),l.setHours(0,0,0,0);const o=ql(l);return s.getTime()>=a.getTime()?n+1:s.getTime()>=o.getTime()?n:n-1}function tm(e){const t=Wt(e),s=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return s.setUTCFullYear(t.getFullYear()),+e-+s}function m2(e,...t){const s=Qs.bind(null,e||t.find(n=>typeof n=="object"));return t.map(s)}function sm(e,t){const s=Wt(e,t==null?void 0:t.in);return s.setHours(0,0,0,0),s}function p2(e,t,s){const[n,r]=m2(s==null?void 0:s.in,e,t),a=sm(n),l=sm(r),o=+a-tm(a),c=+l-tm(l);return Math.round((o-c)/h2)}function x2(e,t){const s=Sg(e,t),n=Qs((t==null?void 0:t.in)||e,0);return n.setFullYear(s,0,4),n.setHours(0,0,0,0),ql(n)}function g2(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function y2(e){return!(!g2(e)&&typeof e!="number"||isNaN(+Wt(e)))}function v2(e,t){const s=Wt(e,t==null?void 0:t.in);return s.setFullYear(s.getFullYear(),0,1),s.setHours(0,0,0,0),s}const b2={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},j2=(e,t,s)=>{let n;const r=b2[e];return typeof r=="string"?n=r:t===1?n=r.one:n=r.other.replace("{{count}}",t.toString()),s!=null&&s.addSuffix?s.comparison&&s.comparison>0?"in "+n:n+" ago":n};function mc(e){return(t={})=>{const s=t.width?String(t.width):e.defaultWidth;return e.formats[s]||e.formats[e.defaultWidth]}}const w2={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},N2={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},_2={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},k2={date:mc({formats:w2,defaultWidth:"full"}),time:mc({formats:N2,defaultWidth:"full"}),dateTime:mc({formats:_2,defaultWidth:"full"})},S2={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},C2=(e,t,s,n)=>S2[e];function Wr(e){return(t,s)=>{const n=s!=null&&s.context?String(s.context):"standalone";let r;if(n==="formatting"&&e.formattingValues){const l=e.defaultFormattingWidth||e.defaultWidth,o=s!=null&&s.width?String(s.width):l;r=e.formattingValues[o]||e.formattingValues[l]}else{const l=e.defaultWidth,o=s!=null&&s.width?String(s.width):e.defaultWidth;r=e.values[o]||e.values[l]}const a=e.argumentCallback?e.argumentCallback(t):t;return r[a]}}const P2={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},M2={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},E2={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},T2={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},D2={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},R2={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},L2=(e,t)=>{const s=Number(e),n=s%100;if(n>20||n<10)switch(n%10){case 1:return s+"st";case 2:return s+"nd";case 3:return s+"rd"}return s+"th"},F2={ordinalNumber:L2,era:Wr({values:P2,defaultWidth:"wide"}),quarter:Wr({values:M2,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Wr({values:E2,defaultWidth:"wide"}),day:Wr({values:T2,defaultWidth:"wide"}),dayPeriod:Wr({values:D2,defaultWidth:"wide",formattingValues:R2,defaultFormattingWidth:"wide"})};function Hr(e){return(t,s={})=>{const n=s.width,r=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],a=t.match(r);if(!a)return null;const l=a[0],o=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(o)?O2(o,h=>h.test(l)):A2(o,h=>h.test(l));let d;d=e.valueCallback?e.valueCallback(c):c,d=s.valueCallback?s.valueCallback(d):d;const u=t.slice(l.length);return{value:d,rest:u}}}function A2(e,t){for(const s in e)if(Object.prototype.hasOwnProperty.call(e,s)&&t(e[s]))return s}function O2(e,t){for(let s=0;s<e.length;s++)if(t(e[s]))return s}function z2(e){return(t,s={})=>{const n=t.match(e.matchPattern);if(!n)return null;const r=n[0],a=t.match(e.parsePattern);if(!a)return null;let l=e.valueCallback?e.valueCallback(a[0]):a[0];l=s.valueCallback?s.valueCallback(l):l;const o=t.slice(r.length);return{value:l,rest:o}}}const I2=/^(\d+)(th|st|nd|rd)?/i,B2=/\d+/i,W2={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},H2={any:[/^b/i,/^(a|c)/i]},V2={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},U2={any:[/1/i,/2/i,/3/i,/4/i]},$2={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Y2={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},q2={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},X2={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Q2={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},K2={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},G2={ordinalNumber:z2({matchPattern:I2,parsePattern:B2,valueCallback:e=>parseInt(e,10)}),era:Hr({matchPatterns:W2,defaultMatchWidth:"wide",parsePatterns:H2,defaultParseWidth:"any"}),quarter:Hr({matchPatterns:V2,defaultMatchWidth:"wide",parsePatterns:U2,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Hr({matchPatterns:$2,defaultMatchWidth:"wide",parsePatterns:Y2,defaultParseWidth:"any"}),day:Hr({matchPatterns:q2,defaultMatchWidth:"wide",parsePatterns:X2,defaultParseWidth:"any"}),dayPeriod:Hr({matchPatterns:Q2,defaultMatchWidth:"any",parsePatterns:K2,defaultParseWidth:"any"})},J2={code:"en-US",formatDistance:j2,formatLong:k2,formatRelative:C2,localize:F2,match:G2,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Z2(e,t){const s=Wt(e,t==null?void 0:t.in);return p2(s,v2(s))+1}function eN(e,t){const s=Wt(e,t==null?void 0:t.in),n=+ql(s)-+x2(s);return Math.round(n/kg)+1}function Cg(e,t){var u,h,m,v;const s=Wt(e,t==null?void 0:t.in),n=s.getFullYear(),r=Mo(),a=(t==null?void 0:t.firstWeekContainsDate)??((h=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:h.firstWeekContainsDate)??r.firstWeekContainsDate??((v=(m=r.locale)==null?void 0:m.options)==null?void 0:v.firstWeekContainsDate)??1,l=Qs((t==null?void 0:t.in)||e,0);l.setFullYear(n+1,0,a),l.setHours(0,0,0,0);const o=zi(l,t),c=Qs((t==null?void 0:t.in)||e,0);c.setFullYear(n,0,a),c.setHours(0,0,0,0);const d=zi(c,t);return+s>=+o?n+1:+s>=+d?n:n-1}function tN(e,t){var o,c,d,u;const s=Mo(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(o=t==null?void 0:t.locale)==null?void 0:o.options)==null?void 0:c.firstWeekContainsDate)??s.firstWeekContainsDate??((u=(d=s.locale)==null?void 0:d.options)==null?void 0:u.firstWeekContainsDate)??1,r=Cg(e,t),a=Qs((t==null?void 0:t.in)||e,0);return a.setFullYear(r,0,n),a.setHours(0,0,0,0),zi(a,t)}function sN(e,t){const s=Wt(e,t==null?void 0:t.in),n=+zi(s,t)-+tN(s,t);return Math.round(n/kg)+1}function ie(e,t){const s=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return s+n}const vs={y(e,t){const s=e.getFullYear(),n=s>0?s:1-s;return ie(t==="yy"?n%100:n,t.length)},M(e,t){const s=e.getMonth();return t==="M"?String(s+1):ie(s+1,2)},d(e,t){return ie(e.getDate(),t.length)},a(e,t){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return s.toUpperCase();case"aaa":return s;case"aaaaa":return s[0];case"aaaa":default:return s==="am"?"a.m.":"p.m."}},h(e,t){return ie(e.getHours()%12||12,t.length)},H(e,t){return ie(e.getHours(),t.length)},m(e,t){return ie(e.getMinutes(),t.length)},s(e,t){return ie(e.getSeconds(),t.length)},S(e,t){const s=t.length,n=e.getMilliseconds(),r=Math.trunc(n*Math.pow(10,s-3));return ie(r,t.length)}},Hn={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},nm={G:function(e,t,s){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return s.era(n,{width:"abbreviated"});case"GGGGG":return s.era(n,{width:"narrow"});case"GGGG":default:return s.era(n,{width:"wide"})}},y:function(e,t,s){if(t==="yo"){const n=e.getFullYear(),r=n>0?n:1-n;return s.ordinalNumber(r,{unit:"year"})}return vs.y(e,t)},Y:function(e,t,s,n){const r=Cg(e,n),a=r>0?r:1-r;if(t==="YY"){const l=a%100;return ie(l,2)}return t==="Yo"?s.ordinalNumber(a,{unit:"year"}):ie(a,t.length)},R:function(e,t){const s=Sg(e);return ie(s,t.length)},u:function(e,t){const s=e.getFullYear();return ie(s,t.length)},Q:function(e,t,s){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return ie(n,2);case"Qo":return s.ordinalNumber(n,{unit:"quarter"});case"QQQ":return s.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return s.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,s){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return ie(n,2);case"qo":return s.ordinalNumber(n,{unit:"quarter"});case"qqq":return s.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return s.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,s){const n=e.getMonth();switch(t){case"M":case"MM":return vs.M(e,t);case"Mo":return s.ordinalNumber(n+1,{unit:"month"});case"MMM":return s.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return s.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,s){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return ie(n+1,2);case"Lo":return s.ordinalNumber(n+1,{unit:"month"});case"LLL":return s.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return s.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,s,n){const r=sN(e,n);return t==="wo"?s.ordinalNumber(r,{unit:"week"}):ie(r,t.length)},I:function(e,t,s){const n=eN(e);return t==="Io"?s.ordinalNumber(n,{unit:"week"}):ie(n,t.length)},d:function(e,t,s){return t==="do"?s.ordinalNumber(e.getDate(),{unit:"date"}):vs.d(e,t)},D:function(e,t,s){const n=Z2(e);return t==="Do"?s.ordinalNumber(n,{unit:"dayOfYear"}):ie(n,t.length)},E:function(e,t,s){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return s.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return s.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(n,{width:"short",context:"formatting"});case"EEEE":default:return s.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,s,n){const r=e.getDay(),a=(r-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return ie(a,2);case"eo":return s.ordinalNumber(a,{unit:"day"});case"eee":return s.day(r,{width:"abbreviated",context:"formatting"});case"eeeee":return s.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(r,{width:"short",context:"formatting"});case"eeee":default:return s.day(r,{width:"wide",context:"formatting"})}},c:function(e,t,s,n){const r=e.getDay(),a=(r-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return ie(a,t.length);case"co":return s.ordinalNumber(a,{unit:"day"});case"ccc":return s.day(r,{width:"abbreviated",context:"standalone"});case"ccccc":return s.day(r,{width:"narrow",context:"standalone"});case"cccccc":return s.day(r,{width:"short",context:"standalone"});case"cccc":default:return s.day(r,{width:"wide",context:"standalone"})}},i:function(e,t,s){const n=e.getDay(),r=n===0?7:n;switch(t){case"i":return String(r);case"ii":return ie(r,t.length);case"io":return s.ordinalNumber(r,{unit:"day"});case"iii":return s.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return s.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return s.day(n,{width:"short",context:"formatting"});case"iiii":default:return s.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,s){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return s.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return s.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return s.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(e,t,s){const n=e.getHours();let r;switch(n===12?r=Hn.noon:n===0?r=Hn.midnight:r=n/12>=1?"pm":"am",t){case"b":case"bb":return s.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return s.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return s.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(e,t,s){const n=e.getHours();let r;switch(n>=17?r=Hn.evening:n>=12?r=Hn.afternoon:n>=4?r=Hn.morning:r=Hn.night,t){case"B":case"BB":case"BBB":return s.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return s.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(e,t,s){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),s.ordinalNumber(n,{unit:"hour"})}return vs.h(e,t)},H:function(e,t,s){return t==="Ho"?s.ordinalNumber(e.getHours(),{unit:"hour"}):vs.H(e,t)},K:function(e,t,s){const n=e.getHours()%12;return t==="Ko"?s.ordinalNumber(n,{unit:"hour"}):ie(n,t.length)},k:function(e,t,s){let n=e.getHours();return n===0&&(n=24),t==="ko"?s.ordinalNumber(n,{unit:"hour"}):ie(n,t.length)},m:function(e,t,s){return t==="mo"?s.ordinalNumber(e.getMinutes(),{unit:"minute"}):vs.m(e,t)},s:function(e,t,s){return t==="so"?s.ordinalNumber(e.getSeconds(),{unit:"second"}):vs.s(e,t)},S:function(e,t){return vs.S(e,t)},X:function(e,t,s){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return im(n);case"XXXX":case"XX":return hn(n);case"XXXXX":case"XXX":default:return hn(n,":")}},x:function(e,t,s){const n=e.getTimezoneOffset();switch(t){case"x":return im(n);case"xxxx":case"xx":return hn(n);case"xxxxx":case"xxx":default:return hn(n,":")}},O:function(e,t,s){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+rm(n,":");case"OOOO":default:return"GMT"+hn(n,":")}},z:function(e,t,s){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+rm(n,":");case"zzzz":default:return"GMT"+hn(n,":")}},t:function(e,t,s){const n=Math.trunc(+e/1e3);return ie(n,t.length)},T:function(e,t,s){return ie(+e,t.length)}};function rm(e,t=""){const s=e>0?"-":"+",n=Math.abs(e),r=Math.trunc(n/60),a=n%60;return a===0?s+String(r):s+String(r)+t+ie(a,2)}function im(e,t){return e%60===0?(e>0?"-":"+")+ie(Math.abs(e)/60,2):hn(e,t)}function hn(e,t=""){const s=e>0?"-":"+",n=Math.abs(e),r=ie(Math.trunc(n/60),2),a=ie(n%60,2);return s+r+t+a}const am=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},Pg=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},nN=(e,t)=>{const s=e.match(/(P+)(p+)?/)||[],n=s[1],r=s[2];if(!r)return am(e,t);let a;switch(n){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;case"PPPP":default:a=t.dateTime({width:"full"});break}return a.replace("{{date}}",am(n,t)).replace("{{time}}",Pg(r,t))},rN={p:Pg,P:nN},iN=/^D+$/,aN=/^Y+$/,lN=["D","DD","YY","YYYY"];function oN(e){return iN.test(e)}function cN(e){return aN.test(e)}function dN(e,t,s){const n=uN(e,t,s);if(console.warn(n),lN.includes(e))throw new RangeError(n)}function uN(e,t,s){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${s}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const hN=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,fN=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,mN=/^'([^]*?)'?$/,pN=/''/g,xN=/[a-zA-Z]/;function lm(e,t,s){var u,h,m,v,y,g,b,f;const n=Mo(),r=(s==null?void 0:s.locale)??n.locale??J2,a=(s==null?void 0:s.firstWeekContainsDate)??((h=(u=s==null?void 0:s.locale)==null?void 0:u.options)==null?void 0:h.firstWeekContainsDate)??n.firstWeekContainsDate??((v=(m=n.locale)==null?void 0:m.options)==null?void 0:v.firstWeekContainsDate)??1,l=(s==null?void 0:s.weekStartsOn)??((g=(y=s==null?void 0:s.locale)==null?void 0:y.options)==null?void 0:g.weekStartsOn)??n.weekStartsOn??((f=(b=n.locale)==null?void 0:b.options)==null?void 0:f.weekStartsOn)??0,o=Wt(e,s==null?void 0:s.in);if(!y2(o))throw new RangeError("Invalid time value");let c=t.match(fN).map(p=>{const x=p[0];if(x==="p"||x==="P"){const j=rN[x];return j(p,r.formatLong)}return p}).join("").match(hN).map(p=>{if(p==="''")return{isToken:!1,value:"'"};const x=p[0];if(x==="'")return{isToken:!1,value:gN(p)};if(nm[x])return{isToken:!0,value:p};if(x.match(xN))throw new RangeError("Format string contains an unescaped latin alphabet character `"+x+"`");return{isToken:!1,value:p}});r.localize.preprocessor&&(c=r.localize.preprocessor(o,c));const d={firstWeekContainsDate:a,weekStartsOn:l,locale:r};return c.map(p=>{if(!p.isToken)return p.value;const x=p.value;(!(s!=null&&s.useAdditionalWeekYearTokens)&&cN(x)||!(s!=null&&s.useAdditionalDayOfYearTokens)&&oN(x))&&dN(x,t,String(e));const j=nm[x[0]];return j(o,x,r.localize,d)}).join("")}function gN(e){const t=e.match(mN);return t?t[1].replace(pN,"'"):e}const yN=()=>{const{user:e}=ze(),[t,s]=N.useState([]),[n,r]=N.useState([]),[a,l]=N.useState(!0),[o,c]=N.useState("all"),[d,u]=N.useState(!1),[h,m]=N.useState(!1),[v,y]=N.useState(!1),[g,b]=N.useState(null),[f,p]=N.useState({photo:null,notes:"",photoPreview:null}),[x,j]=N.useState(!1),[w,_]=N.useState(null),[S,P]=N.useState(!1),[A,O]=N.useState(!1),[C,F]=N.useState(null),[V,K]=N.useState(!1),E=N.useRef(null),k=["Admin","Farm Manager"].includes(e==null?void 0:e.role),B=["Admin","Farm Manager"].includes(e==null?void 0:e.role),D=["Admin","Farm Manager"].includes(e==null?void 0:e.role);N.useEffect(()=>{R(),T()},[]);const z=async()=>{try{const W=await navigator.mediaDevices.getUserMedia({video:!0});_(W),j(!0),E.current&&(E.current.srcObject=W)}catch{alert("Camera access denied")}},Y=()=>{const W=document.createElement("canvas");W.width=E.current.videoWidth,W.height=E.current.videoHeight,W.getContext("2d").drawImage(E.current,0,0),W.toBlob(ve=>{p({...f,photo:ve,photoPreview:URL.createObjectURL(ve)}),j(!1),w.getTracks().forEach(rn=>rn.stop())},"image/jpeg")},R=async()=>{try{const W=await Ms.getTasks();let ve=[];if(Array.isArray(W.data))ve=W.data;else if(Array.isArray(W))ve=W;else if(W.data&&Array.isArray(W.data.tasks))ve=W.data.tasks;else if(W.data&&typeof W.data=="object"){const ke=Object.values(W.data).filter(jy=>Array.isArray(jy));ke.length>0&&(ve=ke[0])}const rn=lm(new Date,"yyyy-MM-dd"),by=ve.map(ke=>({...ke,status:ke.status||"pending",priority:ke.priority||"medium",title:ke.title||"Untitled Task",description:ke.description||"",due_time:ke.due_time||"No due date",tag:ke.tag||"static",recurrent:typeof ke.recurrent=="boolean"?ke.recurrent:ke.tag==="static",active_date:ke.active_date||""})).filter(ke=>ke.tag==="static"&&ke.recurrent?!0:ke.tag==="dynamic"&&ke.active_date?lm(new Date(ke.active_date),"yyyy-MM-dd")===rn:!1);s(by)}catch(W){console.error("Error fetching tasks:",W),s([])}finally{l(!1)}},T=async()=>{try{const W=await Ms.getWeeklyHistory();W.data&&r(W.data)}catch(W){console.error("Error fetching weekly tasks:",W),r([])}},L=W=>{b(W),m(!0),p({photo:null,notes:"",photoPreview:null})},H=W=>{b(W),y(!0)},Q=W=>{const ve=W.target.files[0];ve&&p(rn=>({...rn,photo:ve,photoPreview:URL.createObjectURL(ve)}))},q=async()=>{try{const W=new FormData;W.append("taskId",g.id),W.append("notes",f.notes),W.append("completedAt",new Date().toISOString()),f.photo&&W.append("evidence",f.photo),await Ms.completeTaskWithEvidence(W),s(t.map(ve=>ve.id===g.id?{...ve,status:"completed",completed_at:new Date().toISOString(),completion_notes:f.notes,evidence_photo:f.photo?f.photo.name:null}:ve)),m(!1),b(null)}catch(W){console.error("Error completing task:",W),alert("Failed to complete task. Please try again.")}},oe=()=>{m(!1),b(null),f.photoPreview&&URL.revokeObjectURL(f.photoPreview),p({photo:null,notes:"",photoPreview:null})},Ct=()=>{y(!1),b(null)},Je=W=>{F(W),K(!0)},Er=()=>{K(!1),F(null),R()},nn=async W=>{if(window.confirm("Are you sure you want to delete this task?"))try{await Ms.deleteTask(W),R()}catch(ve){console.error("Error deleting task:",ve),alert("Failed to delete task. Please try again.")}},mh=()=>{K(!1),F(null)},Fo=W=>{switch(W){case"high":return"bg-red-100 text-red-800 border-red-200";case"medium":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"low":return"bg-green-100 text-green-800 border-green-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},Tr=t.filter(W=>{if(!W||typeof W.status!="string")return console.warn("Task missing or has invalid status:",W),!1;if(o==="all")return!0;const ve=W.status.toLowerCase(),rn=o.toLowerCase();return ve===rn});return a?i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):i.jsxs("div",{className:"space-y-6 max-w-7xl mx-auto px-2 sm:px-4 lg:px-8 py-6",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 mb-4",children:[i.jsx("div",{children:i.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:"Task Management"})}),i.jsxs("div",{className:"flex flex-wrap items-center gap-2 sm:gap-3",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Xu,{className:"w-4 h-4 text-gray-500"}),i.jsxs("select",{value:o,onChange:W=>c(W.target.value),className:"border border-gray-300 rounded-xl px-3 py-2 text-sm focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[i.jsx("option",{value:"all",children:"All Tasks"}),i.jsx("option",{value:"pending",children:"Pending"}),i.jsx("option",{value:"completed",children:"Completed"})]})]}),k&&i.jsx("button",{className:"btn-primary text-sm",onClick:()=>u(!0),children:"Create Task"})]})]}),i.jsxs("div",{className:"mb-8",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Today's Tasks"}),Tr.length>6&&i.jsx("button",{onClick:()=>P(!S),className:"text-primary-600 hover:text-primary-700 text-sm font-medium",children:S?"Show Less":`See More (${Tr.length-6})`})]}),i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-2 gap-4 sm:gap-6",children:(S?Tr:Tr.slice(0,6)).map(W=>i.jsxs("div",{className:"card hover:shadow-lg transition-shadow",children:[i.jsxs("div",{className:"flex items-start justify-between mb-4",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[W.status==="completed"?i.jsx(Ft,{className:"w-6 h-6 text-green-500"}):i.jsx(Us,{className:"w-6 h-6 text-gray-400"}),i.jsxs("div",{children:[i.jsx("h3",{className:`font-semibold ${W.status==="completed"?"line-through text-gray-500":"text-gray-900"}`,children:W.title}),i.jsx("span",{className:`inline-block px-2 py-1 text-xs font-medium rounded-full border ${Fo(W.priority)} mt-1`,children:W.priority})]})]}),W.status==="completed"&&W.evidence_photo&&i.jsxs("div",{className:"text-right",children:[i.jsx("span",{className:"text-xs text-gray-500",children:"Evidence"}),i.jsxs("div",{className:"flex items-center space-x-1 mt-1",children:[i.jsx(fi,{className:"w-4 h-4 text-green-500"}),i.jsx("span",{className:"text-xs text-green-600",children:"Uploaded"})]})]})]}),i.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2",children:W.description}),i.jsx("div",{className:"flex items-center justify-between text-sm text-gray-500 mb-4",children:i.jsx("div",{className:"flex items-center space-x-4",children:i.jsxs("span",{children:["📅 ",W.due_time]})})}),i.jsx("span",{className:"ml-2 text-xs px-2 py-1 rounded bg-gray-100 border border-gray-300",children:W.tag==="static"?"Static (Daily)":"Dynamic (One-time)"}),W.status==="completed"?i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"text-sm text-green-600 font-medium",children:["✅ Completed ",W.completed_at?new Date(W.completed_at).toLocaleString():"Recently"]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsxs("button",{onClick:()=>H(W),className:"text-primary-600 hover:text-primary-700 text-sm font-medium flex items-center space-x-1 transition-colors",children:[i.jsx(Ot,{className:"w-4 h-4"}),i.jsx("span",{children:"View Details"})]}),D&&i.jsx("button",{onClick:()=>nn(W.id),className:"text-red-600 hover:text-red-700 text-sm font-medium flex items-center space-x-1 transition-colors",children:i.jsx(br,{className:"w-4 h-4"})})]})]}):i.jsxs("div",{className:"flex flex-col space-y-2",children:[i.jsxs("button",{onClick:()=>L(W),className:"btn-primary text-sm flex items-center space-x-2 w-full justify-center",children:[i.jsx(Ft,{className:"w-4 h-4"}),i.jsx("span",{children:"Mark Complete"})]}),(B||D)&&i.jsxs("div",{className:"flex justify-center space-x-2",children:[B&&i.jsxs("button",{onClick:()=>Je(W),className:"text-blue-600 hover:text-blue-700 text-sm font-medium flex items-center space-x-1 transition-colors",children:[i.jsx(Rn,{className:"w-4 h-4"}),i.jsx("span",{children:"Edit"})]}),D&&i.jsxs("button",{onClick:()=>nn(W.id),className:"text-red-600 hover:text-red-700 text-sm font-medium flex items-center space-x-1 transition-colors",children:[i.jsx(br,{className:"w-4 h-4"}),i.jsx("span",{children:"Delete"})]})]})]})]},W.id||Math.random()))})]}),n.length>0&&i.jsxs("div",{className:"mb-8",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"This Week's Tasks"}),n.length>6&&i.jsx("button",{onClick:()=>O(!A),className:"text-primary-600 hover:text-primary-700 text-sm font-medium",children:A?"Show Less":`See More (${n.length-6})`})]}),i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:(A?n:n.slice(0,6)).map(W=>i.jsxs("div",{className:"card hover:shadow-lg transition-shadow",children:[i.jsx("div",{className:"flex items-start justify-between mb-4",children:i.jsxs("div",{className:"flex items-center space-x-3",children:[W.status==="completed"?i.jsx(Ft,{className:"w-6 h-6 text-green-500"}):i.jsx(Us,{className:"w-6 h-6 text-gray-400"}),i.jsxs("div",{children:[i.jsx("h3",{className:`font-semibold ${W.status==="completed"?"line-through text-gray-500":"text-gray-900"}`,children:W.title}),i.jsx("span",{className:`inline-block px-2 py-1 text-xs font-medium rounded-full border ${Fo(W.priority)} mt-1`,children:W.priority})]})]})}),i.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2",children:W.description}),i.jsx("div",{className:"flex items-center justify-between text-sm text-gray-500 mb-4",children:i.jsx("div",{className:"flex items-center space-x-4",children:i.jsxs("span",{children:["📅 ",W.due_time]})})}),i.jsx("span",{className:"ml-2 text-xs px-2 py-1 rounded bg-gray-100 border border-gray-300",children:W.tag==="static"?"Static (Daily)":"Dynamic (One-time)"}),i.jsx("div",{className:"flex justify-center mt-4",children:i.jsxs("button",{onClick:()=>H(W),className:"text-primary-600 hover:text-primary-700 text-sm font-medium flex items-center space-x-1 transition-colors",children:[i.jsx(Ot,{className:"w-4 h-4"}),i.jsx("span",{children:"View Details"})]})})]},W.id||Math.random()))})]}),h&&g&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 backdrop-blur-sm flex justify-center items-center z-50 p-4",children:i.jsx("div",{className:"bg-white rounded-2xl w-full max-w-md shadow-2xl relative max-h-[90vh] overflow-y-auto",children:i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Complete Task"}),i.jsx("button",{onClick:oe,className:"text-gray-400 hover:text-gray-600 transition-colors",children:i.jsx(Ue,{className:"w-6 h-6"})})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:g.title}),i.jsx("p",{className:"text-sm text-gray-600",children:g.description})]}),i.jsxs("div",{children:[i.jsx("input",{type:"file",accept:"image/*",onChange:Q}),i.jsx("button",{type:"button",onClick:z,children:"Take Photo"}),x&&i.jsxs("div",{children:[i.jsx("video",{ref:E,autoPlay:!0}),i.jsx("button",{type:"button",onClick:Y,children:"Capture"})]}),i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Upload Photo Evidence"}),i.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-xl p-4 text-center hover:border-primary-400 transition-colors",children:f.photoPreview?i.jsxs("div",{className:"space-y-2",children:[i.jsx("img",{src:f.photoPreview,alt:"Preview",className:"max-w-full h-32 object-cover rounded-lg mx-auto"}),i.jsx("button",{onClick:()=>{URL.revokeObjectURL(f.photoPreview),p(W=>({...W,photo:null,photoPreview:null}))},className:"text-red-500 text-sm",children:"Remove Photo"})]}):i.jsxs("label",{className:"cursor-pointer",children:[i.jsx(fi,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),i.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Click to upload photo"}),i.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG up to 10MB"}),i.jsx("input",{type:"file",accept:"image/*",onChange:Q,className:"hidden"})]})})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Additional Notes (Optional)"}),i.jsx("textarea",{value:f.notes,onChange:W=>p(ve=>({...ve,notes:W.target.value})),placeholder:"Add any additional notes about task completion...",className:"w-full p-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-primary-500 focus:border-primary-500 resize-none",rows:"3"})]}),i.jsxs("div",{className:"text-xs text-gray-500 bg-gray-50 p-3 rounded-lg",children:["📅 Completion time will be automatically recorded: ",new Date().toLocaleString()]})]}),i.jsxs("div",{className:"flex space-x-3 mt-6",children:[i.jsx("button",{onClick:oe,className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 rounded-xl hover:bg-gray-200 transition-colors",children:"Cancel"}),i.jsx("button",{onClick:q,className:"flex-1 px-4 py-2 bg-primary-600 text-white rounded-xl hover:bg-primary-700 transition-colors",children:"Complete Task"})]})]})})}),v&&g&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 backdrop-blur-sm flex justify-center items-center z-50 p-4",children:i.jsx("div",{className:"bg-white rounded-2xl w-full max-w-md shadow-2xl relative max-h-[90vh] overflow-y-auto",children:i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Task Details"}),i.jsx("button",{onClick:Ct,className:"text-gray-400 hover:text-gray-600 transition-colors",children:i.jsx(Ue,{className:"w-6 h-6"})})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:g.title}),i.jsxs("span",{className:`inline-block px-2 py-1 text-xs font-medium rounded-full border ${Fo(g.priority)}`,children:[g.priority," priority"]})]}),i.jsxs("div",{children:[i.jsxs("h5",{className:"font-medium text-gray-700 mb-2 flex items-center space-x-1",children:[i.jsx($l,{className:"w-4 h-4"}),i.jsx("span",{children:"Description"})]}),i.jsx("p",{className:"text-gray-600 bg-gray-50 p-3 rounded-lg",children:g.description})]}),i.jsxs("div",{children:[i.jsxs("h5",{className:"font-medium text-gray-700 mb-2 flex items-center space-x-1",children:[i.jsx(St,{className:"w-4 h-4"}),i.jsx("span",{children:"Timeline"})]}),i.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg space-y-1",children:[i.jsxs("p",{className:"text-sm",children:[i.jsx("span",{className:"font-medium",children:"Due:"})," ",g.due_time]}),i.jsxs("p",{className:"text-sm text-green-600",children:[i.jsx("span",{className:"font-medium",children:"Completed:"})," ",g.completed_at?new Date(g.completed_at).toLocaleString():"Recently"]})]})]}),g.completion_notes&&i.jsxs("div",{children:[i.jsx("h5",{className:"font-medium text-gray-700 mb-2",children:"Completion Notes"}),i.jsx("p",{className:"text-gray-600 bg-blue-50 p-3 rounded-lg",children:g.completion_notes})]}),g.evidence_photo&&i.jsxs("div",{children:[i.jsxs("h5",{className:"font-medium text-gray-700 mb-2 flex items-center space-x-1",children:[i.jsx(fi,{className:"w-4 h-4"}),i.jsx("span",{children:"Evidence Photo"})]}),i.jsx("div",{className:"bg-green-50 p-3 rounded-lg",children:i.jsx("div",{className:"flex items-center space-x-2 text-green-700",children:i.jsx("img",{src:g.evidence_photo,alt:"Photo",className:"w-12 h-12 rounded-lg object-cover"})})})]})]})]})})}),d&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 backdrop-blur-sm flex justify-center items-center z-50 p-4",children:i.jsxs("div",{className:"bg-white p-6 rounded-2xl w-full max-w-md max-h-[90vh] overflow-y-auto shadow-2xl relative",children:[i.jsx("button",{onClick:()=>u(!1),className:"absolute top-4 right-4 text-gray-500 hover:text-black transition-colors",children:i.jsx(Ue,{className:"w-6 h-6"})}),i.jsx(d2,{})]})}),V&&C&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 backdrop-blur-sm flex justify-center items-center z-50 p-4",children:i.jsxs("div",{className:"bg-white p-6 rounded-2xl w-full max-w-md max-h-[90vh] overflow-y-auto shadow-2xl relative",children:[i.jsx("button",{onClick:mh,className:"absolute top-4 right-4 text-gray-500 hover:text-black transition-colors",children:i.jsx(Ue,{className:"w-6 h-6"})}),i.jsx(u2,{task:C,onTaskUpdated:Er,onCancel:mh})]})}),Tr.length===0&&i.jsxs("div",{className:"text-center py-12",children:[i.jsx(Us,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No tasks found"}),i.jsx("p",{className:"text-gray-600",children:o==="all"?"No tasks available.":`No ${o} tasks found.`})]})]})},vN=()=>{const[e,t]=N.useState([]),[s,n]=N.useState(!0),[r]=q0(),a=It(),l=r.get("week")||"current";N.useEffect(()=>{(async()=>{try{const u=await Ms.getHistory({week:l});t(u.data)}catch(u){console.error("Error fetching task history:",u),t([])}finally{n(!1)}})()},[l]);const o=d=>{switch(d){case"high":return"bg-red-100 text-red-700";case"medium":return"bg-yellow-100 text-yellow-700";case"low":return"bg-green-100 text-green-700";default:return"bg-gray-100 text-gray-700"}},c=d=>d==="completed"?i.jsx(Ft,{className:"w-5 h-5 text-green-500"}):i.jsx(Us,{className:"w-5 h-5 text-gray-400"});return s?i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):i.jsxs("div",{className:"space-y-6 max-w-7xl mx-auto px-2 sm:px-4 lg:px-8 py-6",children:[i.jsx("div",{className:"flex items-center justify-between mb-6",children:i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("button",{onClick:()=>a(-1),className:"p-2 text-gray-500 hover:text-gray-700 rounded-lg hover:bg-gray-100 transition-colors",children:i.jsx(Xs,{className:"w-5 h-5"})}),i.jsxs("div",{children:[i.jsxs("h1",{className:"text-2xl font-bold text-gray-900",children:["Task History (",l==="current"?"This Week":l,")"]}),i.jsxs("p",{className:"text-gray-600 mt-1",children:[e.length," tasks found for this period"]})]})]})}),i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:e.map(d=>i.jsxs("div",{className:"card hover:shadow-lg transition-shadow",children:[i.jsx("div",{className:"flex items-start justify-between mb-4",children:i.jsxs("div",{className:"flex items-center space-x-3",children:[c(d.status),i.jsxs("div",{children:[i.jsx("h3",{className:`font-semibold ${d.status==="completed"?"line-through text-gray-500":"text-gray-900"}`,children:d.title}),i.jsx("span",{className:`inline-block px-2 py-1 text-xs font-medium rounded-full border ${o(d.priority)} mt-1`,children:d.priority})]})]})}),i.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2",children:d.description}),i.jsx("div",{className:"flex items-center justify-between text-sm text-gray-500 mb-4",children:i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(St,{className:"w-4 h-4"}),d.due_time||"No due time"]}),d.assigned_name&&i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(rr,{className:"w-4 h-4"}),d.assigned_name]})]})}),i.jsx("span",{className:"ml-2 text-xs px-2 py-1 rounded bg-gray-100 border border-gray-300",children:d.tag==="static"?"Static (Daily)":"Dynamic (One-time)"}),i.jsx("div",{className:"flex justify-center mt-4",children:i.jsxs("button",{onClick:()=>a(`/task-details/${d.id}`),className:"text-primary-600 hover:text-primary-700 text-sm font-medium flex items-center space-x-1 transition-colors",children:[i.jsx(Ot,{className:"w-4 h-4"}),i.jsx("span",{children:"View Details"})]})})]},d.id))}),e.length===0&&i.jsxs("div",{className:"text-center py-12",children:[i.jsx(Us,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No tasks found"}),i.jsx("p",{className:"text-gray-600",children:"No tasks available for this time period."})]})]})},bN=()=>{const{id:e}=Wu(),t=It(),[s,n]=N.useState(null),[r,a]=N.useState(!0);N.useEffect(()=>{(async()=>{try{const d=await Ms.getTaskDetails(e);n(d.data)}catch{n(null)}finally{a(!1)}})()},[e]);const l=c=>{switch(c){case"high":return"bg-red-100 text-red-800 border-red-200";case"medium":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"low":return"bg-green-100 text-green-800 border-green-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},o=c=>c==="completed"?i.jsx(Ft,{className:"w-6 h-6 text-green-500"}):i.jsx(Us,{className:"w-6 h-6 text-gray-400"});return r?i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):s?i.jsxs("div",{className:"space-y-6 max-w-4xl mx-auto px-2 sm:px-4 lg:px-8 py-6",children:[i.jsx("div",{className:"flex items-center justify-between mb-6",children:i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("button",{onClick:()=>t(-1),className:"p-2 text-gray-500 hover:text-gray-700 rounded-lg hover:bg-gray-100 transition-colors",children:i.jsx(Xs,{className:"w-5 h-5"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:s.title}),i.jsxs("div",{className:"flex items-center gap-3 mt-2",children:[o(s.status),i.jsxs("span",{className:`inline-block px-3 py-1 text-sm font-medium rounded-full border ${l(s.priority)}`,children:[s.priority," priority"]}),i.jsxs("span",{className:"text-sm text-gray-500 capitalize",children:["Status: ",s.status]})]})]})]})}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[i.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[i.jsxs("div",{className:"card",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[i.jsx($l,{className:"w-5 h-5 text-gray-500"}),i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Description"})]}),i.jsx("p",{className:"text-gray-700 leading-relaxed",children:s.description||"No description provided"})]}),i.jsxs("div",{className:"card",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[i.jsx(St,{className:"w-5 h-5 text-gray-500"}),i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Timeline"})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[i.jsx("span",{className:"font-medium text-gray-700",children:"Due Date:"}),i.jsx("span",{className:"text-gray-600",children:s.due_date||"Not specified"})]}),i.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[i.jsx("span",{className:"font-medium text-gray-700",children:"Due Time:"}),i.jsx("span",{className:"text-gray-600",children:s.due_time||"Not specified"})]}),s.completed_at&&i.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-lg",children:[i.jsx("span",{className:"font-medium text-green-700",children:"Completed:"}),i.jsx("span",{className:"text-green-600",children:new Date(s.completed_at).toLocaleString()})]})]})]}),s.completion_notes&&i.jsxs("div",{className:"card",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[i.jsx($l,{className:"w-5 h-5 text-gray-500"}),i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Completion Notes"})]}),i.jsx("p",{className:"text-gray-700 bg-blue-50 p-4 rounded-lg",children:s.completion_notes})]}),s.evidence_photo&&i.jsxs("div",{className:"card",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[i.jsx(fi,{className:"w-5 h-5 text-gray-500"}),i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Evidence Photo"})]}),i.jsx("div",{className:"bg-green-50 p-4 rounded-lg",children:i.jsx("img",{src:s.evidence_photo,alt:"Task completion evidence",className:"w-full max-w-md rounded-lg object-cover"})})]})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"card",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[i.jsx(Zw,{className:"w-5 h-5 text-gray-500"}),i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Task Type"})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[i.jsx("span",{className:"font-medium text-gray-700",children:"Type:"}),i.jsx("span",{className:"text-gray-600 capitalize",children:s.tag==="static"?"Static (Daily)":"Dynamic (One-time)"})]}),i.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[i.jsx("span",{className:"font-medium text-gray-700",children:"Recurrent:"}),i.jsx("span",{className:"text-gray-600",children:s.recurrent?"Yes":"No"})]})]})]}),i.jsxs("div",{className:"card",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[i.jsx(rr,{className:"w-5 h-5 text-gray-500"}),i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Assignment"})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[i.jsx("span",{className:"font-medium text-gray-700",children:"Assigned To:"}),i.jsx("span",{className:"text-gray-600",children:s.assigned_name||"Unassigned"})]}),s.created_by_name&&i.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[i.jsx("span",{className:"font-medium text-gray-700",children:"Created By:"}),i.jsx("span",{className:"text-gray-600",children:s.created_by_name})]})]})]}),i.jsxs("div",{className:"card",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[i.jsx(St,{className:"w-5 h-5 text-gray-500"}),i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Created"})]}),i.jsx("div",{className:"p-3 bg-gray-50 rounded-lg",children:i.jsx("span",{className:"text-gray-600",children:s.created_at?new Date(s.created_at).toLocaleDateString():"Unknown"})})]})]})]})]}):i.jsx("div",{className:"space-y-6 max-w-7xl mx-auto px-2 sm:px-4 lg:px-8 py-6",children:i.jsxs("div",{className:"text-center py-12",children:[i.jsx(vg,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Task not found"}),i.jsx("p",{className:"text-gray-600 mb-4",children:"The task you're looking for doesn't exist or you don't have permission to view it."}),i.jsx("button",{onClick:()=>t(-1),className:"btn-primary",children:"Go Back"})]})})},jN=()=>{const[e,t]=N.useState(new Date),[s,n]=N.useState([]),[r,a]=N.useState(!1),[l,o]=N.useState(null),[c,d]=N.useState(!0),[u,h]=N.useState({title:"",description:"",event_date:"",event_time:"",location:"",type:"Task",priority:"medium",reminder_minutes:30,notify:!0}),[m,v]=N.useState(""),[y,g]=N.useState({});N.useEffect(()=>{b()},[]);const b=async()=>{try{const C=await wa.getEvents();n(C.data)}catch(C){console.error("Error fetching events:",C)}finally{d(!1)}},f=C=>{const F={};if(C.title.trim()?C.title.length>100&&(F.title="Title must be less than 100 characters"):F.title="Event title is required",!C.event_date)F.event_date="Event date is required";else{const V=new Date(C.event_date),K=new Date;K.setHours(0,0,0,0),V<K&&(F.event_date="Event date cannot be in the past")}return C.description&&C.description.length>500&&(F.description="Description must be less than 500 characters"),C.location&&C.location.length>100&&(F.location="Location must be less than 100 characters"),F},p=async C=>{var V;C.preventDefault(),v(""),g({});const F=f(u);if(Object.keys(F).length>0){g(F),v("Please fix the errors below");return}try{const K=await wa.createEvent(u);n([...s,K.data]),a(!1),h({title:"",description:"",event_date:"",event_time:"",location:"",type:"Task",priority:"medium",reminder_minutes:30,notify:!0}),v(""),g({}),alert("Event created successfully!")}catch(K){console.error("Error creating event:",K);const E=(V=K.response)==null?void 0:V.data;E!=null&&E.field?(g({[E.field]:E.message}),v("Please check the highlighted field")):E!=null&&E.message?v(E.message):K.code==="ERR_NETWORK"?v("Network error. Please check your connection and try again."):v("Failed to create event. Please try again.")}},x=async C=>{if(C.preventDefault(),!!l)try{const{id:F,...V}=l,K=await wa.updateEvent(F,V);n(s.map(E=>E.id===F?K.data:E)),o(null)}catch(F){console.error("Error updating event:",F)}},j=async C=>{try{await wa.deleteEvent(C),n(s.filter(F=>F.id!==C))}catch(F){console.error("Error deleting event:",F)}},w=C=>{const F=C.getFullYear(),V=C.getMonth(),K=new Date(F,V,1),k=new Date(F,V+1,0).getDate(),B=K.getDay(),D=[];for(let z=0;z<B;z++)D.push(null);for(let z=1;z<=k;z++)D.push(z);return D},_=C=>{if(!C)return[];const F=`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}-${String(C).padStart(2,"0")}`;return s.filter(V=>V.event_date===F)},S=()=>{const C=new Date;return s.filter(V=>new Date(V.event_date)>=C).sort((V,K)=>new Date(V.event_date)-new Date(K.event_date)).slice(0,5)},P=C=>{const F=new Date(e);F.setMonth(e.getMonth()+C),t(F)},A=["January","February","March","April","May","June","July","August","September","October","November","December"],O=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];return c?i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):i.jsxs("div",{className:"space-y-6 max-w-7xl mx-auto px-2 sm:px-4 lg:px-8 py-6",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 mb-4",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:"Calendar"}),i.jsx("p",{className:"text-gray-600 mt-1",children:"Schedule and manage farm tasks and events"})]}),i.jsxs("div",{className:"flex flex-wrap items-center gap-2 sm:gap-3",children:[i.jsx("select",{className:"border border-gray-300 rounded-xl px-3 py-2 text-sm",children:i.jsx("option",{children:"All"})}),i.jsxs("button",{onClick:()=>a(!0),className:"btn-primary text-sm flex items-center space-x-2",children:[i.jsx(Ln,{className:"w-4 h-4"}),i.jsx("span",{children:"Add Event"})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6",children:[i.jsx("div",{className:"lg:col-span-3",children:i.jsxs("div",{className:"card",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsx("div",{className:"flex items-center space-x-4",children:i.jsxs("h2",{className:"text-lg font-semibold text-gray-900",children:[A[e.getMonth()]," ",e.getFullYear()]})}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("button",{onClick:()=>P(-1),className:"p-2 hover:bg-gray-100 rounded-xl",children:i.jsx(Uw,{className:"w-4 h-4"})}),i.jsx("button",{onClick:()=>t(new Date),className:"px-3 py-2 text-sm text-primary-600 hover:bg-primary-50 rounded-xl",children:"Today"}),i.jsx("button",{onClick:()=>P(1),className:"p-2 hover:bg-gray-100 rounded-xl",children:i.jsx(wg,{className:"w-4 h-4"})})]})]}),i.jsxs("div",{className:"grid grid-cols-7 gap-1",children:[O.map(C=>i.jsx("div",{className:"p-3 text-center text-sm font-medium text-gray-500",children:C},C)),w(e).map((C,F)=>{const V=_(C),K=C&&new Date().getDate()===C&&new Date().getMonth()===e.getMonth()&&new Date().getFullYear()===e.getFullYear();return i.jsx("div",{className:`min-h-[120px] p-2 border border-gray-100 ${C?"hover:bg-gray-50":""} ${K?"bg-primary-50 border-primary-200":""}`,children:C&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:`flex items-center justify-between text-sm font-medium mb-1 ${K?"text-primary-600":"text-gray-900"}`,children:i.jsx("span",{children:C})}),i.jsxs("div",{className:"space-y-1",children:[V.slice(0,3).map(E=>i.jsxs("div",{className:"text-xs p-1 bg-primary-100 text-primary-800 rounded flex items-center justify-between gap-1",children:[i.jsx("span",{className:"truncate",children:E.title}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("button",{className:"text-[10px] px-1 py-0.5 bg-white/70 rounded hover:bg-white",onClick:()=>o(E),children:"Edit"}),i.jsx("button",{className:"text-[10px] px-1 py-0.5 bg-red-100 text-red-700 rounded hover:bg-red-200",onClick:()=>j(E.id),children:"Del"})]})]},E.id)),V.length>3&&i.jsxs("div",{className:"text-xs text-gray-500",children:["+",V.length-3," more"]})]})]})},F)})]})]})}),i.jsx("div",{className:"space-y-6",children:i.jsxs("div",{className:"card",children:[i.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Upcoming Events"}),i.jsx("p",{className:"text-sm text-primary-600 mb-4",children:"Next 5 scheduled events"}),i.jsxs("div",{className:"space-y-3",children:[S().map(C=>i.jsxs("div",{className:"p-3 bg-gray-50 rounded-xl",children:[i.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[i.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full"}),i.jsx("span",{className:"font-medium text-sm text-gray-900",children:C.title})]}),i.jsxs("p",{className:"text-xs text-gray-600",children:[new Date(C.event_date).toLocaleDateString()," at ",C.event_time]}),C.location&&i.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Assigned to ",C.location]})]},C.id)),S().length===0&&i.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No upcoming events"})]})]})})]}),r&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-md max-h-[90vh] overflow-y-auto mx-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Create New Event"}),i.jsx("button",{onClick:()=>a(!1),className:"p-1 hover:bg-gray-100 rounded",children:i.jsx(Ue,{className:"w-5 h-5"})})]}),i.jsx("p",{className:"text-sm text-primary-600 mb-6",children:"Schedule a new task or event on the calendar"}),i.jsxs("form",{onSubmit:p,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title *"}),i.jsx("input",{type:"text",required:!0,className:"input-field",placeholder:"Event title",value:u.title,onChange:C=>h({...u,title:C.target.value})}),y.title&&i.jsx("p",{className:"text-xs text-red-500 mt-1",children:y.title})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date *"}),i.jsx("input",{type:"date",required:!0,className:"input-field",value:u.event_date,onChange:C=>h({...u,event_date:C.target.value})}),y.event_date&&i.jsx("p",{className:"text-xs text-red-500 mt-1",children:y.event_date})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Time *"}),i.jsx("input",{type:"time",required:!0,className:"input-field",value:u.event_time,onChange:C=>h({...u,event_time:C.target.value})})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),i.jsx("textarea",{className:"input-field",rows:"3",placeholder:"Event description",value:u.description,onChange:C=>h({...u,description:C.target.value})}),y.description&&i.jsx("p",{className:"text-xs text-red-500 mt-1",children:y.description})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type"}),i.jsxs("select",{className:"input-field",value:u.type,onChange:C=>h({...u,type:C.target.value}),children:[i.jsx("option",{value:"Task",children:"Task"}),i.jsx("option",{value:"Event",children:"Event"}),i.jsx("option",{value:"Meeting",children:"Meeting"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Priority"}),i.jsxs("select",{className:"input-field",value:u.priority,onChange:C=>h({...u,priority:C.target.value}),children:[i.jsx("option",{value:"low",children:"Low"}),i.jsx("option",{value:"medium",children:"Medium"}),i.jsx("option",{value:"high",children:"High"})]})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Location"}),i.jsx("input",{type:"text",className:"input-field",placeholder:"Event location",value:u.location,onChange:C=>h({...u,location:C.target.value})}),y.location&&i.jsx("p",{className:"text-xs text-red-500 mt-1",children:y.location})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Reminder (minutes before)"}),i.jsx("input",{type:"number",min:"0",className:"input-field",value:u.reminder_minutes,onChange:C=>h({...u,reminder_minutes:Number(C.target.value)})})]}),i.jsx("div",{className:"flex items-end",children:i.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-gray-700",children:[i.jsx("input",{type:"checkbox",className:"rounded",checked:u.notify,onChange:C=>h({...u,notify:C.target.checked})}),"Send notification"]})})]}),m&&i.jsx("p",{className:"text-xs text-red-500 mt-2",children:m}),i.jsxs("div",{className:"flex space-x-3 pt-4",children:[i.jsx("button",{type:"submit",className:"btn-primary flex-1",children:"Create Event"}),i.jsx("button",{type:"button",onClick:()=>a(!1),className:"btn-secondary flex-1",children:"Cancel"})]})]})]})}),l&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-md max-h-[90vh] overflow-y-auto mx-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Edit Event"}),i.jsx("button",{onClick:()=>o(null),className:"p-1 hover:bg-gray-100 rounded",children:i.jsx(Ue,{className:"w-5 h-5"})})]}),i.jsxs("form",{onSubmit:x,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title *"}),i.jsx("input",{type:"text",required:!0,className:"input-field",value:l.title,onChange:C=>o({...l,title:C.target.value})})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date *"}),i.jsx("input",{type:"date",required:!0,className:"input-field",value:l.event_date,onChange:C=>o({...l,event_date:C.target.value})})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Time *"}),i.jsx("input",{type:"time",required:!0,className:"input-field",value:l.event_time,onChange:C=>o({...l,event_time:C.target.value})})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),i.jsx("textarea",{className:"input-field",rows:"3",value:l.description||"",onChange:C=>o({...l,description:C.target.value})})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type"}),i.jsxs("select",{className:"input-field",value:l.type,onChange:C=>o({...l,type:C.target.value}),children:[i.jsx("option",{value:"Task",children:"Task"}),i.jsx("option",{value:"Event",children:"Event"}),i.jsx("option",{value:"Meeting",children:"Meeting"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Priority"}),i.jsxs("select",{className:"input-field",value:l.priority,onChange:C=>o({...l,priority:C.target.value}),children:[i.jsx("option",{value:"low",children:"Low"}),i.jsx("option",{value:"medium",children:"Medium"}),i.jsx("option",{value:"high",children:"High"})]})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Location"}),i.jsx("input",{type:"text",className:"input-field",value:l.location||"",onChange:C=>o({...l,location:C.target.value})})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Reminder (minutes before)"}),i.jsx("input",{type:"number",min:"0",className:"input-field",value:l.reminder_minutes||0,onChange:C=>o({...l,reminder_minutes:Number(C.target.value)})})]}),i.jsx("div",{className:"flex items-end",children:i.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-gray-700",children:[i.jsx("input",{type:"checkbox",className:"rounded",checked:!!l.notify,onChange:C=>o({...l,notify:C.target.checked})}),"Send notification"]})})]}),i.jsxs("div",{className:"flex space-x-3 pt-4",children:[i.jsx("button",{type:"submit",className:"btn-primary flex-1",children:"Save"}),i.jsx("button",{type:"button",onClick:()=>o(null),className:"btn-secondary flex-1",children:"Cancel"})]})]})]})})]})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function na(e){return e+.5|0}const Ts=(e,t,s)=>Math.max(Math.min(e,s),t);function Jr(e){return Ts(na(e*2.55),0,255)}function $s(e){return Ts(na(e*255),0,255)}function rs(e){return Ts(na(e/2.55)/100,0,1)}function om(e){return Ts(na(e*100),0,100)}const gt={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Dd=[..."0123456789ABCDEF"],wN=e=>Dd[e&15],NN=e=>Dd[(e&240)>>4]+Dd[e&15],Sa=e=>(e&240)>>4===(e&15),_N=e=>Sa(e.r)&&Sa(e.g)&&Sa(e.b)&&Sa(e.a);function kN(e){var t=e.length,s;return e[0]==="#"&&(t===4||t===5?s={r:255&gt[e[1]]*17,g:255&gt[e[2]]*17,b:255&gt[e[3]]*17,a:t===5?gt[e[4]]*17:255}:(t===7||t===9)&&(s={r:gt[e[1]]<<4|gt[e[2]],g:gt[e[3]]<<4|gt[e[4]],b:gt[e[5]]<<4|gt[e[6]],a:t===9?gt[e[7]]<<4|gt[e[8]]:255})),s}const SN=(e,t)=>e<255?t(e):"";function CN(e){var t=_N(e)?wN:NN;return e?"#"+t(e.r)+t(e.g)+t(e.b)+SN(e.a,t):void 0}const PN=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Mg(e,t,s){const n=t*Math.min(s,1-s),r=(a,l=(a+e/30)%12)=>s-n*Math.max(Math.min(l-3,9-l,1),-1);return[r(0),r(8),r(4)]}function MN(e,t,s){const n=(r,a=(r+e/60)%6)=>s-s*t*Math.max(Math.min(a,4-a,1),0);return[n(5),n(3),n(1)]}function EN(e,t,s){const n=Mg(e,1,.5);let r;for(t+s>1&&(r=1/(t+s),t*=r,s*=r),r=0;r<3;r++)n[r]*=1-t-s,n[r]+=t;return n}function TN(e,t,s,n,r){return e===r?(t-s)/n+(t<s?6:0):t===r?(s-e)/n+2:(e-t)/n+4}function Ku(e){const s=e.r/255,n=e.g/255,r=e.b/255,a=Math.max(s,n,r),l=Math.min(s,n,r),o=(a+l)/2;let c,d,u;return a!==l&&(u=a-l,d=o>.5?u/(2-a-l):u/(a+l),c=TN(s,n,r,u,a),c=c*60+.5),[c|0,d||0,o]}function Gu(e,t,s,n){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,s,n)).map($s)}function Ju(e,t,s){return Gu(Mg,e,t,s)}function DN(e,t,s){return Gu(EN,e,t,s)}function RN(e,t,s){return Gu(MN,e,t,s)}function Eg(e){return(e%360+360)%360}function LN(e){const t=PN.exec(e);let s=255,n;if(!t)return;t[5]!==n&&(s=t[6]?Jr(+t[5]):$s(+t[5]));const r=Eg(+t[2]),a=+t[3]/100,l=+t[4]/100;return t[1]==="hwb"?n=DN(r,a,l):t[1]==="hsv"?n=RN(r,a,l):n=Ju(r,a,l),{r:n[0],g:n[1],b:n[2],a:s}}function FN(e,t){var s=Ku(e);s[0]=Eg(s[0]+t),s=Ju(s),e.r=s[0],e.g=s[1],e.b=s[2]}function AN(e){if(!e)return;const t=Ku(e),s=t[0],n=om(t[1]),r=om(t[2]);return e.a<255?`hsla(${s}, ${n}%, ${r}%, ${rs(e.a)})`:`hsl(${s}, ${n}%, ${r}%)`}const cm={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},dm={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function ON(){const e={},t=Object.keys(dm),s=Object.keys(cm);let n,r,a,l,o;for(n=0;n<t.length;n++){for(l=o=t[n],r=0;r<s.length;r++)a=s[r],o=o.replace(a,cm[a]);a=parseInt(dm[l],16),e[o]=[a>>16&255,a>>8&255,a&255]}return e}let Ca;function zN(e){Ca||(Ca=ON(),Ca.transparent=[0,0,0,0]);const t=Ca[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const IN=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function BN(e){const t=IN.exec(e);let s=255,n,r,a;if(t){if(t[7]!==n){const l=+t[7];s=t[8]?Jr(l):Ts(l*255,0,255)}return n=+t[1],r=+t[3],a=+t[5],n=255&(t[2]?Jr(n):Ts(n,0,255)),r=255&(t[4]?Jr(r):Ts(r,0,255)),a=255&(t[6]?Jr(a):Ts(a,0,255)),{r:n,g:r,b:a,a:s}}}function WN(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${rs(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}const pc=e=>e<=.0031308?e*12.92:Math.pow(e,1/2.4)*1.055-.055,Vn=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function HN(e,t,s){const n=Vn(rs(e.r)),r=Vn(rs(e.g)),a=Vn(rs(e.b));return{r:$s(pc(n+s*(Vn(rs(t.r))-n))),g:$s(pc(r+s*(Vn(rs(t.g))-r))),b:$s(pc(a+s*(Vn(rs(t.b))-a))),a:e.a+s*(t.a-e.a)}}function Pa(e,t,s){if(e){let n=Ku(e);n[t]=Math.max(0,Math.min(n[t]+n[t]*s,t===0?360:1)),n=Ju(n),e.r=n[0],e.g=n[1],e.b=n[2]}}function Tg(e,t){return e&&Object.assign(t||{},e)}function um(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=$s(e[3]))):(t=Tg(e,{r:0,g:0,b:0,a:1}),t.a=$s(t.a)),t}function VN(e){return e.charAt(0)==="r"?BN(e):LN(e)}class Ii{constructor(t){if(t instanceof Ii)return t;const s=typeof t;let n;s==="object"?n=um(t):s==="string"&&(n=kN(t)||zN(t)||VN(t)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var t=Tg(this._rgb);return t&&(t.a=rs(t.a)),t}set rgb(t){this._rgb=um(t)}rgbString(){return this._valid?WN(this._rgb):void 0}hexString(){return this._valid?CN(this._rgb):void 0}hslString(){return this._valid?AN(this._rgb):void 0}mix(t,s){if(t){const n=this.rgb,r=t.rgb;let a;const l=s===a?.5:s,o=2*l-1,c=n.a-r.a,d=((o*c===-1?o:(o+c)/(1+o*c))+1)/2;a=1-d,n.r=255&d*n.r+a*r.r+.5,n.g=255&d*n.g+a*r.g+.5,n.b=255&d*n.b+a*r.b+.5,n.a=l*n.a+(1-l)*r.a,this.rgb=n}return this}interpolate(t,s){return t&&(this._rgb=HN(this._rgb,t._rgb,s)),this}clone(){return new Ii(this.rgb)}alpha(t){return this._rgb.a=$s(t),this}clearer(t){const s=this._rgb;return s.a*=1-t,this}greyscale(){const t=this._rgb,s=na(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=s,this}opaquer(t){const s=this._rgb;return s.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Pa(this._rgb,2,t),this}darken(t){return Pa(this._rgb,2,-t),this}saturate(t){return Pa(this._rgb,1,t),this}desaturate(t){return Pa(this._rgb,1,-t),this}rotate(t){return FN(this._rgb,t),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Jt(){}const UN=(()=>{let e=0;return()=>e++})();function se(e){return e==null}function me(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function ne(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}function Re(e){return(typeof e=="number"||e instanceof Number)&&isFinite(+e)}function dt(e,t){return Re(e)?e:t}function Z(e,t){return typeof e>"u"?t:e}const $N=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100:+e/t,Dg=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*t:+e;function ce(e,t,s){if(e&&typeof e.call=="function")return e.apply(s,t)}function ae(e,t,s,n){let r,a,l;if(me(e))if(a=e.length,n)for(r=a-1;r>=0;r--)t.call(s,e[r],r);else for(r=0;r<a;r++)t.call(s,e[r],r);else if(ne(e))for(l=Object.keys(e),a=l.length,r=0;r<a;r++)t.call(s,e[l[r]],l[r])}function Xl(e,t){let s,n,r,a;if(!e||!t||e.length!==t.length)return!1;for(s=0,n=e.length;s<n;++s)if(r=e[s],a=t[s],r.datasetIndex!==a.datasetIndex||r.index!==a.index)return!1;return!0}function Ql(e){if(me(e))return e.map(Ql);if(ne(e)){const t=Object.create(null),s=Object.keys(e),n=s.length;let r=0;for(;r<n;++r)t[s[r]]=Ql(e[s[r]]);return t}return e}function Rg(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function YN(e,t,s,n){if(!Rg(e))return;const r=t[e],a=s[e];ne(r)&&ne(a)?Bi(r,a,n):t[e]=Ql(a)}function Bi(e,t,s){const n=me(t)?t:[t],r=n.length;if(!ne(e))return e;s=s||{};const a=s.merger||YN;let l;for(let o=0;o<r;++o){if(l=n[o],!ne(l))continue;const c=Object.keys(l);for(let d=0,u=c.length;d<u;++d)a(c[d],e,l,s)}return e}function mi(e,t){return Bi(e,t,{merger:qN})}function qN(e,t,s){if(!Rg(e))return;const n=t[e],r=s[e];ne(n)&&ne(r)?mi(n,r):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=Ql(r))}const hm={"":e=>e,x:e=>e.x,y:e=>e.y};function XN(e){const t=e.split("."),s=[];let n="";for(const r of t)n+=r,n.endsWith("\\")?n=n.slice(0,-1)+".":(s.push(n),n="");return s}function QN(e){const t=XN(e);return s=>{for(const n of t){if(n==="")break;s=s&&s[n]}return s}}function Fn(e,t){return(hm[t]||(hm[t]=QN(t)))(e)}function Zu(e){return e.charAt(0).toUpperCase()+e.slice(1)}const Wi=e=>typeof e<"u",Ks=e=>typeof e=="function",fm=(e,t)=>{if(e.size!==t.size)return!1;for(const s of e)if(!t.has(s))return!1;return!0};function KN(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}const re=Math.PI,pe=2*re,GN=pe+re,Kl=Number.POSITIVE_INFINITY,JN=re/180,Ne=re/2,an=re/4,mm=re*2/3,Ds=Math.log10,Gt=Math.sign;function pi(e,t,s){return Math.abs(e-t)<s}function pm(e){const t=Math.round(e);e=pi(e,t,e/1e3)?t:e;const s=Math.pow(10,Math.floor(Ds(e))),n=e/s;return(n<=1?1:n<=2?2:n<=5?5:10)*s}function ZN(e){const t=[],s=Math.sqrt(e);let n;for(n=1;n<s;n++)e%n===0&&(t.push(n),t.push(e/n));return s===(s|0)&&t.push(s),t.sort((r,a)=>r-a).pop(),t}function e_(e){return typeof e=="symbol"||typeof e=="object"&&e!==null&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}function Hi(e){return!e_(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function t_(e,t){const s=Math.round(e);return s-t<=e&&s+t>=e}function Lg(e,t,s){let n,r,a;for(n=0,r=e.length;n<r;n++)a=e[n][s],isNaN(a)||(t.min=Math.min(t.min,a),t.max=Math.max(t.max,a))}function Xt(e){return e*(re/180)}function eh(e){return e*(180/re)}function xm(e){if(!Re(e))return;let t=1,s=0;for(;Math.round(e*t)/t!==e;)t*=10,s++;return s}function Fg(e,t){const s=t.x-e.x,n=t.y-e.y,r=Math.sqrt(s*s+n*n);let a=Math.atan2(n,s);return a<-.5*re&&(a+=pe),{angle:a,distance:r}}function Rd(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function s_(e,t){return(e-t+GN)%pe-re}function et(e){return(e%pe+pe)%pe}function Vi(e,t,s,n){const r=et(e),a=et(t),l=et(s),o=et(a-r),c=et(l-r),d=et(r-a),u=et(r-l);return r===a||r===l||n&&a===l||o>c&&d<u}function $e(e,t,s){return Math.max(t,Math.min(s,e))}function n_(e){return $e(e,-32768,32767)}function Rs(e,t,s,n=1e-6){return e>=Math.min(t,s)-n&&e<=Math.max(t,s)+n}function th(e,t,s){s=s||(l=>e[l]<t);let n=e.length-1,r=0,a;for(;n-r>1;)a=r+n>>1,s(a)?r=a:n=a;return{lo:r,hi:n}}const bn=(e,t,s,n)=>th(e,s,n?r=>{const a=e[r][t];return a<s||a===s&&e[r+1][t]===s}:r=>e[r][t]<s),r_=(e,t,s)=>th(e,s,n=>e[n][t]>=s);function i_(e,t,s){let n=0,r=e.length;for(;n<r&&e[n]<t;)n++;for(;r>n&&e[r-1]>s;)r--;return n>0||r<e.length?e.slice(n,r):e}const Ag=["push","pop","shift","splice","unshift"];function a_(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),Ag.forEach(s=>{const n="_onData"+Zu(s),r=e[s];Object.defineProperty(e,s,{configurable:!0,enumerable:!1,value(...a){const l=r.apply(this,a);return e._chartjs.listeners.forEach(o=>{typeof o[n]=="function"&&o[n](...a)}),l}})})}function gm(e,t){const s=e._chartjs;if(!s)return;const n=s.listeners,r=n.indexOf(t);r!==-1&&n.splice(r,1),!(n.length>0)&&(Ag.forEach(a=>{delete e[a]}),delete e._chartjs)}function Og(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const zg=function(){return typeof window>"u"?function(e){return e()}:window.requestAnimationFrame}();function Ig(e,t){let s=[],n=!1;return function(...r){s=r,n||(n=!0,zg.call(window,()=>{n=!1,e.apply(t,s)}))}}function l_(e,t){let s;return function(...n){return t?(clearTimeout(s),s=setTimeout(e,t,n)):e.apply(this,n),t}}const sh=e=>e==="start"?"left":e==="end"?"right":"center",We=(e,t,s)=>e==="start"?t:e==="end"?s:(t+s)/2,o_=(e,t,s,n)=>e===(n?"left":"right")?s:e==="center"?(t+s)/2:t;function c_(e,t,s){const n=t.length;let r=0,a=n;if(e._sorted){const{iScale:l,vScale:o,_parsed:c}=e,d=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null,u=l.axis,{min:h,max:m,minDefined:v,maxDefined:y}=l.getUserBounds();if(v){if(r=Math.min(bn(c,u,h).lo,s?n:bn(t,u,l.getPixelForValue(h)).lo),d){const g=c.slice(0,r+1).reverse().findIndex(b=>!se(b[o.axis]));r-=Math.max(0,g)}r=$e(r,0,n-1)}if(y){let g=Math.max(bn(c,l.axis,m,!0).hi+1,s?0:bn(t,u,l.getPixelForValue(m),!0).hi+1);if(d){const b=c.slice(g-1).findIndex(f=>!se(f[o.axis]));g+=Math.max(0,b)}a=$e(g,r,n)-r}else a=n-r}return{start:r,count:a}}function d_(e){const{xScale:t,yScale:s,_scaleRanges:n}=e,r={xmin:t.min,xmax:t.max,ymin:s.min,ymax:s.max};if(!n)return e._scaleRanges=r,!0;const a=n.xmin!==t.min||n.xmax!==t.max||n.ymin!==s.min||n.ymax!==s.max;return Object.assign(n,r),a}const Ma=e=>e===0||e===1,ym=(e,t,s)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*pe/s)),vm=(e,t,s)=>Math.pow(2,-10*e)*Math.sin((e-t)*pe/s)+1,xi={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*Ne)+1,easeOutSine:e=>Math.sin(e*Ne),easeInOutSine:e=>-.5*(Math.cos(re*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>Ma(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>Ma(e)?e:ym(e,.075,.3),easeOutElastic:e=>Ma(e)?e:vm(e,.075,.3),easeInOutElastic(e){return Ma(e)?e:e<.5?.5*ym(e*2,.1125,.45):.5+.5*vm(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-xi.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?xi.easeInBounce(e*2)*.5:xi.easeOutBounce(e*2-1)*.5+.5};function nh(e){if(e&&typeof e=="object"){const t=e.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function bm(e){return nh(e)?e:new Ii(e)}function xc(e){return nh(e)?e:new Ii(e).saturate(.5).darken(.1).hexString()}const u_=["x","y","borderWidth","radius","tension"],h_=["color","borderColor","backgroundColor"];function f_(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),e.set("animations",{colors:{type:"color",properties:h_},numbers:{type:"number",properties:u_}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function m_(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const jm=new Map;function p_(e,t){t=t||{};const s=e+JSON.stringify(t);let n=jm.get(s);return n||(n=new Intl.NumberFormat(e,t),jm.set(s,n)),n}function Eo(e,t,s){return p_(t,s).format(e)}const Bg={values(e){return me(e)?e:""+e},numeric(e,t,s){if(e===0)return"0";const n=this.chart.options.locale;let r,a=e;if(s.length>1){const d=Math.max(Math.abs(s[0].value),Math.abs(s[s.length-1].value));(d<1e-4||d>1e15)&&(r="scientific"),a=x_(e,s)}const l=Ds(Math.abs(a)),o=isNaN(l)?1:Math.max(Math.min(-1*Math.floor(l),20),0),c={notation:r,minimumFractionDigits:o,maximumFractionDigits:o};return Object.assign(c,this.options.ticks.format),Eo(e,n,c)},logarithmic(e,t,s){if(e===0)return"0";const n=s[t].significand||e/Math.pow(10,Math.floor(Ds(e)));return[1,2,3,5,10,15].includes(n)||t>.8*s.length?Bg.numeric.call(this,e,t,s):""}};function x_(e,t){let s=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(s)>=1&&e!==Math.floor(e)&&(s=e-Math.floor(e)),s}var To={formatters:Bg};function g_(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,s)=>s.lineWidth,tickColor:(t,s)=>s.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:To.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const An=Object.create(null),Ld=Object.create(null);function gi(e,t){if(!t)return e;const s=t.split(".");for(let n=0,r=s.length;n<r;++n){const a=s[n];e=e[a]||(e[a]=Object.create(null))}return e}function gc(e,t,s){return typeof t=="string"?Bi(gi(e,t),s):Bi(gi(e,""),t)}class y_{constructor(t,s){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=n=>n.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(n,r)=>xc(r.backgroundColor),this.hoverBorderColor=(n,r)=>xc(r.borderColor),this.hoverColor=(n,r)=>xc(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(s)}set(t,s){return gc(this,t,s)}get(t){return gi(this,t)}describe(t,s){return gc(Ld,t,s)}override(t,s){return gc(An,t,s)}route(t,s,n,r){const a=gi(this,t),l=gi(this,n),o="_"+s;Object.defineProperties(a,{[o]:{value:a[s],writable:!0},[s]:{enumerable:!0,get(){const c=this[o],d=l[r];return ne(c)?Object.assign({},d,c):Z(c,d)},set(c){this[o]=c}}})}apply(t){t.forEach(s=>s(this))}}var je=new y_({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[f_,m_,g_]);function v_(e){return!e||se(e.size)||se(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function Gl(e,t,s,n,r){let a=t[r];return a||(a=t[r]=e.measureText(r).width,s.push(r)),a>n&&(n=a),n}function b_(e,t,s,n){n=n||{};let r=n.data=n.data||{},a=n.garbageCollect=n.garbageCollect||[];n.font!==t&&(r=n.data={},a=n.garbageCollect=[],n.font=t),e.save(),e.font=t;let l=0;const o=s.length;let c,d,u,h,m;for(c=0;c<o;c++)if(h=s[c],h!=null&&!me(h))l=Gl(e,r,a,l,h);else if(me(h))for(d=0,u=h.length;d<u;d++)m=h[d],m!=null&&!me(m)&&(l=Gl(e,r,a,l,m));e.restore();const v=a.length/2;if(v>s.length){for(c=0;c<v;c++)delete r[a[c]];a.splice(0,v)}return l}function ln(e,t,s){const n=e.currentDevicePixelRatio,r=s!==0?Math.max(s/2,.5):0;return Math.round((t-r)*n)/n+r}function wm(e,t){!t&&!e||(t=t||e.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function Fd(e,t,s,n){Wg(e,t,s,n,null)}function Wg(e,t,s,n,r){let a,l,o,c,d,u,h,m;const v=t.pointStyle,y=t.rotation,g=t.radius;let b=(y||0)*JN;if(v&&typeof v=="object"&&(a=v.toString(),a==="[object HTMLImageElement]"||a==="[object HTMLCanvasElement]")){e.save(),e.translate(s,n),e.rotate(b),e.drawImage(v,-v.width/2,-v.height/2,v.width,v.height),e.restore();return}if(!(isNaN(g)||g<=0)){switch(e.beginPath(),v){default:r?e.ellipse(s,n,r/2,g,0,0,pe):e.arc(s,n,g,0,pe),e.closePath();break;case"triangle":u=r?r/2:g,e.moveTo(s+Math.sin(b)*u,n-Math.cos(b)*g),b+=mm,e.lineTo(s+Math.sin(b)*u,n-Math.cos(b)*g),b+=mm,e.lineTo(s+Math.sin(b)*u,n-Math.cos(b)*g),e.closePath();break;case"rectRounded":d=g*.516,c=g-d,l=Math.cos(b+an)*c,h=Math.cos(b+an)*(r?r/2-d:c),o=Math.sin(b+an)*c,m=Math.sin(b+an)*(r?r/2-d:c),e.arc(s-h,n-o,d,b-re,b-Ne),e.arc(s+m,n-l,d,b-Ne,b),e.arc(s+h,n+o,d,b,b+Ne),e.arc(s-m,n+l,d,b+Ne,b+re),e.closePath();break;case"rect":if(!y){c=Math.SQRT1_2*g,u=r?r/2:c,e.rect(s-u,n-c,2*u,2*c);break}b+=an;case"rectRot":h=Math.cos(b)*(r?r/2:g),l=Math.cos(b)*g,o=Math.sin(b)*g,m=Math.sin(b)*(r?r/2:g),e.moveTo(s-h,n-o),e.lineTo(s+m,n-l),e.lineTo(s+h,n+o),e.lineTo(s-m,n+l),e.closePath();break;case"crossRot":b+=an;case"cross":h=Math.cos(b)*(r?r/2:g),l=Math.cos(b)*g,o=Math.sin(b)*g,m=Math.sin(b)*(r?r/2:g),e.moveTo(s-h,n-o),e.lineTo(s+h,n+o),e.moveTo(s+m,n-l),e.lineTo(s-m,n+l);break;case"star":h=Math.cos(b)*(r?r/2:g),l=Math.cos(b)*g,o=Math.sin(b)*g,m=Math.sin(b)*(r?r/2:g),e.moveTo(s-h,n-o),e.lineTo(s+h,n+o),e.moveTo(s+m,n-l),e.lineTo(s-m,n+l),b+=an,h=Math.cos(b)*(r?r/2:g),l=Math.cos(b)*g,o=Math.sin(b)*g,m=Math.sin(b)*(r?r/2:g),e.moveTo(s-h,n-o),e.lineTo(s+h,n+o),e.moveTo(s+m,n-l),e.lineTo(s-m,n+l);break;case"line":l=r?r/2:Math.cos(b)*g,o=Math.sin(b)*g,e.moveTo(s-l,n-o),e.lineTo(s+l,n+o);break;case"dash":e.moveTo(s,n),e.lineTo(s+Math.cos(b)*(r?r/2:g),n+Math.sin(b)*g);break;case!1:e.closePath();break}e.fill(),t.borderWidth>0&&e.stroke()}}function os(e,t,s){return s=s||.5,!t||e&&e.x>t.left-s&&e.x<t.right+s&&e.y>t.top-s&&e.y<t.bottom+s}function rh(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function ih(e){e.restore()}function j_(e,t,s,n,r){if(!t)return e.lineTo(s.x,s.y);if(r==="middle"){const a=(t.x+s.x)/2;e.lineTo(a,t.y),e.lineTo(a,s.y)}else r==="after"!=!!n?e.lineTo(t.x,s.y):e.lineTo(s.x,t.y);e.lineTo(s.x,s.y)}function w_(e,t,s,n){if(!t)return e.lineTo(s.x,s.y);e.bezierCurveTo(n?t.cp1x:t.cp2x,n?t.cp1y:t.cp2y,n?s.cp2x:s.cp1x,n?s.cp2y:s.cp1y,s.x,s.y)}function N_(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),se(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function __(e,t,s,n,r){if(r.strikethrough||r.underline){const a=e.measureText(n),l=t-a.actualBoundingBoxLeft,o=t+a.actualBoundingBoxRight,c=s-a.actualBoundingBoxAscent,d=s+a.actualBoundingBoxDescent,u=r.strikethrough?(c+d)/2:d;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=r.decorationWidth||2,e.moveTo(l,u),e.lineTo(o,u),e.stroke()}}function k_(e,t){const s=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=s}function On(e,t,s,n,r,a={}){const l=me(t)?t:[t],o=a.strokeWidth>0&&a.strokeColor!=="";let c,d;for(e.save(),e.font=r.string,N_(e,a),c=0;c<l.length;++c)d=l[c],a.backdrop&&k_(e,a.backdrop),o&&(a.strokeColor&&(e.strokeStyle=a.strokeColor),se(a.strokeWidth)||(e.lineWidth=a.strokeWidth),e.strokeText(d,s,n,a.maxWidth)),e.fillText(d,s,n,a.maxWidth),__(e,s,n,d,a),n+=Number(r.lineHeight);e.restore()}function Ui(e,t){const{x:s,y:n,w:r,h:a,radius:l}=t;e.arc(s+l.topLeft,n+l.topLeft,l.topLeft,1.5*re,re,!0),e.lineTo(s,n+a-l.bottomLeft),e.arc(s+l.bottomLeft,n+a-l.bottomLeft,l.bottomLeft,re,Ne,!0),e.lineTo(s+r-l.bottomRight,n+a),e.arc(s+r-l.bottomRight,n+a-l.bottomRight,l.bottomRight,Ne,0,!0),e.lineTo(s+r,n+l.topRight),e.arc(s+r-l.topRight,n+l.topRight,l.topRight,0,-Ne,!0),e.lineTo(s+l.topLeft,n)}const S_=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,C_=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function P_(e,t){const s=(""+e).match(S_);if(!s||s[1]==="normal")return t*1.2;switch(e=+s[2],s[3]){case"px":return e;case"%":e/=100;break}return t*e}const M_=e=>+e||0;function ah(e,t){const s={},n=ne(t),r=n?Object.keys(t):t,a=ne(e)?n?l=>Z(e[l],e[t[l]]):l=>e[l]:()=>e;for(const l of r)s[l]=M_(a(l));return s}function Hg(e){return ah(e,{top:"y",right:"x",bottom:"y",left:"x"})}function Nn(e){return ah(e,["topLeft","topRight","bottomLeft","bottomRight"])}function qe(e){const t=Hg(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function Te(e,t){e=e||{},t=t||je.font;let s=Z(e.size,t.size);typeof s=="string"&&(s=parseInt(s,10));let n=Z(e.style,t.style);n&&!(""+n).match(C_)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);const r={family:Z(e.family,t.family),lineHeight:P_(Z(e.lineHeight,t.lineHeight),s),size:s,style:n,weight:Z(e.weight,t.weight),string:""};return r.string=v_(r),r}function Ea(e,t,s,n){let r=!0,a,l,o;for(a=0,l=e.length;a<l;++a)if(o=e[a],o!==void 0&&(t!==void 0&&typeof o=="function"&&(o=o(t),r=!1),s!==void 0&&me(o)&&(o=o[s%o.length],r=!1),o!==void 0))return n&&!r&&(n.cacheable=!1),o}function E_(e,t,s){const{min:n,max:r}=e,a=Dg(t,(r-n)/2),l=(o,c)=>s&&o===0?0:o+c;return{min:l(n,-Math.abs(a)),max:l(r,a)}}function sn(e,t){return Object.assign(Object.create(e),t)}function lh(e,t=[""],s,n,r=()=>e[0]){const a=s||e;typeof n>"u"&&(n=Yg("_fallback",e));const l={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:a,_fallback:n,_getTarget:r,override:o=>lh([o,...e],t,a,n)};return new Proxy(l,{deleteProperty(o,c){return delete o[c],delete o._keys,delete e[0][c],!0},get(o,c){return Ug(o,c,()=>z_(c,t,e,o))},getOwnPropertyDescriptor(o,c){return Reflect.getOwnPropertyDescriptor(o._scopes[0],c)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(o,c){return _m(o).includes(c)},ownKeys(o){return _m(o)},set(o,c,d){const u=o._storage||(o._storage=r());return o[c]=u[c]=d,delete o._keys,!0}})}function jr(e,t,s,n){const r={_cacheable:!1,_proxy:e,_context:t,_subProxy:s,_stack:new Set,_descriptors:Vg(e,n),setContext:a=>jr(e,a,s,n),override:a=>jr(e.override(a),t,s,n)};return new Proxy(r,{deleteProperty(a,l){return delete a[l],delete e[l],!0},get(a,l,o){return Ug(a,l,()=>D_(a,l,o))},getOwnPropertyDescriptor(a,l){return a._descriptors.allKeys?Reflect.has(e,l)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,l)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(a,l){return Reflect.has(e,l)},ownKeys(){return Reflect.ownKeys(e)},set(a,l,o){return e[l]=o,delete a[l],!0}})}function Vg(e,t={scriptable:!0,indexable:!0}){const{_scriptable:s=t.scriptable,_indexable:n=t.indexable,_allKeys:r=t.allKeys}=e;return{allKeys:r,scriptable:s,indexable:n,isScriptable:Ks(s)?s:()=>s,isIndexable:Ks(n)?n:()=>n}}const T_=(e,t)=>e?e+Zu(t):t,oh=(e,t)=>ne(t)&&e!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function Ug(e,t,s){if(Object.prototype.hasOwnProperty.call(e,t)||t==="constructor")return e[t];const n=s();return e[t]=n,n}function D_(e,t,s){const{_proxy:n,_context:r,_subProxy:a,_descriptors:l}=e;let o=n[t];return Ks(o)&&l.isScriptable(t)&&(o=R_(t,o,e,s)),me(o)&&o.length&&(o=L_(t,o,e,l.isIndexable)),oh(t,o)&&(o=jr(o,r,a&&a[t],l)),o}function R_(e,t,s,n){const{_proxy:r,_context:a,_subProxy:l,_stack:o}=s;if(o.has(e))throw new Error("Recursion detected: "+Array.from(o).join("->")+"->"+e);o.add(e);let c=t(a,l||n);return o.delete(e),oh(e,c)&&(c=ch(r._scopes,r,e,c)),c}function L_(e,t,s,n){const{_proxy:r,_context:a,_subProxy:l,_descriptors:o}=s;if(typeof a.index<"u"&&n(e))return t[a.index%t.length];if(ne(t[0])){const c=t,d=r._scopes.filter(u=>u!==c);t=[];for(const u of c){const h=ch(d,r,e,u);t.push(jr(h,a,l&&l[e],o))}}return t}function $g(e,t,s){return Ks(e)?e(t,s):e}const F_=(e,t)=>e===!0?t:typeof e=="string"?Fn(t,e):void 0;function A_(e,t,s,n,r){for(const a of t){const l=F_(s,a);if(l){e.add(l);const o=$g(l._fallback,s,r);if(typeof o<"u"&&o!==s&&o!==n)return o}else if(l===!1&&typeof n<"u"&&s!==n)return null}return!1}function ch(e,t,s,n){const r=t._rootScopes,a=$g(t._fallback,s,n),l=[...e,...r],o=new Set;o.add(n);let c=Nm(o,l,s,a||s,n);return c===null||typeof a<"u"&&a!==s&&(c=Nm(o,l,a,c,n),c===null)?!1:lh(Array.from(o),[""],r,a,()=>O_(t,s,n))}function Nm(e,t,s,n,r){for(;s;)s=A_(e,t,s,n,r);return s}function O_(e,t,s){const n=e._getTarget();t in n||(n[t]={});const r=n[t];return me(r)&&ne(s)?s:r||{}}function z_(e,t,s,n){let r;for(const a of t)if(r=Yg(T_(a,e),s),typeof r<"u")return oh(e,r)?ch(s,n,e,r):r}function Yg(e,t){for(const s of t){if(!s)continue;const n=s[e];if(typeof n<"u")return n}}function _m(e){let t=e._keys;return t||(t=e._keys=I_(e._scopes)),t}function I_(e){const t=new Set;for(const s of e)for(const n of Object.keys(s).filter(r=>!r.startsWith("_")))t.add(n);return Array.from(t)}const B_=Number.EPSILON||1e-14,wr=(e,t)=>t<e.length&&!e[t].skip&&e[t],qg=e=>e==="x"?"y":"x";function W_(e,t,s,n){const r=e.skip?t:e,a=t,l=s.skip?t:s,o=Rd(a,r),c=Rd(l,a);let d=o/(o+c),u=c/(o+c);d=isNaN(d)?0:d,u=isNaN(u)?0:u;const h=n*d,m=n*u;return{previous:{x:a.x-h*(l.x-r.x),y:a.y-h*(l.y-r.y)},next:{x:a.x+m*(l.x-r.x),y:a.y+m*(l.y-r.y)}}}function H_(e,t,s){const n=e.length;let r,a,l,o,c,d=wr(e,0);for(let u=0;u<n-1;++u)if(c=d,d=wr(e,u+1),!(!c||!d)){if(pi(t[u],0,B_)){s[u]=s[u+1]=0;continue}r=s[u]/t[u],a=s[u+1]/t[u],o=Math.pow(r,2)+Math.pow(a,2),!(o<=9)&&(l=3/Math.sqrt(o),s[u]=r*l*t[u],s[u+1]=a*l*t[u])}}function V_(e,t,s="x"){const n=qg(s),r=e.length;let a,l,o,c=wr(e,0);for(let d=0;d<r;++d){if(l=o,o=c,c=wr(e,d+1),!o)continue;const u=o[s],h=o[n];l&&(a=(u-l[s])/3,o[`cp1${s}`]=u-a,o[`cp1${n}`]=h-a*t[d]),c&&(a=(c[s]-u)/3,o[`cp2${s}`]=u+a,o[`cp2${n}`]=h+a*t[d])}}function U_(e,t="x"){const s=qg(t),n=e.length,r=Array(n).fill(0),a=Array(n);let l,o,c,d=wr(e,0);for(l=0;l<n;++l)if(o=c,c=d,d=wr(e,l+1),!!c){if(d){const u=d[t]-c[t];r[l]=u!==0?(d[s]-c[s])/u:0}a[l]=o?d?Gt(r[l-1])!==Gt(r[l])?0:(r[l-1]+r[l])/2:r[l-1]:r[l]}H_(e,r,a),V_(e,a,t)}function Ta(e,t,s){return Math.max(Math.min(e,s),t)}function $_(e,t){let s,n,r,a,l,o=os(e[0],t);for(s=0,n=e.length;s<n;++s)l=a,a=o,o=s<n-1&&os(e[s+1],t),a&&(r=e[s],l&&(r.cp1x=Ta(r.cp1x,t.left,t.right),r.cp1y=Ta(r.cp1y,t.top,t.bottom)),o&&(r.cp2x=Ta(r.cp2x,t.left,t.right),r.cp2y=Ta(r.cp2y,t.top,t.bottom)))}function Y_(e,t,s,n,r){let a,l,o,c;if(t.spanGaps&&(e=e.filter(d=>!d.skip)),t.cubicInterpolationMode==="monotone")U_(e,r);else{let d=n?e[e.length-1]:e[0];for(a=0,l=e.length;a<l;++a)o=e[a],c=W_(d,o,e[Math.min(a+1,l-(n?0:1))%l],t.tension),o.cp1x=c.previous.x,o.cp1y=c.previous.y,o.cp2x=c.next.x,o.cp2y=c.next.y,d=o}t.capBezierPoints&&$_(e,s)}function dh(){return typeof window<"u"&&typeof document<"u"}function uh(e){let t=e.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function Jl(e,t,s){let n;return typeof e=="string"?(n=parseInt(e,10),e.indexOf("%")!==-1&&(n=n/100*t.parentNode[s])):n=e,n}const Do=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);function q_(e,t){return Do(e).getPropertyValue(t)}const X_=["top","right","bottom","left"];function _n(e,t,s){const n={};s=s?"-"+s:"";for(let r=0;r<4;r++){const a=X_[r];n[a]=parseFloat(e[t+"-"+a+s])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}const Q_=(e,t,s)=>(e>0||t>0)&&(!s||!s.shadowRoot);function K_(e,t){const s=e.touches,n=s&&s.length?s[0]:e,{offsetX:r,offsetY:a}=n;let l=!1,o,c;if(Q_(r,a,e.target))o=r,c=a;else{const d=t.getBoundingClientRect();o=n.clientX-d.left,c=n.clientY-d.top,l=!0}return{x:o,y:c,box:l}}function fn(e,t){if("native"in e)return e;const{canvas:s,currentDevicePixelRatio:n}=t,r=Do(s),a=r.boxSizing==="border-box",l=_n(r,"padding"),o=_n(r,"border","width"),{x:c,y:d,box:u}=K_(e,s),h=l.left+(u&&o.left),m=l.top+(u&&o.top);let{width:v,height:y}=t;return a&&(v-=l.width+o.width,y-=l.height+o.height),{x:Math.round((c-h)/v*s.width/n),y:Math.round((d-m)/y*s.height/n)}}function G_(e,t,s){let n,r;if(t===void 0||s===void 0){const a=e&&uh(e);if(!a)t=e.clientWidth,s=e.clientHeight;else{const l=a.getBoundingClientRect(),o=Do(a),c=_n(o,"border","width"),d=_n(o,"padding");t=l.width-d.width-c.width,s=l.height-d.height-c.height,n=Jl(o.maxWidth,a,"clientWidth"),r=Jl(o.maxHeight,a,"clientHeight")}}return{width:t,height:s,maxWidth:n||Kl,maxHeight:r||Kl}}const Da=e=>Math.round(e*10)/10;function J_(e,t,s,n){const r=Do(e),a=_n(r,"margin"),l=Jl(r.maxWidth,e,"clientWidth")||Kl,o=Jl(r.maxHeight,e,"clientHeight")||Kl,c=G_(e,t,s);let{width:d,height:u}=c;if(r.boxSizing==="content-box"){const m=_n(r,"border","width"),v=_n(r,"padding");d-=v.width+m.width,u-=v.height+m.height}return d=Math.max(0,d-a.width),u=Math.max(0,n?d/n:u-a.height),d=Da(Math.min(d,l,c.maxWidth)),u=Da(Math.min(u,o,c.maxHeight)),d&&!u&&(u=Da(d/2)),(t!==void 0||s!==void 0)&&n&&c.height&&u>c.height&&(u=c.height,d=Da(Math.floor(u*n))),{width:d,height:u}}function km(e,t,s){const n=t||1,r=Math.floor(e.height*n),a=Math.floor(e.width*n);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const l=e.canvas;return l.style&&(s||!l.style.height&&!l.style.width)&&(l.style.height=`${e.height}px`,l.style.width=`${e.width}px`),e.currentDevicePixelRatio!==n||l.height!==r||l.width!==a?(e.currentDevicePixelRatio=n,l.height=r,l.width=a,e.ctx.setTransform(n,0,0,n,0,0),!0):!1}const Z_=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};dh()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return e}();function Sm(e,t){const s=q_(e,t),n=s&&s.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function mn(e,t,s,n){return{x:e.x+s*(t.x-e.x),y:e.y+s*(t.y-e.y)}}function ek(e,t,s,n){return{x:e.x+s*(t.x-e.x),y:n==="middle"?s<.5?e.y:t.y:n==="after"?s<1?e.y:t.y:s>0?t.y:e.y}}function tk(e,t,s,n){const r={x:e.cp2x,y:e.cp2y},a={x:t.cp1x,y:t.cp1y},l=mn(e,r,s),o=mn(r,a,s),c=mn(a,t,s),d=mn(l,o,s),u=mn(o,c,s);return mn(d,u,s)}const sk=function(e,t){return{x(s){return e+e+t-s},setWidth(s){t=s},textAlign(s){return s==="center"?s:s==="right"?"left":"right"},xPlus(s,n){return s-n},leftForLtr(s,n){return s-n}}},nk=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,t){return e+t},leftForLtr(e,t){return e}}};function hr(e,t,s){return e?sk(t,s):nk()}function Xg(e,t){let s,n;(t==="ltr"||t==="rtl")&&(s=e.canvas.style,n=[s.getPropertyValue("direction"),s.getPropertyPriority("direction")],s.setProperty("direction",t,"important"),e.prevTextDirection=n)}function Qg(e,t){t!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function Kg(e){return e==="angle"?{between:Vi,compare:s_,normalize:et}:{between:Rs,compare:(t,s)=>t-s,normalize:t=>t}}function Cm({start:e,end:t,count:s,loop:n,style:r}){return{start:e%s,end:t%s,loop:n&&(t-e+1)%s===0,style:r}}function rk(e,t,s){const{property:n,start:r,end:a}=s,{between:l,normalize:o}=Kg(n),c=t.length;let{start:d,end:u,loop:h}=e,m,v;if(h){for(d+=c,u+=c,m=0,v=c;m<v&&l(o(t[d%c][n]),r,a);++m)d--,u--;d%=c,u%=c}return u<d&&(u+=c),{start:d,end:u,loop:h,style:e.style}}function ik(e,t,s){if(!s)return[e];const{property:n,start:r,end:a}=s,l=t.length,{compare:o,between:c,normalize:d}=Kg(n),{start:u,end:h,loop:m,style:v}=rk(e,t,s),y=[];let g=!1,b=null,f,p,x;const j=()=>c(r,x,f)&&o(r,x)!==0,w=()=>o(a,f)===0||c(a,x,f),_=()=>g||j(),S=()=>!g||w();for(let P=u,A=u;P<=h;++P)p=t[P%l],!p.skip&&(f=d(p[n]),f!==x&&(g=c(f,r,a),b===null&&_()&&(b=o(f,r)===0?P:A),b!==null&&S()&&(y.push(Cm({start:b,end:P,loop:m,count:l,style:v})),b=null),A=P,x=f));return b!==null&&y.push(Cm({start:b,end:h,loop:m,count:l,style:v})),y}function ak(e,t){const s=[],n=e.segments;for(let r=0;r<n.length;r++){const a=ik(n[r],e.points,t);a.length&&s.push(...a)}return s}function lk(e,t,s,n){let r=0,a=t-1;if(s&&!n)for(;r<t&&!e[r].skip;)r++;for(;r<t&&e[r].skip;)r++;for(r%=t,s&&(a+=r);a>r&&e[a%t].skip;)a--;return a%=t,{start:r,end:a}}function ok(e,t,s,n){const r=e.length,a=[];let l=t,o=e[t],c;for(c=t+1;c<=s;++c){const d=e[c%r];d.skip||d.stop?o.skip||(n=!1,a.push({start:t%r,end:(c-1)%r,loop:n}),t=l=d.stop?c:null):(l=c,o.skip&&(t=c)),o=d}return l!==null&&a.push({start:t%r,end:l%r,loop:n}),a}function ck(e,t){const s=e.points,n=e.options.spanGaps,r=s.length;if(!r)return[];const a=!!e._loop,{start:l,end:o}=lk(s,r,a,n);if(n===!0)return Pm(e,[{start:l,end:o,loop:a}],s,t);const c=o<l?o+r:o,d=!!e._fullLoop&&l===0&&o===r-1;return Pm(e,ok(s,l,c,d),s,t)}function Pm(e,t,s,n){return!n||!n.setContext||!s?t:dk(e,t,s,n)}function dk(e,t,s,n){const r=e._chart.getContext(),a=Mm(e.options),{_datasetIndex:l,options:{spanGaps:o}}=e,c=s.length,d=[];let u=a,h=t[0].start,m=h;function v(y,g,b,f){const p=o?-1:1;if(y!==g){for(y+=c;s[y%c].skip;)y-=p;for(;s[g%c].skip;)g+=p;y%c!==g%c&&(d.push({start:y%c,end:g%c,loop:b,style:f}),u=f,h=g%c)}}for(const y of t){h=o?h:y.start;let g=s[h%c],b;for(m=h+1;m<=y.end;m++){const f=s[m%c];b=Mm(n.setContext(sn(r,{type:"segment",p0:g,p1:f,p0DataIndex:(m-1)%c,p1DataIndex:m%c,datasetIndex:l}))),uk(b,u)&&v(h,m-1,y.loop,u),g=f,u=b}h<m-1&&v(h,m-1,y.loop,u)}return d}function Mm(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function uk(e,t){if(!t)return!1;const s=[],n=function(r,a){return nh(a)?(s.includes(a)||s.push(a),s.indexOf(a)):a};return JSON.stringify(e,n)!==JSON.stringify(t,n)}function Ra(e,t,s){return e.options.clip?e[s]:t[s]}function hk(e,t){const{xScale:s,yScale:n}=e;return s&&n?{left:Ra(s,t,"left"),right:Ra(s,t,"right"),top:Ra(n,t,"top"),bottom:Ra(n,t,"bottom")}:t}function fk(e,t){const s=t._clip;if(s.disabled)return!1;const n=hk(t,e.chartArea);return{left:s.left===!1?0:n.left-(s.left===!0?0:s.left),right:s.right===!1?e.width:n.right+(s.right===!0?0:s.right),top:s.top===!1?0:n.top-(s.top===!0?0:s.top),bottom:s.bottom===!1?e.height:n.bottom+(s.bottom===!0?0:s.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class mk{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,s,n,r){const a=s.listeners[r],l=s.duration;a.forEach(o=>o({chart:t,initial:s.initial,numSteps:l,currentStep:Math.min(n-s.start,l)}))}_refresh(){this._request||(this._running=!0,this._request=zg.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let s=0;this._charts.forEach((n,r)=>{if(!n.running||!n.items.length)return;const a=n.items;let l=a.length-1,o=!1,c;for(;l>=0;--l)c=a[l],c._active?(c._total>n.duration&&(n.duration=c._total),c.tick(t),o=!0):(a[l]=a[a.length-1],a.pop());o&&(r.draw(),this._notify(r,n,t,"progress")),a.length||(n.running=!1,this._notify(r,n,t,"complete"),n.initial=!1),s+=a.length}),this._lastDate=t,s===0&&(this._running=!1)}_getAnims(t){const s=this._charts;let n=s.get(t);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},s.set(t,n)),n}listen(t,s,n){this._getAnims(t).listeners[s].push(n)}add(t,s){!s||!s.length||this._getAnims(t).items.push(...s)}has(t){return this._getAnims(t).items.length>0}start(t){const s=this._charts.get(t);s&&(s.running=!0,s.start=Date.now(),s.duration=s.items.reduce((n,r)=>Math.max(n,r._duration),0),this._refresh())}running(t){if(!this._running)return!1;const s=this._charts.get(t);return!(!s||!s.running||!s.items.length)}stop(t){const s=this._charts.get(t);if(!s||!s.items.length)return;const n=s.items;let r=n.length-1;for(;r>=0;--r)n[r].cancel();s.items=[],this._notify(t,s,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var Zt=new mk;const Em="transparent",pk={boolean(e,t,s){return s>.5?t:e},color(e,t,s){const n=bm(e||Em),r=n.valid&&bm(t||Em);return r&&r.valid?r.mix(n,s).hexString():t},number(e,t,s){return e+(t-e)*s}};class xk{constructor(t,s,n,r){const a=s[n];r=Ea([t.to,r,a,t.from]);const l=Ea([t.from,a,r]);this._active=!0,this._fn=t.fn||pk[t.type||typeof l],this._easing=xi[t.easing]||xi.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=s,this._prop=n,this._from=l,this._to=r,this._promises=void 0}active(){return this._active}update(t,s,n){if(this._active){this._notify(!1);const r=this._target[this._prop],a=n-this._start,l=this._duration-a;this._start=n,this._duration=Math.floor(Math.max(l,t.duration)),this._total+=a,this._loop=!!t.loop,this._to=Ea([t.to,s,r,t.from]),this._from=Ea([t.from,r,s])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const s=t-this._start,n=this._duration,r=this._prop,a=this._from,l=this._loop,o=this._to;let c;if(this._active=a!==o&&(l||s<n),!this._active){this._target[r]=o,this._notify(!0);return}if(s<0){this._target[r]=a;return}c=s/n%2,c=l&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[r]=this._fn(a,o,c)}wait(){const t=this._promises||(this._promises=[]);return new Promise((s,n)=>{t.push({res:s,rej:n})})}_notify(t){const s=t?"res":"rej",n=this._promises||[];for(let r=0;r<n.length;r++)n[r][s]()}}class Gg{constructor(t,s){this._chart=t,this._properties=new Map,this.configure(s)}configure(t){if(!ne(t))return;const s=Object.keys(je.animation),n=this._properties;Object.getOwnPropertyNames(t).forEach(r=>{const a=t[r];if(!ne(a))return;const l={};for(const o of s)l[o]=a[o];(me(a.properties)&&a.properties||[r]).forEach(o=>{(o===r||!n.has(o))&&n.set(o,l)})})}_animateOptions(t,s){const n=s.options,r=yk(t,n);if(!r)return[];const a=this._createAnimations(r,n);return n.$shared&&gk(t.options.$animations,n).then(()=>{t.options=n},()=>{}),a}_createAnimations(t,s){const n=this._properties,r=[],a=t.$animations||(t.$animations={}),l=Object.keys(s),o=Date.now();let c;for(c=l.length-1;c>=0;--c){const d=l[c];if(d.charAt(0)==="$")continue;if(d==="options"){r.push(...this._animateOptions(t,s));continue}const u=s[d];let h=a[d];const m=n.get(d);if(h)if(m&&h.active()){h.update(m,u,o);continue}else h.cancel();if(!m||!m.duration){t[d]=u;continue}a[d]=h=new xk(m,t,d,u),r.push(h)}return r}update(t,s){if(this._properties.size===0){Object.assign(t,s);return}const n=this._createAnimations(t,s);if(n.length)return Zt.add(this._chart,n),!0}}function gk(e,t){const s=[],n=Object.keys(t);for(let r=0;r<n.length;r++){const a=e[n[r]];a&&a.active()&&s.push(a.wait())}return Promise.all(s)}function yk(e,t){if(!t)return;let s=e.options;if(!s){e.options=t;return}return s.$shared&&(e.options=s=Object.assign({},s,{$shared:!1,$animations:{}})),s}function Tm(e,t){const s=e&&e.options||{},n=s.reverse,r=s.min===void 0?t:0,a=s.max===void 0?t:0;return{start:n?a:r,end:n?r:a}}function vk(e,t,s){if(s===!1)return!1;const n=Tm(e,s),r=Tm(t,s);return{top:r.end,right:n.end,bottom:r.start,left:n.start}}function bk(e){let t,s,n,r;return ne(e)?(t=e.top,s=e.right,n=e.bottom,r=e.left):t=s=n=r=e,{top:t,right:s,bottom:n,left:r,disabled:e===!1}}function Jg(e,t){const s=[],n=e._getSortedDatasetMetas(t);let r,a;for(r=0,a=n.length;r<a;++r)s.push(n[r].index);return s}function Dm(e,t,s,n={}){const r=e.keys,a=n.mode==="single";let l,o,c,d;if(t===null)return;let u=!1;for(l=0,o=r.length;l<o;++l){if(c=+r[l],c===s){if(u=!0,n.all)continue;break}d=e.values[c],Re(d)&&(a||t===0||Gt(t)===Gt(d))&&(t+=d)}return!u&&!n.all?0:t}function jk(e,t){const{iScale:s,vScale:n}=t,r=s.axis==="x"?"x":"y",a=n.axis==="x"?"x":"y",l=Object.keys(e),o=new Array(l.length);let c,d,u;for(c=0,d=l.length;c<d;++c)u=l[c],o[c]={[r]:u,[a]:e[u]};return o}function yc(e,t){const s=e&&e.options.stacked;return s||s===void 0&&t.stack!==void 0}function wk(e,t,s){return`${e.id}.${t.id}.${s.stack||s.type}`}function Nk(e){const{min:t,max:s,minDefined:n,maxDefined:r}=e.getUserBounds();return{min:n?t:Number.NEGATIVE_INFINITY,max:r?s:Number.POSITIVE_INFINITY}}function _k(e,t,s){const n=e[t]||(e[t]={});return n[s]||(n[s]={})}function Rm(e,t,s,n){for(const r of t.getMatchingVisibleMetas(n).reverse()){const a=e[r.index];if(s&&a>0||!s&&a<0)return r.index}return null}function Lm(e,t){const{chart:s,_cachedMeta:n}=e,r=s._stacks||(s._stacks={}),{iScale:a,vScale:l,index:o}=n,c=a.axis,d=l.axis,u=wk(a,l,n),h=t.length;let m;for(let v=0;v<h;++v){const y=t[v],{[c]:g,[d]:b}=y,f=y._stacks||(y._stacks={});m=f[d]=_k(r,u,g),m[o]=b,m._top=Rm(m,l,!0,n.type),m._bottom=Rm(m,l,!1,n.type);const p=m._visualValues||(m._visualValues={});p[o]=b}}function vc(e,t){const s=e.scales;return Object.keys(s).filter(n=>s[n].axis===t).shift()}function kk(e,t){return sn(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function Sk(e,t,s){return sn(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:s,index:t,mode:"default",type:"data"})}function Vr(e,t){const s=e.controller.index,n=e.vScale&&e.vScale.axis;if(n){t=t||e._parsed;for(const r of t){const a=r._stacks;if(!a||a[n]===void 0||a[n][s]===void 0)return;delete a[n][s],a[n]._visualValues!==void 0&&a[n]._visualValues[s]!==void 0&&delete a[n]._visualValues[s]}}}const bc=e=>e==="reset"||e==="none",Fm=(e,t)=>t?e:Object.assign({},e),Ck=(e,t,s)=>e&&!t.hidden&&t._stacked&&{keys:Jg(s,!0),values:null};class kn{constructor(t,s){this.chart=t,this._ctx=t.ctx,this.index=s,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=yc(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Vr(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,s=this._cachedMeta,n=this.getDataset(),r=(h,m,v,y)=>h==="x"?m:h==="r"?y:v,a=s.xAxisID=Z(n.xAxisID,vc(t,"x")),l=s.yAxisID=Z(n.yAxisID,vc(t,"y")),o=s.rAxisID=Z(n.rAxisID,vc(t,"r")),c=s.indexAxis,d=s.iAxisID=r(c,a,l,o),u=s.vAxisID=r(c,l,a,o);s.xScale=this.getScaleForId(a),s.yScale=this.getScaleForId(l),s.rScale=this.getScaleForId(o),s.iScale=this.getScaleForId(d),s.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const s=this._cachedMeta;return t===s.iScale?s.vScale:s.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&gm(this._data,this),t._stacked&&Vr(t)}_dataCheck(){const t=this.getDataset(),s=t.data||(t.data=[]),n=this._data;if(ne(s)){const r=this._cachedMeta;this._data=jk(s,r)}else if(n!==s){if(n){gm(n,this);const r=this._cachedMeta;Vr(r),r._parsed=[]}s&&Object.isExtensible(s)&&a_(s,this),this._syncList=[],this._data=s}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const s=this._cachedMeta,n=this.getDataset();let r=!1;this._dataCheck();const a=s._stacked;s._stacked=yc(s.vScale,s),s.stack!==n.stack&&(r=!0,Vr(s),s.stack=n.stack),this._resyncElements(t),(r||a!==s._stacked)&&(Lm(this,s._parsed),s._stacked=yc(s.vScale,s))}configure(){const t=this.chart.config,s=t.datasetScopeKeys(this._type),n=t.getOptionScopes(this.getDataset(),s,!0);this.options=t.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,s){const{_cachedMeta:n,_data:r}=this,{iScale:a,_stacked:l}=n,o=a.axis;let c=t===0&&s===r.length?!0:n._sorted,d=t>0&&n._parsed[t-1],u,h,m;if(this._parsing===!1)n._parsed=r,n._sorted=!0,m=r;else{me(r[t])?m=this.parseArrayData(n,r,t,s):ne(r[t])?m=this.parseObjectData(n,r,t,s):m=this.parsePrimitiveData(n,r,t,s);const v=()=>h[o]===null||d&&h[o]<d[o];for(u=0;u<s;++u)n._parsed[u+t]=h=m[u],c&&(v()&&(c=!1),d=h);n._sorted=c}l&&Lm(this,m)}parsePrimitiveData(t,s,n,r){const{iScale:a,vScale:l}=t,o=a.axis,c=l.axis,d=a.getLabels(),u=a===l,h=new Array(r);let m,v,y;for(m=0,v=r;m<v;++m)y=m+n,h[m]={[o]:u||a.parse(d[y],y),[c]:l.parse(s[y],y)};return h}parseArrayData(t,s,n,r){const{xScale:a,yScale:l}=t,o=new Array(r);let c,d,u,h;for(c=0,d=r;c<d;++c)u=c+n,h=s[u],o[c]={x:a.parse(h[0],u),y:l.parse(h[1],u)};return o}parseObjectData(t,s,n,r){const{xScale:a,yScale:l}=t,{xAxisKey:o="x",yAxisKey:c="y"}=this._parsing,d=new Array(r);let u,h,m,v;for(u=0,h=r;u<h;++u)m=u+n,v=s[m],d[u]={x:a.parse(Fn(v,o),m),y:l.parse(Fn(v,c),m)};return d}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,s,n){const r=this.chart,a=this._cachedMeta,l=s[t.axis],o={keys:Jg(r,!0),values:s._stacks[t.axis]._visualValues};return Dm(o,l,a.index,{mode:n})}updateRangeFromParsed(t,s,n,r){const a=n[s.axis];let l=a===null?NaN:a;const o=r&&n._stacks[s.axis];r&&o&&(r.values=o,l=Dm(r,a,this._cachedMeta.index)),t.min=Math.min(t.min,l),t.max=Math.max(t.max,l)}getMinMax(t,s){const n=this._cachedMeta,r=n._parsed,a=n._sorted&&t===n.iScale,l=r.length,o=this._getOtherScale(t),c=Ck(s,n,this.chart),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:h}=Nk(o);let m,v;function y(){v=r[m];const g=v[o.axis];return!Re(v[t.axis])||u>g||h<g}for(m=0;m<l&&!(!y()&&(this.updateRangeFromParsed(d,t,v,c),a));++m);if(a){for(m=l-1;m>=0;--m)if(!y()){this.updateRangeFromParsed(d,t,v,c);break}}return d}getAllParsedValues(t){const s=this._cachedMeta._parsed,n=[];let r,a,l;for(r=0,a=s.length;r<a;++r)l=s[r][t.axis],Re(l)&&n.push(l);return n}getMaxOverflow(){return!1}getLabelAndValue(t){const s=this._cachedMeta,n=s.iScale,r=s.vScale,a=this.getParsed(t);return{label:n?""+n.getLabelForValue(a[n.axis]):"",value:r?""+r.getLabelForValue(a[r.axis]):""}}_update(t){const s=this._cachedMeta;this.update(t||"default"),s._clip=bk(Z(this.options.clip,vk(s.xScale,s.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,s=this.chart,n=this._cachedMeta,r=n.data||[],a=s.chartArea,l=[],o=this._drawStart||0,c=this._drawCount||r.length-o,d=this.options.drawActiveElementsOnTop;let u;for(n.dataset&&n.dataset.draw(t,a,o,c),u=o;u<o+c;++u){const h=r[u];h.hidden||(h.active&&d?l.push(h):h.draw(t,a))}for(u=0;u<l.length;++u)l[u].draw(t,a)}getStyle(t,s){const n=s?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(t||0,n)}getContext(t,s,n){const r=this.getDataset();let a;if(t>=0&&t<this._cachedMeta.data.length){const l=this._cachedMeta.data[t];a=l.$context||(l.$context=Sk(this.getContext(),t,l)),a.parsed=this.getParsed(t),a.raw=r.data[t],a.index=a.dataIndex=t}else a=this.$context||(this.$context=kk(this.chart.getContext(),this.index)),a.dataset=r,a.index=a.datasetIndex=this.index;return a.active=!!s,a.mode=n,a}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,s){return this._resolveElementOptions(this.dataElementType.id,s,t)}_resolveElementOptions(t,s="default",n){const r=s==="active",a=this._cachedDataOpts,l=t+"-"+s,o=a[l],c=this.enableOptionSharing&&Wi(n);if(o)return Fm(o,c);const d=this.chart.config,u=d.datasetElementScopeKeys(this._type,t),h=r?[`${t}Hover`,"hover",t,""]:[t,""],m=d.getOptionScopes(this.getDataset(),u),v=Object.keys(je.elements[t]),y=()=>this.getContext(n,r,s),g=d.resolveNamedOptions(m,v,y,h);return g.$shared&&(g.$shared=c,a[l]=Object.freeze(Fm(g,c))),g}_resolveAnimations(t,s,n){const r=this.chart,a=this._cachedDataOpts,l=`animation-${s}`,o=a[l];if(o)return o;let c;if(r.options.animation!==!1){const u=this.chart.config,h=u.datasetAnimationScopeKeys(this._type,s),m=u.getOptionScopes(this.getDataset(),h);c=u.createResolver(m,this.getContext(t,n,s))}const d=new Gg(r,c&&c.animations);return c&&c._cacheable&&(a[l]=Object.freeze(d)),d}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,s){return!s||bc(t)||this.chart._animationsDisabled}_getSharedOptions(t,s){const n=this.resolveDataElementOptions(t,s),r=this._sharedOptions,a=this.getSharedOptions(n),l=this.includeOptions(s,a)||a!==r;return this.updateSharedOptions(a,s,n),{sharedOptions:a,includeOptions:l}}updateElement(t,s,n,r){bc(r)?Object.assign(t,n):this._resolveAnimations(s,r).update(t,n)}updateSharedOptions(t,s,n){t&&!bc(s)&&this._resolveAnimations(void 0,s).update(t,n)}_setStyle(t,s,n,r){t.active=r;const a=this.getStyle(s,r);this._resolveAnimations(s,n,r).update(t,{options:!r&&this.getSharedOptions(a)||a})}removeHoverStyle(t,s,n){this._setStyle(t,n,"active",!1)}setHoverStyle(t,s,n){this._setStyle(t,n,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const s=this._data,n=this._cachedMeta.data;for(const[o,c,d]of this._syncList)this[o](c,d);this._syncList=[];const r=n.length,a=s.length,l=Math.min(a,r);l&&this.parse(0,l),a>r?this._insertElements(r,a-r,t):a<r&&this._removeElements(a,r-a)}_insertElements(t,s,n=!0){const r=this._cachedMeta,a=r.data,l=t+s;let o;const c=d=>{for(d.length+=s,o=d.length-1;o>=l;o--)d[o]=d[o-s]};for(c(a),o=t;o<l;++o)a[o]=new this.dataElementType;this._parsing&&c(r._parsed),this.parse(t,s),n&&this.updateElements(a,t,s,"reset")}updateElements(t,s,n,r){}_removeElements(t,s){const n=this._cachedMeta;if(this._parsing){const r=n._parsed.splice(t,s);n._stacked&&Vr(n,r)}n.data.splice(t,s)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[s,n,r]=t;this[s](n,r)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,s){s&&this._sync(["_removeElements",t,s]);const n=arguments.length-2;n&&this._sync(["_insertElements",t,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}U(kn,"defaults",{}),U(kn,"datasetElementType",null),U(kn,"dataElementType",null);function Pk(e,t){if(!e._cache.$bar){const s=e.getMatchingVisibleMetas(t);let n=[];for(let r=0,a=s.length;r<a;r++)n=n.concat(s[r].controller.getAllParsedValues(e));e._cache.$bar=Og(n.sort((r,a)=>r-a))}return e._cache.$bar}function Mk(e){const t=e.iScale,s=Pk(t,e.type);let n=t._length,r,a,l,o;const c=()=>{l===32767||l===-32768||(Wi(o)&&(n=Math.min(n,Math.abs(l-o)||n)),o=l)};for(r=0,a=s.length;r<a;++r)l=t.getPixelForValue(s[r]),c();for(o=void 0,r=0,a=t.ticks.length;r<a;++r)l=t.getPixelForTick(r),c();return n}function Ek(e,t,s,n){const r=s.barThickness;let a,l;return se(r)?(a=t.min*s.categoryPercentage,l=s.barPercentage):(a=r*n,l=1),{chunk:a/n,ratio:l,start:t.pixels[e]-a/2}}function Tk(e,t,s,n){const r=t.pixels,a=r[e];let l=e>0?r[e-1]:null,o=e<r.length-1?r[e+1]:null;const c=s.categoryPercentage;l===null&&(l=a-(o===null?t.end-t.start:o-a)),o===null&&(o=a+a-l);const d=a-(a-Math.min(l,o))/2*c;return{chunk:Math.abs(o-l)/2*c/n,ratio:s.barPercentage,start:d}}function Dk(e,t,s,n){const r=s.parse(e[0],n),a=s.parse(e[1],n),l=Math.min(r,a),o=Math.max(r,a);let c=l,d=o;Math.abs(l)>Math.abs(o)&&(c=o,d=l),t[s.axis]=d,t._custom={barStart:c,barEnd:d,start:r,end:a,min:l,max:o}}function Zg(e,t,s,n){return me(e)?Dk(e,t,s,n):t[s.axis]=s.parse(e,n),t}function Am(e,t,s,n){const r=e.iScale,a=e.vScale,l=r.getLabels(),o=r===a,c=[];let d,u,h,m;for(d=s,u=s+n;d<u;++d)m=t[d],h={},h[r.axis]=o||r.parse(l[d],d),c.push(Zg(m,h,a,d));return c}function jc(e){return e&&e.barStart!==void 0&&e.barEnd!==void 0}function Rk(e,t,s){return e!==0?Gt(e):(t.isHorizontal()?1:-1)*(t.min>=s?1:-1)}function Lk(e){let t,s,n,r,a;return e.horizontal?(t=e.base>e.x,s="left",n="right"):(t=e.base<e.y,s="bottom",n="top"),t?(r="end",a="start"):(r="start",a="end"),{start:s,end:n,reverse:t,top:r,bottom:a}}function Fk(e,t,s,n){let r=t.borderSkipped;const a={};if(!r){e.borderSkipped=a;return}if(r===!0){e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:l,end:o,reverse:c,top:d,bottom:u}=Lk(e);r==="middle"&&s&&(e.enableBorderRadius=!0,(s._top||0)===n?r=d:(s._bottom||0)===n?r=u:(a[Om(u,l,o,c)]=!0,r=d)),a[Om(r,l,o,c)]=!0,e.borderSkipped=a}function Om(e,t,s,n){return n?(e=Ak(e,t,s),e=zm(e,s,t)):e=zm(e,t,s),e}function Ak(e,t,s){return e===t?s:e===s?t:e}function zm(e,t,s){return e==="start"?t:e==="end"?s:e}function Ok(e,{inflateAmount:t},s){e.inflateAmount=t==="auto"?s===1?.33:0:t}class il extends kn{parsePrimitiveData(t,s,n,r){return Am(t,s,n,r)}parseArrayData(t,s,n,r){return Am(t,s,n,r)}parseObjectData(t,s,n,r){const{iScale:a,vScale:l}=t,{xAxisKey:o="x",yAxisKey:c="y"}=this._parsing,d=a.axis==="x"?o:c,u=l.axis==="x"?o:c,h=[];let m,v,y,g;for(m=n,v=n+r;m<v;++m)g=s[m],y={},y[a.axis]=a.parse(Fn(g,d),m),h.push(Zg(Fn(g,u),y,l,m));return h}updateRangeFromParsed(t,s,n,r){super.updateRangeFromParsed(t,s,n,r);const a=n._custom;a&&s===this._cachedMeta.vScale&&(t.min=Math.min(t.min,a.min),t.max=Math.max(t.max,a.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const s=this._cachedMeta,{iScale:n,vScale:r}=s,a=this.getParsed(t),l=a._custom,o=jc(l)?"["+l.start+", "+l.end+"]":""+r.getLabelForValue(a[r.axis]);return{label:""+n.getLabelForValue(a[n.axis]),value:o}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const s=this._cachedMeta;this.updateElements(s.data,0,s.data.length,t)}updateElements(t,s,n,r){const a=r==="reset",{index:l,_cachedMeta:{vScale:o}}=this,c=o.getBasePixel(),d=o.isHorizontal(),u=this._getRuler(),{sharedOptions:h,includeOptions:m}=this._getSharedOptions(s,r);for(let v=s;v<s+n;v++){const y=this.getParsed(v),g=a||se(y[o.axis])?{base:c,head:c}:this._calculateBarValuePixels(v),b=this._calculateBarIndexPixels(v,u),f=(y._stacks||{})[o.axis],p={horizontal:d,base:g.base,enableBorderRadius:!f||jc(y._custom)||l===f._top||l===f._bottom,x:d?g.head:b.center,y:d?b.center:g.head,height:d?b.size:Math.abs(g.size),width:d?Math.abs(g.size):b.size};m&&(p.options=h||this.resolveDataElementOptions(v,t[v].active?"active":r));const x=p.options||t[v].options;Fk(p,x,f,l),Ok(p,x,u.ratio),this.updateElement(t[v],v,p,r)}}_getStacks(t,s){const{iScale:n}=this._cachedMeta,r=n.getMatchingVisibleMetas(this._type).filter(u=>u.controller.options.grouped),a=n.options.stacked,l=[],o=this._cachedMeta.controller.getParsed(s),c=o&&o[n.axis],d=u=>{const h=u._parsed.find(v=>v[n.axis]===c),m=h&&h[u.vScale.axis];if(se(m)||isNaN(m))return!0};for(const u of r)if(!(s!==void 0&&d(u))&&((a===!1||l.indexOf(u.stack)===-1||a===void 0&&u.stack===void 0)&&l.push(u.stack),u.index===t))break;return l.length||l.push(void 0),l}_getStackCount(t){return this._getStacks(void 0,t).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const t=this.chart.scales,s=this.chart.options.indexAxis;return Object.keys(t).filter(n=>t[n].axis===s).shift()}_getAxis(){const t={},s=this.getFirstScaleIdForIndexAxis();for(const n of this.chart.data.datasets)t[Z(this.chart.options.indexAxis==="x"?n.xAxisID:n.yAxisID,s)]=!0;return Object.keys(t)}_getStackIndex(t,s,n){const r=this._getStacks(t,n),a=s!==void 0?r.indexOf(s):-1;return a===-1?r.length-1:a}_getRuler(){const t=this.options,s=this._cachedMeta,n=s.iScale,r=[];let a,l;for(a=0,l=s.data.length;a<l;++a)r.push(n.getPixelForValue(this.getParsed(a)[n.axis],a));const o=t.barThickness;return{min:o||Mk(s),pixels:r,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:t.grouped,ratio:o?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:s,_stacked:n,index:r},options:{base:a,minBarLength:l}}=this,o=a||0,c=this.getParsed(t),d=c._custom,u=jc(d);let h=c[s.axis],m=0,v=n?this.applyStack(s,c,n):h,y,g;v!==h&&(m=v-h,v=h),u&&(h=d.barStart,v=d.barEnd-d.barStart,h!==0&&Gt(h)!==Gt(d.barEnd)&&(m=0),m+=h);const b=!se(a)&&!u?a:m;let f=s.getPixelForValue(b);if(this.chart.getDataVisibility(t)?y=s.getPixelForValue(m+v):y=f,g=y-f,Math.abs(g)<l){g=Rk(g,s,o)*l,h===o&&(f-=g/2);const p=s.getPixelForDecimal(0),x=s.getPixelForDecimal(1),j=Math.min(p,x),w=Math.max(p,x);f=Math.max(Math.min(f,w),j),y=f+g,n&&!u&&(c._stacks[s.axis]._visualValues[r]=s.getValueForPixel(y)-s.getValueForPixel(f))}if(f===s.getPixelForValue(o)){const p=Gt(g)*s.getLineWidthForValue(o)/2;f+=p,g-=p}return{size:g,base:f,head:y,center:y+g/2}}_calculateBarIndexPixels(t,s){const n=s.scale,r=this.options,a=r.skipNull,l=Z(r.maxBarThickness,1/0);let o,c;const d=this._getAxisCount();if(s.grouped){const u=a?this._getStackCount(t):s.stackCount,h=r.barThickness==="flex"?Tk(t,s,r,u*d):Ek(t,s,r,u*d),m=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,v=this._getAxis().indexOf(Z(m,this.getFirstScaleIdForIndexAxis())),y=this._getStackIndex(this.index,this._cachedMeta.stack,a?t:void 0)+v;o=h.start+h.chunk*y+h.chunk/2,c=Math.min(l,h.chunk*h.ratio)}else o=n.getPixelForValue(this.getParsed(t)[n.axis],t),c=Math.min(l,s.min*s.ratio);return{base:o-c/2,head:o+c/2,center:o,size:c}}draw(){const t=this._cachedMeta,s=t.vScale,n=t.data,r=n.length;let a=0;for(;a<r;++a)this.getParsed(a)[s.axis]!==null&&!n[a].hidden&&n[a].draw(this._ctx)}}U(il,"id","bar"),U(il,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),U(il,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function zk(e,t,s){let n=1,r=1,a=0,l=0;if(t<pe){const o=e,c=o+t,d=Math.cos(o),u=Math.sin(o),h=Math.cos(c),m=Math.sin(c),v=(x,j,w)=>Vi(x,o,c,!0)?1:Math.max(j,j*s,w,w*s),y=(x,j,w)=>Vi(x,o,c,!0)?-1:Math.min(j,j*s,w,w*s),g=v(0,d,h),b=v(Ne,u,m),f=y(re,d,h),p=y(re+Ne,u,m);n=(g-f)/2,r=(b-p)/2,a=-(g+f)/2,l=-(b+p)/2}return{ratioX:n,ratioY:r,offsetX:a,offsetY:l}}class Zr extends kn{constructor(t,s){super(t,s),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,s){const n=this.getDataset().data,r=this._cachedMeta;if(this._parsing===!1)r._parsed=n;else{let a=c=>+n[c];if(ne(n[t])){const{key:c="value"}=this._parsing;a=d=>+Fn(n[d],c)}let l,o;for(l=t,o=t+s;l<o;++l)r._parsed[l]=a(l)}}_getRotation(){return Xt(this.options.rotation-90)}_getCircumference(){return Xt(this.options.circumference)}_getRotationExtents(){let t=pe,s=-pe;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)&&this.chart.getDatasetMeta(n).type===this._type){const r=this.chart.getDatasetMeta(n).controller,a=r._getRotation(),l=r._getCircumference();t=Math.min(t,a),s=Math.max(s,a+l)}return{rotation:t,circumference:s-t}}update(t){const s=this.chart,{chartArea:n}=s,r=this._cachedMeta,a=r.data,l=this.getMaxBorderWidth()+this.getMaxOffset(a)+this.options.spacing,o=Math.max((Math.min(n.width,n.height)-l)/2,0),c=Math.min($N(this.options.cutout,o),1),d=this._getRingWeight(this.index),{circumference:u,rotation:h}=this._getRotationExtents(),{ratioX:m,ratioY:v,offsetX:y,offsetY:g}=zk(h,u,c),b=(n.width-l)/m,f=(n.height-l)/v,p=Math.max(Math.min(b,f)/2,0),x=Dg(this.options.radius,p),j=Math.max(x*c,0),w=(x-j)/this._getVisibleDatasetWeightTotal();this.offsetX=y*x,this.offsetY=g*x,r.total=this.calculateTotal(),this.outerRadius=x-w*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-w*d,0),this.updateElements(a,0,a.length,t)}_circumference(t,s){const n=this.options,r=this._cachedMeta,a=this._getCircumference();return s&&n.animation.animateRotate||!this.chart.getDataVisibility(t)||r._parsed[t]===null||r.data[t].hidden?0:this.calculateCircumference(r._parsed[t]*a/pe)}updateElements(t,s,n,r){const a=r==="reset",l=this.chart,o=l.chartArea,d=l.options.animation,u=(o.left+o.right)/2,h=(o.top+o.bottom)/2,m=a&&d.animateScale,v=m?0:this.innerRadius,y=m?0:this.outerRadius,{sharedOptions:g,includeOptions:b}=this._getSharedOptions(s,r);let f=this._getRotation(),p;for(p=0;p<s;++p)f+=this._circumference(p,a);for(p=s;p<s+n;++p){const x=this._circumference(p,a),j=t[p],w={x:u+this.offsetX,y:h+this.offsetY,startAngle:f,endAngle:f+x,circumference:x,outerRadius:y,innerRadius:v};b&&(w.options=g||this.resolveDataElementOptions(p,j.active?"active":r)),f+=x,this.updateElement(j,p,w,r)}}calculateTotal(){const t=this._cachedMeta,s=t.data;let n=0,r;for(r=0;r<s.length;r++){const a=t._parsed[r];a!==null&&!isNaN(a)&&this.chart.getDataVisibility(r)&&!s[r].hidden&&(n+=Math.abs(a))}return n}calculateCircumference(t){const s=this._cachedMeta.total;return s>0&&!isNaN(t)?pe*(Math.abs(t)/s):0}getLabelAndValue(t){const s=this._cachedMeta,n=this.chart,r=n.data.labels||[],a=Eo(s._parsed[t],n.options.locale);return{label:r[t]||"",value:a}}getMaxBorderWidth(t){let s=0;const n=this.chart;let r,a,l,o,c;if(!t){for(r=0,a=n.data.datasets.length;r<a;++r)if(n.isDatasetVisible(r)){l=n.getDatasetMeta(r),t=l.data,o=l.controller;break}}if(!t)return 0;for(r=0,a=t.length;r<a;++r)c=o.resolveDataElementOptions(r),c.borderAlign!=="inner"&&(s=Math.max(s,c.borderWidth||0,c.hoverBorderWidth||0));return s}getMaxOffset(t){let s=0;for(let n=0,r=t.length;n<r;++n){const a=this.resolveDataElementOptions(n);s=Math.max(s,a.offset||0,a.hoverOffset||0)}return s}_getRingWeightOffset(t){let s=0;for(let n=0;n<t;++n)this.chart.isDatasetVisible(n)&&(s+=this._getRingWeight(n));return s}_getRingWeight(t){return Math.max(Z(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}U(Zr,"id","doughnut"),U(Zr,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),U(Zr,"descriptors",{_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")}),U(Zr,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const s=t.data;if(s.labels.length&&s.datasets.length){const{labels:{pointStyle:n,color:r}}=t.legend.options;return s.labels.map((a,l)=>{const c=t.getDatasetMeta(0).controller.getStyle(l);return{text:a,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:r,lineWidth:c.borderWidth,pointStyle:n,hidden:!t.getDataVisibility(l),index:l}})}return[]}},onClick(t,s,n){n.chart.toggleDataVisibility(s.index),n.chart.update()}}}});class al extends kn{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const s=this._cachedMeta,{dataset:n,data:r=[],_dataset:a}=s,l=this.chart._animationsDisabled;let{start:o,count:c}=c_(s,r,l);this._drawStart=o,this._drawCount=c,d_(s)&&(o=0,c=r.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!a._decimated,n.points=r;const d=this.resolveDatasetElementOptions(t);this.options.showLine||(d.borderWidth=0),d.segment=this.options.segment,this.updateElement(n,void 0,{animated:!l,options:d},t),this.updateElements(r,o,c,t)}updateElements(t,s,n,r){const a=r==="reset",{iScale:l,vScale:o,_stacked:c,_dataset:d}=this._cachedMeta,{sharedOptions:u,includeOptions:h}=this._getSharedOptions(s,r),m=l.axis,v=o.axis,{spanGaps:y,segment:g}=this.options,b=Hi(y)?y:Number.POSITIVE_INFINITY,f=this.chart._animationsDisabled||a||r==="none",p=s+n,x=t.length;let j=s>0&&this.getParsed(s-1);for(let w=0;w<x;++w){const _=t[w],S=f?_:{};if(w<s||w>=p){S.skip=!0;continue}const P=this.getParsed(w),A=se(P[v]),O=S[m]=l.getPixelForValue(P[m],w),C=S[v]=a||A?o.getBasePixel():o.getPixelForValue(c?this.applyStack(o,P,c):P[v],w);S.skip=isNaN(O)||isNaN(C)||A,S.stop=w>0&&Math.abs(P[m]-j[m])>b,g&&(S.parsed=P,S.raw=d.data[w]),h&&(S.options=u||this.resolveDataElementOptions(w,_.active?"active":r)),f||this.updateElement(_,w,S,r),j=P}}getMaxOverflow(){const t=this._cachedMeta,s=t.dataset,n=s.options&&s.options.borderWidth||0,r=t.data||[];if(!r.length)return n;const a=r[0].size(this.resolveDataElementOptions(0)),l=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(n,a,l)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}U(al,"id","line"),U(al,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),U(al,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});function on(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class hh{constructor(t){U(this,"options");this.options=t||{}}static override(t){Object.assign(hh.prototype,t)}init(){}formats(){return on()}parse(){return on()}format(){return on()}add(){return on()}diff(){return on()}startOf(){return on()}endOf(){return on()}}var Ik={_date:hh};function Bk(e,t,s,n){const{controller:r,data:a,_sorted:l}=e,o=r._cachedMeta.iScale,c=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(o&&t===o.axis&&t!=="r"&&l&&a.length){const d=o._reversePixels?r_:bn;if(n){if(r._sharedOptions){const u=a[0],h=typeof u.getRange=="function"&&u.getRange(t);if(h){const m=d(a,t,s-h),v=d(a,t,s+h);return{lo:m.lo,hi:v.hi}}}}else{const u=d(a,t,s);if(c){const{vScale:h}=r._cachedMeta,{_parsed:m}=e,v=m.slice(0,u.lo+1).reverse().findIndex(g=>!se(g[h.axis]));u.lo-=Math.max(0,v);const y=m.slice(u.hi).findIndex(g=>!se(g[h.axis]));u.hi+=Math.max(0,y)}return u}}return{lo:0,hi:a.length-1}}function ra(e,t,s,n,r){const a=e.getSortedVisibleDatasetMetas(),l=s[t];for(let o=0,c=a.length;o<c;++o){const{index:d,data:u}=a[o],{lo:h,hi:m}=Bk(a[o],t,l,r);for(let v=h;v<=m;++v){const y=u[v];y.skip||n(y,d,v)}}}function Wk(e){const t=e.indexOf("x")!==-1,s=e.indexOf("y")!==-1;return function(n,r){const a=t?Math.abs(n.x-r.x):0,l=s?Math.abs(n.y-r.y):0;return Math.sqrt(Math.pow(a,2)+Math.pow(l,2))}}function wc(e,t,s,n,r){const a=[];return!r&&!e.isPointInArea(t)||ra(e,s,t,function(o,c,d){!r&&!os(o,e.chartArea,0)||o.inRange(t.x,t.y,n)&&a.push({element:o,datasetIndex:c,index:d})},!0),a}function Hk(e,t,s,n){let r=[];function a(l,o,c){const{startAngle:d,endAngle:u}=l.getProps(["startAngle","endAngle"],n),{angle:h}=Fg(l,{x:t.x,y:t.y});Vi(h,d,u)&&r.push({element:l,datasetIndex:o,index:c})}return ra(e,s,t,a),r}function Vk(e,t,s,n,r,a){let l=[];const o=Wk(s);let c=Number.POSITIVE_INFINITY;function d(u,h,m){const v=u.inRange(t.x,t.y,r);if(n&&!v)return;const y=u.getCenterPoint(r);if(!(!!a||e.isPointInArea(y))&&!v)return;const b=o(t,y);b<c?(l=[{element:u,datasetIndex:h,index:m}],c=b):b===c&&l.push({element:u,datasetIndex:h,index:m})}return ra(e,s,t,d),l}function Nc(e,t,s,n,r,a){return!a&&!e.isPointInArea(t)?[]:s==="r"&&!n?Hk(e,t,s,r):Vk(e,t,s,n,r,a)}function Im(e,t,s,n,r){const a=[],l=s==="x"?"inXRange":"inYRange";let o=!1;return ra(e,s,t,(c,d,u)=>{c[l]&&c[l](t[s],r)&&(a.push({element:c,datasetIndex:d,index:u}),o=o||c.inRange(t.x,t.y,r))}),n&&!o?[]:a}var Uk={evaluateInteractionItems:ra,modes:{index(e,t,s,n){const r=fn(t,e),a=s.axis||"x",l=s.includeInvisible||!1,o=s.intersect?wc(e,r,a,n,l):Nc(e,r,a,!1,n,l),c=[];return o.length?(e.getSortedVisibleDatasetMetas().forEach(d=>{const u=o[0].index,h=d.data[u];h&&!h.skip&&c.push({element:h,datasetIndex:d.index,index:u})}),c):[]},dataset(e,t,s,n){const r=fn(t,e),a=s.axis||"xy",l=s.includeInvisible||!1;let o=s.intersect?wc(e,r,a,n,l):Nc(e,r,a,!1,n,l);if(o.length>0){const c=o[0].datasetIndex,d=e.getDatasetMeta(c).data;o=[];for(let u=0;u<d.length;++u)o.push({element:d[u],datasetIndex:c,index:u})}return o},point(e,t,s,n){const r=fn(t,e),a=s.axis||"xy",l=s.includeInvisible||!1;return wc(e,r,a,n,l)},nearest(e,t,s,n){const r=fn(t,e),a=s.axis||"xy",l=s.includeInvisible||!1;return Nc(e,r,a,s.intersect,n,l)},x(e,t,s,n){const r=fn(t,e);return Im(e,r,"x",s.intersect,n)},y(e,t,s,n){const r=fn(t,e);return Im(e,r,"y",s.intersect,n)}}};const ey=["left","top","right","bottom"];function Ur(e,t){return e.filter(s=>s.pos===t)}function Bm(e,t){return e.filter(s=>ey.indexOf(s.pos)===-1&&s.box.axis===t)}function $r(e,t){return e.sort((s,n)=>{const r=t?n:s,a=t?s:n;return r.weight===a.weight?r.index-a.index:r.weight-a.weight})}function $k(e){const t=[];let s,n,r,a,l,o;for(s=0,n=(e||[]).length;s<n;++s)r=e[s],{position:a,options:{stack:l,stackWeight:o=1}}=r,t.push({index:s,box:r,pos:a,horizontal:r.isHorizontal(),weight:r.weight,stack:l&&a+l,stackWeight:o});return t}function Yk(e){const t={};for(const s of e){const{stack:n,pos:r,stackWeight:a}=s;if(!n||!ey.includes(r))continue;const l=t[n]||(t[n]={count:0,placed:0,weight:0,size:0});l.count++,l.weight+=a}return t}function qk(e,t){const s=Yk(e),{vBoxMaxWidth:n,hBoxMaxHeight:r}=t;let a,l,o;for(a=0,l=e.length;a<l;++a){o=e[a];const{fullSize:c}=o.box,d=s[o.stack],u=d&&o.stackWeight/d.weight;o.horizontal?(o.width=u?u*n:c&&t.availableWidth,o.height=r):(o.width=n,o.height=u?u*r:c&&t.availableHeight)}return s}function Xk(e){const t=$k(e),s=$r(t.filter(d=>d.box.fullSize),!0),n=$r(Ur(t,"left"),!0),r=$r(Ur(t,"right")),a=$r(Ur(t,"top"),!0),l=$r(Ur(t,"bottom")),o=Bm(t,"x"),c=Bm(t,"y");return{fullSize:s,leftAndTop:n.concat(a),rightAndBottom:r.concat(c).concat(l).concat(o),chartArea:Ur(t,"chartArea"),vertical:n.concat(r).concat(c),horizontal:a.concat(l).concat(o)}}function Wm(e,t,s,n){return Math.max(e[s],t[s])+Math.max(e[n],t[n])}function ty(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function Qk(e,t,s,n){const{pos:r,box:a}=s,l=e.maxPadding;if(!ne(r)){s.size&&(e[r]-=s.size);const h=n[s.stack]||{size:0,count:1};h.size=Math.max(h.size,s.horizontal?a.height:a.width),s.size=h.size/h.count,e[r]+=s.size}a.getPadding&&ty(l,a.getPadding());const o=Math.max(0,t.outerWidth-Wm(l,e,"left","right")),c=Math.max(0,t.outerHeight-Wm(l,e,"top","bottom")),d=o!==e.w,u=c!==e.h;return e.w=o,e.h=c,s.horizontal?{same:d,other:u}:{same:u,other:d}}function Kk(e){const t=e.maxPadding;function s(n){const r=Math.max(t[n]-e[n],0);return e[n]+=r,r}e.y+=s("top"),e.x+=s("left"),s("right"),s("bottom")}function Gk(e,t){const s=t.maxPadding;function n(r){const a={left:0,top:0,right:0,bottom:0};return r.forEach(l=>{a[l]=Math.max(t[l],s[l])}),a}return n(e?["left","right"]:["top","bottom"])}function ei(e,t,s,n){const r=[];let a,l,o,c,d,u;for(a=0,l=e.length,d=0;a<l;++a){o=e[a],c=o.box,c.update(o.width||t.w,o.height||t.h,Gk(o.horizontal,t));const{same:h,other:m}=Qk(t,s,o,n);d|=h&&r.length,u=u||m,c.fullSize||r.push(o)}return d&&ei(r,t,s,n)||u}function La(e,t,s,n,r){e.top=s,e.left=t,e.right=t+n,e.bottom=s+r,e.width=n,e.height=r}function Hm(e,t,s,n){const r=s.padding;let{x:a,y:l}=t;for(const o of e){const c=o.box,d=n[o.stack]||{count:1,placed:0,weight:1},u=o.stackWeight/d.weight||1;if(o.horizontal){const h=t.w*u,m=d.size||c.height;Wi(d.start)&&(l=d.start),c.fullSize?La(c,r.left,l,s.outerWidth-r.right-r.left,m):La(c,t.left+d.placed,l,h,m),d.start=l,d.placed+=h,l=c.bottom}else{const h=t.h*u,m=d.size||c.width;Wi(d.start)&&(a=d.start),c.fullSize?La(c,a,r.top,m,s.outerHeight-r.bottom-r.top):La(c,a,t.top+d.placed,m,h),d.start=a,d.placed+=h,a=c.right}}t.x=a,t.y=l}var jt={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(s){t.draw(s)}}]},e.boxes.push(t)},removeBox(e,t){const s=e.boxes?e.boxes.indexOf(t):-1;s!==-1&&e.boxes.splice(s,1)},configure(e,t,s){t.fullSize=s.fullSize,t.position=s.position,t.weight=s.weight},update(e,t,s,n){if(!e)return;const r=qe(e.options.layout.padding),a=Math.max(t-r.width,0),l=Math.max(s-r.height,0),o=Xk(e.boxes),c=o.vertical,d=o.horizontal;ae(e.boxes,g=>{typeof g.beforeLayout=="function"&&g.beforeLayout()});const u=c.reduce((g,b)=>b.box.options&&b.box.options.display===!1?g:g+1,0)||1,h=Object.freeze({outerWidth:t,outerHeight:s,padding:r,availableWidth:a,availableHeight:l,vBoxMaxWidth:a/2/u,hBoxMaxHeight:l/2}),m=Object.assign({},r);ty(m,qe(n));const v=Object.assign({maxPadding:m,w:a,h:l,x:r.left,y:r.top},r),y=qk(c.concat(d),h);ei(o.fullSize,v,h,y),ei(c,v,h,y),ei(d,v,h,y)&&ei(c,v,h,y),Kk(v),Hm(o.leftAndTop,v,h,y),v.x+=v.w,v.y+=v.h,Hm(o.rightAndBottom,v,h,y),e.chartArea={left:v.left,top:v.top,right:v.left+v.w,bottom:v.top+v.h,height:v.h,width:v.w},ae(o.chartArea,g=>{const b=g.box;Object.assign(b,e.chartArea),b.update(v.w,v.h,{left:0,top:0,right:0,bottom:0})})}};class sy{acquireContext(t,s){}releaseContext(t){return!1}addEventListener(t,s,n){}removeEventListener(t,s,n){}getDevicePixelRatio(){return 1}getMaximumSize(t,s,n,r){return s=Math.max(0,s||t.width),n=n||t.height,{width:s,height:Math.max(0,r?Math.floor(s/r):n)}}isAttached(t){return!0}updateConfig(t){}}class Jk extends sy{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const ll="$chartjs",Zk={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Vm=e=>e===null||e==="";function eS(e,t){const s=e.style,n=e.getAttribute("height"),r=e.getAttribute("width");if(e[ll]={initial:{height:n,width:r,style:{display:s.display,height:s.height,width:s.width}}},s.display=s.display||"block",s.boxSizing=s.boxSizing||"border-box",Vm(r)){const a=Sm(e,"width");a!==void 0&&(e.width=a)}if(Vm(n))if(e.style.height==="")e.height=e.width/(t||2);else{const a=Sm(e,"height");a!==void 0&&(e.height=a)}return e}const ny=Z_?{passive:!0}:!1;function tS(e,t,s){e&&e.addEventListener(t,s,ny)}function sS(e,t,s){e&&e.canvas&&e.canvas.removeEventListener(t,s,ny)}function nS(e,t){const s=Zk[e.type]||e.type,{x:n,y:r}=fn(e,t);return{type:s,chart:t,native:e,x:n!==void 0?n:null,y:r!==void 0?r:null}}function Zl(e,t){for(const s of e)if(s===t||s.contains(t))return!0}function rS(e,t,s){const n=e.canvas,r=new MutationObserver(a=>{let l=!1;for(const o of a)l=l||Zl(o.addedNodes,n),l=l&&!Zl(o.removedNodes,n);l&&s()});return r.observe(document,{childList:!0,subtree:!0}),r}function iS(e,t,s){const n=e.canvas,r=new MutationObserver(a=>{let l=!1;for(const o of a)l=l||Zl(o.removedNodes,n),l=l&&!Zl(o.addedNodes,n);l&&s()});return r.observe(document,{childList:!0,subtree:!0}),r}const $i=new Map;let Um=0;function ry(){const e=window.devicePixelRatio;e!==Um&&(Um=e,$i.forEach((t,s)=>{s.currentDevicePixelRatio!==e&&t()}))}function aS(e,t){$i.size||window.addEventListener("resize",ry),$i.set(e,t)}function lS(e){$i.delete(e),$i.size||window.removeEventListener("resize",ry)}function oS(e,t,s){const n=e.canvas,r=n&&uh(n);if(!r)return;const a=Ig((o,c)=>{const d=r.clientWidth;s(o,c),d<r.clientWidth&&s()},window),l=new ResizeObserver(o=>{const c=o[0],d=c.contentRect.width,u=c.contentRect.height;d===0&&u===0||a(d,u)});return l.observe(r),aS(e,a),l}function _c(e,t,s){s&&s.disconnect(),t==="resize"&&lS(e)}function cS(e,t,s){const n=e.canvas,r=Ig(a=>{e.ctx!==null&&s(nS(a,e))},e);return tS(n,t,r),r}class dS extends sy{acquireContext(t,s){const n=t&&t.getContext&&t.getContext("2d");return n&&n.canvas===t?(eS(t,s),n):null}releaseContext(t){const s=t.canvas;if(!s[ll])return!1;const n=s[ll].initial;["height","width"].forEach(a=>{const l=n[a];se(l)?s.removeAttribute(a):s.setAttribute(a,l)});const r=n.style||{};return Object.keys(r).forEach(a=>{s.style[a]=r[a]}),s.width=s.width,delete s[ll],!0}addEventListener(t,s,n){this.removeEventListener(t,s);const r=t.$proxies||(t.$proxies={}),l={attach:rS,detach:iS,resize:oS}[s]||cS;r[s]=l(t,s,n)}removeEventListener(t,s){const n=t.$proxies||(t.$proxies={}),r=n[s];if(!r)return;({attach:_c,detach:_c,resize:_c}[s]||sS)(t,s,r),n[s]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,s,n,r){return J_(t,s,n,r)}isAttached(t){const s=t&&uh(t);return!!(s&&s.isConnected)}}function uS(e){return!dh()||typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas?Jk:dS}class zt{constructor(){U(this,"x");U(this,"y");U(this,"active",!1);U(this,"options");U(this,"$animations")}tooltipPosition(t){const{x:s,y:n}=this.getProps(["x","y"],t);return{x:s,y:n}}hasValue(){return Hi(this.x)&&Hi(this.y)}getProps(t,s){const n=this.$animations;if(!s||!n)return this;const r={};return t.forEach(a=>{r[a]=n[a]&&n[a].active()?n[a]._to:this[a]}),r}}U(zt,"defaults",{}),U(zt,"defaultRoutes");function hS(e,t){const s=e.options.ticks,n=fS(e),r=Math.min(s.maxTicksLimit||n,n),a=s.major.enabled?pS(t):[],l=a.length,o=a[0],c=a[l-1],d=[];if(l>r)return xS(t,d,a,l/r),d;const u=mS(a,t,r);if(l>0){let h,m;const v=l>1?Math.round((c-o)/(l-1)):null;for(Fa(t,d,u,se(v)?0:o-v,o),h=0,m=l-1;h<m;h++)Fa(t,d,u,a[h],a[h+1]);return Fa(t,d,u,c,se(v)?t.length:c+v),d}return Fa(t,d,u),d}function fS(e){const t=e.options.offset,s=e._tickSize(),n=e._length/s+(t?0:1),r=e._maxLength/s;return Math.floor(Math.min(n,r))}function mS(e,t,s){const n=gS(e),r=t.length/s;if(!n)return Math.max(r,1);const a=ZN(n);for(let l=0,o=a.length-1;l<o;l++){const c=a[l];if(c>r)return c}return Math.max(r,1)}function pS(e){const t=[];let s,n;for(s=0,n=e.length;s<n;s++)e[s].major&&t.push(s);return t}function xS(e,t,s,n){let r=0,a=s[0],l;for(n=Math.ceil(n),l=0;l<e.length;l++)l===a&&(t.push(e[l]),r++,a=s[r*n])}function Fa(e,t,s,n,r){const a=Z(n,0),l=Math.min(Z(r,e.length),e.length);let o=0,c,d,u;for(s=Math.ceil(s),r&&(c=r-n,s=c/Math.floor(c/s)),u=a;u<0;)o++,u=Math.round(a+o*s);for(d=Math.max(a,0);d<l;d++)d===u&&(t.push(e[d]),o++,u=Math.round(a+o*s))}function gS(e){const t=e.length;let s,n;if(t<2)return!1;for(n=e[0],s=1;s<t;++s)if(e[s]-e[s-1]!==n)return!1;return n}const yS=e=>e==="left"?"right":e==="right"?"left":e,$m=(e,t,s)=>t==="top"||t==="left"?e[t]+s:e[t]-s,Ym=(e,t)=>Math.min(t||e,e);function qm(e,t){const s=[],n=e.length/t,r=e.length;let a=0;for(;a<r;a+=n)s.push(e[Math.floor(a)]);return s}function vS(e,t,s){const n=e.ticks.length,r=Math.min(t,n-1),a=e._startPixel,l=e._endPixel,o=1e-6;let c=e.getPixelForTick(r),d;if(!(s&&(n===1?d=Math.max(c-a,l-c):t===0?d=(e.getPixelForTick(1)-c)/2:d=(c-e.getPixelForTick(r-1))/2,c+=r<t?d:-d,c<a-o||c>l+o)))return c}function bS(e,t){ae(e,s=>{const n=s.gc,r=n.length/2;let a;if(r>t){for(a=0;a<r;++a)delete s.data[n[a]];n.splice(0,r)}})}function Yr(e){return e.drawTicks?e.tickLength:0}function Xm(e,t){if(!e.display)return 0;const s=Te(e.font,t),n=qe(e.padding);return(me(e.text)?e.text.length:1)*s.lineHeight+n.height}function jS(e,t){return sn(e,{scale:t,type:"scale"})}function wS(e,t,s){return sn(e,{tick:s,index:t,type:"tick"})}function NS(e,t,s){let n=sh(e);return(s&&t!=="right"||!s&&t==="right")&&(n=yS(n)),n}function _S(e,t,s,n){const{top:r,left:a,bottom:l,right:o,chart:c}=e,{chartArea:d,scales:u}=c;let h=0,m,v,y;const g=l-r,b=o-a;if(e.isHorizontal()){if(v=We(n,a,o),ne(s)){const f=Object.keys(s)[0],p=s[f];y=u[f].getPixelForValue(p)+g-t}else s==="center"?y=(d.bottom+d.top)/2+g-t:y=$m(e,s,t);m=o-a}else{if(ne(s)){const f=Object.keys(s)[0],p=s[f];v=u[f].getPixelForValue(p)-b+t}else s==="center"?v=(d.left+d.right)/2-b+t:v=$m(e,s,t);y=We(n,l,r),h=s==="left"?-Ne:Ne}return{titleX:v,titleY:y,maxWidth:m,rotation:h}}class Bn extends zt{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,s){return t}getUserBounds(){let{_userMin:t,_userMax:s,_suggestedMin:n,_suggestedMax:r}=this;return t=dt(t,Number.POSITIVE_INFINITY),s=dt(s,Number.NEGATIVE_INFINITY),n=dt(n,Number.POSITIVE_INFINITY),r=dt(r,Number.NEGATIVE_INFINITY),{min:dt(t,n),max:dt(s,r),minDefined:Re(t),maxDefined:Re(s)}}getMinMax(t){let{min:s,max:n,minDefined:r,maxDefined:a}=this.getUserBounds(),l;if(r&&a)return{min:s,max:n};const o=this.getMatchingVisibleMetas();for(let c=0,d=o.length;c<d;++c)l=o[c].controller.getMinMax(this,t),r||(s=Math.min(s,l.min)),a||(n=Math.max(n,l.max));return s=a&&s>n?n:s,n=r&&s>n?s:n,{min:dt(s,dt(n,s)),max:dt(n,dt(s,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){ce(this.options.beforeUpdate,[this])}update(t,s,n){const{beginAtZero:r,grace:a,ticks:l}=this.options,o=l.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=s,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=E_(this,a,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const c=o<this.ticks.length;this._convertTicksToLabels(c?qm(this.ticks,o):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),l.display&&(l.autoSkip||l.source==="auto")&&(this.ticks=hS(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,s,n;this.isHorizontal()?(s=this.left,n=this.right):(s=this.top,n=this.bottom,t=!t),this._startPixel=s,this._endPixel=n,this._reversePixels=t,this._length=n-s,this._alignToPixels=this.options.alignToPixels}afterUpdate(){ce(this.options.afterUpdate,[this])}beforeSetDimensions(){ce(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){ce(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),ce(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){ce(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const s=this.options.ticks;let n,r,a;for(n=0,r=t.length;n<r;n++)a=t[n],a.label=ce(s.callback,[a.value,n,t],this)}afterTickToLabelConversion(){ce(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){ce(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,s=t.ticks,n=Ym(this.ticks.length,t.ticks.maxTicksLimit),r=s.minRotation||0,a=s.maxRotation;let l=r,o,c,d;if(!this._isVisible()||!s.display||r>=a||n<=1||!this.isHorizontal()){this.labelRotation=r;return}const u=this._getLabelSizes(),h=u.widest.width,m=u.highest.height,v=$e(this.chart.width-h,0,this.maxWidth);o=t.offset?this.maxWidth/n:v/(n-1),h+6>o&&(o=v/(n-(t.offset?.5:1)),c=this.maxHeight-Yr(t.grid)-s.padding-Xm(t.title,this.chart.options.font),d=Math.sqrt(h*h+m*m),l=eh(Math.min(Math.asin($e((u.highest.height+6)/o,-1,1)),Math.asin($e(c/d,-1,1))-Math.asin($e(m/d,-1,1)))),l=Math.max(r,Math.min(a,l))),this.labelRotation=l}afterCalculateLabelRotation(){ce(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){ce(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:s,options:{ticks:n,title:r,grid:a}}=this,l=this._isVisible(),o=this.isHorizontal();if(l){const c=Xm(r,s.options.font);if(o?(t.width=this.maxWidth,t.height=Yr(a)+c):(t.height=this.maxHeight,t.width=Yr(a)+c),n.display&&this.ticks.length){const{first:d,last:u,widest:h,highest:m}=this._getLabelSizes(),v=n.padding*2,y=Xt(this.labelRotation),g=Math.cos(y),b=Math.sin(y);if(o){const f=n.mirror?0:b*h.width+g*m.height;t.height=Math.min(this.maxHeight,t.height+f+v)}else{const f=n.mirror?0:g*h.width+b*m.height;t.width=Math.min(this.maxWidth,t.width+f+v)}this._calculatePadding(d,u,b,g)}}this._handleMargins(),o?(this.width=this._length=s.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=s.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,s,n,r){const{ticks:{align:a,padding:l},position:o}=this.options,c=this.labelRotation!==0,d=o!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1);let m=0,v=0;c?d?(m=r*t.width,v=n*s.height):(m=n*t.height,v=r*s.width):a==="start"?v=s.width:a==="end"?m=t.width:a!=="inner"&&(m=t.width/2,v=s.width/2),this.paddingLeft=Math.max((m-u+l)*this.width/(this.width-u),0),this.paddingRight=Math.max((v-h+l)*this.width/(this.width-h),0)}else{let u=s.height/2,h=t.height/2;a==="start"?(u=0,h=t.height):a==="end"&&(u=s.height,h=0),this.paddingTop=u+l,this.paddingBottom=h+l}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){ce(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:s}=this.options;return s==="top"||s==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let s,n;for(s=0,n=t.length;s<n;s++)se(t[s].label)&&(t.splice(s,1),n--,s--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const s=this.options.ticks.sampleSize;let n=this.ticks;s<n.length&&(n=qm(n,s)),this._labelSizes=t=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,s,n){const{ctx:r,_longestTextCache:a}=this,l=[],o=[],c=Math.floor(s/Ym(s,n));let d=0,u=0,h,m,v,y,g,b,f,p,x,j,w;for(h=0;h<s;h+=c){if(y=t[h].label,g=this._resolveTickFontOptions(h),r.font=b=g.string,f=a[b]=a[b]||{data:{},gc:[]},p=g.lineHeight,x=j=0,!se(y)&&!me(y))x=Gl(r,f.data,f.gc,x,y),j=p;else if(me(y))for(m=0,v=y.length;m<v;++m)w=y[m],!se(w)&&!me(w)&&(x=Gl(r,f.data,f.gc,x,w),j+=p);l.push(x),o.push(j),d=Math.max(x,d),u=Math.max(j,u)}bS(a,s);const _=l.indexOf(d),S=o.indexOf(u),P=A=>({width:l[A]||0,height:o[A]||0});return{first:P(0),last:P(s-1),widest:P(_),highest:P(S),widths:l,heights:o}}getLabelForValue(t){return t}getPixelForValue(t,s){return NaN}getValueForPixel(t){}getPixelForTick(t){const s=this.ticks;return t<0||t>s.length-1?null:this.getPixelForValue(s[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const s=this._startPixel+t*this._length;return n_(this._alignToPixels?ln(this.chart,s,0):s)}getDecimalForPixel(t){const s=(t-this._startPixel)/this._length;return this._reversePixels?1-s:s}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:s}=this;return t<0&&s<0?s:t>0&&s>0?t:0}getContext(t){const s=this.ticks||[];if(t>=0&&t<s.length){const n=s[t];return n.$context||(n.$context=wS(this.getContext(),t,n))}return this.$context||(this.$context=jS(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,s=Xt(this.labelRotation),n=Math.abs(Math.cos(s)),r=Math.abs(Math.sin(s)),a=this._getLabelSizes(),l=t.autoSkipPadding||0,o=a?a.widest.width+l:0,c=a?a.highest.height+l:0;return this.isHorizontal()?c*n>o*r?o/n:c/r:c*r<o*n?c/n:o/r}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const s=this.axis,n=this.chart,r=this.options,{grid:a,position:l,border:o}=r,c=a.offset,d=this.isHorizontal(),h=this.ticks.length+(c?1:0),m=Yr(a),v=[],y=o.setContext(this.getContext()),g=y.display?y.width:0,b=g/2,f=function(k){return ln(n,k,g)};let p,x,j,w,_,S,P,A,O,C,F,V;if(l==="top")p=f(this.bottom),S=this.bottom-m,A=p-b,C=f(t.top)+b,V=t.bottom;else if(l==="bottom")p=f(this.top),C=t.top,V=f(t.bottom)-b,S=p+b,A=this.top+m;else if(l==="left")p=f(this.right),_=this.right-m,P=p-b,O=f(t.left)+b,F=t.right;else if(l==="right")p=f(this.left),O=t.left,F=f(t.right)-b,_=p+b,P=this.left+m;else if(s==="x"){if(l==="center")p=f((t.top+t.bottom)/2+.5);else if(ne(l)){const k=Object.keys(l)[0],B=l[k];p=f(this.chart.scales[k].getPixelForValue(B))}C=t.top,V=t.bottom,S=p+b,A=S+m}else if(s==="y"){if(l==="center")p=f((t.left+t.right)/2);else if(ne(l)){const k=Object.keys(l)[0],B=l[k];p=f(this.chart.scales[k].getPixelForValue(B))}_=p-b,P=_-m,O=t.left,F=t.right}const K=Z(r.ticks.maxTicksLimit,h),E=Math.max(1,Math.ceil(h/K));for(x=0;x<h;x+=E){const k=this.getContext(x),B=a.setContext(k),D=o.setContext(k),z=B.lineWidth,Y=B.color,R=D.dash||[],T=D.dashOffset,L=B.tickWidth,H=B.tickColor,Q=B.tickBorderDash||[],q=B.tickBorderDashOffset;j=vS(this,x,c),j!==void 0&&(w=ln(n,j,z),d?_=P=O=F=w:S=A=C=V=w,v.push({tx1:_,ty1:S,tx2:P,ty2:A,x1:O,y1:C,x2:F,y2:V,width:z,color:Y,borderDash:R,borderDashOffset:T,tickWidth:L,tickColor:H,tickBorderDash:Q,tickBorderDashOffset:q}))}return this._ticksLength=h,this._borderValue=p,v}_computeLabelItems(t){const s=this.axis,n=this.options,{position:r,ticks:a}=n,l=this.isHorizontal(),o=this.ticks,{align:c,crossAlign:d,padding:u,mirror:h}=a,m=Yr(n.grid),v=m+u,y=h?-u:v,g=-Xt(this.labelRotation),b=[];let f,p,x,j,w,_,S,P,A,O,C,F,V="middle";if(r==="top")_=this.bottom-y,S=this._getXAxisLabelAlignment();else if(r==="bottom")_=this.top+y,S=this._getXAxisLabelAlignment();else if(r==="left"){const E=this._getYAxisLabelAlignment(m);S=E.textAlign,w=E.x}else if(r==="right"){const E=this._getYAxisLabelAlignment(m);S=E.textAlign,w=E.x}else if(s==="x"){if(r==="center")_=(t.top+t.bottom)/2+v;else if(ne(r)){const E=Object.keys(r)[0],k=r[E];_=this.chart.scales[E].getPixelForValue(k)+v}S=this._getXAxisLabelAlignment()}else if(s==="y"){if(r==="center")w=(t.left+t.right)/2-v;else if(ne(r)){const E=Object.keys(r)[0],k=r[E];w=this.chart.scales[E].getPixelForValue(k)}S=this._getYAxisLabelAlignment(m).textAlign}s==="y"&&(c==="start"?V="top":c==="end"&&(V="bottom"));const K=this._getLabelSizes();for(f=0,p=o.length;f<p;++f){x=o[f],j=x.label;const E=a.setContext(this.getContext(f));P=this.getPixelForTick(f)+a.labelOffset,A=this._resolveTickFontOptions(f),O=A.lineHeight,C=me(j)?j.length:1;const k=C/2,B=E.color,D=E.textStrokeColor,z=E.textStrokeWidth;let Y=S;l?(w=P,S==="inner"&&(f===p-1?Y=this.options.reverse?"left":"right":f===0?Y=this.options.reverse?"right":"left":Y="center"),r==="top"?d==="near"||g!==0?F=-C*O+O/2:d==="center"?F=-K.highest.height/2-k*O+O:F=-K.highest.height+O/2:d==="near"||g!==0?F=O/2:d==="center"?F=K.highest.height/2-k*O:F=K.highest.height-C*O,h&&(F*=-1),g!==0&&!E.showLabelBackdrop&&(w+=O/2*Math.sin(g))):(_=P,F=(1-C)*O/2);let R;if(E.showLabelBackdrop){const T=qe(E.backdropPadding),L=K.heights[f],H=K.widths[f];let Q=F-T.top,q=0-T.left;switch(V){case"middle":Q-=L/2;break;case"bottom":Q-=L;break}switch(S){case"center":q-=H/2;break;case"right":q-=H;break;case"inner":f===p-1?q-=H:f>0&&(q-=H/2);break}R={left:q,top:Q,width:H+T.width,height:L+T.height,color:E.backdropColor}}b.push({label:j,font:A,textOffset:F,options:{rotation:g,color:B,strokeColor:D,strokeWidth:z,textAlign:Y,textBaseline:V,translation:[w,_],backdrop:R}})}return b}_getXAxisLabelAlignment(){const{position:t,ticks:s}=this.options;if(-Xt(this.labelRotation))return t==="top"?"left":"right";let r="center";return s.align==="start"?r="left":s.align==="end"?r="right":s.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(t){const{position:s,ticks:{crossAlign:n,mirror:r,padding:a}}=this.options,l=this._getLabelSizes(),o=t+a,c=l.widest.width;let d,u;return s==="left"?r?(u=this.right+a,n==="near"?d="left":n==="center"?(d="center",u+=c/2):(d="right",u+=c)):(u=this.right-o,n==="near"?d="right":n==="center"?(d="center",u-=c/2):(d="left",u=this.left)):s==="right"?r?(u=this.left+a,n==="near"?d="right":n==="center"?(d="center",u-=c/2):(d="left",u-=c)):(u=this.left+o,n==="near"?d="left":n==="center"?(d="center",u+=c/2):(d="right",u=this.right)):d="right",{textAlign:d,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,s=this.options.position;if(s==="left"||s==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(s==="top"||s==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:s},left:n,top:r,width:a,height:l}=this;s&&(t.save(),t.fillStyle=s,t.fillRect(n,r,a,l),t.restore())}getLineWidthForValue(t){const s=this.options.grid;if(!this._isVisible()||!s.display)return 0;const r=this.ticks.findIndex(a=>a.value===t);return r>=0?s.setContext(this.getContext(r)).lineWidth:0}drawGrid(t){const s=this.options.grid,n=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let a,l;const o=(c,d,u)=>{!u.width||!u.color||(n.save(),n.lineWidth=u.width,n.strokeStyle=u.color,n.setLineDash(u.borderDash||[]),n.lineDashOffset=u.borderDashOffset,n.beginPath(),n.moveTo(c.x,c.y),n.lineTo(d.x,d.y),n.stroke(),n.restore())};if(s.display)for(a=0,l=r.length;a<l;++a){const c=r[a];s.drawOnChartArea&&o({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),s.drawTicks&&o({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:s,options:{border:n,grid:r}}=this,a=n.setContext(this.getContext()),l=n.display?a.width:0;if(!l)return;const o=r.setContext(this.getContext(0)).lineWidth,c=this._borderValue;let d,u,h,m;this.isHorizontal()?(d=ln(t,this.left,l)-l/2,u=ln(t,this.right,o)+o/2,h=m=c):(h=ln(t,this.top,l)-l/2,m=ln(t,this.bottom,o)+o/2,d=u=c),s.save(),s.lineWidth=a.width,s.strokeStyle=a.color,s.beginPath(),s.moveTo(d,h),s.lineTo(u,m),s.stroke(),s.restore()}drawLabels(t){if(!this.options.ticks.display)return;const n=this.ctx,r=this._computeLabelArea();r&&rh(n,r);const a=this.getLabelItems(t);for(const l of a){const o=l.options,c=l.font,d=l.label,u=l.textOffset;On(n,d,0,u,c,o)}r&&ih(n)}drawTitle(){const{ctx:t,options:{position:s,title:n,reverse:r}}=this;if(!n.display)return;const a=Te(n.font),l=qe(n.padding),o=n.align;let c=a.lineHeight/2;s==="bottom"||s==="center"||ne(s)?(c+=l.bottom,me(n.text)&&(c+=a.lineHeight*(n.text.length-1))):c+=l.top;const{titleX:d,titleY:u,maxWidth:h,rotation:m}=_S(this,c,s,o);On(t,n.text,0,0,a,{color:n.color,maxWidth:h,rotation:m,textAlign:NS(o,s,r),textBaseline:"middle",translation:[d,u]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,s=t.ticks&&t.ticks.z||0,n=Z(t.grid&&t.grid.z,-1),r=Z(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==Bn.prototype.draw?[{z:s,draw:a=>{this.draw(a)}}]:[{z:n,draw:a=>{this.drawBackground(),this.drawGrid(a),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:s,draw:a=>{this.drawLabels(a)}}]}getMatchingVisibleMetas(t){const s=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",r=[];let a,l;for(a=0,l=s.length;a<l;++a){const o=s[a];o[n]===this.id&&(!t||o.type===t)&&r.push(o)}return r}_resolveTickFontOptions(t){const s=this.options.ticks.setContext(this.getContext(t));return Te(s.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class Aa{constructor(t,s,n){this.type=t,this.scope=s,this.override=n,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const s=Object.getPrototypeOf(t);let n;CS(s)&&(n=this.register(s));const r=this.items,a=t.id,l=this.scope+"."+a;if(!a)throw new Error("class does not have id: "+t);return a in r||(r[a]=t,kS(t,l,n),this.override&&je.override(t.id,t.overrides)),l}get(t){return this.items[t]}unregister(t){const s=this.items,n=t.id,r=this.scope;n in s&&delete s[n],r&&n in je[r]&&(delete je[r][n],this.override&&delete An[n])}}function kS(e,t,s){const n=Bi(Object.create(null),[s?je.get(s):{},je.get(t),e.defaults]);je.set(t,n),e.defaultRoutes&&SS(t,e.defaultRoutes),e.descriptors&&je.describe(t,e.descriptors)}function SS(e,t){Object.keys(t).forEach(s=>{const n=s.split("."),r=n.pop(),a=[e].concat(n).join("."),l=t[s].split("."),o=l.pop(),c=l.join(".");je.route(a,r,c,o)})}function CS(e){return"id"in e&&"defaults"in e}class PS{constructor(){this.controllers=new Aa(kn,"datasets",!0),this.elements=new Aa(zt,"elements"),this.plugins=new Aa(Object,"plugins"),this.scales=new Aa(Bn,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,s,n){[...s].forEach(r=>{const a=n||this._getRegistryForType(r);n||a.isForType(r)||a===this.plugins&&r.id?this._exec(t,a,r):ae(r,l=>{const o=n||this._getRegistryForType(l);this._exec(t,o,l)})})}_exec(t,s,n){const r=Zu(t);ce(n["before"+r],[],n),s[t](n),ce(n["after"+r],[],n)}_getRegistryForType(t){for(let s=0;s<this._typedRegistries.length;s++){const n=this._typedRegistries[s];if(n.isForType(t))return n}return this.plugins}_get(t,s,n){const r=s.get(t);if(r===void 0)throw new Error('"'+t+'" is not a registered '+n+".");return r}}var Yt=new PS;class MS{constructor(){this._init=[]}notify(t,s,n,r){s==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const a=r?this._descriptors(t).filter(r):this._descriptors(t),l=this._notify(a,t,s,n);return s==="afterDestroy"&&(this._notify(a,t,"stop"),this._notify(this._init,t,"uninstall")),l}_notify(t,s,n,r){r=r||{};for(const a of t){const l=a.plugin,o=l[n],c=[s,r,a.options];if(ce(o,c,l)===!1&&r.cancelable)return!1}return!0}invalidate(){se(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const s=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),s}_createDescriptors(t,s){const n=t&&t.config,r=Z(n.options&&n.options.plugins,{}),a=ES(n);return r===!1&&!s?[]:DS(t,a,r,s)}_notifyStateChanges(t){const s=this._oldCache||[],n=this._cache,r=(a,l)=>a.filter(o=>!l.some(c=>o.plugin.id===c.plugin.id));this._notify(r(s,n),t,"stop"),this._notify(r(n,s),t,"start")}}function ES(e){const t={},s=[],n=Object.keys(Yt.plugins.items);for(let a=0;a<n.length;a++)s.push(Yt.getPlugin(n[a]));const r=e.plugins||[];for(let a=0;a<r.length;a++){const l=r[a];s.indexOf(l)===-1&&(s.push(l),t[l.id]=!0)}return{plugins:s,localIds:t}}function TS(e,t){return!t&&e===!1?null:e===!0?{}:e}function DS(e,{plugins:t,localIds:s},n,r){const a=[],l=e.getContext();for(const o of t){const c=o.id,d=TS(n[c],r);d!==null&&a.push({plugin:o,options:RS(e.config,{plugin:o,local:s[c]},d,l)})}return a}function RS(e,{plugin:t,local:s},n,r){const a=e.pluginScopeKeys(t),l=e.getOptionScopes(n,a);return s&&t.defaults&&l.push(t.defaults),e.createResolver(l,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Ad(e,t){const s=je.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||s.indexAxis||"x"}function LS(e,t){let s=e;return e==="_index_"?s=t:e==="_value_"&&(s=t==="x"?"y":"x"),s}function FS(e,t){return e===t?"_index_":"_value_"}function Qm(e){if(e==="x"||e==="y"||e==="r")return e}function AS(e){if(e==="top"||e==="bottom")return"x";if(e==="left"||e==="right")return"y"}function Od(e,...t){if(Qm(e))return e;for(const s of t){const n=s.axis||AS(s.position)||e.length>1&&Qm(e[0].toLowerCase());if(n)return n}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function Km(e,t,s){if(s[t+"AxisID"]===e)return{axis:t}}function OS(e,t){if(t.data&&t.data.datasets){const s=t.data.datasets.filter(n=>n.xAxisID===e||n.yAxisID===e);if(s.length)return Km(e,"x",s[0])||Km(e,"y",s[0])}return{}}function zS(e,t){const s=An[e.type]||{scales:{}},n=t.scales||{},r=Ad(e.type,t),a=Object.create(null);return Object.keys(n).forEach(l=>{const o=n[l];if(!ne(o))return console.error(`Invalid scale configuration for scale: ${l}`);if(o._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${l}`);const c=Od(l,o,OS(l,e),je.scales[o.type]),d=FS(c,r),u=s.scales||{};a[l]=mi(Object.create(null),[{axis:c},o,u[c],u[d]])}),e.data.datasets.forEach(l=>{const o=l.type||e.type,c=l.indexAxis||Ad(o,t),u=(An[o]||{}).scales||{};Object.keys(u).forEach(h=>{const m=LS(h,c),v=l[m+"AxisID"]||m;a[v]=a[v]||Object.create(null),mi(a[v],[{axis:m},n[v],u[h]])})}),Object.keys(a).forEach(l=>{const o=a[l];mi(o,[je.scales[o.type],je.scale])}),a}function iy(e){const t=e.options||(e.options={});t.plugins=Z(t.plugins,{}),t.scales=zS(e,t)}function ay(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function IS(e){return e=e||{},e.data=ay(e.data),iy(e),e}const Gm=new Map,ly=new Set;function Oa(e,t){let s=Gm.get(e);return s||(s=t(),Gm.set(e,s),ly.add(s)),s}const qr=(e,t,s)=>{const n=Fn(t,s);n!==void 0&&e.add(n)};class BS{constructor(t){this._config=IS(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=ay(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),iy(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Oa(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,s){return Oa(`${t}.transition.${s}`,()=>[[`datasets.${t}.transitions.${s}`,`transitions.${s}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,s){return Oa(`${t}-${s}`,()=>[[`datasets.${t}.elements.${s}`,`datasets.${t}`,`elements.${s}`,""]])}pluginScopeKeys(t){const s=t.id,n=this.type;return Oa(`${n}-plugin-${s}`,()=>[[`plugins.${s}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,s){const n=this._scopeCache;let r=n.get(t);return(!r||s)&&(r=new Map,n.set(t,r)),r}getOptionScopes(t,s,n){const{options:r,type:a}=this,l=this._cachedScopes(t,n),o=l.get(s);if(o)return o;const c=new Set;s.forEach(u=>{t&&(c.add(t),u.forEach(h=>qr(c,t,h))),u.forEach(h=>qr(c,r,h)),u.forEach(h=>qr(c,An[a]||{},h)),u.forEach(h=>qr(c,je,h)),u.forEach(h=>qr(c,Ld,h))});const d=Array.from(c);return d.length===0&&d.push(Object.create(null)),ly.has(s)&&l.set(s,d),d}chartOptionScopes(){const{options:t,type:s}=this;return[t,An[s]||{},je.datasets[s]||{},{type:s},je,Ld]}resolveNamedOptions(t,s,n,r=[""]){const a={$shared:!0},{resolver:l,subPrefixes:o}=Jm(this._resolverCache,t,r);let c=l;if(HS(l,s)){a.$shared=!1,n=Ks(n)?n():n;const d=this.createResolver(t,n,o);c=jr(l,n,d)}for(const d of s)a[d]=c[d];return a}createResolver(t,s,n=[""],r){const{resolver:a}=Jm(this._resolverCache,t,n);return ne(s)?jr(a,s,void 0,r):a}}function Jm(e,t,s){let n=e.get(t);n||(n=new Map,e.set(t,n));const r=s.join();let a=n.get(r);return a||(a={resolver:lh(t,s),subPrefixes:s.filter(o=>!o.toLowerCase().includes("hover"))},n.set(r,a)),a}const WS=e=>ne(e)&&Object.getOwnPropertyNames(e).some(t=>Ks(e[t]));function HS(e,t){const{isScriptable:s,isIndexable:n}=Vg(e);for(const r of t){const a=s(r),l=n(r),o=(l||a)&&e[r];if(a&&(Ks(o)||WS(o))||l&&me(o))return!0}return!1}var VS="4.5.0";const US=["top","bottom","left","right","chartArea"];function Zm(e,t){return e==="top"||e==="bottom"||US.indexOf(e)===-1&&t==="x"}function ep(e,t){return function(s,n){return s[e]===n[e]?s[t]-n[t]:s[e]-n[e]}}function tp(e){const t=e.chart,s=t.options.animation;t.notifyPlugins("afterRender"),ce(s&&s.onComplete,[e],t)}function $S(e){const t=e.chart,s=t.options.animation;ce(s&&s.onProgress,[e],t)}function oy(e){return dh()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const ol={},sp=e=>{const t=oy(e);return Object.values(ol).filter(s=>s.canvas===t).pop()};function YS(e,t,s){const n=Object.keys(e);for(const r of n){const a=+r;if(a>=t){const l=e[r];delete e[r],(s>0||a>t)&&(e[a+s]=l)}}}function qS(e,t,s,n){return!s||e.type==="mouseout"?null:n?t:e}var bs;let Ro=(bs=class{static register(...t){Yt.add(...t),np()}static unregister(...t){Yt.remove(...t),np()}constructor(t,s){const n=this.config=new BS(s),r=oy(t),a=sp(r);if(a)throw new Error("Canvas is already in use. Chart with ID '"+a.id+"' must be destroyed before the canvas with ID '"+a.canvas.id+"' can be reused.");const l=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||uS(r)),this.platform.updateConfig(n);const o=this.platform.acquireContext(r,l.aspectRatio),c=o&&o.canvas,d=c&&c.height,u=c&&c.width;if(this.id=UN(),this.ctx=o,this.canvas=c,this.width=u,this.height=d,this._options=l,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new MS,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=l_(h=>this.update(h),l.resizeDelay||0),this._dataChanges=[],ol[this.id]=this,!o||!c){console.error("Failed to create chart: can't acquire context from the given item");return}Zt.listen(this,"complete",tp),Zt.listen(this,"progress",$S),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:s},width:n,height:r,_aspectRatio:a}=this;return se(t)?s&&a?a:r?n/r:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Yt}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():km(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return wm(this.canvas,this.ctx),this}stop(){return Zt.stop(this),this}resize(t,s){Zt.running(this)?this._resizeBeforeDraw={width:t,height:s}:this._resize(t,s)}_resize(t,s){const n=this.options,r=this.canvas,a=n.maintainAspectRatio&&this.aspectRatio,l=this.platform.getMaximumSize(r,t,s,a),o=n.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=l.width,this.height=l.height,this._aspectRatio=this.aspectRatio,km(this,o,!0)&&(this.notifyPlugins("resize",{size:l}),ce(n.onResize,[this,l],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){const s=this.options.scales||{};ae(s,(n,r)=>{n.id=r})}buildOrUpdateScales(){const t=this.options,s=t.scales,n=this.scales,r=Object.keys(n).reduce((l,o)=>(l[o]=!1,l),{});let a=[];s&&(a=a.concat(Object.keys(s).map(l=>{const o=s[l],c=Od(l,o),d=c==="r",u=c==="x";return{options:o,dposition:d?"chartArea":u?"bottom":"left",dtype:d?"radialLinear":u?"category":"linear"}}))),ae(a,l=>{const o=l.options,c=o.id,d=Od(c,o),u=Z(o.type,l.dtype);(o.position===void 0||Zm(o.position,d)!==Zm(l.dposition))&&(o.position=l.dposition),r[c]=!0;let h=null;if(c in n&&n[c].type===u)h=n[c];else{const m=Yt.getScale(u);h=new m({id:c,type:u,ctx:this.ctx,chart:this}),n[h.id]=h}h.init(o,t)}),ae(r,(l,o)=>{l||delete n[o]}),ae(n,l=>{jt.configure(this,l,l.options),jt.addBox(this,l)})}_updateMetasets(){const t=this._metasets,s=this.data.datasets.length,n=t.length;if(t.sort((r,a)=>r.index-a.index),n>s){for(let r=s;r<n;++r)this._destroyDatasetMeta(r);t.splice(s,n-s)}this._sortedMetasets=t.slice(0).sort(ep("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:s}}=this;t.length>s.length&&delete this._stacks,t.forEach((n,r)=>{s.filter(a=>a===n._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const t=[],s=this.data.datasets;let n,r;for(this._removeUnreferencedMetasets(),n=0,r=s.length;n<r;n++){const a=s[n];let l=this.getDatasetMeta(n);const o=a.type||this.config.type;if(l.type&&l.type!==o&&(this._destroyDatasetMeta(n),l=this.getDatasetMeta(n)),l.type=o,l.indexAxis=a.indexAxis||Ad(o,this.options),l.order=a.order||0,l.index=n,l.label=""+a.label,l.visible=this.isDatasetVisible(n),l.controller)l.controller.updateIndex(n),l.controller.linkScales();else{const c=Yt.getController(o),{datasetElementType:d,dataElementType:u}=je.datasets[o];Object.assign(c,{dataElementType:Yt.getElement(u),datasetElementType:d&&Yt.getElement(d)}),l.controller=new c(this,n),t.push(l.controller)}}return this._updateMetasets(),t}_resetElements(){ae(this.data.datasets,(t,s)=>{this.getDatasetMeta(s).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const s=this.config;s.update();const n=this._options=s.createResolver(s.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const a=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let l=0;for(let d=0,u=this.data.datasets.length;d<u;d++){const{controller:h}=this.getDatasetMeta(d),m=!r&&a.indexOf(h)===-1;h.buildOrUpdateElements(m),l=Math.max(+h.getMaxOverflow(),l)}l=this._minPadding=n.layout.autoPadding?l:0,this._updateLayout(l),r||ae(a,d=>{d.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(ep("z","_idx"));const{_active:o,_lastEvent:c}=this;c?this._eventHandler(c,!0):o.length&&this._updateHoverStyles(o,o,!0),this.render()}_updateScales(){ae(this.scales,t=>{jt.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,s=new Set(Object.keys(this._listeners)),n=new Set(t.events);(!fm(s,n)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,s=this._getUniformDataChanges()||[];for(const{method:n,start:r,count:a}of s){const l=n==="_removeElements"?-a:a;YS(t,r,l)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const s=this.data.datasets.length,n=a=>new Set(t.filter(l=>l[0]===a).map((l,o)=>o+","+l.splice(1).join(","))),r=n(0);for(let a=1;a<s;a++)if(!fm(r,n(a)))return;return Array.from(r).map(a=>a.split(",")).map(a=>({method:a[1],start:+a[2],count:+a[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;jt.update(this,this.width,this.height,t);const s=this.chartArea,n=s.width<=0||s.height<=0;this._layers=[],ae(this.boxes,r=>{n&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,a)=>{r._idx=a}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let s=0,n=this.data.datasets.length;s<n;++s)this.getDatasetMeta(s).controller.configure();for(let s=0,n=this.data.datasets.length;s<n;++s)this._updateDataset(s,Ks(t)?t({datasetIndex:s}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,s){const n=this.getDatasetMeta(t),r={meta:n,index:t,mode:s,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(n.controller._update(s),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Zt.has(this)?this.attached&&!Zt.running(this)&&Zt.start(this):(this.draw(),tp({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:n,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(n,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const s=this._layers;for(t=0;t<s.length&&s[t].z<=0;++t)s[t].draw(this.chartArea);for(this._drawDatasets();t<s.length;++t)s[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const s=this._sortedMetasets,n=[];let r,a;for(r=0,a=s.length;r<a;++r){const l=s[r];(!t||l.visible)&&n.push(l)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let s=t.length-1;s>=0;--s)this._drawDataset(t[s]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const s=this.ctx,n={meta:t,index:t.index,cancelable:!0},r=fk(this,t);this.notifyPlugins("beforeDatasetDraw",n)!==!1&&(r&&rh(s,r),t.controller.draw(),r&&ih(s),n.cancelable=!1,this.notifyPlugins("afterDatasetDraw",n))}isPointInArea(t){return os(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,s,n,r){const a=Uk.modes[s];return typeof a=="function"?a(this,t,n,r):[]}getDatasetMeta(t){const s=this.data.datasets[t],n=this._metasets;let r=n.filter(a=>a&&a._dataset===s).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:s&&s.order||0,index:t,_dataset:s,_parsed:[],_sorted:!1},n.push(r)),r}getContext(){return this.$context||(this.$context=sn(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const s=this.data.datasets[t];if(!s)return!1;const n=this.getDatasetMeta(t);return typeof n.hidden=="boolean"?!n.hidden:!s.hidden}setDatasetVisibility(t,s){const n=this.getDatasetMeta(t);n.hidden=!s}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,s,n){const r=n?"show":"hide",a=this.getDatasetMeta(t),l=a.controller._resolveAnimations(void 0,r);Wi(s)?(a.data[s].hidden=!n,this.update()):(this.setDatasetVisibility(t,n),l.update(a,{visible:n}),this.update(o=>o.datasetIndex===t?r:void 0))}hide(t,s){this._updateVisibility(t,s,!1)}show(t,s){this._updateVisibility(t,s,!0)}_destroyDatasetMeta(t){const s=this._metasets[t];s&&s.controller&&s.controller._destroy(),delete this._metasets[t]}_stop(){let t,s;for(this.stop(),Zt.remove(this),t=0,s=this.data.datasets.length;t<s;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:s}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),wm(t,s),this.platform.releaseContext(s),this.canvas=null,this.ctx=null),delete ol[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,s=this.platform,n=(a,l)=>{s.addEventListener(this,a,l),t[a]=l},r=(a,l,o)=>{a.offsetX=l,a.offsetY=o,this._eventHandler(a)};ae(this.options.events,a=>n(a,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,s=this.platform,n=(c,d)=>{s.addEventListener(this,c,d),t[c]=d},r=(c,d)=>{t[c]&&(s.removeEventListener(this,c,d),delete t[c])},a=(c,d)=>{this.canvas&&this.resize(c,d)};let l;const o=()=>{r("attach",o),this.attached=!0,this.resize(),n("resize",a),n("detach",l)};l=()=>{this.attached=!1,r("resize",a),this._stop(),this._resize(0,0),n("attach",o)},s.isAttached(this.canvas)?o():l()}unbindEvents(){ae(this._listeners,(t,s)=>{this.platform.removeEventListener(this,s,t)}),this._listeners={},ae(this._responsiveListeners,(t,s)=>{this.platform.removeEventListener(this,s,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,s,n){const r=n?"set":"remove";let a,l,o,c;for(s==="dataset"&&(a=this.getDatasetMeta(t[0].datasetIndex),a.controller["_"+r+"DatasetHoverStyle"]()),o=0,c=t.length;o<c;++o){l=t[o];const d=l&&this.getDatasetMeta(l.datasetIndex).controller;d&&d[r+"HoverStyle"](l.element,l.datasetIndex,l.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const s=this._active||[],n=t.map(({datasetIndex:a,index:l})=>{const o=this.getDatasetMeta(a);if(!o)throw new Error("No dataset found at index "+a);return{datasetIndex:a,element:o.data[l],index:l}});!Xl(n,s)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,s))}notifyPlugins(t,s,n){return this._plugins.notify(this,t,s,n)}isPluginEnabled(t){return this._plugins._cache.filter(s=>s.plugin.id===t).length===1}_updateHoverStyles(t,s,n){const r=this.options.hover,a=(c,d)=>c.filter(u=>!d.some(h=>u.datasetIndex===h.datasetIndex&&u.index===h.index)),l=a(s,t),o=n?t:a(t,s);l.length&&this.updateHoverStyle(l,r.mode,!1),o.length&&r.mode&&this.updateHoverStyle(o,r.mode,!0)}_eventHandler(t,s){const n={event:t,replay:s,cancelable:!0,inChartArea:this.isPointInArea(t)},r=l=>(l.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",n,r)===!1)return;const a=this._handleEvent(t,s,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,r),(a||n.changed)&&this.render(),this}_handleEvent(t,s,n){const{_active:r=[],options:a}=this,l=s,o=this._getActiveElements(t,r,n,l),c=KN(t),d=qS(t,this._lastEvent,n,c);n&&(this._lastEvent=null,ce(a.onHover,[t,o,this],this),c&&ce(a.onClick,[t,o,this],this));const u=!Xl(o,r);return(u||s)&&(this._active=o,this._updateHoverStyles(o,r,s)),this._lastEvent=d,u}_getActiveElements(t,s,n,r){if(t.type==="mouseout")return[];if(!n)return s;const a=this.options.hover;return this.getElementsAtEventForMode(t,a.mode,a,r)}},U(bs,"defaults",je),U(bs,"instances",ol),U(bs,"overrides",An),U(bs,"registry",Yt),U(bs,"version",VS),U(bs,"getChart",sp),bs);function np(){return ae(Ro.instances,e=>e._plugins.invalidate())}function XS(e,t,s){const{startAngle:n,x:r,y:a,outerRadius:l,innerRadius:o,options:c}=t,{borderWidth:d,borderJoinStyle:u}=c,h=Math.min(d/l,et(n-s));if(e.beginPath(),e.arc(r,a,l-d/2,n+h/2,s-h/2),o>0){const m=Math.min(d/o,et(n-s));e.arc(r,a,o+d/2,s-m/2,n+m/2,!0)}else{const m=Math.min(d/2,l*et(n-s));if(u==="round")e.arc(r,a,m,s-re/2,n+re/2,!0);else if(u==="bevel"){const v=2*m*m,y=-v*Math.cos(s+re/2)+r,g=-v*Math.sin(s+re/2)+a,b=v*Math.cos(n+re/2)+r,f=v*Math.sin(n+re/2)+a;e.lineTo(y,g),e.lineTo(b,f)}}e.closePath(),e.moveTo(0,0),e.rect(0,0,e.canvas.width,e.canvas.height),e.clip("evenodd")}function QS(e,t,s){const{startAngle:n,pixelMargin:r,x:a,y:l,outerRadius:o,innerRadius:c}=t;let d=r/o;e.beginPath(),e.arc(a,l,o,n-d,s+d),c>r?(d=r/c,e.arc(a,l,c,s+d,n-d,!0)):e.arc(a,l,r,s+Ne,n-Ne),e.closePath(),e.clip()}function KS(e){return ah(e,["outerStart","outerEnd","innerStart","innerEnd"])}function GS(e,t,s,n){const r=KS(e.options.borderRadius),a=(s-t)/2,l=Math.min(a,n*t/2),o=c=>{const d=(s-Math.min(a,c))*n/2;return $e(c,0,Math.min(a,d))};return{outerStart:o(r.outerStart),outerEnd:o(r.outerEnd),innerStart:$e(r.innerStart,0,l),innerEnd:$e(r.innerEnd,0,l)}}function Un(e,t,s,n){return{x:s+e*Math.cos(t),y:n+e*Math.sin(t)}}function eo(e,t,s,n,r,a){const{x:l,y:o,startAngle:c,pixelMargin:d,innerRadius:u}=t,h=Math.max(t.outerRadius+n+s-d,0),m=u>0?u+n+s+d:0;let v=0;const y=r-c;if(n){const E=u>0?u-n:0,k=h>0?h-n:0,B=(E+k)/2,D=B!==0?y*B/(B+n):y;v=(y-D)/2}const g=Math.max(.001,y*h-s/re)/h,b=(y-g)/2,f=c+b+v,p=r-b-v,{outerStart:x,outerEnd:j,innerStart:w,innerEnd:_}=GS(t,m,h,p-f),S=h-x,P=h-j,A=f+x/S,O=p-j/P,C=m+w,F=m+_,V=f+w/C,K=p-_/F;if(e.beginPath(),a){const E=(A+O)/2;if(e.arc(l,o,h,A,E),e.arc(l,o,h,E,O),j>0){const z=Un(P,O,l,o);e.arc(z.x,z.y,j,O,p+Ne)}const k=Un(F,p,l,o);if(e.lineTo(k.x,k.y),_>0){const z=Un(F,K,l,o);e.arc(z.x,z.y,_,p+Ne,K+Math.PI)}const B=(p-_/m+(f+w/m))/2;if(e.arc(l,o,m,p-_/m,B,!0),e.arc(l,o,m,B,f+w/m,!0),w>0){const z=Un(C,V,l,o);e.arc(z.x,z.y,w,V+Math.PI,f-Ne)}const D=Un(S,f,l,o);if(e.lineTo(D.x,D.y),x>0){const z=Un(S,A,l,o);e.arc(z.x,z.y,x,f-Ne,A)}}else{e.moveTo(l,o);const E=Math.cos(A)*h+l,k=Math.sin(A)*h+o;e.lineTo(E,k);const B=Math.cos(O)*h+l,D=Math.sin(O)*h+o;e.lineTo(B,D)}e.closePath()}function JS(e,t,s,n,r){const{fullCircles:a,startAngle:l,circumference:o}=t;let c=t.endAngle;if(a){eo(e,t,s,n,c,r);for(let d=0;d<a;++d)e.fill();isNaN(o)||(c=l+(o%pe||pe))}return eo(e,t,s,n,c,r),e.fill(),c}function ZS(e,t,s,n,r){const{fullCircles:a,startAngle:l,circumference:o,options:c}=t,{borderWidth:d,borderJoinStyle:u,borderDash:h,borderDashOffset:m,borderRadius:v}=c,y=c.borderAlign==="inner";if(!d)return;e.setLineDash(h||[]),e.lineDashOffset=m,y?(e.lineWidth=d*2,e.lineJoin=u||"round"):(e.lineWidth=d,e.lineJoin=u||"bevel");let g=t.endAngle;if(a){eo(e,t,s,n,g,r);for(let b=0;b<a;++b)e.stroke();isNaN(o)||(g=l+(o%pe||pe))}y&&QS(e,t,g),c.selfJoin&&g-l>=re&&v===0&&u!=="miter"&&XS(e,t,g),a||(eo(e,t,s,n,g,r),e.stroke())}class ti extends zt{constructor(s){super();U(this,"circumference");U(this,"endAngle");U(this,"fullCircles");U(this,"innerRadius");U(this,"outerRadius");U(this,"pixelMargin");U(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,s&&Object.assign(this,s)}inRange(s,n,r){const a=this.getProps(["x","y"],r),{angle:l,distance:o}=Fg(a,{x:s,y:n}),{startAngle:c,endAngle:d,innerRadius:u,outerRadius:h,circumference:m}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),v=(this.options.spacing+this.options.borderWidth)/2,y=Z(m,d-c),g=Vi(l,c,d)&&c!==d,b=y>=pe||g,f=Rs(o,u+v,h+v);return b&&f}getCenterPoint(s){const{x:n,y:r,startAngle:a,endAngle:l,innerRadius:o,outerRadius:c}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],s),{offset:d,spacing:u}=this.options,h=(a+l)/2,m=(o+c+u+d)/2;return{x:n+Math.cos(h)*m,y:r+Math.sin(h)*m}}tooltipPosition(s){return this.getCenterPoint(s)}draw(s){const{options:n,circumference:r}=this,a=(n.offset||0)/4,l=(n.spacing||0)/2,o=n.circular;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=r>pe?Math.floor(r/pe):0,r===0||this.innerRadius<0||this.outerRadius<0)return;s.save();const c=(this.startAngle+this.endAngle)/2;s.translate(Math.cos(c)*a,Math.sin(c)*a);const d=1-Math.sin(Math.min(re,r||0)),u=a*d;s.fillStyle=n.backgroundColor,s.strokeStyle=n.borderColor,JS(s,this,u,l,o),ZS(s,this,u,l,o),s.restore()}}U(ti,"id","arc"),U(ti,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),U(ti,"defaultRoutes",{backgroundColor:"backgroundColor"}),U(ti,"descriptors",{_scriptable:!0,_indexable:s=>s!=="borderDash"});function cy(e,t,s=t){e.lineCap=Z(s.borderCapStyle,t.borderCapStyle),e.setLineDash(Z(s.borderDash,t.borderDash)),e.lineDashOffset=Z(s.borderDashOffset,t.borderDashOffset),e.lineJoin=Z(s.borderJoinStyle,t.borderJoinStyle),e.lineWidth=Z(s.borderWidth,t.borderWidth),e.strokeStyle=Z(s.borderColor,t.borderColor)}function e4(e,t,s){e.lineTo(s.x,s.y)}function t4(e){return e.stepped?j_:e.tension||e.cubicInterpolationMode==="monotone"?w_:e4}function dy(e,t,s={}){const n=e.length,{start:r=0,end:a=n-1}=s,{start:l,end:o}=t,c=Math.max(r,l),d=Math.min(a,o),u=r<l&&a<l||r>o&&a>o;return{count:n,start:c,loop:t.loop,ilen:d<c&&!u?n+d-c:d-c}}function s4(e,t,s,n){const{points:r,options:a}=t,{count:l,start:o,loop:c,ilen:d}=dy(r,s,n),u=t4(a);let{move:h=!0,reverse:m}=n||{},v,y,g;for(v=0;v<=d;++v)y=r[(o+(m?d-v:v))%l],!y.skip&&(h?(e.moveTo(y.x,y.y),h=!1):u(e,g,y,m,a.stepped),g=y);return c&&(y=r[(o+(m?d:0))%l],u(e,g,y,m,a.stepped)),!!c}function n4(e,t,s,n){const r=t.points,{count:a,start:l,ilen:o}=dy(r,s,n),{move:c=!0,reverse:d}=n||{};let u=0,h=0,m,v,y,g,b,f;const p=j=>(l+(d?o-j:j))%a,x=()=>{g!==b&&(e.lineTo(u,b),e.lineTo(u,g),e.lineTo(u,f))};for(c&&(v=r[p(0)],e.moveTo(v.x,v.y)),m=0;m<=o;++m){if(v=r[p(m)],v.skip)continue;const j=v.x,w=v.y,_=j|0;_===y?(w<g?g=w:w>b&&(b=w),u=(h*u+j)/++h):(x(),e.lineTo(j,w),y=_,h=0,g=b=w),f=w}x()}function zd(e){const t=e.options,s=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!s?n4:s4}function r4(e){return e.stepped?ek:e.tension||e.cubicInterpolationMode==="monotone"?tk:mn}function i4(e,t,s,n){let r=t._path;r||(r=t._path=new Path2D,t.path(r,s,n)&&r.closePath()),cy(e,t.options),e.stroke(r)}function a4(e,t,s,n){const{segments:r,options:a}=t,l=zd(t);for(const o of r)cy(e,a,o.style),e.beginPath(),l(e,t,o,{start:s,end:s+n-1})&&e.closePath(),e.stroke()}const l4=typeof Path2D=="function";function o4(e,t,s,n){l4&&!t.options.segment?i4(e,t,s,n):a4(e,t,s,n)}class si extends zt{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,s){const n=this.options;if((n.tension||n.cubicInterpolationMode==="monotone")&&!n.stepped&&!this._pointsUpdated){const r=n.spanGaps?this._loop:this._fullLoop;Y_(this._points,n,t,r,s),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=ck(this,this.options.segment))}first(){const t=this.segments,s=this.points;return t.length&&s[t[0].start]}last(){const t=this.segments,s=this.points,n=t.length;return n&&s[t[n-1].end]}interpolate(t,s){const n=this.options,r=t[s],a=this.points,l=ak(this,{property:s,start:r,end:r});if(!l.length)return;const o=[],c=r4(n);let d,u;for(d=0,u=l.length;d<u;++d){const{start:h,end:m}=l[d],v=a[h],y=a[m];if(v===y){o.push(v);continue}const g=Math.abs((r-v[s])/(y[s]-v[s])),b=c(v,y,g,n.stepped);b[s]=t[s],o.push(b)}return o.length===1?o[0]:o}pathSegment(t,s,n){return zd(this)(t,this,s,n)}path(t,s,n){const r=this.segments,a=zd(this);let l=this._loop;s=s||0,n=n||this.points.length-s;for(const o of r)l&=a(t,this,o,{start:s,end:s+n-1});return!!l}draw(t,s,n,r){const a=this.options||{};(this.points||[]).length&&a.borderWidth&&(t.save(),o4(t,this,n,r),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}U(si,"id","line"),U(si,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),U(si,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),U(si,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"});function rp(e,t,s,n){const r=e.options,{[s]:a}=e.getProps([s],n);return Math.abs(t-a)<r.radius+r.hitRadius}class cl extends zt{constructor(s){super();U(this,"parsed");U(this,"skip");U(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,s&&Object.assign(this,s)}inRange(s,n,r){const a=this.options,{x:l,y:o}=this.getProps(["x","y"],r);return Math.pow(s-l,2)+Math.pow(n-o,2)<Math.pow(a.hitRadius+a.radius,2)}inXRange(s,n){return rp(this,s,"x",n)}inYRange(s,n){return rp(this,s,"y",n)}getCenterPoint(s){const{x:n,y:r}=this.getProps(["x","y"],s);return{x:n,y:r}}size(s){s=s||this.options||{};let n=s.radius||0;n=Math.max(n,n&&s.hoverRadius||0);const r=n&&s.borderWidth||0;return(n+r)*2}draw(s,n){const r=this.options;this.skip||r.radius<.1||!os(this,n,this.size(r)/2)||(s.strokeStyle=r.borderColor,s.lineWidth=r.borderWidth,s.fillStyle=r.backgroundColor,Fd(s,r,this.x,this.y))}getRange(){const s=this.options||{};return s.radius+s.hitRadius}}U(cl,"id","point"),U(cl,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),U(cl,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function uy(e,t){const{x:s,y:n,base:r,width:a,height:l}=e.getProps(["x","y","base","width","height"],t);let o,c,d,u,h;return e.horizontal?(h=l/2,o=Math.min(s,r),c=Math.max(s,r),d=n-h,u=n+h):(h=a/2,o=s-h,c=s+h,d=Math.min(n,r),u=Math.max(n,r)),{left:o,top:d,right:c,bottom:u}}function Ls(e,t,s,n){return e?0:$e(t,s,n)}function c4(e,t,s){const n=e.options.borderWidth,r=e.borderSkipped,a=Hg(n);return{t:Ls(r.top,a.top,0,s),r:Ls(r.right,a.right,0,t),b:Ls(r.bottom,a.bottom,0,s),l:Ls(r.left,a.left,0,t)}}function d4(e,t,s){const{enableBorderRadius:n}=e.getProps(["enableBorderRadius"]),r=e.options.borderRadius,a=Nn(r),l=Math.min(t,s),o=e.borderSkipped,c=n||ne(r);return{topLeft:Ls(!c||o.top||o.left,a.topLeft,0,l),topRight:Ls(!c||o.top||o.right,a.topRight,0,l),bottomLeft:Ls(!c||o.bottom||o.left,a.bottomLeft,0,l),bottomRight:Ls(!c||o.bottom||o.right,a.bottomRight,0,l)}}function u4(e){const t=uy(e),s=t.right-t.left,n=t.bottom-t.top,r=c4(e,s/2,n/2),a=d4(e,s/2,n/2);return{outer:{x:t.left,y:t.top,w:s,h:n,radius:a},inner:{x:t.left+r.l,y:t.top+r.t,w:s-r.l-r.r,h:n-r.t-r.b,radius:{topLeft:Math.max(0,a.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,a.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,a.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,a.bottomRight-Math.max(r.b,r.r))}}}}function kc(e,t,s,n){const r=t===null,a=s===null,o=e&&!(r&&a)&&uy(e,n);return o&&(r||Rs(t,o.left,o.right))&&(a||Rs(s,o.top,o.bottom))}function h4(e){return e.topLeft||e.topRight||e.bottomLeft||e.bottomRight}function f4(e,t){e.rect(t.x,t.y,t.w,t.h)}function Sc(e,t,s={}){const n=e.x!==s.x?-t:0,r=e.y!==s.y?-t:0,a=(e.x+e.w!==s.x+s.w?t:0)-n,l=(e.y+e.h!==s.y+s.h?t:0)-r;return{x:e.x+n,y:e.y+r,w:e.w+a,h:e.h+l,radius:e.radius}}class dl extends zt{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:s,options:{borderColor:n,backgroundColor:r}}=this,{inner:a,outer:l}=u4(this),o=h4(l.radius)?Ui:f4;t.save(),(l.w!==a.w||l.h!==a.h)&&(t.beginPath(),o(t,Sc(l,s,a)),t.clip(),o(t,Sc(a,-s,l)),t.fillStyle=n,t.fill("evenodd")),t.beginPath(),o(t,Sc(a,s)),t.fillStyle=r,t.fill(),t.restore()}inRange(t,s,n){return kc(this,t,s,n)}inXRange(t,s){return kc(this,t,null,s)}inYRange(t,s){return kc(this,null,t,s)}getCenterPoint(t){const{x:s,y:n,base:r,horizontal:a}=this.getProps(["x","y","base","horizontal"],t);return{x:a?(s+r)/2:s,y:a?n:(n+r)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}U(dl,"id","bar"),U(dl,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),U(dl,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const ip=(e,t)=>{let{boxHeight:s=t,boxWidth:n=t}=e;return e.usePointStyle&&(s=Math.min(s,t),n=e.pointStyleWidth||Math.min(n,t)),{boxWidth:n,boxHeight:s,itemHeight:Math.max(t,s)}},m4=(e,t)=>e!==null&&t!==null&&e.datasetIndex===t.datasetIndex&&e.index===t.index;class ap extends zt{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,s,n){this.maxWidth=t,this.maxHeight=s,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let s=ce(t.generateLabels,[this.chart],this)||[];t.filter&&(s=s.filter(n=>t.filter(n,this.chart.data))),t.sort&&(s=s.sort((n,r)=>t.sort(n,r,this.chart.data))),this.options.reverse&&s.reverse(),this.legendItems=s}fit(){const{options:t,ctx:s}=this;if(!t.display){this.width=this.height=0;return}const n=t.labels,r=Te(n.font),a=r.size,l=this._computeTitleHeight(),{boxWidth:o,itemHeight:c}=ip(n,a);let d,u;s.font=r.string,this.isHorizontal()?(d=this.maxWidth,u=this._fitRows(l,a,o,c)+10):(u=this.maxHeight,d=this._fitCols(l,r,o,c)+10),this.width=Math.min(d,t.maxWidth||this.maxWidth),this.height=Math.min(u,t.maxHeight||this.maxHeight)}_fitRows(t,s,n,r){const{ctx:a,maxWidth:l,options:{labels:{padding:o}}}=this,c=this.legendHitBoxes=[],d=this.lineWidths=[0],u=r+o;let h=t;a.textAlign="left",a.textBaseline="middle";let m=-1,v=-u;return this.legendItems.forEach((y,g)=>{const b=n+s/2+a.measureText(y.text).width;(g===0||d[d.length-1]+b+2*o>l)&&(h+=u,d[d.length-(g>0?0:1)]=0,v+=u,m++),c[g]={left:0,top:v,row:m,width:b,height:r},d[d.length-1]+=b+o}),h}_fitCols(t,s,n,r){const{ctx:a,maxHeight:l,options:{labels:{padding:o}}}=this,c=this.legendHitBoxes=[],d=this.columnSizes=[],u=l-t;let h=o,m=0,v=0,y=0,g=0;return this.legendItems.forEach((b,f)=>{const{itemWidth:p,itemHeight:x}=p4(n,s,a,b,r);f>0&&v+x+2*o>u&&(h+=m+o,d.push({width:m,height:v}),y+=m+o,g++,m=v=0),c[f]={left:y,top:v,col:g,width:p,height:x},m=Math.max(m,p),v+=x+o}),h+=m,d.push({width:m,height:v}),h}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:s,options:{align:n,labels:{padding:r},rtl:a}}=this,l=hr(a,this.left,this.width);if(this.isHorizontal()){let o=0,c=We(n,this.left+r,this.right-this.lineWidths[o]);for(const d of s)o!==d.row&&(o=d.row,c=We(n,this.left+r,this.right-this.lineWidths[o])),d.top+=this.top+t+r,d.left=l.leftForLtr(l.x(c),d.width),c+=d.width+r}else{let o=0,c=We(n,this.top+t+r,this.bottom-this.columnSizes[o].height);for(const d of s)d.col!==o&&(o=d.col,c=We(n,this.top+t+r,this.bottom-this.columnSizes[o].height)),d.top=c,d.left+=this.left+r,d.left=l.leftForLtr(l.x(d.left),d.width),c+=d.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;rh(t,this),this._draw(),ih(t)}}_draw(){const{options:t,columnSizes:s,lineWidths:n,ctx:r}=this,{align:a,labels:l}=t,o=je.color,c=hr(t.rtl,this.left,this.width),d=Te(l.font),{padding:u}=l,h=d.size,m=h/2;let v;this.drawTitle(),r.textAlign=c.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=d.string;const{boxWidth:y,boxHeight:g,itemHeight:b}=ip(l,h),f=function(_,S,P){if(isNaN(y)||y<=0||isNaN(g)||g<0)return;r.save();const A=Z(P.lineWidth,1);if(r.fillStyle=Z(P.fillStyle,o),r.lineCap=Z(P.lineCap,"butt"),r.lineDashOffset=Z(P.lineDashOffset,0),r.lineJoin=Z(P.lineJoin,"miter"),r.lineWidth=A,r.strokeStyle=Z(P.strokeStyle,o),r.setLineDash(Z(P.lineDash,[])),l.usePointStyle){const O={radius:g*Math.SQRT2/2,pointStyle:P.pointStyle,rotation:P.rotation,borderWidth:A},C=c.xPlus(_,y/2),F=S+m;Wg(r,O,C,F,l.pointStyleWidth&&y)}else{const O=S+Math.max((h-g)/2,0),C=c.leftForLtr(_,y),F=Nn(P.borderRadius);r.beginPath(),Object.values(F).some(V=>V!==0)?Ui(r,{x:C,y:O,w:y,h:g,radius:F}):r.rect(C,O,y,g),r.fill(),A!==0&&r.stroke()}r.restore()},p=function(_,S,P){On(r,P.text,_,S+b/2,d,{strikethrough:P.hidden,textAlign:c.textAlign(P.textAlign)})},x=this.isHorizontal(),j=this._computeTitleHeight();x?v={x:We(a,this.left+u,this.right-n[0]),y:this.top+u+j,line:0}:v={x:this.left+u,y:We(a,this.top+j+u,this.bottom-s[0].height),line:0},Xg(this.ctx,t.textDirection);const w=b+u;this.legendItems.forEach((_,S)=>{r.strokeStyle=_.fontColor,r.fillStyle=_.fontColor;const P=r.measureText(_.text).width,A=c.textAlign(_.textAlign||(_.textAlign=l.textAlign)),O=y+m+P;let C=v.x,F=v.y;c.setWidth(this.width),x?S>0&&C+O+u>this.right&&(F=v.y+=w,v.line++,C=v.x=We(a,this.left+u,this.right-n[v.line])):S>0&&F+w>this.bottom&&(C=v.x=C+s[v.line].width+u,v.line++,F=v.y=We(a,this.top+j+u,this.bottom-s[v.line].height));const V=c.x(C);if(f(V,F,_),C=o_(A,C+y+m,x?C+O:this.right,t.rtl),p(c.x(C),F,_),x)v.x+=O+u;else if(typeof _.text!="string"){const K=d.lineHeight;v.y+=hy(_,K)+u}else v.y+=w}),Qg(this.ctx,t.textDirection)}drawTitle(){const t=this.options,s=t.title,n=Te(s.font),r=qe(s.padding);if(!s.display)return;const a=hr(t.rtl,this.left,this.width),l=this.ctx,o=s.position,c=n.size/2,d=r.top+c;let u,h=this.left,m=this.width;if(this.isHorizontal())m=Math.max(...this.lineWidths),u=this.top+d,h=We(t.align,h,this.right-m);else{const y=this.columnSizes.reduce((g,b)=>Math.max(g,b.height),0);u=d+We(t.align,this.top,this.bottom-y-t.labels.padding-this._computeTitleHeight())}const v=We(o,h,h+m);l.textAlign=a.textAlign(sh(o)),l.textBaseline="middle",l.strokeStyle=s.color,l.fillStyle=s.color,l.font=n.string,On(l,s.text,v,u,n)}_computeTitleHeight(){const t=this.options.title,s=Te(t.font),n=qe(t.padding);return t.display?s.lineHeight+n.height:0}_getLegendItemAt(t,s){let n,r,a;if(Rs(t,this.left,this.right)&&Rs(s,this.top,this.bottom)){for(a=this.legendHitBoxes,n=0;n<a.length;++n)if(r=a[n],Rs(t,r.left,r.left+r.width)&&Rs(s,r.top,r.top+r.height))return this.legendItems[n]}return null}handleEvent(t){const s=this.options;if(!y4(t.type,s))return;const n=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const r=this._hoveredItem,a=m4(r,n);r&&!a&&ce(s.onLeave,[t,r,this],this),this._hoveredItem=n,n&&!a&&ce(s.onHover,[t,n,this],this)}else n&&ce(s.onClick,[t,n,this],this)}}function p4(e,t,s,n,r){const a=x4(n,e,t,s),l=g4(r,n,t.lineHeight);return{itemWidth:a,itemHeight:l}}function x4(e,t,s,n){let r=e.text;return r&&typeof r!="string"&&(r=r.reduce((a,l)=>a.length>l.length?a:l)),t+s.size/2+n.measureText(r).width}function g4(e,t,s){let n=e;return typeof t.text!="string"&&(n=hy(t,s)),n}function hy(e,t){const s=e.text?e.text.length:0;return t*s}function y4(e,t){return!!((e==="mousemove"||e==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(e==="click"||e==="mouseup"))}var v4={id:"legend",_element:ap,start(e,t,s){const n=e.legend=new ap({ctx:e.ctx,options:s,chart:e});jt.configure(e,n,s),jt.addBox(e,n)},stop(e){jt.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,s){const n=e.legend;jt.configure(e,n,s),n.options=s},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,s){const n=t.datasetIndex,r=s.chart;r.isDatasetVisible(n)?(r.hide(n),t.hidden=!0):(r.show(n),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:s,pointStyle:n,textAlign:r,color:a,useBorderRadius:l,borderRadius:o}}=e.legend.options;return e._getSortedDatasetMetas().map(c=>{const d=c.controller.getStyle(s?0:void 0),u=qe(d.borderWidth);return{text:t[c.index].label,fillStyle:d.backgroundColor,fontColor:a,hidden:!c.visible,lineCap:d.borderCapStyle,lineDash:d.borderDash,lineDashOffset:d.borderDashOffset,lineJoin:d.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:d.borderColor,pointStyle:n||d.pointStyle,rotation:d.rotation,textAlign:r||d.textAlign,borderRadius:l&&(o||d.borderRadius),datasetIndex:c.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class fy extends zt{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,s){const n=this.options;if(this.left=0,this.top=0,!n.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=s;const r=me(n.text)?n.text.length:1;this._padding=qe(n.padding);const a=r*Te(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=a:this.width=a}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:s,left:n,bottom:r,right:a,options:l}=this,o=l.align;let c=0,d,u,h;return this.isHorizontal()?(u=We(o,n,a),h=s+t,d=a-n):(l.position==="left"?(u=n+t,h=We(o,r,s),c=re*-.5):(u=a-t,h=We(o,s,r),c=re*.5),d=r-s),{titleX:u,titleY:h,maxWidth:d,rotation:c}}draw(){const t=this.ctx,s=this.options;if(!s.display)return;const n=Te(s.font),a=n.lineHeight/2+this._padding.top,{titleX:l,titleY:o,maxWidth:c,rotation:d}=this._drawArgs(a);On(t,s.text,0,0,n,{color:s.color,maxWidth:c,rotation:d,textAlign:sh(s.align),textBaseline:"middle",translation:[l,o]})}}function b4(e,t){const s=new fy({ctx:e.ctx,options:t,chart:e});jt.configure(e,s,t),jt.addBox(e,s),e.titleBlock=s}var j4={id:"title",_element:fy,start(e,t,s){b4(e,s)},stop(e){const t=e.titleBlock;jt.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,s){const n=e.titleBlock;jt.configure(e,n,s),n.options=s},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const ni={average(e){if(!e.length)return!1;let t,s,n=new Set,r=0,a=0;for(t=0,s=e.length;t<s;++t){const o=e[t].element;if(o&&o.hasValue()){const c=o.tooltipPosition();n.add(c.x),r+=c.y,++a}}return a===0||n.size===0?!1:{x:[...n].reduce((o,c)=>o+c)/n.size,y:r/a}},nearest(e,t){if(!e.length)return!1;let s=t.x,n=t.y,r=Number.POSITIVE_INFINITY,a,l,o;for(a=0,l=e.length;a<l;++a){const c=e[a].element;if(c&&c.hasValue()){const d=c.getCenterPoint(),u=Rd(t,d);u<r&&(r=u,o=c)}}if(o){const c=o.tooltipPosition();s=c.x,n=c.y}return{x:s,y:n}}};function Ut(e,t){return t&&(me(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function es(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function w4(e,t){const{element:s,datasetIndex:n,index:r}=t,a=e.getDatasetMeta(n).controller,{label:l,value:o}=a.getLabelAndValue(r);return{chart:e,label:l,parsed:a.getParsed(r),raw:e.data.datasets[n].data[r],formattedValue:o,dataset:a.getDataset(),dataIndex:r,datasetIndex:n,element:s}}function lp(e,t){const s=e.chart.ctx,{body:n,footer:r,title:a}=e,{boxWidth:l,boxHeight:o}=t,c=Te(t.bodyFont),d=Te(t.titleFont),u=Te(t.footerFont),h=a.length,m=r.length,v=n.length,y=qe(t.padding);let g=y.height,b=0,f=n.reduce((j,w)=>j+w.before.length+w.lines.length+w.after.length,0);if(f+=e.beforeBody.length+e.afterBody.length,h&&(g+=h*d.lineHeight+(h-1)*t.titleSpacing+t.titleMarginBottom),f){const j=t.displayColors?Math.max(o,c.lineHeight):c.lineHeight;g+=v*j+(f-v)*c.lineHeight+(f-1)*t.bodySpacing}m&&(g+=t.footerMarginTop+m*u.lineHeight+(m-1)*t.footerSpacing);let p=0;const x=function(j){b=Math.max(b,s.measureText(j).width+p)};return s.save(),s.font=d.string,ae(e.title,x),s.font=c.string,ae(e.beforeBody.concat(e.afterBody),x),p=t.displayColors?l+2+t.boxPadding:0,ae(n,j=>{ae(j.before,x),ae(j.lines,x),ae(j.after,x)}),p=0,s.font=u.string,ae(e.footer,x),s.restore(),b+=y.width,{width:b,height:g}}function N4(e,t){const{y:s,height:n}=t;return s<n/2?"top":s>e.height-n/2?"bottom":"center"}function _4(e,t,s,n){const{x:r,width:a}=n,l=s.caretSize+s.caretPadding;if(e==="left"&&r+a+l>t.width||e==="right"&&r-a-l<0)return!0}function k4(e,t,s,n){const{x:r,width:a}=s,{width:l,chartArea:{left:o,right:c}}=e;let d="center";return n==="center"?d=r<=(o+c)/2?"left":"right":r<=a/2?d="left":r>=l-a/2&&(d="right"),_4(d,e,t,s)&&(d="center"),d}function op(e,t,s){const n=s.yAlign||t.yAlign||N4(e,s);return{xAlign:s.xAlign||t.xAlign||k4(e,t,s,n),yAlign:n}}function S4(e,t){let{x:s,width:n}=e;return t==="right"?s-=n:t==="center"&&(s-=n/2),s}function C4(e,t,s){let{y:n,height:r}=e;return t==="top"?n+=s:t==="bottom"?n-=r+s:n-=r/2,n}function cp(e,t,s,n){const{caretSize:r,caretPadding:a,cornerRadius:l}=e,{xAlign:o,yAlign:c}=s,d=r+a,{topLeft:u,topRight:h,bottomLeft:m,bottomRight:v}=Nn(l);let y=S4(t,o);const g=C4(t,c,d);return c==="center"?o==="left"?y+=d:o==="right"&&(y-=d):o==="left"?y-=Math.max(u,m)+r:o==="right"&&(y+=Math.max(h,v)+r),{x:$e(y,0,n.width-t.width),y:$e(g,0,n.height-t.height)}}function za(e,t,s){const n=qe(s.padding);return t==="center"?e.x+e.width/2:t==="right"?e.x+e.width-n.right:e.x+n.left}function dp(e){return Ut([],es(e))}function P4(e,t,s){return sn(e,{tooltip:t,tooltipItems:s,type:"tooltip"})}function up(e,t){const s=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return s?e.override(s):e}const my={beforeTitle:Jt,title(e){if(e.length>0){const t=e[0],s=t.chart.data.labels,n=s?s.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(n>0&&t.dataIndex<n)return s[t.dataIndex]}return""},afterTitle:Jt,beforeBody:Jt,beforeLabel:Jt,label(e){if(this&&this.options&&this.options.mode==="dataset")return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const s=e.formattedValue;return se(s)||(t+=s),t},labelColor(e){const s=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:s.borderColor,backgroundColor:s.backgroundColor,borderWidth:s.borderWidth,borderDash:s.borderDash,borderDashOffset:s.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const s=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:s.pointStyle,rotation:s.rotation}},afterLabel:Jt,afterBody:Jt,beforeFooter:Jt,footer:Jt,afterFooter:Jt};function Ze(e,t,s,n){const r=e[t].call(s,n);return typeof r>"u"?my[t].call(s,n):r}class Id extends zt{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const s=this.chart,n=this.options.setContext(this.getContext()),r=n.enabled&&s.options.animation&&n.animations,a=new Gg(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(a)),a}getContext(){return this.$context||(this.$context=P4(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,s){const{callbacks:n}=s,r=Ze(n,"beforeTitle",this,t),a=Ze(n,"title",this,t),l=Ze(n,"afterTitle",this,t);let o=[];return o=Ut(o,es(r)),o=Ut(o,es(a)),o=Ut(o,es(l)),o}getBeforeBody(t,s){return dp(Ze(s.callbacks,"beforeBody",this,t))}getBody(t,s){const{callbacks:n}=s,r=[];return ae(t,a=>{const l={before:[],lines:[],after:[]},o=up(n,a);Ut(l.before,es(Ze(o,"beforeLabel",this,a))),Ut(l.lines,Ze(o,"label",this,a)),Ut(l.after,es(Ze(o,"afterLabel",this,a))),r.push(l)}),r}getAfterBody(t,s){return dp(Ze(s.callbacks,"afterBody",this,t))}getFooter(t,s){const{callbacks:n}=s,r=Ze(n,"beforeFooter",this,t),a=Ze(n,"footer",this,t),l=Ze(n,"afterFooter",this,t);let o=[];return o=Ut(o,es(r)),o=Ut(o,es(a)),o=Ut(o,es(l)),o}_createItems(t){const s=this._active,n=this.chart.data,r=[],a=[],l=[];let o=[],c,d;for(c=0,d=s.length;c<d;++c)o.push(w4(this.chart,s[c]));return t.filter&&(o=o.filter((u,h,m)=>t.filter(u,h,m,n))),t.itemSort&&(o=o.sort((u,h)=>t.itemSort(u,h,n))),ae(o,u=>{const h=up(t.callbacks,u);r.push(Ze(h,"labelColor",this,u)),a.push(Ze(h,"labelPointStyle",this,u)),l.push(Ze(h,"labelTextColor",this,u))}),this.labelColors=r,this.labelPointStyles=a,this.labelTextColors=l,this.dataPoints=o,o}update(t,s){const n=this.options.setContext(this.getContext()),r=this._active;let a,l=[];if(!r.length)this.opacity!==0&&(a={opacity:0});else{const o=ni[n.position].call(this,r,this._eventPosition);l=this._createItems(n),this.title=this.getTitle(l,n),this.beforeBody=this.getBeforeBody(l,n),this.body=this.getBody(l,n),this.afterBody=this.getAfterBody(l,n),this.footer=this.getFooter(l,n);const c=this._size=lp(this,n),d=Object.assign({},o,c),u=op(this.chart,n,d),h=cp(n,d,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,a={opacity:1,x:h.x,y:h.y,width:c.width,height:c.height,caretX:o.x,caretY:o.y}}this._tooltipItems=l,this.$context=void 0,a&&this._resolveAnimations().update(this,a),t&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:s})}drawCaret(t,s,n,r){const a=this.getCaretPosition(t,n,r);s.lineTo(a.x1,a.y1),s.lineTo(a.x2,a.y2),s.lineTo(a.x3,a.y3)}getCaretPosition(t,s,n){const{xAlign:r,yAlign:a}=this,{caretSize:l,cornerRadius:o}=n,{topLeft:c,topRight:d,bottomLeft:u,bottomRight:h}=Nn(o),{x:m,y:v}=t,{width:y,height:g}=s;let b,f,p,x,j,w;return a==="center"?(j=v+g/2,r==="left"?(b=m,f=b-l,x=j+l,w=j-l):(b=m+y,f=b+l,x=j-l,w=j+l),p=b):(r==="left"?f=m+Math.max(c,u)+l:r==="right"?f=m+y-Math.max(d,h)-l:f=this.caretX,a==="top"?(x=v,j=x-l,b=f-l,p=f+l):(x=v+g,j=x+l,b=f+l,p=f-l),w=x),{x1:b,x2:f,x3:p,y1:x,y2:j,y3:w}}drawTitle(t,s,n){const r=this.title,a=r.length;let l,o,c;if(a){const d=hr(n.rtl,this.x,this.width);for(t.x=za(this,n.titleAlign,n),s.textAlign=d.textAlign(n.titleAlign),s.textBaseline="middle",l=Te(n.titleFont),o=n.titleSpacing,s.fillStyle=n.titleColor,s.font=l.string,c=0;c<a;++c)s.fillText(r[c],d.x(t.x),t.y+l.lineHeight/2),t.y+=l.lineHeight+o,c+1===a&&(t.y+=n.titleMarginBottom-o)}}_drawColorBox(t,s,n,r,a){const l=this.labelColors[n],o=this.labelPointStyles[n],{boxHeight:c,boxWidth:d}=a,u=Te(a.bodyFont),h=za(this,"left",a),m=r.x(h),v=c<u.lineHeight?(u.lineHeight-c)/2:0,y=s.y+v;if(a.usePointStyle){const g={radius:Math.min(d,c)/2,pointStyle:o.pointStyle,rotation:o.rotation,borderWidth:1},b=r.leftForLtr(m,d)+d/2,f=y+c/2;t.strokeStyle=a.multiKeyBackground,t.fillStyle=a.multiKeyBackground,Fd(t,g,b,f),t.strokeStyle=l.borderColor,t.fillStyle=l.backgroundColor,Fd(t,g,b,f)}else{t.lineWidth=ne(l.borderWidth)?Math.max(...Object.values(l.borderWidth)):l.borderWidth||1,t.strokeStyle=l.borderColor,t.setLineDash(l.borderDash||[]),t.lineDashOffset=l.borderDashOffset||0;const g=r.leftForLtr(m,d),b=r.leftForLtr(r.xPlus(m,1),d-2),f=Nn(l.borderRadius);Object.values(f).some(p=>p!==0)?(t.beginPath(),t.fillStyle=a.multiKeyBackground,Ui(t,{x:g,y,w:d,h:c,radius:f}),t.fill(),t.stroke(),t.fillStyle=l.backgroundColor,t.beginPath(),Ui(t,{x:b,y:y+1,w:d-2,h:c-2,radius:f}),t.fill()):(t.fillStyle=a.multiKeyBackground,t.fillRect(g,y,d,c),t.strokeRect(g,y,d,c),t.fillStyle=l.backgroundColor,t.fillRect(b,y+1,d-2,c-2))}t.fillStyle=this.labelTextColors[n]}drawBody(t,s,n){const{body:r}=this,{bodySpacing:a,bodyAlign:l,displayColors:o,boxHeight:c,boxWidth:d,boxPadding:u}=n,h=Te(n.bodyFont);let m=h.lineHeight,v=0;const y=hr(n.rtl,this.x,this.width),g=function(P){s.fillText(P,y.x(t.x+v),t.y+m/2),t.y+=m+a},b=y.textAlign(l);let f,p,x,j,w,_,S;for(s.textAlign=l,s.textBaseline="middle",s.font=h.string,t.x=za(this,b,n),s.fillStyle=n.bodyColor,ae(this.beforeBody,g),v=o&&b!=="right"?l==="center"?d/2+u:d+2+u:0,j=0,_=r.length;j<_;++j){for(f=r[j],p=this.labelTextColors[j],s.fillStyle=p,ae(f.before,g),x=f.lines,o&&x.length&&(this._drawColorBox(s,t,j,y,n),m=Math.max(h.lineHeight,c)),w=0,S=x.length;w<S;++w)g(x[w]),m=h.lineHeight;ae(f.after,g)}v=0,m=h.lineHeight,ae(this.afterBody,g),t.y-=a}drawFooter(t,s,n){const r=this.footer,a=r.length;let l,o;if(a){const c=hr(n.rtl,this.x,this.width);for(t.x=za(this,n.footerAlign,n),t.y+=n.footerMarginTop,s.textAlign=c.textAlign(n.footerAlign),s.textBaseline="middle",l=Te(n.footerFont),s.fillStyle=n.footerColor,s.font=l.string,o=0;o<a;++o)s.fillText(r[o],c.x(t.x),t.y+l.lineHeight/2),t.y+=l.lineHeight+n.footerSpacing}}drawBackground(t,s,n,r){const{xAlign:a,yAlign:l}=this,{x:o,y:c}=t,{width:d,height:u}=n,{topLeft:h,topRight:m,bottomLeft:v,bottomRight:y}=Nn(r.cornerRadius);s.fillStyle=r.backgroundColor,s.strokeStyle=r.borderColor,s.lineWidth=r.borderWidth,s.beginPath(),s.moveTo(o+h,c),l==="top"&&this.drawCaret(t,s,n,r),s.lineTo(o+d-m,c),s.quadraticCurveTo(o+d,c,o+d,c+m),l==="center"&&a==="right"&&this.drawCaret(t,s,n,r),s.lineTo(o+d,c+u-y),s.quadraticCurveTo(o+d,c+u,o+d-y,c+u),l==="bottom"&&this.drawCaret(t,s,n,r),s.lineTo(o+v,c+u),s.quadraticCurveTo(o,c+u,o,c+u-v),l==="center"&&a==="left"&&this.drawCaret(t,s,n,r),s.lineTo(o,c+h),s.quadraticCurveTo(o,c,o+h,c),s.closePath(),s.fill(),r.borderWidth>0&&s.stroke()}_updateAnimationTarget(t){const s=this.chart,n=this.$animations,r=n&&n.x,a=n&&n.y;if(r||a){const l=ni[t.position].call(this,this._active,this._eventPosition);if(!l)return;const o=this._size=lp(this,t),c=Object.assign({},l,this._size),d=op(s,t,c),u=cp(t,c,d,s);(r._to!==u.x||a._to!==u.y)&&(this.xAlign=d.xAlign,this.yAlign=d.yAlign,this.width=o.width,this.height=o.height,this.caretX=l.x,this.caretY=l.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(t){const s=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(s);const r={width:this.width,height:this.height},a={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const l=qe(s.padding),o=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;s.enabled&&o&&(t.save(),t.globalAlpha=n,this.drawBackground(a,t,r,s),Xg(t,s.textDirection),a.y+=l.top,this.drawTitle(a,t,s),this.drawBody(a,t,s),this.drawFooter(a,t,s),Qg(t,s.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,s){const n=this._active,r=t.map(({datasetIndex:o,index:c})=>{const d=this.chart.getDatasetMeta(o);if(!d)throw new Error("Cannot find a dataset at index "+o);return{datasetIndex:o,element:d.data[c],index:c}}),a=!Xl(n,r),l=this._positionChanged(r,s);(a||l)&&(this._active=r,this._eventPosition=s,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,s,n=!0){if(s&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,a=this._active||[],l=this._getActiveElements(t,a,s,n),o=this._positionChanged(l,t),c=s||!Xl(l,a)||o;return c&&(this._active=l,(r.enabled||r.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,s))),c}_getActiveElements(t,s,n,r){const a=this.options;if(t.type==="mouseout")return[];if(!r)return s.filter(o=>this.chart.data.datasets[o.datasetIndex]&&this.chart.getDatasetMeta(o.datasetIndex).controller.getParsed(o.index)!==void 0);const l=this.chart.getElementsAtEventForMode(t,a.mode,a,n);return a.reverse&&l.reverse(),l}_positionChanged(t,s){const{caretX:n,caretY:r,options:a}=this,l=ni[a.position].call(this,t,s);return l!==!1&&(n!==l.x||r!==l.y)}}U(Id,"positioners",ni);var M4={id:"tooltip",_element:Id,positioners:ni,afterInit(e,t,s){s&&(e.tooltip=new Id({chart:e,options:s}))},beforeUpdate(e,t,s){e.tooltip&&e.tooltip.initialize(s)},reset(e,t,s){e.tooltip&&e.tooltip.initialize(s)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const s={tooltip:t};if(e.notifyPlugins("beforeTooltipDraw",{...s,cancelable:!0})===!1)return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",s)}},afterEvent(e,t){if(e.tooltip){const s=t.replay;e.tooltip.handleEvent(t.event,s,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:my},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>e!=="filter"&&e!=="itemSort"&&e!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const E4=(e,t,s,n)=>(typeof t=="string"?(s=e.push(t)-1,n.unshift({index:s,label:t})):isNaN(t)&&(s=null),s);function T4(e,t,s,n){const r=e.indexOf(t);if(r===-1)return E4(e,t,s,n);const a=e.lastIndexOf(t);return r!==a?s:r}const D4=(e,t)=>e===null?null:$e(Math.round(e),0,t);function hp(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class Bd extends Bn{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const s=this._addedLabels;if(s.length){const n=this.getLabels();for(const{index:r,label:a}of s)n[r]===a&&n.splice(r,1);this._addedLabels=[]}super.init(t)}parse(t,s){if(se(t))return null;const n=this.getLabels();return s=isFinite(s)&&n[s]===t?s:T4(n,t,Z(s,t),this._addedLabels),D4(s,n.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:s}=this.getUserBounds();let{min:n,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(n=0),s||(r=this.getLabels().length-1)),this.min=n,this.max=r}buildTicks(){const t=this.min,s=this.max,n=this.options.offset,r=[];let a=this.getLabels();a=t===0&&s===a.length-1?a:a.slice(t,s+1),this._valueRange=Math.max(a.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let l=t;l<=s;l++)r.push({value:l});return r}getLabelForValue(t){return hp.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const s=this.ticks;return t<0||t>s.length-1?null:this.getPixelForValue(s[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}U(Bd,"id","category"),U(Bd,"defaults",{ticks:{callback:hp}});function R4(e,t){const s=[],{bounds:r,step:a,min:l,max:o,precision:c,count:d,maxTicks:u,maxDigits:h,includeBounds:m}=e,v=a||1,y=u-1,{min:g,max:b}=t,f=!se(l),p=!se(o),x=!se(d),j=(b-g)/(h+1);let w=pm((b-g)/y/v)*v,_,S,P,A;if(w<1e-14&&!f&&!p)return[{value:g},{value:b}];A=Math.ceil(b/w)-Math.floor(g/w),A>y&&(w=pm(A*w/y/v)*v),se(c)||(_=Math.pow(10,c),w=Math.ceil(w*_)/_),r==="ticks"?(S=Math.floor(g/w)*w,P=Math.ceil(b/w)*w):(S=g,P=b),f&&p&&a&&t_((o-l)/a,w/1e3)?(A=Math.round(Math.min((o-l)/w,u)),w=(o-l)/A,S=l,P=o):x?(S=f?l:S,P=p?o:P,A=d-1,w=(P-S)/A):(A=(P-S)/w,pi(A,Math.round(A),w/1e3)?A=Math.round(A):A=Math.ceil(A));const O=Math.max(xm(w),xm(S));_=Math.pow(10,se(c)?O:c),S=Math.round(S*_)/_,P=Math.round(P*_)/_;let C=0;for(f&&(m&&S!==l?(s.push({value:l}),S<l&&C++,pi(Math.round((S+C*w)*_)/_,l,fp(l,j,e))&&C++):S<l&&C++);C<A;++C){const F=Math.round((S+C*w)*_)/_;if(p&&F>o)break;s.push({value:F})}return p&&m&&P!==o?s.length&&pi(s[s.length-1].value,o,fp(o,j,e))?s[s.length-1].value=o:s.push({value:o}):(!p||P===o)&&s.push({value:P}),s}function fp(e,t,{horizontal:s,minRotation:n}){const r=Xt(n),a=(s?Math.sin(r):Math.cos(r))||.001,l=.75*t*(""+e).length;return Math.min(t/a,l)}class to extends Bn{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,s){return se(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:s,maxDefined:n}=this.getUserBounds();let{min:r,max:a}=this;const l=c=>r=s?r:c,o=c=>a=n?a:c;if(t){const c=Gt(r),d=Gt(a);c<0&&d<0?o(0):c>0&&d>0&&l(0)}if(r===a){let c=a===0?1:Math.abs(a*.05);o(a+c),t||l(r-c)}this.min=r,this.max=a}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:s,stepSize:n}=t,r;return n?(r=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),s=s||11),s&&(r=Math.min(s,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,s=t.ticks;let n=this.getTickLimit();n=Math.max(2,n);const r={maxTicks:n,bounds:t.bounds,min:t.min,max:t.max,precision:s.precision,step:s.stepSize,count:s.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:s.minRotation||0,includeBounds:s.includeBounds!==!1},a=this._range||this,l=R4(r,a);return t.bounds==="ticks"&&Lg(l,this,"value"),t.reverse?(l.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),l}configure(){const t=this.ticks;let s=this.min,n=this.max;if(super.configure(),this.options.offset&&t.length){const r=(n-s)/Math.max(t.length-1,1)/2;s-=r,n+=r}this._startValue=s,this._endValue=n,this._valueRange=n-s}getLabelForValue(t){return Eo(t,this.chart.options.locale,this.options.ticks.format)}}class Wd extends to{determineDataLimits(){const{min:t,max:s}=this.getMinMax(!0);this.min=Re(t)?t:0,this.max=Re(s)?s:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),s=t?this.width:this.height,n=Xt(this.options.ticks.minRotation),r=(t?Math.sin(n):Math.cos(n))||.001,a=this._resolveTickFontOptions(0);return Math.ceil(s/Math.min(40,a.lineHeight/r))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}U(Wd,"id","linear"),U(Wd,"defaults",{ticks:{callback:To.formatters.numeric}});const Yi=e=>Math.floor(Ds(e)),cn=(e,t)=>Math.pow(10,Yi(e)+t);function mp(e){return e/Math.pow(10,Yi(e))===1}function pp(e,t,s){const n=Math.pow(10,s),r=Math.floor(e/n);return Math.ceil(t/n)-r}function L4(e,t){const s=t-e;let n=Yi(s);for(;pp(e,t,n)>10;)n++;for(;pp(e,t,n)<10;)n--;return Math.min(n,Yi(e))}function F4(e,{min:t,max:s}){t=dt(e.min,t);const n=[],r=Yi(t);let a=L4(t,s),l=a<0?Math.pow(10,Math.abs(a)):1;const o=Math.pow(10,a),c=r>a?Math.pow(10,r):0,d=Math.round((t-c)*l)/l,u=Math.floor((t-c)/o/10)*o*10;let h=Math.floor((d-u)/Math.pow(10,a)),m=dt(e.min,Math.round((c+u+h*Math.pow(10,a))*l)/l);for(;m<s;)n.push({value:m,major:mp(m),significand:h}),h>=10?h=h<15?15:20:h++,h>=20&&(a++,h=2,l=a>=0?1:l),m=Math.round((c+u+h*Math.pow(10,a))*l)/l;const v=dt(e.max,m);return n.push({value:v,major:mp(v),significand:h}),n}class xp extends Bn{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,s){const n=to.prototype.parse.apply(this,[t,s]);if(n===0){this._zero=!0;return}return Re(n)&&n>0?n:null}determineDataLimits(){const{min:t,max:s}=this.getMinMax(!0);this.min=Re(t)?Math.max(0,t):null,this.max=Re(s)?Math.max(0,s):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Re(this._userMin)&&(this.min=t===cn(this.min,0)?cn(this.min,-1):cn(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:s}=this.getUserBounds();let n=this.min,r=this.max;const a=o=>n=t?n:o,l=o=>r=s?r:o;n===r&&(n<=0?(a(1),l(10)):(a(cn(n,-1)),l(cn(r,1)))),n<=0&&a(cn(r,-1)),r<=0&&l(cn(n,1)),this.min=n,this.max=r}buildTicks(){const t=this.options,s={min:this._userMin,max:this._userMax},n=F4(s,this);return t.bounds==="ticks"&&Lg(n,this,"value"),t.reverse?(n.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),n}getLabelForValue(t){return t===void 0?"0":Eo(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=Ds(t),this._valueRange=Ds(this.max)-Ds(t)}getPixelForValue(t){return(t===void 0||t===0)&&(t=this.min),t===null||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(Ds(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const s=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+s*this._valueRange)}}U(xp,"id","logarithmic"),U(xp,"defaults",{ticks:{callback:To.formatters.logarithmic,major:{enabled:!0}}});function Hd(e){const t=e.ticks;if(t.display&&e.display){const s=qe(t.backdropPadding);return Z(t.font&&t.font.size,je.font.size)+s.height}return 0}function A4(e,t,s){return s=me(s)?s:[s],{w:b_(e,t.string,s),h:s.length*t.lineHeight}}function gp(e,t,s,n,r){return e===n||e===r?{start:t-s/2,end:t+s/2}:e<n||e>r?{start:t-s,end:t}:{start:t,end:t+s}}function O4(e){const t={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},s=Object.assign({},t),n=[],r=[],a=e._pointLabels.length,l=e.options.pointLabels,o=l.centerPointLabels?re/a:0;for(let c=0;c<a;c++){const d=l.setContext(e.getPointLabelContext(c));r[c]=d.padding;const u=e.getPointPosition(c,e.drawingArea+r[c],o),h=Te(d.font),m=A4(e.ctx,h,e._pointLabels[c]);n[c]=m;const v=et(e.getIndexAngle(c)+o),y=Math.round(eh(v)),g=gp(y,u.x,m.w,0,180),b=gp(y,u.y,m.h,90,270);z4(s,t,v,g,b)}e.setCenterPoint(t.l-s.l,s.r-t.r,t.t-s.t,s.b-t.b),e._pointLabelItems=W4(e,n,r)}function z4(e,t,s,n,r){const a=Math.abs(Math.sin(s)),l=Math.abs(Math.cos(s));let o=0,c=0;n.start<t.l?(o=(t.l-n.start)/a,e.l=Math.min(e.l,t.l-o)):n.end>t.r&&(o=(n.end-t.r)/a,e.r=Math.max(e.r,t.r+o)),r.start<t.t?(c=(t.t-r.start)/l,e.t=Math.min(e.t,t.t-c)):r.end>t.b&&(c=(r.end-t.b)/l,e.b=Math.max(e.b,t.b+c))}function I4(e,t,s){const n=e.drawingArea,{extra:r,additionalAngle:a,padding:l,size:o}=s,c=e.getPointPosition(t,n+r+l,a),d=Math.round(eh(et(c.angle+Ne))),u=U4(c.y,o.h,d),h=H4(d),m=V4(c.x,o.w,h);return{visible:!0,x:c.x,y:u,textAlign:h,left:m,top:u,right:m+o.w,bottom:u+o.h}}function B4(e,t){if(!t)return!0;const{left:s,top:n,right:r,bottom:a}=e;return!(os({x:s,y:n},t)||os({x:s,y:a},t)||os({x:r,y:n},t)||os({x:r,y:a},t))}function W4(e,t,s){const n=[],r=e._pointLabels.length,a=e.options,{centerPointLabels:l,display:o}=a.pointLabels,c={extra:Hd(a)/2,additionalAngle:l?re/r:0};let d;for(let u=0;u<r;u++){c.padding=s[u],c.size=t[u];const h=I4(e,u,c);n.push(h),o==="auto"&&(h.visible=B4(h,d),h.visible&&(d=h))}return n}function H4(e){return e===0||e===180?"center":e<180?"left":"right"}function V4(e,t,s){return s==="right"?e-=t:s==="center"&&(e-=t/2),e}function U4(e,t,s){return s===90||s===270?e-=t/2:(s>270||s<90)&&(e-=t),e}function $4(e,t,s){const{left:n,top:r,right:a,bottom:l}=s,{backdropColor:o}=t;if(!se(o)){const c=Nn(t.borderRadius),d=qe(t.backdropPadding);e.fillStyle=o;const u=n-d.left,h=r-d.top,m=a-n+d.width,v=l-r+d.height;Object.values(c).some(y=>y!==0)?(e.beginPath(),Ui(e,{x:u,y:h,w:m,h:v,radius:c}),e.fill()):e.fillRect(u,h,m,v)}}function Y4(e,t){const{ctx:s,options:{pointLabels:n}}=e;for(let r=t-1;r>=0;r--){const a=e._pointLabelItems[r];if(!a.visible)continue;const l=n.setContext(e.getPointLabelContext(r));$4(s,l,a);const o=Te(l.font),{x:c,y:d,textAlign:u}=a;On(s,e._pointLabels[r],c,d+o.lineHeight/2,o,{color:l.color,textAlign:u,textBaseline:"middle"})}}function py(e,t,s,n){const{ctx:r}=e;if(s)r.arc(e.xCenter,e.yCenter,t,0,pe);else{let a=e.getPointPosition(0,t);r.moveTo(a.x,a.y);for(let l=1;l<n;l++)a=e.getPointPosition(l,t),r.lineTo(a.x,a.y)}}function q4(e,t,s,n,r){const a=e.ctx,l=t.circular,{color:o,lineWidth:c}=t;!l&&!n||!o||!c||s<0||(a.save(),a.strokeStyle=o,a.lineWidth=c,a.setLineDash(r.dash||[]),a.lineDashOffset=r.dashOffset,a.beginPath(),py(e,s,l,n),a.closePath(),a.stroke(),a.restore())}function X4(e,t,s){return sn(e,{label:s,index:t,type:"pointLabel"})}class Ia extends to{constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=qe(Hd(this.options)/2),s=this.width=this.maxWidth-t.width,n=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+s/2+t.left),this.yCenter=Math.floor(this.top+n/2+t.top),this.drawingArea=Math.floor(Math.min(s,n)/2)}determineDataLimits(){const{min:t,max:s}=this.getMinMax(!1);this.min=Re(t)&&!isNaN(t)?t:0,this.max=Re(s)&&!isNaN(s)?s:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Hd(this.options))}generateTickLabels(t){to.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((s,n)=>{const r=ce(this.options.pointLabels.callback,[s,n],this);return r||r===0?r:""}).filter((s,n)=>this.chart.getDataVisibility(n))}fit(){const t=this.options;t.display&&t.pointLabels.display?O4(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,s,n,r){this.xCenter+=Math.floor((t-s)/2),this.yCenter+=Math.floor((n-r)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,s,n,r))}getIndexAngle(t){const s=pe/(this._pointLabels.length||1),n=this.options.startAngle||0;return et(t*s+Xt(n))}getDistanceFromCenterForValue(t){if(se(t))return NaN;const s=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*s:(t-this.min)*s}getValueForDistanceFromCenter(t){if(se(t))return NaN;const s=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-s:this.min+s}getPointLabelContext(t){const s=this._pointLabels||[];if(t>=0&&t<s.length){const n=s[t];return X4(this.getContext(),t,n)}}getPointPosition(t,s,n=0){const r=this.getIndexAngle(t)-Ne+n;return{x:Math.cos(r)*s+this.xCenter,y:Math.sin(r)*s+this.yCenter,angle:r}}getPointPositionForValue(t,s){return this.getPointPosition(t,this.getDistanceFromCenterForValue(s))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:s,top:n,right:r,bottom:a}=this._pointLabelItems[t];return{left:s,top:n,right:r,bottom:a}}drawBackground(){const{backgroundColor:t,grid:{circular:s}}=this.options;if(t){const n=this.ctx;n.save(),n.beginPath(),py(this,this.getDistanceFromCenterForValue(this._endValue),s,this._pointLabels.length),n.closePath(),n.fillStyle=t,n.fill(),n.restore()}}drawGrid(){const t=this.ctx,s=this.options,{angleLines:n,grid:r,border:a}=s,l=this._pointLabels.length;let o,c,d;if(s.pointLabels.display&&Y4(this,l),r.display&&this.ticks.forEach((u,h)=>{if(h!==0||h===0&&this.min<0){c=this.getDistanceFromCenterForValue(u.value);const m=this.getContext(h),v=r.setContext(m),y=a.setContext(m);q4(this,v,c,l,y)}}),n.display){for(t.save(),o=l-1;o>=0;o--){const u=n.setContext(this.getPointLabelContext(o)),{color:h,lineWidth:m}=u;!m||!h||(t.lineWidth=m,t.strokeStyle=h,t.setLineDash(u.borderDash),t.lineDashOffset=u.borderDashOffset,c=this.getDistanceFromCenterForValue(s.reverse?this.min:this.max),d=this.getPointPosition(o,c),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(d.x,d.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,s=this.options,n=s.ticks;if(!n.display)return;const r=this.getIndexAngle(0);let a,l;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(r),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((o,c)=>{if(c===0&&this.min>=0&&!s.reverse)return;const d=n.setContext(this.getContext(c)),u=Te(d.font);if(a=this.getDistanceFromCenterForValue(this.ticks[c].value),d.showLabelBackdrop){t.font=u.string,l=t.measureText(o.label).width,t.fillStyle=d.backdropColor;const h=qe(d.backdropPadding);t.fillRect(-l/2-h.left,-a-u.size/2-h.top,l+h.width,u.size+h.height)}On(t,o.label,0,-a,u,{color:d.color,strokeColor:d.textStrokeColor,strokeWidth:d.textStrokeWidth})}),t.restore()}drawTitle(){}}U(Ia,"id","radialLinear"),U(Ia,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:To.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}}),U(Ia,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),U(Ia,"descriptors",{angleLines:{_fallback:"grid"}});const Lo={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},st=Object.keys(Lo);function yp(e,t){return e-t}function vp(e,t){if(se(t))return null;const s=e._adapter,{parser:n,round:r,isoWeekday:a}=e._parseOpts;let l=t;return typeof n=="function"&&(l=n(l)),Re(l)||(l=typeof n=="string"?s.parse(l,n):s.parse(l)),l===null?null:(r&&(l=r==="week"&&(Hi(a)||a===!0)?s.startOf(l,"isoWeek",a):s.startOf(l,r)),+l)}function bp(e,t,s,n){const r=st.length;for(let a=st.indexOf(e);a<r-1;++a){const l=Lo[st[a]],o=l.steps?l.steps:Number.MAX_SAFE_INTEGER;if(l.common&&Math.ceil((s-t)/(o*l.size))<=n)return st[a]}return st[r-1]}function Q4(e,t,s,n,r){for(let a=st.length-1;a>=st.indexOf(s);a--){const l=st[a];if(Lo[l].common&&e._adapter.diff(r,n,l)>=t-1)return l}return st[s?st.indexOf(s):0]}function K4(e){for(let t=st.indexOf(e)+1,s=st.length;t<s;++t)if(Lo[st[t]].common)return st[t]}function jp(e,t,s){if(!s)e[t]=!0;else if(s.length){const{lo:n,hi:r}=th(s,t),a=s[n]>=t?s[n]:s[r];e[a]=!0}}function G4(e,t,s,n){const r=e._adapter,a=+r.startOf(t[0].value,n),l=t[t.length-1].value;let o,c;for(o=a;o<=l;o=+r.add(o,1,n))c=s[o],c>=0&&(t[c].major=!0);return t}function wp(e,t,s){const n=[],r={},a=t.length;let l,o;for(l=0;l<a;++l)o=t[l],r[o]=l,n.push({value:o,major:!1});return a===0||!s?n:G4(e,n,r,s)}class so extends Bn{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,s={}){const n=t.time||(t.time={}),r=this._adapter=new Ik._date(t.adapters.date);r.init(s),mi(n.displayFormats,r.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(t),this._normalized=s.normalized}parse(t,s){return t===void 0?null:vp(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,s=this._adapter,n=t.time.unit||"day";let{min:r,max:a,minDefined:l,maxDefined:o}=this.getUserBounds();function c(d){!l&&!isNaN(d.min)&&(r=Math.min(r,d.min)),!o&&!isNaN(d.max)&&(a=Math.max(a,d.max))}(!l||!o)&&(c(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&c(this.getMinMax(!1))),r=Re(r)&&!isNaN(r)?r:+s.startOf(Date.now(),n),a=Re(a)&&!isNaN(a)?a:+s.endOf(Date.now(),n)+1,this.min=Math.min(r,a-1),this.max=Math.max(r+1,a)}_getLabelBounds(){const t=this.getLabelTimestamps();let s=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return t.length&&(s=t[0],n=t[t.length-1]),{min:s,max:n}}buildTicks(){const t=this.options,s=t.time,n=t.ticks,r=n.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const a=this.min,l=this.max,o=i_(r,a,l);return this._unit=s.unit||(n.autoSkip?bp(s.minUnit,this.min,this.max,this._getLabelCapacity(a)):Q4(this,o.length,s.minUnit,this.min,this.max)),this._majorUnit=!n.major.enabled||this._unit==="year"?void 0:K4(this._unit),this.initOffsets(r),t.reverse&&o.reverse(),wp(this,o,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let s=0,n=0,r,a;this.options.offset&&t.length&&(r=this.getDecimalForValue(t[0]),t.length===1?s=1-r:s=(this.getDecimalForValue(t[1])-r)/2,a=this.getDecimalForValue(t[t.length-1]),t.length===1?n=a:n=(a-this.getDecimalForValue(t[t.length-2]))/2);const l=t.length<3?.5:.25;s=$e(s,0,l),n=$e(n,0,l),this._offsets={start:s,end:n,factor:1/(s+1+n)}}_generate(){const t=this._adapter,s=this.min,n=this.max,r=this.options,a=r.time,l=a.unit||bp(a.minUnit,s,n,this._getLabelCapacity(s)),o=Z(r.ticks.stepSize,1),c=l==="week"?a.isoWeekday:!1,d=Hi(c)||c===!0,u={};let h=s,m,v;if(d&&(h=+t.startOf(h,"isoWeek",c)),h=+t.startOf(h,d?"day":l),t.diff(n,s,l)>1e5*o)throw new Error(s+" and "+n+" are too far apart with stepSize of "+o+" "+l);const y=r.ticks.source==="data"&&this.getDataTimestamps();for(m=h,v=0;m<n;m=+t.add(m,o,l),v++)jp(u,m,y);return(m===n||r.bounds==="ticks"||v===1)&&jp(u,m,y),Object.keys(u).sort(yp).map(g=>+g)}getLabelForValue(t){const s=this._adapter,n=this.options.time;return n.tooltipFormat?s.format(t,n.tooltipFormat):s.format(t,n.displayFormats.datetime)}format(t,s){const r=this.options.time.displayFormats,a=this._unit,l=s||r[a];return this._adapter.format(t,l)}_tickFormatFunction(t,s,n,r){const a=this.options,l=a.ticks.callback;if(l)return ce(l,[t,s,n],this);const o=a.time.displayFormats,c=this._unit,d=this._majorUnit,u=c&&o[c],h=d&&o[d],m=n[s],v=d&&h&&m&&m.major;return this._adapter.format(t,r||(v?h:u))}generateTickLabels(t){let s,n,r;for(s=0,n=t.length;s<n;++s)r=t[s],r.label=this._tickFormatFunction(r.value,s,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const s=this._offsets,n=this.getDecimalForValue(t);return this.getPixelForDecimal((s.start+n)*s.factor)}getValueForPixel(t){const s=this._offsets,n=this.getDecimalForPixel(t)/s.factor-s.end;return this.min+n*(this.max-this.min)}_getLabelSize(t){const s=this.options.ticks,n=this.ctx.measureText(t).width,r=Xt(this.isHorizontal()?s.maxRotation:s.minRotation),a=Math.cos(r),l=Math.sin(r),o=this._resolveTickFontOptions(0).size;return{w:n*a+o*l,h:n*l+o*a}}_getLabelCapacity(t){const s=this.options.time,n=s.displayFormats,r=n[s.unit]||n.millisecond,a=this._tickFormatFunction(t,0,wp(this,[t],this._majorUnit),r),l=this._getLabelSize(a),o=Math.floor(this.isHorizontal()?this.width/l.w:this.height/l.h)-1;return o>0?o:1}getDataTimestamps(){let t=this._cache.data||[],s,n;if(t.length)return t;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(s=0,n=r.length;s<n;++s)t=t.concat(r[s].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let s,n;if(t.length)return t;const r=this.getLabels();for(s=0,n=r.length;s<n;++s)t.push(vp(this,r[s]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return Og(t.sort(yp))}}U(so,"id","time"),U(so,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Ba(e,t,s){let n=0,r=e.length-1,a,l,o,c;s?(t>=e[n].pos&&t<=e[r].pos&&({lo:n,hi:r}=bn(e,"pos",t)),{pos:a,time:o}=e[n],{pos:l,time:c}=e[r]):(t>=e[n].time&&t<=e[r].time&&({lo:n,hi:r}=bn(e,"time",t)),{time:a,pos:o}=e[n],{time:l,pos:c}=e[r]);const d=l-a;return d?o+(c-o)*(t-a)/d:o}class Np extends so{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),s=this._table=this.buildLookupTable(t);this._minPos=Ba(s,this.min),this._tableRange=Ba(s,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:s,max:n}=this,r=[],a=[];let l,o,c,d,u;for(l=0,o=t.length;l<o;++l)d=t[l],d>=s&&d<=n&&r.push(d);if(r.length<2)return[{time:s,pos:0},{time:n,pos:1}];for(l=0,o=r.length;l<o;++l)u=r[l+1],c=r[l-1],d=r[l],Math.round((u+c)/2)!==d&&a.push({time:d,pos:l/(o-1)});return a}_generate(){const t=this.min,s=this.max;let n=super.getDataTimestamps();return(!n.includes(t)||!n.length)&&n.splice(0,0,t),(!n.includes(s)||n.length===1)&&n.push(s),n.sort((r,a)=>r-a)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const s=this.getDataTimestamps(),n=this.getLabelTimestamps();return s.length&&n.length?t=this.normalize(s.concat(n)):t=s.length?s:n,t=this._cache.all=t,t}getDecimalForValue(t){return(Ba(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const s=this._offsets,n=this.getDecimalForPixel(t)/s.factor-s.end;return Ba(this._table,n*this._tableRange+this._minPos,!0)}}U(Np,"id","timeseries"),U(Np,"defaults",so.defaults);const xy="label";function _p(e,t){typeof e=="function"?e(t):e&&(e.current=t)}function J4(e,t){const s=e.options;s&&t&&Object.assign(s,t)}function gy(e,t){e.labels=t}function yy(e,t){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:xy;const n=[];e.datasets=t.map(r=>{const a=e.datasets.find(l=>l[s]===r[s]);return!a||!r.data||n.includes(a)?{...r}:(n.push(a),Object.assign(a,r),a)})}function Z4(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:xy;const s={labels:[],datasets:[]};return gy(s,e.labels),yy(s,e.datasets,t),s}function eC(e,t){const{height:s=150,width:n=300,redraw:r=!1,datasetIdKey:a,type:l,data:o,options:c,plugins:d=[],fallbackContent:u,updateMode:h,...m}=e,v=N.useRef(null),y=N.useRef(null),g=()=>{v.current&&(y.current=new Ro(v.current,{type:l,data:Z4(o,a),options:c&&{...c},plugins:d}),_p(t,y.current))},b=()=>{_p(t,null),y.current&&(y.current.destroy(),y.current=null)};return N.useEffect(()=>{!r&&y.current&&c&&J4(y.current,c)},[r,c]),N.useEffect(()=>{!r&&y.current&&gy(y.current.config.data,o.labels)},[r,o.labels]),N.useEffect(()=>{!r&&y.current&&o.datasets&&yy(y.current.config.data,o.datasets,a)},[r,o.datasets]),N.useEffect(()=>{y.current&&(r?(b(),setTimeout(g)):y.current.update(h))},[r,c,o.labels,o.datasets,h]),N.useEffect(()=>{y.current&&(b(),setTimeout(g))},[l]),N.useEffect(()=>(g(),()=>b()),[]),ro.createElement("canvas",{ref:v,role:"img",height:s,width:n,...m},u)}const tC=N.forwardRef(eC);function fh(e,t){return Ro.register(t),N.forwardRef((s,n)=>ro.createElement(tC,{...s,ref:n,type:e}))}const sC=fh("line",al),kp=fh("bar",il),Cc=fh("doughnut",Zr);Ro.register(Bd,Wd,cl,si,j4,M4,v4,dl,ti);const nC=()=>{var V,K;const[e,t]=N.useState("tasks"),[s,n]=N.useState(null),[r,a]=N.useState([]),[l,o]=N.useState([]),[c,d]=N.useState([]),[u,h]=N.useState(null),[m,v]=N.useState(!0),[y,g]=N.useState(""),[b,f]=N.useState("");N.useEffect(()=>{p()},[e]);const p=async()=>{v(!0);try{const E={};if(y&&b&&(E.start=y,E.end=b),e==="tasks"){const[k,B]=await Promise.all([hc.getStats(E),hc.getStaffPerformance(E)]);n(k.data),a(B.data),x(k.data)}else{const k=await vn.getLivestock();d(k.data),j(k.data)}}catch(E){console.error("Error fetching reports data:",E)}finally{v(!1)}},x=E=>{const k=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],B=(E==null?void 0:E.taskCompletionRate)||75,D=k.map((z,Y)=>({day:z,completion:Math.max(30,Math.min(100,B+(Math.random()-.5)*20))}));o(D)},j=E=>{const k=E.length,B=E.filter(q=>q.health_status==="healthy").length,D=E.filter(q=>q.health_status==="sick").length,z=E.filter(q=>q.health_status==="quarantine").length,Y=E.filter(q=>q.health_status==="deceased").length,R=E.reduce((q,oe)=>(q[oe.species]=(q[oe.species]||0)+1,q),{}),T=E.filter(q=>q.age).map(q=>q.age),L=E.filter(q=>q.weight).map(q=>parseFloat(q.weight)),H=T.length>0?(T.reduce((q,oe)=>q+oe,0)/T.length).toFixed(1):0,Q=L.length>0?(L.reduce((q,oe)=>q+oe,0)/L.length).toFixed(1):0;h({totalLivestock:k,healthyCount:B,sickCount:D,quarantineCount:z,deceasedCount:Y,healthRate:k>0?(B/k*100).toFixed(1):0,speciesCount:R,averageAge:H,averageWeight:Q})},w=async()=>{try{const E={};if(y&&b&&(E.start=y,E.end=b),e==="tasks"){const k=await hc.exportReport(E),B=new Blob([k.data],{type:"text/csv"}),D=window.URL.createObjectURL(B),z=document.createElement("a");z.href=D,z.download="task_report.csv",z.click(),window.URL.revokeObjectURL(D)}else{const k=_(),B=new Blob([k],{type:"text/csv"}),D=window.URL.createObjectURL(B),z=document.createElement("a");z.href=D,z.download="livestock_report.csv",z.click(),window.URL.revokeObjectURL(D)}}catch(E){console.error("Export failed:",E)}},_=()=>{const E=["Name","Species","Breed","Age","Weight","Gender","Health Status","Location","Acquisition Date"],k=c.map(B=>[B.name||"",B.species||"",B.breed||"",B.age||"",B.weight||"",B.gender||"",B.health_status||"",B.location||"",B.acquisition_date||""]);return[E,...k].map(B=>B.join(",")).join(`
`)},S={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top",labels:{font:{family:"Poppins",size:12}}},title:{display:!1}},scales:{y:{beginAtZero:!0,grid:{color:"rgba(0, 0, 0, 0.1)"},ticks:{font:{family:"Inter"}}},x:{grid:{display:!1},ticks:{font:{family:"Inter"}}}}},P={labels:l.map(E=>E.day),datasets:[{label:"Task Completion %",data:l.map(E=>E.completion),borderColor:"#16a34a",backgroundColor:"rgba(22, 163, 74, 0.1)",fill:!0,tension:.4,pointBackgroundColor:"#16a34a",pointBorderColor:"#ffffff",pointBorderWidth:2,pointRadius:6}]},O={labels:["Feeding","Health Checks","Maintenance","Cleaning","Other"],datasets:[{data:(()=>{const E=(s==null?void 0:s.totalTasks)||100,k=Math.round(E*.35),B=Math.round(E*.25),D=Math.round(E*.2),z=Math.round(E*.15),Y=E-(k+B+D+z);return[k,B,D,z,Y]})(),backgroundColor:["#22c55e","#3b82f6","#f59e0b","#8b5cf6","#ef4444"],borderColor:["#16a34a","#2563eb","#d97706","#7c3aed","#dc2626"],borderWidth:2}]},C={labels:r.slice(0,5).map(E=>E.full_name.split(" ")[0]),datasets:[{label:"Tasks Completed",data:r.slice(0,5).map(E=>E.tasks_completed||0),backgroundColor:"rgba(22, 163, 74, 0.8)",borderColor:"#16a34a",borderWidth:2,borderRadius:8,borderSkipped:!1},{label:"Efficiency %",data:r.slice(0,5).map(E=>E.efficiency||0),backgroundColor:"rgba(59, 130, 246, 0.8)",borderColor:"#3b82f6",borderWidth:2,borderRadius:8,borderSkipped:!1}]},F={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom",labels:{padding:20,font:{family:"Inter",size:11}}}},cutout:"60%"};return m?i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):i.jsxs("div",{className:"space-y-8 max-w-7xl mx-auto px-2 sm:px-4 lg:px-8 py-6",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Reports & Analytics"}),i.jsx("p",{className:"text-gray-600",children:"Comprehensive insights into farm operations and performance"})]}),i.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[i.jsx("input",{type:"date",className:"input-field !py-2 text-sm w-auto",value:y,onChange:E=>g(E.target.value)}),i.jsx("input",{type:"date",className:"input-field !py-2 text-sm w-auto",value:b,onChange:E=>f(E.target.value)}),i.jsx("button",{onClick:p,className:"btn-secondary text-sm",children:"Apply Filters"}),i.jsxs("button",{onClick:w,className:"btn-primary text-sm flex items-center space-x-2",children:[i.jsx(Ng,{className:"w-4 h-4"}),i.jsx("span",{children:"Export Report"})]})]})]}),i.jsxs("div",{className:"flex border-b border-gray-200",children:[i.jsx("button",{onClick:()=>t("tasks"),className:`py-3 px-4 text-sm font-medium border-b-2 transition-colors duration-200 ${e==="tasks"?"border-primary-600 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Task Reports"}),i.jsx("button",{onClick:()=>t("livestock"),className:`py-3 px-4 text-sm font-medium border-b-2 transition-colors duration-200 ${e==="livestock"?"border-primary-600 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Livestock Reports"})]}),e==="tasks"&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[i.jsx("div",{className:"card-enhanced",children:i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx("div",{className:"w-14 h-14 farm-gradient rounded-xl flex items-center justify-center shadow-lg",children:i.jsx(Dn,{className:"w-7 h-7 text-white"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Task Completion Rate"}),i.jsxs("p",{className:"text-3xl font-bold text-gray-900",children:[(s==null?void 0:s.taskCompletionRate)||0,"%"]}),i.jsx("p",{className:"text-xs text-green-600 font-medium",children:"+5.2% vs last week"})]})]})}),i.jsx("div",{className:"card-enhanced",children:i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx("div",{className:"w-14 h-14 sky-gradient rounded-xl flex items-center justify-center shadow-lg",children:i.jsx(is,{className:"w-7 h-7 text-white"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Total Tasks"}),i.jsx("p",{className:"text-3xl font-bold text-gray-900",children:(s==null?void 0:s.totalTasks)||0}),i.jsx("p",{className:"text-xs text-blue-600 font-medium",children:"All assigned tasks"})]})]})}),i.jsx("div",{className:"card-enhanced",children:i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-purple-500 to-purple-700 rounded-xl flex items-center justify-center shadow-lg",children:i.jsx(Qu,{className:"w-7 h-7 text-white"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Staff Efficiency"}),i.jsxs("p",{className:"text-3xl font-bold text-gray-900",children:[(s==null?void 0:s.staffEfficiency)||0,"%"]}),i.jsx("p",{className:"text-xs text-purple-600 font-medium",children:"Task completion rate"})]})]})}),i.jsx("div",{className:"card-enhanced",children:i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx("div",{className:"w-14 h-14 earth-gradient rounded-xl flex items-center justify-center shadow-lg",children:i.jsx(Ww,{className:"w-7 h-7 text-white"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Productivity Score"}),i.jsx("p",{className:"text-3xl font-bold text-gray-900",children:Math.round(((s==null?void 0:s.taskCompletionRate)||0)*((s==null?void 0:s.staffEfficiency)||0)/100)||0}),i.jsx("p",{className:"text-xs text-orange-600 font-medium",children:"Based on task completion"})]})]})})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[i.jsxs("div",{className:"card-enhanced",children:[i.jsx("div",{className:"flex items-center justify-between mb-6",children:i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"w-10 h-10 farm-gradient rounded-lg flex items-center justify-center",children:i.jsx(bg,{className:"w-5 h-5 text-white"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Task Completion Trend"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Daily completion rates over time"})]})]})}),i.jsx("div",{className:"h-80",children:i.jsx(sC,{data:P,options:S})})]}),i.jsxs("div",{className:"card-enhanced",children:[i.jsx("div",{className:"flex items-center justify-between mb-6",children:i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"w-10 h-10 sky-gradient rounded-lg flex items-center justify-center",children:i.jsx(Gw,{className:"w-5 h-5 text-white"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Task Distribution"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Breakdown by task category"})]})]})}),i.jsx("div",{className:"h-80",children:i.jsx(Cc,{data:O,options:F})})]})]}),i.jsxs("div",{className:"card-enhanced",children:[i.jsx("div",{className:"flex items-center justify-between mb-6",children:i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-lg flex items-center justify-center",children:i.jsx(is,{className:"w-5 h-5 text-white"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Staff Performance Overview"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Tasks completed vs efficiency comparison"})]})]})}),i.jsx("div",{className:"h-96",children:i.jsx(kp,{data:C,options:S})})]}),i.jsxs("div",{className:"card-enhanced",children:[i.jsx("div",{className:"flex items-center justify-between mb-6",children:i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Staff Performance Leaderboard"}),i.jsxs("p",{className:"text-sm text-gray-600",children:["Top performing team members ",y&&b?`(${y} to ${b})`:"(last 7 days)"]})]})}),i.jsxs("div",{className:"space-y-4",children:[r.map((E,k)=>i.jsxs("div",{className:"flex items-center justify-between p-5 bg-gradient-to-r from-gray-50 to-green-50/50 rounded-xl border border-gray-200 hover:shadow-md transition-all duration-200",children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs("div",{className:`w-10 h-10 rounded-full flex items-center justify-center text-white font-bold shadow-lg ${k===0?"bg-gradient-to-br from-yellow-400 to-yellow-600":k===1?"bg-gradient-to-br from-gray-400 to-gray-600":k===2?"bg-gradient-to-br from-orange-400 to-orange-600":"bg-gradient-to-br from-gray-300 to-gray-500"}`,children:["#",k+1]}),i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold text-gray-900",children:E.full_name}),i.jsx("p",{className:"text-sm text-primary-600 font-medium",children:E.role})]})]}),i.jsxs("div",{className:"flex items-center space-x-8 text-right",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Tasks Completed"}),i.jsx("p",{className:"text-xl font-bold text-gray-900",children:E.tasks_completed||0})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Efficiency"}),i.jsxs("p",{className:"text-xl font-bold text-primary-600",children:[E.efficiency||0,"%"]})]})]})]},E.id)),r.length===0&&i.jsxs("div",{className:"text-center py-8 text-gray-500",children:[i.jsx(is,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),i.jsx("p",{children:"No staff performance data available for the selected period."})]})]})]}),i.jsxs("div",{className:"card-enhanced",children:[i.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[i.jsx("div",{className:"w-10 h-10 farm-gradient rounded-xl flex items-center justify-center shadow-lg",children:i.jsx(Dn,{className:"w-5 h-5 text-white"})}),i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"AI Insights & Recommendations"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[i.jsxs("div",{className:"p-5 bg-gradient-to-br from-emerald-50 to-green-100 border border-emerald-200 rounded-xl",children:[i.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[i.jsx("div",{className:"w-3 h-3 bg-emerald-500 rounded-full"}),i.jsx("span",{className:"font-semibold text-emerald-800",children:"Performance Highlight"})]}),i.jsxs("p",{className:"text-sm text-gray-700",children:["Task completion rate has improved by 5.2% this week. ",((V=r[0])==null?void 0:V.full_name)||"Top performer"," leads with ",((K=r[0])==null?void 0:K.efficiency)||96,"% efficiency."]})]}),i.jsxs("div",{className:"p-5 bg-gradient-to-br from-orange-50 to-amber-100 border border-orange-200 rounded-xl",children:[i.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[i.jsx("div",{className:"w-3 h-3 bg-orange-500 rounded-full"}),i.jsx("span",{className:"font-semibold text-orange-800",children:"Attention Required"})]}),i.jsx("p",{className:"text-sm text-gray-700",children:"Livestock health checks are behind schedule. Consider reassigning veterinary tasks to optimize workflow."})]}),i.jsxs("div",{className:"p-5 bg-gradient-to-br from-blue-50 to-cyan-100 border border-blue-200 rounded-xl",children:[i.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[i.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),i.jsx("span",{className:"font-semibold text-blue-800",children:"Optimization Tip"})]}),i.jsx("p",{className:"text-sm text-gray-700",children:"Morning feeding tasks show highest completion rates. Schedule critical tasks for 6-9 AM for optimal results."})]})]})]})]}),e==="livestock"&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[i.jsx("div",{className:"card-enhanced",children:i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-green-500 to-green-700 rounded-xl flex items-center justify-center shadow-lg",children:i.jsx(Es,{className:"w-7 h-7 text-white"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Total Livestock"}),i.jsx("p",{className:"text-3xl font-bold text-gray-900",children:(u==null?void 0:u.totalLivestock)||0})]})]})}),i.jsx("div",{className:"card-enhanced",children:i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-red-500 to-red-700 rounded-xl flex items-center justify-center shadow-lg",children:i.jsx(Es,{className:"w-7 h-7 text-white"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Sick Livestock"}),i.jsx("p",{className:"text-3xl font-bold text-gray-900",children:(u==null?void 0:u.sickCount)||0})]})]})}),i.jsx("div",{className:"card-enhanced",children:i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-yellow-500 to-yellow-700 rounded-xl flex items-center justify-center shadow-lg",children:i.jsx(ta,{className:"w-7 h-7 text-white"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Quarantine"}),i.jsx("p",{className:"text-3xl font-bold text-gray-900",children:(u==null?void 0:u.quarantineCount)||0})]})]})}),i.jsx("div",{className:"card-enhanced",children:i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-gray-500 to-gray-700 rounded-xl flex items-center justify-center shadow-lg",children:i.jsx(St,{className:"w-7 h-7 text-white"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Average Age"}),i.jsxs("p",{className:"text-3xl font-bold text-gray-900",children:[(u==null?void 0:u.averageAge)||0," years"]})]})]})})]}),i.jsxs("div",{className:"card-enhanced",children:[i.jsx("div",{className:"flex items-center justify-between mb-6",children:i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-500 to-purple-700 rounded-lg flex items-center justify-center",children:i.jsx(is,{className:"w-5 h-5 text-white"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Livestock Distribution by Species"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Breakdown of livestock by species"})]})]})}),i.jsx("div",{className:"h-80",children:i.jsx(Cc,{data:{labels:Object.keys((u==null?void 0:u.speciesCount)||{}),datasets:[{data:Object.values((u==null?void 0:u.speciesCount)||{}),backgroundColor:["#22c55e","#3b82f6","#f59e0b","#8b5cf6","#ef4444","#10b981","#6366f1","#8b5cf6","#f59e0b","#3b82f6"],borderColor:["#16a34a","#2563eb","#d97706","#7c3aed","#dc2626","#059669","#4f46e5","#7c3aed","#d97706","#2563eb"],borderWidth:2}]},options:F})})]}),i.jsxs("div",{className:"card-enhanced",children:[i.jsx("div",{className:"flex items-center justify-between mb-6",children:i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-lg flex items-center justify-center",children:i.jsx(is,{className:"w-5 h-5 text-white"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Livestock Overview"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Overall health status and average metrics"})]})]})}),i.jsx("div",{className:"h-96",children:i.jsx(kp,{data:{labels:["Healthy","Sick","Quarantine","Deceased"],datasets:[{label:"Count",data:[(u==null?void 0:u.healthyCount)||0,(u==null?void 0:u.sickCount)||0,(u==null?void 0:u.quarantineCount)||0,(u==null?void 0:u.deceasedCount)||0],backgroundColor:["rgba(22, 163, 74, 0.8)","rgba(239, 68, 68, 0.8)","rgba(163, 163, 163, 0.8)","rgba(139, 92, 246, 0.8)"],borderColor:["#16a34a","#ef4444","#6b7280","#7c3aed"],borderWidth:2}]},options:S})})]}),i.jsxs("div",{className:"card-enhanced",children:[i.jsx("div",{className:"flex items-center justify-between mb-6",children:i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-cyan-600 rounded-lg flex items-center justify-center",children:i.jsx(Es,{className:"w-5 h-5 text-white"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Livestock Health Status"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Health status distribution"})]})]})}),i.jsx("div",{className:"h-96",children:i.jsx(Cc,{data:{labels:["Healthy","Sick","Quarantine","Deceased"],datasets:[{data:[(u==null?void 0:u.healthyCount)||0,(u==null?void 0:u.sickCount)||0,(u==null?void 0:u.quarantineCount)||0,(u==null?void 0:u.deceasedCount)||0],backgroundColor:["rgba(22, 163, 74, 0.8)","rgba(239, 68, 68, 0.8)","rgba(163, 163, 163, 0.8)","rgba(139, 92, 246, 0.8)"],borderColor:["#16a34a","#ef4444","#6b7280","#7c3aed"],borderWidth:2}]},options:F})})]}),i.jsxs("div",{className:"card-enhanced",children:[i.jsx("div",{className:"flex items-center justify-between mb-6",children:i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Livestock Leaderboard"}),i.jsxs("p",{className:"text-sm text-gray-600",children:["Top performing livestock ",y&&b?`(${y} to ${b})`:"(last 7 days)"]})]})}),i.jsxs("div",{className:"space-y-4",children:[c.map((E,k)=>i.jsxs("div",{className:"flex items-center justify-between p-5 bg-gradient-to-r from-gray-50 to-green-50/50 rounded-xl border border-gray-200 hover:shadow-md transition-all duration-200",children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs("div",{className:`w-10 h-10 rounded-full flex items-center justify-center text-white font-bold shadow-lg ${k===0?"bg-gradient-to-br from-yellow-400 to-yellow-600":k===1?"bg-gradient-to-br from-gray-400 to-gray-600":k===2?"bg-gradient-to-br from-orange-400 to-orange-600":"bg-gradient-to-br from-gray-300 to-gray-500"}`,children:["#",k+1]}),i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold text-gray-900",children:E.name||"N/A"}),i.jsx("p",{className:"text-sm text-primary-600 font-medium",children:E.species||"N/A"})]})]}),i.jsxs("div",{className:"flex items-center space-x-8 text-right",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Health Status"}),i.jsx("p",{className:"text-xl font-bold text-gray-900",children:E.health_status||"N/A"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Age"}),i.jsxs("p",{className:"text-xl font-bold text-primary-600",children:[E.age||"N/A"," years"]})]})]})]},E.id)),c.length===0&&i.jsxs("div",{className:"text-center py-8 text-gray-500",children:[i.jsx(Es,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),i.jsx("p",{children:"No livestock data available for the selected period."})]})]})]})]})]})},rC=()=>{const{user:e}=ze(),[t,s]=N.useState([]),[n,r]=N.useState(!0),[a,l]=N.useState(""),[o,c]=N.useState(""),[d,u]=N.useState(""),[h,m]=N.useState(""),[v,y]=N.useState(!1),[g,b]=N.useState("create"),[f,p]=N.useState(null),[x,j]=N.useState({name:"",species:"",breed:"",age:"",weight:"",gender:"",health_status:"healthy",location:"",acquisition_date:"",identification_number:"",vaccination_records:[],medical_history:[],feeding_schedule:"",notes:""}),[w,_]=N.useState(""),[S,P]=N.useState({}),A=["Admin","Farm Manager"].includes(e==null?void 0:e.role),O=["Admin","Farm Manager","Veterinary Doctor"].includes(e==null?void 0:e.role),C=["Admin","Farm Manager"].includes(e==null?void 0:e.role);N.useEffect(()=>{F()},[]);const F=async()=>{try{r(!0);const T=await vn.getLivestock();s(T.data),l("")}catch(T){console.error("Failed to fetch livestock:",T),l("Failed to load livestock data. Please try again.")}finally{r(!1)}},V=()=>{b("create"),p(null),j({name:"",species:"",breed:"",age:"",weight:"",gender:"",health_status:"healthy",location:"",acquisition_date:"",identification_number:"",vaccination_records:[],medical_history:[],feeding_schedule:"",notes:""}),_(""),P({}),y(!0)},K=T=>{b("edit"),p(T),j({name:T.name||"",species:T.species||"",breed:T.breed||"",age:T.age||"",weight:T.weight||"",gender:T.gender||"",health_status:T.health_status||"healthy",location:T.location||"",acquisition_date:T.acquisition_date||"",identification_number:T.identification_number||"",vaccination_records:T.vaccination_records||[],medical_history:T.medical_history||[],feeding_schedule:T.feeding_schedule||"",notes:T.notes||""}),_(""),P({}),y(!0)},E=T=>{b("view"),p(T),y(!0)},k=async T=>{var L,H;if(window.confirm("Are you sure you want to delete this livestock record?"))try{await vn.deleteLivestock(T),s(t.filter(Q=>Q.id!==T)),alert("Livestock record deleted successfully")}catch(Q){console.error("Failed to delete livestock:",Q),alert(((H=(L=Q.response)==null?void 0:L.data)==null?void 0:H.message)||"Failed to delete livestock record")}},B=async T=>{var L;T.preventDefault(),_(""),P({});try{let H;g==="create"?(H=await vn.createLivestock(x),s([H.data.livestock,...t]),alert("Livestock record created successfully!")):g==="edit"&&(H=await vn.updateLivestock(f.id,x),s(t.map(Q=>Q.id===f.id?H.data.livestock:Q)),alert("Livestock record updated successfully!")),y(!1)}catch(H){console.error("Form submission error:",H);const Q=(L=H.response)==null?void 0:L.data;Q!=null&&Q.field?(P({[Q.field]:Q.message}),_("Please check the highlighted field")):_((Q==null?void 0:Q.message)||"Failed to save livestock record")}},D=T=>{const{name:L,value:H}=T.target;j({...x,[L]:H}),S[L]&&P({...S,[L]:""})},z=t.filter(T=>{var q,oe,Ct,Je;const L=((q=T.name)==null?void 0:q.toLowerCase().includes(o.toLowerCase()))||((oe=T.species)==null?void 0:oe.toLowerCase().includes(o.toLowerCase()))||((Ct=T.identification_number)==null?void 0:Ct.toLowerCase().includes(o.toLowerCase())),H=!d||T.health_status===d,Q=!h||((Je=T.species)==null?void 0:Je.toLowerCase())===h.toLowerCase();return L&&H&&Q}),Y=T=>{switch(T){case"healthy":return"bg-green-100 text-green-800";case"sick":return"bg-red-100 text-red-800";case"quarantine":return"bg-yellow-100 text-yellow-800";case"deceased":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},R=T=>{const L="w-full border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 transition-colors";return S[T]?`${L} border-red-500 focus:ring-red-200`:`${L} border-gray-300 focus:ring-primary-200 focus:border-primary-500`};return n?i.jsx("div",{className:"min-h-screen farm-gradient",children:i.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:i.jsxs("div",{className:"animate-pulse",children:[i.jsx("div",{className:"h-8 bg-gray-200 rounded w-48 mb-8"}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((T,L)=>i.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm",children:[i.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-4"}),i.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2 mb-2"}),i.jsx("div",{className:"h-4 bg-gray-200 rounded w-2/3"})]},L))})]})})}):i.jsx("div",{className:"min-h-screen farm-gradient",children:i.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-8",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Livestock Management"}),i.jsx("p",{className:"text-gray-600 mt-2",children:"Manage and monitor your farm animals"})]}),A&&i.jsxs("button",{onClick:V,className:"mt-4 sm:mt-0 btn-primary flex items-center space-x-2",children:[i.jsx(Ln,{className:"w-4 h-4"}),i.jsx("span",{children:"Add Livestock"})]})]}),a&&i.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg mb-6",children:a}),i.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-6",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{className:"relative",children:[i.jsx(sa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),i.jsx("input",{type:"text",placeholder:"Search by name, species, or ID...",value:o,onChange:T=>c(T.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-200"})]}),i.jsxs("select",{value:d,onChange:T=>u(T.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-200",children:[i.jsx("option",{value:"",children:"All Health Status"}),i.jsx("option",{value:"healthy",children:"Healthy"}),i.jsx("option",{value:"sick",children:"Sick"}),i.jsx("option",{value:"quarantine",children:"Quarantine"}),i.jsx("option",{value:"deceased",children:"Deceased"})]}),i.jsxs("select",{value:h,onChange:T=>m(T.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-200",children:[i.jsx("option",{value:"",children:"All Species"}),[...new Set(t.map(T=>T.species).filter(Boolean))].map(T=>i.jsx("option",{value:T,children:T},T))]})]})}),z.length===0?i.jsxs("div",{className:"text-center py-12",children:[i.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx(Dn,{className:"w-8 h-8 text-gray-400"})}),i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No livestock found"}),i.jsx("p",{className:"text-gray-600 mb-4",children:t.length===0?"Get started by adding your first animal":"Try adjusting your search criteria"}),A&&t.length===0&&i.jsx("button",{onClick:V,className:"btn-primary",children:"Add Your First Animal"})]}):i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:z.map(T=>i.jsxs("div",{className:"bg-white rounded-lg shadow-sm hover:shadow-md transition-shadow p-6",children:[i.jsxs("div",{className:"flex items-start justify-between mb-4",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:T.name}),i.jsxs("p",{className:"text-gray-600",children:[T.species," ",T.breed&&`• ${T.breed}`]})]}),i.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${Y(T.health_status)}`,children:T.health_status})]}),i.jsxs("div",{className:"space-y-2 mb-4",children:[T.identification_number&&i.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[i.jsx(qw,{className:"w-4 h-4 mr-2"}),i.jsx("span",{children:T.identification_number})]}),T.age&&i.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[i.jsx(St,{className:"w-4 h-4 mr-2"}),i.jsxs("span",{children:[T.age," years old"]})]}),T.weight&&i.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[i.jsx(_g,{className:"w-4 h-4 mr-2"}),i.jsxs("span",{children:[T.weight," kg"]})]}),T.location&&i.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[i.jsx(ta,{className:"w-4 h-4 mr-2"}),i.jsx("span",{children:T.location})]})]}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsxs("button",{onClick:()=>E(T),className:"flex-1 bg-gray-100 hover:bg-gray-200 text-gray-700 px-3 py-2 rounded-lg text-sm font-medium transition-colors flex items-center justify-center space-x-1",children:[i.jsx(Ot,{className:"w-4 h-4"}),i.jsx("span",{children:"View"})]}),O&&i.jsxs("button",{onClick:()=>K(T),className:"flex-1 bg-primary-100 hover:bg-primary-200 text-primary-700 px-3 py-2 rounded-lg text-sm font-medium transition-colors flex items-center justify-center space-x-1",children:[i.jsx(Rn,{className:"w-4 h-4"}),i.jsx("span",{children:"Edit"})]}),C&&i.jsx("button",{onClick:()=>k(T.id),className:"bg-red-100 hover:bg-red-200 text-red-700 px-3 py-2 rounded-lg text-sm font-medium transition-colors flex items-center justify-center",children:i.jsx(br,{className:"w-4 h-4"})})]})]},T.id))}),v&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:i.jsx("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-screen overflow-y-auto",children:i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsxs("h2",{className:"text-xl font-semibold",children:[g==="create"&&"Add New Livestock",g==="edit"&&"Edit Livestock",g==="view"&&"Livestock Details"]}),i.jsx("button",{onClick:()=>y(!1),className:"text-gray-500 hover:text-gray-700",children:"×"})]}),g==="view"?i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),i.jsx("p",{className:"text-gray-900",children:(f==null?void 0:f.name)||"N/A"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Species"}),i.jsx("p",{className:"text-gray-900",children:(f==null?void 0:f.species)||"N/A"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Breed"}),i.jsx("p",{className:"text-gray-900",children:(f==null?void 0:f.breed)||"N/A"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Gender"}),i.jsx("p",{className:"text-gray-900",children:(f==null?void 0:f.gender)||"N/A"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Age"}),i.jsx("p",{className:"text-gray-900",children:f!=null&&f.age?`${f.age} years`:"N/A"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Weight"}),i.jsx("p",{className:"text-gray-900",children:f!=null&&f.weight?`${f.weight} kg`:"N/A"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Health Status"}),i.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${Y(f==null?void 0:f.health_status)}`,children:(f==null?void 0:f.health_status)||"N/A"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Location"}),i.jsx("p",{className:"text-gray-900",children:(f==null?void 0:f.location)||"N/A"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Identification Number"}),i.jsx("p",{className:"text-gray-900",children:(f==null?void 0:f.identification_number)||"N/A"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Acquisition Date"}),i.jsx("p",{className:"text-gray-900",children:(f==null?void 0:f.acquisition_date)||"N/A"})]})]}),(f==null?void 0:f.feeding_schedule)&&i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Feeding Schedule"}),i.jsx("p",{className:"text-gray-900",children:f.feeding_schedule})]}),(f==null?void 0:f.notes)&&i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),i.jsx("p",{className:"text-gray-900",children:f.notes})]})]}):i.jsxs("form",{onSubmit:B,className:"space-y-4",children:[w&&i.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg text-sm",children:w}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Name ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",name:"name",value:x.name,onChange:D,className:R("name"),placeholder:"Enter animal name"}),S.name&&i.jsx("p",{className:"text-red-500 text-xs mt-1",children:S.name})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Species ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",name:"species",value:x.species,onChange:D,className:R("species"),placeholder:"e.g., Cattle, Sheep, Goat"}),S.species&&i.jsx("p",{className:"text-red-500 text-xs mt-1",children:S.species})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Breed"}),i.jsx("input",{type:"text",name:"breed",value:x.breed,onChange:D,className:R("breed"),placeholder:"Enter breed"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Gender"}),i.jsxs("select",{name:"gender",value:x.gender,onChange:D,className:R("gender"),children:[i.jsx("option",{value:"",children:"Select gender"}),i.jsx("option",{value:"male",children:"Male"}),i.jsx("option",{value:"female",children:"Female"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Age (years)"}),i.jsx("input",{type:"number",name:"age",value:x.age,onChange:D,min:"0",max:"50",className:R("age"),placeholder:"Enter age"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Weight (kg)"}),i.jsx("input",{type:"number",name:"weight",value:x.weight,onChange:D,min:"0",step:"0.1",className:R("weight"),placeholder:"Enter weight"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Health Status"}),i.jsxs("select",{name:"health_status",value:x.health_status,onChange:D,className:R("health_status"),children:[i.jsx("option",{value:"healthy",children:"Healthy"}),i.jsx("option",{value:"sick",children:"Sick"}),i.jsx("option",{value:"quarantine",children:"Quarantine"}),i.jsx("option",{value:"deceased",children:"Deceased"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Location"}),i.jsx("input",{type:"text",name:"location",value:x.location,onChange:D,className:R("location"),placeholder:"Enter location"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Acquisition Date"}),i.jsx("input",{type:"date",name:"acquisition_date",value:x.acquisition_date,onChange:D,max:new Date().toISOString().split("T")[0],className:R("acquisition_date")})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Identification Number"}),i.jsx("input",{type:"text",name:"identification_number",value:x.identification_number,onChange:D,className:R("identification_number"),placeholder:"Enter ID number"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Feeding Schedule"}),i.jsx("textarea",{name:"feeding_schedule",value:x.feeding_schedule,onChange:D,rows:3,className:R("feeding_schedule"),placeholder:"Enter feeding schedule details"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),i.jsx("textarea",{name:"notes",value:x.notes,onChange:D,rows:3,className:R("notes"),placeholder:"Additional notes or observations"})]}),i.jsxs("div",{className:"flex space-x-3 pt-4",children:[i.jsx("button",{type:"submit",className:"flex-1 btn-primary",children:g==="create"?"Create Livestock":"Update Livestock"}),i.jsx("button",{type:"button",onClick:()=>y(!1),className:"flex-1 btn-secondary",children:"Cancel"})]})]})]})})})]})})},iC=({record:e,mode:t,livestock:s,onRecordSaved:n,onCancel:r})=>{const[a,l]=N.useState({livestock_id:"",record_type:"",record_date:"",description:"",treatment:"",veterinarian:"",cost:"",next_due_date:"",notes:""}),[o,c]=N.useState(!1),[d,u]=N.useState(""),[h,m]=N.useState({}),v=["health_check","vaccination","treatment","breeding","feeding","weight_check","deworming","injury","illness","death","other"];N.useEffect(()=>{var x,j;e&&t==="edit"&&l({livestock_id:((x=e.livestock_id)==null?void 0:x.toString())||"",record_type:e.record_type||"",record_date:e.record_date?e.record_date.split("T")[0]:"",description:e.description||"",treatment:e.treatment||"",veterinarian:e.veterinarian||"",cost:((j=e.cost)==null?void 0:j.toString())||"",next_due_date:e.next_due_date?e.next_due_date.split("T")[0]:"",notes:e.notes||""})},[e,t]);const y=()=>{const x={};return a.livestock_id||(x.livestock_id="Animal selection is required"),a.record_type||(x.record_type="Record type is required"),a.record_date||(x.record_date="Record date is required"),a.description.trim()||(x.description="Description is required"),a.cost&&(isNaN(a.cost)||Number(a.cost)<0)&&(x.cost="Cost must be a valid positive number"),a.record_date&&a.next_due_date&&new Date(a.next_due_date)<=new Date(a.record_date)&&(x.next_due_date="Next due date must be after record date"),m(x),Object.keys(x).length===0},g=x=>{const{name:j,value:w}=x.target;l({...a,[j]:w}),h[j]&&m({...h,[j]:""})},b=async x=>{var j;if(x.preventDefault(),c(!0),u(""),!y()){c(!1);return}try{const w={livestock_id:Number(a.livestock_id),record_type:a.record_type,record_date:a.record_date,description:a.description.trim(),treatment:a.treatment.trim(),veterinarian:a.veterinarian.trim(),cost:a.cost?Number(a.cost):0,next_due_date:a.next_due_date||null,notes:a.notes.trim()};let _;t==="create"?_=await Vl.createHealthRecord(w):_=await Vl.updateHealthRecord(e.id,w),n&&n(_.data)}catch(w){console.error("Health record save error:",w);const _=(j=w.response)==null?void 0:j.data;_!=null&&_.field?m({[_.field]:_.message}):_!=null&&_.message?u(_.message):u(t==="create"?"Failed to create health record":"Failed to update health record")}finally{c(!1)}},f=x=>{const j="w-full border rounded-xl px-3 py-2 focus:outline-none focus:ring-2 transition-colors";return h[x]?`${j} border-red-500 focus:ring-red-200`:`${j} border-gray-300 focus:ring-primary-200 focus:border-primary-500`},p=x=>x.split("_").map(j=>j.charAt(0).toUpperCase()+j.slice(1)).join(" ");return i.jsxs("form",{onSubmit:b,className:"space-y-4",children:[d&&i.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-xl text-sm",children:d}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Animal ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsxs("select",{name:"livestock_id",value:a.livestock_id,onChange:g,className:f("livestock_id"),children:[i.jsx("option",{value:"",children:"Select animal"}),s.map(x=>i.jsxs("option",{value:x.id,children:[x.name," (",x.species,") - ",x.identification_number||`ID: ${x.id}`]},x.id))]}),h.livestock_id&&i.jsx("p",{className:"text-red-500 text-xs mt-1",children:h.livestock_id})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Record Type ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsxs("select",{name:"record_type",value:a.record_type,onChange:g,className:f("record_type"),children:[i.jsx("option",{value:"",children:"Select record type"}),v.map(x=>i.jsx("option",{value:x,children:p(x)},x))]}),h.record_type&&i.jsx("p",{className:"text-red-500 text-xs mt-1",children:h.record_type})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Record Date ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"date",name:"record_date",value:a.record_date,onChange:g,className:f("record_date")}),h.record_date&&i.jsx("p",{className:"text-red-500 text-xs mt-1",children:h.record_date})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Next Due Date"}),i.jsx("input",{type:"date",name:"next_due_date",value:a.next_due_date,onChange:g,className:f("next_due_date")}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"For vaccinations, treatments, or checkups"}),h.next_due_date&&i.jsx("p",{className:"text-red-500 text-xs mt-1",children:h.next_due_date})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Description ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("textarea",{name:"description",value:a.description,onChange:g,rows:3,className:f("description"),placeholder:"Describe the health record details..."}),h.description&&i.jsx("p",{className:"text-red-500 text-xs mt-1",children:h.description})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Treatment"}),i.jsx("input",{type:"text",name:"treatment",value:a.treatment,onChange:g,className:f("treatment"),placeholder:"Treatment given (if any)"}),h.treatment&&i.jsx("p",{className:"text-red-500 text-xs mt-1",children:h.treatment})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Veterinarian"}),i.jsx("input",{type:"text",name:"veterinarian",value:a.veterinarian,onChange:g,className:f("veterinarian"),placeholder:"Veterinarian name"}),h.veterinarian&&i.jsx("p",{className:"text-red-500 text-xs mt-1",children:h.veterinarian})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cost (₦)"}),i.jsx("input",{type:"number",name:"cost",value:a.cost,onChange:g,className:f("cost"),placeholder:"Cost in Naira",min:"0",step:"0.01"}),h.cost&&i.jsx("p",{className:"text-red-500 text-xs mt-1",children:h.cost})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),i.jsx("textarea",{name:"notes",value:a.notes,onChange:g,rows:3,className:f("notes"),placeholder:"Additional notes or observations..."}),h.notes&&i.jsx("p",{className:"text-red-500 text-xs mt-1",children:h.notes})]})]}),i.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[i.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-xl transition-colors",children:"Cancel"}),i.jsx("button",{type:"submit",disabled:o,className:"px-4 py-2 bg-primary-600 hover:bg-primary-700 text-white rounded-xl transition-colors disabled:opacity-50",children:o?i.jsxs("span",{className:"flex items-center",children:[i.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",children:[i.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),i.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),t==="create"?"Creating...":"Updating..."]}):t==="create"?"Create Record":"Update Record"})]})]})},aC=()=>{var T;const{user:e}=ze(),[t,s]=N.useState([]),[n,r]=N.useState([]),[a,l]=N.useState(!0),[o,c]=N.useState(""),[d,u]=N.useState(""),[h,m]=N.useState(""),[v,y]=N.useState("all"),[g,b]=N.useState(!1),[f,p]=N.useState("create"),[x,j]=N.useState(null);N.useState("");const w=["Admin","Farm Manager","Veterinary Doctor"].includes(e==null?void 0:e.role),_=["Admin","Farm Manager"].includes(e==null?void 0:e.role);N.useEffect(()=>{S()},[]);const S=async()=>{try{l(!0);const[L,H]=await Promise.all([vn.getLivestock(),Vl.getHealthRecords()]);s(L.data),r(H.data),c("")}catch(L){console.error("Failed to fetch data:",L),c("Failed to load livestock data. Please try again.");try{const H=await vn.getLivestock();s(H.data),P(H.data)}catch{s([]),r([])}}finally{l(!1)}},P=L=>{const H=[],Q=["health_check","vaccination","breeding","feeding","treatment"];L.forEach(q=>{const oe=Math.floor(Math.random()*4)+2;for(let Ct=0;Ct<oe;Ct++){const Je=Q[Math.floor(Math.random()*Q.length)],Er=Math.floor(Math.random()*90),nn=new Date;nn.setDate(nn.getDate()-Er),H.push({id:`${q.id}_${Ct}`,animal_id:q.id,animal_name:q.name,animal_species:q.species,type:Je,date:nn.toISOString().split("T")[0],description:A(Je,q),notes:O(Je),veterinarian:Je==="vaccination"||Je==="treatment"?"Dr. Johnson":null,next_due:C(Je,nn)})}}),H.sort((q,oe)=>new Date(oe.date)-new Date(q.date)),r(H)},A=(L,H)=>({health_check:`General health examination for ${H.name}`,vaccination:`Vaccination administered to ${H.name}`,breeding:`Breeding activity recorded for ${H.name}`,feeding:`Feeding schedule updated for ${H.name}`,treatment:`Medical treatment provided to ${H.name}`})[L]||"Health record",O=L=>({health_check:"Animal appears healthy, no concerns noted",vaccination:"Vaccine administered, no adverse reactions observed",breeding:"Breeding attempt successful, monitoring required",feeding:"Adjusted feed portion, monitor weight gain",treatment:"Treatment completed, follow-up required"})[L]||"No additional notes",C=(L,H)=>{if(L==="vaccination"){const Q=new Date(H);return Q.setMonth(Q.getMonth()+6),Q.toISOString().split("T")[0]}else if(L==="health_check"){const Q=new Date(H);return Q.setMonth(Q.getMonth()+3),Q.toISOString().split("T")[0]}return null},F=L=>{switch(L){case"healthy":return"bg-green-100 text-green-700 border-green-200";case"sick":return"bg-red-100 text-red-700 border-red-200";case"under_treatment":return"bg-yellow-100 text-yellow-700 border-yellow-200";case"quarantine":return"bg-orange-100 text-orange-700 border-orange-200";default:return"bg-gray-100 text-gray-700 border-gray-200"}},V=L=>{switch(L){case"health_check":return i.jsx(Es,{className:"w-4 h-4"});case"vaccination":return i.jsx(Jf,{className:"w-4 h-4"});case"breeding":return i.jsx(Bw,{className:"w-4 h-4"});case"feeding":return i.jsx(n2,{className:"w-4 h-4"});case"treatment":return i.jsx(Dn,{className:"w-4 h-4"});default:return i.jsx($l,{className:"w-4 h-4"})}},K=L=>{switch(L){case"health_check":return"bg-blue-100 text-blue-700";case"vaccination":return"bg-purple-100 text-purple-700";case"breeding":return"bg-pink-100 text-pink-700";case"feeding":return"bg-green-100 text-green-700";case"treatment":return"bg-red-100 text-red-700";default:return"bg-gray-100 text-gray-700"}},E=n.filter(L=>{var Ct,Je;const H=((Ct=L.animal_name)==null?void 0:Ct.toLowerCase().includes(d.toLowerCase()))||((Je=L.description)==null?void 0:Je.toLowerCase().includes(d.toLowerCase())),Q=t.find(Er=>Er.id===L.animal_id),q=!h||(Q==null?void 0:Q.health_status)===h,oe=v==="all"||L.type===v;return H&&q&&oe}),k=()=>{w&&(p("create"),j(null),b(!0))},B=L=>{w&&(p("edit"),j(L),b(!0))},D=L=>{p("view"),j(L),b(!0)},z=L=>{f==="create"?r([L,...n]):f==="edit"&&r(n.map(H=>H.id===L.id?L:H)),b(!1),j(null)},Y=async L=>{if(_&&window.confirm("Are you sure you want to delete this health record? This action cannot be undone."))try{await Vl.deleteHealthRecord(L.id),r(n.filter(H=>H.id!==L.id))}catch(H){console.error("Failed to delete health record:",H),c("Failed to delete health record. Please try again.")}},R=()=>{const L=new Date,H=new Date;return H.setDate(L.getDate()+7),n.filter(Q=>{if(!Q.next_due)return!1;const q=new Date(Q.next_due);return q>=L&&q<=H}).slice(0,5)};return a?i.jsx("div",{className:"flex items-center justify-center min-h-96",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Livestock Health Management"}),i.jsx("p",{className:"text-gray-600 mt-2",children:"Track health, vaccinations, breeding, and feeding records"})]}),w&&i.jsxs("button",{onClick:k,className:"mt-4 sm:mt-0 bg-primary-600 hover:bg-primary-700 text-white px-4 py-2 rounded-xl flex items-center space-x-2 transition-colors",children:[i.jsx(Ln,{className:"w-5 h-5"}),i.jsx("span",{children:"Add Health Record"})]})]}),o&&i.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-xl",children:o}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[i.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"bg-green-100 p-3 rounded-lg",children:i.jsx(Ft,{className:"w-6 h-6 text-green-600"})}),i.jsxs("div",{className:"ml-4",children:[i.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Healthy Animals"}),i.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.filter(L=>L.health_status==="healthy").length})]})]})}),i.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"bg-red-100 p-3 rounded-lg",children:i.jsx(Ul,{className:"w-6 h-6 text-red-600"})}),i.jsxs("div",{className:"ml-4",children:[i.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Need Attention"}),i.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.filter(L=>L.health_status==="sick"||L.health_status==="under_treatment").length})]})]})}),i.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"bg-purple-100 p-3 rounded-lg",children:i.jsx(Jf,{className:"w-6 h-6 text-purple-600"})}),i.jsxs("div",{className:"ml-4",children:[i.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Due Vaccinations"}),i.jsx("p",{className:"text-2xl font-bold text-gray-900",children:R().filter(L=>L.type==="vaccination").length})]})]})}),i.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"bg-blue-100 p-3 rounded-lg",children:i.jsx(Es,{className:"w-6 h-6 text-blue-600"})}),i.jsxs("div",{className:"ml-4",children:[i.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Records"}),i.jsx("p",{className:"text-2xl font-bold text-gray-900",children:n.length})]})]})})]}),R().length>0&&i.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-xl p-4",children:[i.jsx("h3",{className:"text-lg font-semibold text-yellow-800 mb-3",children:"Upcoming Due Dates"}),i.jsx("div",{className:"space-y-2",children:R().map(L=>i.jsxs("div",{className:"flex items-center justify-between bg-white p-3 rounded-lg",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:`p-2 rounded-lg ${K(L.type)}`,children:V(L.type)}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-gray-900",children:L.animal_name}),i.jsx("p",{className:"text-sm text-gray-600",children:L.type.replace("_"," ").toUpperCase()})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("p",{className:"text-sm font-medium text-gray-900",children:["Due: ",new Date(L.next_due).toLocaleDateString()]}),i.jsxs("p",{className:"text-xs text-gray-500",children:[Math.ceil((new Date(L.next_due)-new Date)/(1e3*60*60*24))," days"]})]})]},L.id))})]}),i.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search Records"}),i.jsxs("div",{className:"relative",children:[i.jsx(sa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),i.jsx("input",{type:"text",placeholder:"Search by animal or description...",value:d,onChange:L=>u(L.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Health Status"}),i.jsxs("select",{value:h,onChange:L=>m(L.target.value),className:"w-full border border-gray-300 rounded-xl px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[i.jsx("option",{value:"",children:"All Status"}),i.jsx("option",{value:"healthy",children:"Healthy"}),i.jsx("option",{value:"sick",children:"Sick"}),i.jsx("option",{value:"under_treatment",children:"Under Treatment"}),i.jsx("option",{value:"quarantine",children:"Quarantine"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Record Type"}),i.jsxs("select",{value:v,onChange:L=>y(L.target.value),className:"w-full border border-gray-300 rounded-xl px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[i.jsx("option",{value:"all",children:"All Types"}),i.jsx("option",{value:"health_check",children:"Health Check"}),i.jsx("option",{value:"vaccination",children:"Vaccination"}),i.jsx("option",{value:"breeding",children:"Breeding"}),i.jsx("option",{value:"feeding",children:"Feeding"}),i.jsx("option",{value:"treatment",children:"Treatment"})]})]}),i.jsx("div",{className:"flex items-end",children:i.jsxs("div",{className:"text-sm text-gray-600",children:[i.jsxs("p",{className:"font-medium",children:["Total: ",E.length," records"]}),i.jsxs("p",{children:["Animals: ",t.length]})]})})]})}),i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[i.jsxs("div",{className:"p-6 border-b border-gray-200",children:[i.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Health Records"}),i.jsx("p",{className:"text-gray-600 mt-1",children:"Recent health activities and records"})]}),i.jsx("div",{className:"p-6",children:E.length===0?i.jsxs("div",{className:"text-center py-8",children:[i.jsx(Es,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No health records found"}),i.jsx("p",{className:"text-gray-600",children:"No health records match your search criteria."})]}):i.jsx("div",{className:"space-y-4",children:E.map(L=>{var Q;const H=t.find(q=>q.id===L.animal_id);return i.jsx("div",{className:"border border-gray-200 rounded-xl p-4 hover:shadow-md transition-shadow",children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex items-start space-x-4",children:[i.jsx("div",{className:`p-3 rounded-lg ${K(L.type)}`,children:V(L.type)}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[i.jsx("h3",{className:"font-semibold text-gray-900",children:L.animal_name}),i.jsxs("span",{className:"text-sm text-gray-500",children:["(",L.animal_species,")"]}),H&&i.jsx("span",{className:`inline-block px-2 py-1 text-xs font-medium rounded-full border ${F(H.health_status)}`,children:(Q=H.health_status)==null?void 0:Q.replace("_"," ")})]}),i.jsx("p",{className:"text-gray-900 mb-2",children:L.description}),i.jsx("p",{className:"text-sm text-gray-600 mb-3",children:L.notes}),i.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[i.jsxs("div",{className:"flex items-center space-x-1",children:[i.jsx(St,{className:"w-4 h-4"}),i.jsx("span",{children:new Date(L.date).toLocaleDateString()})]}),L.veterinarian&&i.jsxs("div",{className:"flex items-center space-x-1",children:[i.jsx(Dn,{className:"w-4 h-4"}),i.jsx("span",{children:L.veterinarian})]}),L.next_due&&i.jsxs("div",{className:"flex items-center space-x-1",children:[i.jsx(Ul,{className:"w-4 h-4"}),i.jsxs("span",{children:["Next due: ",new Date(L.next_due).toLocaleDateString()]})]})]})]})]}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsxs("button",{onClick:()=>D(L),className:"flex-1 bg-gray-100 hover:bg-gray-200 text-gray-700 px-3 py-2 rounded-lg text-sm font-medium transition-colors flex items-center justify-center space-x-1",children:[i.jsx(Ot,{className:"w-4 h-4"}),i.jsx("span",{children:"View"})]}),w&&i.jsxs(i.Fragment,{children:[i.jsxs("button",{onClick:()=>B(L),className:"flex-1 bg-primary-100 hover:bg-primary-200 text-primary-700 px-3 py-2 rounded-lg text-sm font-medium transition-colors flex items-center justify-center space-x-1",children:[i.jsx(Rn,{className:"w-4 h-4"}),i.jsx("span",{children:"Edit"})]}),_&&i.jsx("button",{onClick:()=>Y(L),className:"bg-red-100 hover:bg-red-200 text-red-700 px-3 py-2 rounded-lg text-sm font-medium transition-colors flex items-center justify-center",children:i.jsx(br,{className:"w-4 h-4"})})]})]})]})},L.id)})})})]}),g&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:f==="create"?"Add Health Record":f==="edit"?"Edit Health Record":"Health Record Details"}),i.jsx("button",{onClick:()=>b(!1),className:"text-gray-400 hover:text-gray-600",children:i.jsx(Ue,{className:"w-6 h-6"})})]}),f==="view"&&x?i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Animal"}),i.jsx("p",{className:"mt-1 text-sm text-gray-900",children:x.animal_name})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Record Type"}),i.jsx("p",{className:"mt-1 text-sm text-gray-900",children:(T=x.record_type)==null?void 0:T.replace("_"," ")})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Date"}),i.jsx("p",{className:"mt-1 text-sm text-gray-900",children:new Date(x.record_date).toLocaleDateString()})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Veterinarian"}),i.jsx("p",{className:"mt-1 text-sm text-gray-900",children:x.veterinarian||"Not specified"})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),i.jsx("p",{className:"mt-1 text-sm text-gray-900",children:x.description})]}),x.treatment&&i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Treatment"}),i.jsx("p",{className:"mt-1 text-sm text-gray-900",children:x.treatment})]}),x.cost>0&&i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Cost"}),i.jsxs("p",{className:"mt-1 text-sm text-gray-900",children:["₦",x.cost.toLocaleString("en-NG",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),x.next_due_date&&i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Next Due Date"}),i.jsx("p",{className:"mt-1 text-sm text-gray-900",children:new Date(x.next_due_date).toLocaleDateString()})]}),x.notes&&i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Notes"}),i.jsx("p",{className:"mt-1 text-sm text-gray-900",children:x.notes})]})]}),i.jsx("div",{className:"flex justify-end space-x-3 mt-6",children:i.jsx("button",{onClick:()=>b(!1),className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-xl transition-colors",children:"Close"})})]}):i.jsx(iC,{record:x,mode:f,livestock:t,onRecordSaved:z,onCancel:()=>b(!1)})]})})]})},lC=({user:e,mode:t,onUserSaved:s,onCancel:n})=>{const{user:r}=ze(),[a,l]=N.useState({full_name:"",email:"",phone:"",role:"Farm Attendant",password:"",confirmPassword:""}),[o,c]=N.useState(!1),[d,u]=N.useState(""),[h,m]=N.useState({}),v=["Farm Attendant","Pasture Manager","Veterinary Doctor","Vendor","Contractor","Visitor","Other"];(r==null?void 0:r.role)==="Admin"&&v.unshift("Farm Manager","Admin");const g=["Vendor","Contractor","Visitor","Other"].includes(a.role);N.useEffect(()=>{e&&t==="edit"&&l({full_name:e.full_name||"",email:e.email||"",phone:e.phone||"",role:e.role||"Farm Attendant",password:"",confirmPassword:""})},[e,t]);const b=()=>{const j={};return a.full_name.trim()||(j.full_name="Full name is required"),g?a.email.trim()&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a.email)&&(j.email="Please enter a valid email address"):a.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a.email)||(j.email="Please enter a valid email address"):j.email="Email is required",a.role||(j.role="Role is required"),g?a.password&&(a.password.length<6&&(j.password="Password must be at least 6 characters"),a.password!==a.confirmPassword&&(j.confirmPassword="Passwords do not match")):t==="create"?(a.password?a.password.length<6&&(j.password="Password must be at least 6 characters"):j.password="Password is required",a.password!==a.confirmPassword&&(j.confirmPassword="Passwords do not match")):t==="edit"&&a.password&&(a.password.length<6&&(j.password="Password must be at least 6 characters"),a.password!==a.confirmPassword&&(j.confirmPassword="Passwords do not match")),m(j),Object.keys(j).length===0},f=j=>{const{name:w,value:_}=j.target;l({...a,[w]:_}),h[w]&&m({...h,[w]:""})},p=async j=>{var w;if(j.preventDefault(),c(!0),u(""),!b()){c(!1);return}try{const _={full_name:a.full_name,phone:a.phone,role:a.role};a.email.trim()&&(_.email=a.email),(t==="create"||t==="edit"&&a.password)&&(_.password=a.password);let S;t==="create"?S=await ps.createUser(_):S=await ps.updateUser(e.id,_),s&&s(S.data)}catch(_){console.error("User save error:",_);const S=(w=_.response)==null?void 0:w.data;S!=null&&S.field?m({[S.field]:S.message}):S!=null&&S.message?u(S.message):u(t==="create"?"Failed to create user":"Failed to update user")}finally{c(!1)}},x=j=>{const w="w-full border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 transition-colors";return h[j]?`${w} border-red-500 focus:ring-red-200`:`${w} border-gray-300 focus:ring-primary-200 focus:border-primary-500`};return i.jsxs("form",{onSubmit:p,className:"space-y-4",children:[d&&i.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg text-sm",children:d}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Full Name ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",name:"full_name",value:a.full_name,onChange:f,className:x("full_name"),placeholder:"Enter full name"}),h.full_name&&i.jsx("p",{className:"text-red-500 text-xs mt-1",children:h.full_name})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Email ",!g&&i.jsx("span",{className:"text-red-500",children:"*"}),g&&i.jsx("span",{className:"text-gray-500 text-xs",children:"(Optional for external users)"})]}),i.jsx("input",{type:"email",name:"email",value:a.email,onChange:f,className:x("email"),placeholder:g?"Enter email address (optional)":"Enter email address"}),h.email&&i.jsx("p",{className:"text-red-500 text-xs mt-1",children:h.email})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),i.jsx("input",{type:"tel",name:"phone",value:a.phone,onChange:f,className:x("phone"),placeholder:"Enter phone number"}),h.phone&&i.jsx("p",{className:"text-red-500 text-xs mt-1",children:h.phone})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Role ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("select",{name:"role",value:a.role,onChange:f,className:x("role"),children:v.map(j=>i.jsx("option",{value:j,children:j},j))}),h.role&&i.jsx("p",{className:"text-red-500 text-xs mt-1",children:h.role})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[t==="create"?"Password":"New Password",t==="create"&&!g&&i.jsx("span",{className:"text-red-500",children:"*"}),g&&i.jsx("span",{className:"text-gray-500 text-xs",children:"(Not required for external users)"})]}),i.jsx("input",{type:"password",name:"password",value:a.password,onChange:f,className:x("password"),placeholder:g?"Enter password (optional)":t==="create"?"Enter password":"Leave blank to keep current password"}),h.password&&i.jsx("p",{className:"text-red-500 text-xs mt-1",children:h.password})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[t==="create"?"Confirm Password":"Confirm New Password",t==="create"&&!g&&i.jsx("span",{className:"text-red-500",children:"*"}),g&&i.jsx("span",{className:"text-gray-500 text-xs",children:"(Optional)"})]}),i.jsx("input",{type:"password",name:"confirmPassword",value:a.confirmPassword,onChange:f,className:x("confirmPassword"),placeholder:g?"Confirm password (optional)":"Confirm password"}),h.confirmPassword&&i.jsx("p",{className:"text-red-500 text-xs mt-1",children:h.confirmPassword})]})]}),i.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[i.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-xl transition-colors",children:"Cancel"}),i.jsx("button",{type:"submit",disabled:o,className:"px-4 py-2 bg-primary-600 hover:bg-primary-700 text-white rounded-xl transition-colors disabled:opacity-50",children:o?i.jsxs("span",{className:"flex items-center",children:[i.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",children:[i.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),i.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),t==="create"?"Creating...":"Updating..."]}):t==="create"?"Create User":"Update User"})]})]})},oC=({user:e,mode:t,onUserSaved:s,onCancel:n})=>{const[r,a]=N.useState({full_name:"",phone:"",job_description:"",email:""}),[l,o]=N.useState(!1),[c,d]=N.useState(""),[u,h]=N.useState({}),m=["Vendor","Contractor","Equipment Supplier","Feed Supplier","Veterinary Service","Transport Service","Maintenance Worker","Consultant","Inspector","Delivery Personnel","Other"];N.useEffect(()=>{e&&t==="edit"&&a({full_name:e.full_name||"",phone:e.phone||"",job_description:e.job_description||e.role||"",email:e.email||""})},[e,t]);const v=()=>{const f={};return r.full_name.trim()||(f.full_name="Full name is required"),r.phone.trim()?/^\+?[\d\s\-\(\)]{10,}$/.test(r.phone.replace(/\s+/g,""))||(f.phone="Please enter a valid phone number"):f.phone="Phone number is required",r.job_description.trim()||(f.job_description="Job description/role is required"),r.email.trim()&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r.email)&&(f.email="Please enter a valid email address"),h(f),Object.keys(f).length===0},y=f=>{const{name:p,value:x}=f.target;a({...r,[p]:x}),u[p]&&h({...u,[p]:""})},g=async f=>{var p;if(f.preventDefault(),o(!0),d(""),!v()){o(!1);return}try{const x={full_name:r.full_name.trim(),phone:r.phone.trim(),role:"External User",job_description:r.job_description.trim(),email:r.email.trim()||null,is_external:!0};let j;t==="create"?j=await ps.createUser(x):j=await ps.updateUser(e.id,x),s&&s(j.data)}catch(x){console.error("External user save error:",x);const j=(p=x.response)==null?void 0:p.data;j!=null&&j.field?h({[j.field]:j.message}):j!=null&&j.message?d(j.message):d(t==="create"?"Failed to add external user":"Failed to update external user")}finally{o(!1)}},b=f=>{const p="w-full border rounded-xl px-3 py-2 focus:outline-none focus:ring-2 transition-colors";return u[f]?`${p} border-red-500 focus:ring-red-200`:`${p} border-gray-300 focus:ring-primary-200 focus:border-primary-500`};return i.jsxs("form",{onSubmit:g,className:"space-y-4",children:[c&&i.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-xl text-sm",children:c}),i.jsxs("div",{className:"bg-blue-50 border border-blue-200 text-blue-700 px-4 py-3 rounded-xl text-sm",children:[i.jsx("p",{className:"font-medium",children:"External User Registration"}),i.jsx("p",{className:"text-xs mt-1",children:"External users don't need login credentials. Only basic contact information is required."})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Full Name ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",name:"full_name",value:r.full_name,onChange:y,className:b("full_name"),placeholder:"Enter full name"}),u.full_name&&i.jsx("p",{className:"text-red-500 text-xs mt-1",children:u.full_name})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Phone Number ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"tel",name:"phone",value:r.phone,onChange:y,className:b("phone"),placeholder:"Enter phone number"}),u.phone&&i.jsx("p",{className:"text-red-500 text-xs mt-1",children:u.phone})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Job Description/Role ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("select",{name:"job_description",value:r.job_description,onChange:y,className:b("job_description"),children:[i.jsx("option",{value:"",children:"Select job role"}),m.map(f=>i.jsx("option",{value:f,children:f},f))]}),r.job_description==="Other"&&i.jsx("input",{type:"text",name:"job_description",value:"",onChange:f=>a({...r,job_description:f.target.value}),className:b("job_description"),placeholder:"Specify other job description"})]}),u.job_description&&i.jsx("p",{className:"text-red-500 text-xs mt-1",children:u.job_description})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Email ",i.jsx("span",{className:"text-gray-500 text-xs",children:"(Optional)"})]}),i.jsx("input",{type:"email",name:"email",value:r.email,onChange:y,className:b("email"),placeholder:"Enter email address (optional)"}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Email is optional for external users as they won't access the system directly."}),u.email&&i.jsx("p",{className:"text-red-500 text-xs mt-1",children:u.email})]})]}),i.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[i.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-xl transition-colors",children:"Cancel"}),i.jsx("button",{type:"submit",disabled:l,className:"px-4 py-2 bg-primary-600 hover:bg-primary-700 text-white rounded-xl transition-colors disabled:opacity-50",children:l?i.jsxs("span",{className:"flex items-center",children:[i.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",children:[i.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),i.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),t==="create"?"Adding...":"Updating..."]}):t==="create"?"Add External User":"Update External User"})]})]})},cC=()=>{const{user:e}=ze(),[t,s]=N.useState([]),[n,r]=N.useState(!0),[a,l]=N.useState(""),[o,c]=N.useState(""),[d,u]=N.useState(""),[h,m]=N.useState("all"),[v,y]=N.useState(!1),[g,b]=N.useState(!1),[f,p]=N.useState("create"),[x,j]=N.useState("create"),[w,_]=N.useState(null),S=["Admin","Farm Manager"].includes(e==null?void 0:e.role),P=["Admin","Farm Manager","Farm Attendant","Pasture Manager","Veterinary Doctor"],A=["Vendor","Contractor","Visitor","Other"];N.useEffect(()=>{O()},[]);const O=async()=>{try{r(!0);const R=await ps.getUsers();s(R.data),l("")}catch(R){console.error("Failed to fetch users:",R),l("Failed to load users. Please try again.")}finally{r(!1)}},C=t.filter(R=>{var Q,q,oe;const T=((Q=R.full_name)==null?void 0:Q.toLowerCase().includes(o.toLowerCase()))||((q=R.email)==null?void 0:q.toLowerCase().includes(o.toLowerCase()))||((oe=R.phone)==null?void 0:oe.includes(o)),L=!d||R.role===d,H=h==="all"||h==="staff"&&P.includes(R.role)||h==="external"&&A.includes(R.role);return T&&L&&H}),F=C.filter(R=>P.includes(R.role)),V=C.filter(R=>A.includes(R.role)),K=R=>({Admin:"bg-red-100 text-red-700 border-red-200","Farm Manager":"bg-blue-100 text-blue-700 border-blue-200","Pasture Manager":"bg-green-100 text-green-700 border-green-200","Farm Attendant":"bg-yellow-100 text-yellow-700 border-yellow-200","Veterinary Doctor":"bg-purple-100 text-purple-700 border-purple-200",Vendor:"bg-orange-100 text-orange-700 border-orange-200",Contractor:"bg-indigo-100 text-indigo-700 border-indigo-200"})[R]||"bg-gray-100 text-gray-700 border-gray-200",E=()=>{S&&(p("create"),_(null),y(!0))},k=()=>{S&&(j("create"),_(null),b(!0))},B=R=>{S&&(p("edit"),_(R),y(!0))},D=R=>{p("view"),_(R),y(!0)},z=R=>{f==="create"?s([...t,R]):f==="edit"&&s(t.map(T=>T.id===R.id?R:T)),y(!1),_(null)},Y=R=>{x==="create"?s([...t,R]):x==="edit"&&s(t.map(T=>T.id===R.id?R:T)),b(!1),_(null)};return n?i.jsx("div",{className:"flex items-center justify-center min-h-96",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"User Management"}),i.jsx("p",{className:"text-gray-600 mt-2",children:"Manage staff and external users"})]}),S&&i.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 mt-4 sm:mt-0",children:[i.jsxs("button",{onClick:E,className:"bg-primary-600 hover:bg-primary-700 text-white px-4 py-2 rounded-xl flex items-center space-x-2 transition-colors",children:[i.jsx(Ln,{className:"w-5 h-5"}),i.jsx("span",{children:"Add Staff User"})]}),i.jsxs("button",{onClick:k,className:"bg-orange-600 hover:bg-orange-700 text-white px-4 py-2 rounded-xl flex items-center space-x-2 transition-colors",children:[i.jsx(Ln,{className:"w-5 h-5"}),i.jsx("span",{children:"Add External User"})]})]})]}),a&&i.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-xl",children:a}),i.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search Users"}),i.jsxs("div",{className:"relative",children:[i.jsx(sa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),i.jsx("input",{type:"text",placeholder:"Search by name, email, or phone...",value:o,onChange:R=>c(R.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Filter by Role"}),i.jsxs("select",{value:d,onChange:R=>u(R.target.value),className:"w-full border border-gray-300 rounded-xl px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[i.jsx("option",{value:"",children:"All Roles"}),[...P,...A].map(R=>i.jsx("option",{value:R,children:R},R))]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Filter by Category"}),i.jsxs("select",{value:h,onChange:R=>m(R.target.value),className:"w-full border border-gray-300 rounded-xl px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[i.jsx("option",{value:"all",children:"All Users"}),i.jsx("option",{value:"staff",children:"Active Staff"}),i.jsx("option",{value:"external",children:"External Users"})]})]}),i.jsx("div",{className:"flex items-end",children:i.jsxs("div",{className:"text-sm text-gray-600",children:[i.jsxs("p",{className:"font-medium",children:["Total: ",C.length]}),i.jsxs("p",{children:["Staff: ",F.length," | External: ",V.length]})]})})]})}),(h==="all"||h==="staff")&&i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[i.jsxs("div",{className:"p-6 border-b border-gray-200",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(t2,{className:"w-5 h-5 text-green-600"}),i.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Active Staff"}),i.jsx("span",{className:"bg-green-100 text-green-700 px-2 py-1 rounded-full text-sm font-medium",children:F.length})]}),i.jsx("p",{className:"text-gray-600 mt-1",children:"Farm employees and staff members"})]}),i.jsx("div",{className:"p-6",children:F.length===0?i.jsxs("div",{className:"text-center py-8",children:[i.jsx(is,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No staff found"}),i.jsx("p",{className:"text-gray-600",children:"No staff members match your search criteria."})]}):i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:F.map(R=>i.jsxs("div",{className:"border border-gray-200 rounded-xl p-4 hover:shadow-md transition-shadow",children:[i.jsx("div",{className:"flex items-start justify-between mb-3",children:i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"font-semibold text-gray-900",children:R.full_name}),i.jsx("span",{className:`inline-block px-2 py-1 text-xs font-medium rounded-full border ${K(R.role)}`,children:R.role})]})}),i.jsxs("div",{className:"space-y-2 mb-4",children:[i.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[i.jsx(ds,{className:"w-4 h-4"}),i.jsx("span",{children:R.email})]}),R.phone&&i.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[i.jsx(Yl,{className:"w-4 h-4"}),i.jsx("span",{children:R.phone})]}),i.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[i.jsx(St,{className:"w-4 h-4"}),i.jsxs("span",{children:["Joined ",new Date(R.created_at).toLocaleDateString()]})]})]}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsxs("button",{onClick:()=>D(R),className:"flex-1 bg-gray-100 hover:bg-gray-200 text-gray-700 px-3 py-2 rounded-lg text-sm font-medium transition-colors flex items-center justify-center space-x-1",children:[i.jsx(Ot,{className:"w-4 h-4"}),i.jsx("span",{children:"View"})]}),S&&i.jsxs("button",{onClick:()=>B(R),className:"flex-1 bg-primary-100 hover:bg-primary-200 text-primary-700 px-3 py-2 rounded-lg text-sm font-medium transition-colors flex items-center justify-center space-x-1",children:[i.jsx(Rn,{className:"w-4 h-4"}),i.jsx("span",{children:"Edit"})]})]})]},R.id))})})]}),(h==="all"||h==="external")&&i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[i.jsxs("div",{className:"p-6 border-b border-gray-200",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(s2,{className:"w-5 h-5 text-orange-600"}),i.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"External Users"}),i.jsx("span",{className:"bg-orange-100 text-orange-700 px-2 py-1 rounded-full text-sm font-medium",children:V.length})]}),i.jsx("p",{className:"text-gray-600 mt-1",children:"Vendors, contractors, and other external contacts"})]}),i.jsx("div",{className:"p-6",children:V.length===0?i.jsxs("div",{className:"text-center py-8",children:[i.jsx(is,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No external users found"}),i.jsx("p",{className:"text-gray-600",children:"No external users match your search criteria."})]}):i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:V.map(R=>i.jsxs("div",{className:"border border-gray-200 rounded-xl p-4 hover:shadow-md transition-shadow",children:[i.jsx("div",{className:"flex items-start justify-between mb-3",children:i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"font-semibold text-gray-900",children:R.full_name}),i.jsx("span",{className:`inline-block px-2 py-1 text-xs font-medium rounded-full border ${K(R.role)}`,children:R.role})]})}),i.jsxs("div",{className:"space-y-2 mb-4",children:[i.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[i.jsx(ds,{className:"w-4 h-4"}),i.jsx("span",{children:R.email})]}),R.phone&&i.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[i.jsx(Yl,{className:"w-4 h-4"}),i.jsx("span",{children:R.phone})]}),i.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[i.jsx(St,{className:"w-4 h-4"}),i.jsxs("span",{children:["Added ",new Date(R.created_at).toLocaleDateString()]})]})]}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsxs("button",{onClick:()=>D(R),className:"flex-1 bg-gray-100 hover:bg-gray-200 text-gray-700 px-3 py-2 rounded-lg text-sm font-medium transition-colors flex items-center justify-center space-x-1",children:[i.jsx(Ot,{className:"w-4 h-4"}),i.jsx("span",{children:"View"})]}),S&&i.jsxs("button",{onClick:()=>B(R),className:"flex-1 bg-primary-100 hover:bg-primary-200 text-primary-700 px-3 py-2 rounded-lg text-sm font-medium transition-colors flex items-center justify-center space-x-1",children:[i.jsx(Rn,{className:"w-4 h-4"}),i.jsx("span",{children:"Edit"})]})]})]},R.id))})})]}),v&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:f==="create"?"Add New User":f==="edit"?"Edit User":"User Details"}),i.jsx("button",{onClick:()=>y(!1),className:"text-gray-400 hover:text-gray-600",children:i.jsx(Ue,{className:"w-6 h-6"})})]}),f==="view"&&w?i.jsx("div",{className:"space-y-4",children:i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Full Name"}),i.jsx("p",{className:"mt-1 text-sm text-gray-900",children:w.full_name})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Role"}),i.jsx("span",{className:`inline-block px-2 py-1 text-xs font-medium rounded-full border ${K(w.role)}`,children:w.role})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),i.jsx("p",{className:"mt-1 text-sm text-gray-900",children:w.email})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Phone"}),i.jsx("p",{className:"mt-1 text-sm text-gray-900",children:w.phone||"Not provided"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Category"}),i.jsx("p",{className:"mt-1 text-sm text-gray-900",children:P.includes(w.role)?"Active Staff":"External User"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Joined Date"}),i.jsx("p",{className:"mt-1 text-sm text-gray-900",children:new Date(w.created_at).toLocaleDateString()})]})]})}):i.jsx(lC,{user:w,mode:f,onUserSaved:z,onCancel:()=>y(!1)}),f==="view"&&i.jsx("div",{className:"flex justify-end space-x-3 mt-6",children:i.jsx("button",{onClick:()=>y(!1),className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-xl transition-colors",children:"Close"})})]})}),g&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:x==="create"?"Add External User":x==="edit"?"Edit External User":"External User Details"}),i.jsx("button",{onClick:()=>b(!1),className:"text-gray-400 hover:text-gray-600",children:i.jsx(Ue,{className:"w-6 h-6"})})]}),i.jsx(oC,{user:w,mode:x,onUserSaved:Y,onCancel:()=>b(!1)})]})})]})},dC=({resource:e,mode:t,onResourceSaved:s,onCancel:n})=>{const[r,a]=N.useState({name:"",category:"",current_stock:"",unit:"",min_threshold:"",max_capacity:"",cost_per_unit:"",supplier:"",expiry_date:""}),[l,o]=N.useState(!1),[c,d]=N.useState(""),[u,h]=N.useState({}),m=["Feed","Seeds","Fertilizer","Medical","Equipment","Tools","Chemicals","Other"],v=["bags","kg","liters","units","boxes","tons","pieces","bottles"];N.useEffect(()=>{var p,x,j,w;e&&t==="edit"&&a({name:e.name||"",category:e.category||"",current_stock:((p=e.current_stock)==null?void 0:p.toString())||"",unit:e.unit||"",min_threshold:((x=e.min_threshold)==null?void 0:x.toString())||"",max_capacity:((j=e.max_capacity)==null?void 0:j.toString())||"",cost_per_unit:((w=e.cost_per_unit)==null?void 0:w.toString())||"",supplier:e.supplier||"",expiry_date:e.expiry_date?e.expiry_date.split("T")[0]:""})},[e,t]);const y=()=>{const p={};return r.name.trim()||(p.name="Resource name is required"),r.category||(p.category="Category is required"),(!r.current_stock||isNaN(r.current_stock)||Number(r.current_stock)<0)&&(p.current_stock="Valid current stock is required"),r.unit.trim()||(p.unit="Unit is required"),r.min_threshold&&(isNaN(r.min_threshold)||Number(r.min_threshold)<0)&&(p.min_threshold="Min threshold must be a valid number"),r.max_capacity&&(isNaN(r.max_capacity)||Number(r.max_capacity)<0)&&(p.max_capacity="Max capacity must be a valid number"),r.cost_per_unit&&(isNaN(r.cost_per_unit)||Number(r.cost_per_unit)<0)&&(p.cost_per_unit="Cost per unit must be a valid number"),h(p),Object.keys(p).length===0},g=p=>{const{name:x,value:j}=p.target;a({...r,[x]:j}),u[x]&&h({...u,[x]:""})},b=async p=>{var x;if(p.preventDefault(),o(!0),d(""),!y()){o(!1);return}try{const j={name:r.name.trim(),category:r.category,current_stock:Number(r.current_stock),unit:r.unit.trim(),min_threshold:r.min_threshold?Number(r.min_threshold):0,max_capacity:r.max_capacity?Number(r.max_capacity):0,cost_per_unit:r.cost_per_unit?Number(r.cost_per_unit):0,supplier:r.supplier.trim(),expiry_date:r.expiry_date||null};let w;t==="create"?w=await Wl.createResource(j):w=await Wl.updateResource(e.id,j),s&&s(w.data)}catch(j){console.error("Resource save error:",j);const w=(x=j.response)==null?void 0:x.data;w!=null&&w.field?h({[w.field]:w.message}):w!=null&&w.message?d(w.message):d(t==="create"?"Failed to create resource":"Failed to update resource")}finally{o(!1)}},f=p=>{const x="w-full border rounded-xl px-3 py-2 focus:outline-none focus:ring-2 transition-colors";return u[p]?`${x} border-red-500 focus:ring-red-200`:`${x} border-gray-300 focus:ring-primary-200 focus:border-primary-500`};return i.jsxs("form",{onSubmit:b,className:"space-y-4",children:[c&&i.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-xl text-sm",children:c}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Resource Name ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",name:"name",value:r.name,onChange:g,className:f("name"),placeholder:"Enter resource name"}),u.name&&i.jsx("p",{className:"text-red-500 text-xs mt-1",children:u.name})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Category ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsxs("select",{name:"category",value:r.category,onChange:g,className:f("category"),children:[i.jsx("option",{value:"",children:"Select category"}),m.map(p=>i.jsx("option",{value:p,children:p},p))]}),u.category&&i.jsx("p",{className:"text-red-500 text-xs mt-1",children:u.category})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Current Stock ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"number",name:"current_stock",value:r.current_stock,onChange:g,className:f("current_stock"),placeholder:"Enter current stock",min:"0",step:"0.01"}),u.current_stock&&i.jsx("p",{className:"text-red-500 text-xs mt-1",children:u.current_stock})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Unit ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsxs("select",{name:"unit",value:r.unit,onChange:g,className:f("unit"),children:[i.jsx("option",{value:"",children:"Select unit"}),v.map(p=>i.jsx("option",{value:p,children:p},p))]}),u.unit&&i.jsx("p",{className:"text-red-500 text-xs mt-1",children:u.unit})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Min Threshold"}),i.jsx("input",{type:"number",name:"min_threshold",value:r.min_threshold,onChange:g,className:f("min_threshold"),placeholder:"Minimum stock level",min:"0",step:"0.01"}),u.min_threshold&&i.jsx("p",{className:"text-red-500 text-xs mt-1",children:u.min_threshold})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Max Capacity"}),i.jsx("input",{type:"number",name:"max_capacity",value:r.max_capacity,onChange:g,className:f("max_capacity"),placeholder:"Maximum storage capacity",min:"0",step:"0.01"}),u.max_capacity&&i.jsx("p",{className:"text-red-500 text-xs mt-1",children:u.max_capacity})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cost per Unit (₦)"}),i.jsx("input",{type:"number",name:"cost_per_unit",value:r.cost_per_unit,onChange:g,className:f("cost_per_unit"),placeholder:"Cost in Naira",min:"0",step:"0.01"}),u.cost_per_unit&&i.jsx("p",{className:"text-red-500 text-xs mt-1",children:u.cost_per_unit})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Supplier"}),i.jsx("input",{type:"text",name:"supplier",value:r.supplier,onChange:g,className:f("supplier"),placeholder:"Supplier name"})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Expiry Date"}),i.jsx("input",{type:"date",name:"expiry_date",value:r.expiry_date,onChange:g,className:f("expiry_date")})]})]}),i.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[i.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-xl transition-colors",children:"Cancel"}),i.jsx("button",{type:"submit",disabled:l,className:"px-4 py-2 bg-primary-600 hover:bg-primary-700 text-white rounded-xl transition-colors disabled:opacity-50",children:l?i.jsxs("span",{className:"flex items-center",children:[i.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",children:[i.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),i.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),t==="create"?"Creating...":"Updating..."]}):t==="create"?"Create Resource":"Update Resource"})]})]})},uC=()=>{const{user:e}=ze(),[t,s]=N.useState([]),[n,r]=N.useState(!0),[a,l]=N.useState(""),[o,c]=N.useState(""),[d,u]=N.useState(""),[h,m]=N.useState(""),[v,y]=N.useState(!1),[g,b]=N.useState("create"),[f,p]=N.useState(null),x=["Admin","Farm Manager"].includes(e==null?void 0:e.role);N.useEffect(()=>{j()},[]);const j=async()=>{try{r(!0);const k=await Wl.getResources();s(k.data),l("")}catch(k){console.error("Failed to fetch resources:",k),l("Failed to load resources. Please try again."),s([{id:1,name:"Chicken Feed",category:"Feed",current_stock:45,unit:"bags",min_threshold:20,max_capacity:100,cost_per_unit:10200,supplier:"AgriSupply Co.",last_updated:"2024-01-15T10:30:00Z",expiry_date:"2024-03-15",status:"in_stock"},{id:2,name:"Corn Seeds",category:"Seeds",current_stock:8,unit:"kg",min_threshold:10,max_capacity:50,cost_per_unit:4800,supplier:"SeedPro Ltd.",last_updated:"2024-01-10T14:20:00Z",expiry_date:"2024-06-30",status:"low_stock"},{id:3,name:"Fertilizer NPK",category:"Fertilizer",current_stock:0,unit:"bags",min_threshold:5,max_capacity:30,cost_per_unit:14e3,supplier:"FertMax Solutions",last_updated:"2024-01-08T09:15:00Z",expiry_date:"2024-12-31",status:"out_of_stock"},{id:4,name:"Veterinary Supplies",category:"Medical",current_stock:25,unit:"units",min_threshold:15,max_capacity:50,cost_per_unit:3500,supplier:"VetCare Supplies",last_updated:"2024-01-12T16:45:00Z",expiry_date:"2024-08-15",status:"in_stock"}])}finally{r(!1)}},w=k=>{switch(k){case"in_stock":return"bg-green-100 text-green-700 border-green-200";case"low_stock":return"bg-yellow-100 text-yellow-700 border-yellow-200";case"out_of_stock":return"bg-red-100 text-red-700 border-red-200";default:return"bg-gray-100 text-gray-700 border-gray-200"}},_=k=>{switch(k){case"in_stock":return i.jsx(Qu,{className:"w-4 h-4"});case"low_stock":return i.jsx(Ul,{className:"w-4 h-4"});case"out_of_stock":return i.jsx(e2,{className:"w-4 h-4"});default:return i.jsx(rl,{className:"w-4 h-4"})}},S=t.filter(k=>{var Y,R,T;const B=((Y=k.name)==null?void 0:Y.toLowerCase().includes(o.toLowerCase()))||((R=k.category)==null?void 0:R.toLowerCase().includes(o.toLowerCase()))||((T=k.supplier)==null?void 0:T.toLowerCase().includes(o.toLowerCase())),D=!d||k.category===d,z=!h||k.status===h;return B&&D&&z}),P=[...new Set(t.map(k=>k.category))],A=t.reduce((k,B)=>k+B.current_stock*B.cost_per_unit,0),O=t.filter(k=>k.status==="low_stock"||k.status==="out_of_stock").length,C=()=>{x&&(b("create"),p(null),y(!0))},F=k=>{x&&(b("edit"),p(k),y(!0))},V=k=>{b("view"),p(k),y(!0)},K=k=>{g==="create"?s([k,...t]):g==="edit"&&s(t.map(B=>B.id===k.id?k:B)),y(!1),p(null)},E=async k=>{if(x&&window.confirm(`Are you sure you want to delete "${k.name}"? This action cannot be undone.`))try{await Wl.deleteResource(k.id),s(t.filter(B=>B.id!==k.id))}catch(B){console.error("Failed to delete resource:",B),l("Failed to delete resource. Please try again.")}};return n?i.jsx("div",{className:"flex items-center justify-center min-h-96",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Farm Resources & Inventory"}),i.jsx("p",{className:"text-gray-600 mt-2",children:"Track and manage farm supplies, feed, seeds, and equipment"})]}),x&&i.jsxs("button",{onClick:C,className:"mt-4 sm:mt-0 bg-primary-600 hover:bg-primary-700 text-white px-4 py-2 rounded-xl flex items-center space-x-2 transition-colors",children:[i.jsx(Ln,{className:"w-5 h-5"}),i.jsx("span",{children:"Add Resource"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[i.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Items"}),i.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.length})]}),i.jsx(rl,{className:"w-8 h-8 text-blue-600"})]})}),i.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Value"}),i.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["₦",A.toLocaleString("en-NG",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),i.jsx(_g,{className:"w-8 h-8 text-green-600"})]})}),i.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Low Stock Alerts"}),i.jsx("p",{className:"text-2xl font-bold text-red-600",children:O})]}),i.jsx(Ul,{className:"w-8 h-8 text-red-600"})]})}),i.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Categories"}),i.jsx("p",{className:"text-2xl font-bold text-gray-900",children:P.length})]}),i.jsx(Xu,{className:"w-8 h-8 text-purple-600"})]})})]}),i.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search Resources"}),i.jsxs("div",{className:"relative",children:[i.jsx(sa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),i.jsx("input",{type:"text",placeholder:"Search by name, category, or supplier...",value:o,onChange:k=>c(k.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Filter by Category"}),i.jsxs("select",{value:d,onChange:k=>u(k.target.value),className:"w-full border border-gray-300 rounded-xl px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[i.jsx("option",{value:"",children:"All Categories"}),P.map(k=>i.jsx("option",{value:k,children:k},k))]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Filter by Status"}),i.jsxs("select",{value:h,onChange:k=>m(k.target.value),className:"w-full border border-gray-300 rounded-xl px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[i.jsx("option",{value:"",children:"All Status"}),i.jsx("option",{value:"in_stock",children:"In Stock"}),i.jsx("option",{value:"low_stock",children:"Low Stock"}),i.jsx("option",{value:"out_of_stock",children:"Out of Stock"})]})]}),i.jsx("div",{className:"flex items-end",children:i.jsxs("div",{className:"text-sm text-gray-600",children:[i.jsxs("p",{className:"font-medium",children:["Showing: ",S.length," items"]}),i.jsxs("p",{children:["Value: ₦",S.reduce((k,B)=>k+B.current_stock*B.cost_per_unit,0).toLocaleString("en-NG",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})})]})}),i.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:i.jsx("div",{className:"p-6",children:S.length===0?i.jsxs("div",{className:"text-center py-12",children:[i.jsx(rl,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No resources found"}),i.jsx("p",{className:"text-gray-600",children:t.length===0?"Get started by adding your first resource.":"Try adjusting your search criteria."}),x&&t.length===0&&i.jsx("button",{onClick:C,className:"mt-4 bg-primary-600 hover:bg-primary-700 text-white px-4 py-2 rounded-xl transition-colors",children:"Add First Resource"})]}):i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:S.map(k=>i.jsxs("div",{className:"border border-gray-200 rounded-xl p-6 hover:shadow-md transition-shadow",children:[i.jsxs("div",{className:"flex items-start justify-between mb-4",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:k.name}),i.jsx("p",{className:"text-sm text-gray-600",children:k.category})]}),i.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 text-xs font-medium rounded-full border ${w(k.status)}`,children:[_(k.status),k.status.replace("_"," ")]})]}),i.jsxs("div",{className:"space-y-3 mb-4",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm text-gray-600",children:"Current Stock:"}),i.jsxs("span",{className:"font-semibold text-gray-900",children:[k.current_stock," ",k.unit]})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm text-gray-600",children:"Min Threshold:"}),i.jsxs("span",{className:"text-sm text-gray-700",children:[k.min_threshold," ",k.unit]})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm text-gray-600",children:"Unit Cost:"}),i.jsxs("span",{className:"text-sm text-gray-700",children:["₦",k.cost_per_unit.toLocaleString("en-NG",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm text-gray-600",children:"Total Value:"}),i.jsxs("span",{className:"font-semibold text-gray-900",children:["₦",(k.current_stock*k.cost_per_unit).toLocaleString("en-NG",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),i.jsxs("div",{className:"border-t pt-2",children:[i.jsxs("p",{className:"text-xs text-gray-500",children:["Supplier: ",k.supplier]}),i.jsxs("p",{className:"text-xs text-gray-500",children:["Updated: ",new Date(k.last_updated).toLocaleDateString()]})]})]}),i.jsxs("div",{className:"mb-4",children:[i.jsxs("div",{className:"flex justify-between text-xs text-gray-600 mb-1",children:[i.jsx("span",{children:"Stock Level"}),i.jsxs("span",{children:[Math.round(k.current_stock/k.max_capacity*100),"%"]})]}),i.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:i.jsx("div",{className:`h-2 rounded-full ${k.current_stock<=k.min_threshold?"bg-red-500":k.current_stock<=k.min_threshold*1.5?"bg-yellow-500":"bg-green-500"}`,style:{width:`${Math.min(k.current_stock/k.max_capacity*100,100)}%`}})})]}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsxs("button",{onClick:()=>V(k),className:"flex-1 bg-gray-100 hover:bg-gray-200 text-gray-700 px-3 py-2 rounded-lg text-sm font-medium transition-colors flex items-center justify-center space-x-1",children:[i.jsx(Ot,{className:"w-4 h-4"}),i.jsx("span",{children:"View"})]}),x&&i.jsxs(i.Fragment,{children:[i.jsxs("button",{onClick:()=>F(k),className:"flex-1 bg-primary-100 hover:bg-primary-200 text-primary-700 px-3 py-2 rounded-lg text-sm font-medium transition-colors flex items-center justify-center space-x-1",children:[i.jsx(Rn,{className:"w-4 h-4"}),i.jsx("span",{children:"Edit"})]}),i.jsx("button",{onClick:()=>E(k),className:"bg-red-100 hover:bg-red-200 text-red-700 px-3 py-2 rounded-lg text-sm font-medium transition-colors flex items-center justify-center",children:i.jsx(br,{className:"w-4 h-4"})})]})]})]},k.id))})})}),v&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:g==="create"?"Add New Resource":g==="edit"?"Edit Resource":"Resource Details"}),i.jsx("button",{onClick:()=>y(!1),className:"text-gray-400 hover:text-gray-600",children:i.jsx(Ue,{className:"w-6 h-6"})})]}),g==="view"&&f?i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Resource Name"}),i.jsx("p",{className:"mt-1 text-sm text-gray-900",children:f.name})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Category"}),i.jsx("p",{className:"mt-1 text-sm text-gray-900",children:f.category})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Current Stock"}),i.jsxs("p",{className:"mt-1 text-sm text-gray-900",children:[f.current_stock," ",f.unit]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Status"}),i.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 text-xs font-medium rounded-full border ${w(f.status)}`,children:[_(f.status),f.status.replace("_"," ")]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Supplier"}),i.jsx("p",{className:"mt-1 text-sm text-gray-900",children:f.supplier})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Cost per Unit"}),i.jsxs("p",{className:"mt-1 text-sm text-gray-900",children:["₦",f.cost_per_unit.toLocaleString("en-NG",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Expiry Date"}),i.jsx("p",{className:"mt-1 text-sm text-gray-900",children:f.expiry_date?new Date(f.expiry_date).toLocaleDateString():"No expiry date"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Total Value"}),i.jsxs("p",{className:"mt-1 text-sm text-gray-900",children:["₦",(f.current_stock*f.cost_per_unit).toLocaleString("en-NG",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]}),i.jsx("div",{className:"flex justify-end space-x-3 mt-6",children:i.jsx("button",{onClick:()=>y(!1),className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-xl transition-colors",children:"Close"})})]}):i.jsx(dC,{resource:f,mode:g,onResourceSaved:K,onCancel:()=>y(!1)})]})})]})},hC=()=>{var a;const[e,t]=N.useState("overview"),[s,n]=N.useState(!1),r=[{id:"overview",name:"Overview",icon:nl},{id:"livestock",name:"Livestock Areas",icon:ta},{id:"crops",name:"Crop Fields",icon:Qf},{id:"equipment",name:"Equipment",icon:Ue},{id:"infrastructure",name:"Infrastructure",icon:_a}];return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Farm Map"}),i.jsx("p",{className:"text-gray-600 mt-2",children:"Interactive map showing farm layout and locations"})]}),i.jsxs("button",{onClick:()=>n(!0),className:"mt-4 sm:mt-0 bg-primary-600 hover:bg-primary-700 text-white px-4 py-2 rounded-xl flex items-center space-x-2 transition-colors",children:[i.jsx(Xw,{className:"w-5 h-5"}),i.jsx("span",{children:"Map Info"})]})]}),i.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:i.jsx("div",{className:"flex flex-wrap gap-2",children:r.map(l=>{const o=l.icon;return i.jsxs("button",{onClick:()=>t(l.id),className:`flex items-center space-x-2 px-4 py-2 rounded-xl text-sm font-medium transition-colors ${e===l.id?"bg-primary-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[i.jsx(o,{className:"w-4 h-4"}),i.jsx("span",{children:l.name})]},l.id)})})}),i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 h-[600px] relative overflow-hidden",children:[i.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gradient-to-br from-green-50 to-blue-50",children:i.jsxs("div",{className:"text-center",children:[i.jsx(nl,{className:"w-16 h-16 text-green-600 mx-auto mb-4"}),i.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Interactive Farm Map"}),i.jsx("p",{className:"text-gray-600 max-w-md mx-auto mb-6",children:"This will display a comprehensive interactive map of your farm with different layers showing livestock areas, crop fields, equipment locations, and infrastructure."}),i.jsxs("div",{className:"space-y-2 text-sm text-gray-500",children:[i.jsx("p",{children:"🗺️ Real-time location tracking"}),i.jsx("p",{children:"🚜 Equipment positioning"}),i.jsx("p",{children:"🐄 Livestock area monitoring"}),i.jsx("p",{children:"🌾 Field boundary mapping"}),i.jsx("p",{children:"🏠 Infrastructure layout"})]})]})}),i.jsxs("div",{className:"absolute top-4 right-4 bg-white rounded-lg shadow-lg p-4 max-w-xs",children:[i.jsxs("h4",{className:"font-semibold text-gray-900 mb-3",children:["Current Layer: ",(a=r.find(l=>l.id===e))==null?void 0:a.name]}),i.jsxs("div",{className:"space-y-2 text-sm",children:[e==="overview"&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),i.jsx("span",{children:"Farm Boundaries"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),i.jsx("span",{children:"Water Sources"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:"w-3 h-3 bg-brown-500 rounded-full"}),i.jsx("span",{children:"Buildings"})]})]}),e==="livestock"&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full"}),i.jsx("span",{children:"Cattle Areas"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:"w-3 h-3 bg-yellow-500 rounded-full"}),i.jsx("span",{children:"Poultry Areas"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:"w-3 h-3 bg-purple-500 rounded-full"}),i.jsx("span",{children:"Grazing Zones"})]})]}),e==="crops"&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:"w-3 h-3 bg-green-400 rounded-full"}),i.jsx("span",{children:"Active Fields"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:"w-3 h-3 bg-brown-400 rounded-full"}),i.jsx("span",{children:"Fallow Land"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:"w-3 h-3 bg-orange-400 rounded-full"}),i.jsx("span",{children:"Harvest Ready"})]})]}),e==="equipment"&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Tractor,{className:"w-3 h-3 text-blue-600"}),i.jsx("span",{children:"Active Equipment"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:"w-3 h-3 bg-gray-500 rounded-full"}),i.jsx("span",{children:"Parked Equipment"})]})]}),e==="infrastructure"&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(_a,{className:"w-3 h-3 text-brown-600"}),i.jsx("span",{children:"Buildings"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(r2,{className:"w-3 h-3 text-yellow-600"}),i.jsx("span",{children:"Utilities"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:"w-3 h-3 bg-gray-600 rounded-full"}),i.jsx("span",{children:"Roads/Paths"})]})]})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[i.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Area"}),i.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"245 acres"})]}),i.jsx(nl,{className:"w-8 h-8 text-green-600"})]})}),i.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Fields"}),i.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"12"})]}),i.jsx(Qf,{className:"w-8 h-8 text-blue-600"})]})}),i.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Livestock Areas"}),i.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"8"})]}),i.jsx(_a,{className:"w-8 h-8 text-brown-600"})]})}),i.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Equipment Points"}),i.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"15"})]}),i.jsx(_a,{className:"w-8 h-8 text-orange-600"})]})})]}),s&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Farm Map Features"}),i.jsx("button",{onClick:()=>n(!1),className:"text-gray-400 hover:text-gray-600",children:i.jsx(Ue,{className:"w-6 h-6"})})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Planned Features"}),i.jsxs("ul",{className:"space-y-2 text-sm text-gray-600",children:[i.jsx("li",{children:"• GPS integration for real-time equipment tracking"}),i.jsx("li",{children:"• Satellite imagery overlay with field boundaries"}),i.jsx("li",{children:"• Interactive markers for livestock, equipment, and infrastructure"}),i.jsx("li",{children:"• Weather overlay showing precipitation and temperature zones"}),i.jsx("li",{children:"• Soil type mapping and crop rotation planning"}),i.jsx("li",{children:"• Historical data visualization and analysis"}),i.jsx("li",{children:"• Mobile app integration for field updates"}),i.jsx("li",{children:"• Integration with IoT sensors for environmental monitoring"})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Layer Information"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-gray-700",children:"Overview Layer"}),i.jsx("p",{className:"text-gray-600",children:"Complete farm layout with boundaries and main features"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-gray-700",children:"Livestock Layer"}),i.jsx("p",{className:"text-gray-600",children:"Animal locations, grazing areas, and enclosures"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-gray-700",children:"Crops Layer"}),i.jsx("p",{className:"text-gray-600",children:"Field boundaries, crop types, and growth stages"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-gray-700",children:"Equipment Layer"}),i.jsx("p",{className:"text-gray-600",children:"Machinery locations and maintenance areas"})]})]})]})]}),i.jsx("div",{className:"flex justify-end mt-6",children:i.jsx("button",{onClick:()=>n(!1),className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-xl transition-colors",children:"Close"})})]})})]})},fC=({planting:e,mode:t,onPlantingSaved:s,onCancel:n})=>{const[r,a]=N.useState({crop_name:"",variety:"",planting_date:"",expected_harvest_date:"",area_planted:"",location:"",growth_stage:"planted",notes:""}),[l,o]=N.useState(!1),[c,d]=N.useState(""),[u,h]=N.useState({}),m=["planted","germinated","seedling","vegetative","flowering","fruiting","mature","harvested"],v=["Corn","Wheat","Rice","Soybeans","Tomatoes","Potatoes","Carrots","Onions","Lettuce","Peppers","Beans","Cassava","Yam","Plantain"];N.useEffect(()=>{var p;e&&t==="edit"&&a({crop_name:e.crop_name||"",variety:e.variety||"",planting_date:e.planting_date?e.planting_date.split("T")[0]:"",expected_harvest_date:e.expected_harvest_date?e.expected_harvest_date.split("T")[0]:"",area_planted:((p=e.area_planted)==null?void 0:p.toString())||"",location:e.location||"",growth_stage:e.growth_stage||"planted",notes:e.notes||""})},[e,t]);const y=()=>{const p={};return r.crop_name.trim()||(p.crop_name="Crop name is required"),r.planting_date||(p.planting_date="Planting date is required"),(!r.area_planted||isNaN(r.area_planted)||Number(r.area_planted)<=0)&&(p.area_planted="Valid area planted is required"),r.planting_date&&r.expected_harvest_date&&new Date(r.expected_harvest_date)<=new Date(r.planting_date)&&(p.expected_harvest_date="Harvest date must be after planting date"),h(p),Object.keys(p).length===0},g=p=>{const{name:x,value:j}=p.target;a({...r,[x]:j}),u[x]&&h({...u,[x]:""})},b=async p=>{var x;if(p.preventDefault(),o(!0),d(""),!y()){o(!1);return}try{const j={crop_name:r.crop_name.trim(),variety:r.variety.trim(),planting_date:r.planting_date,expected_harvest_date:r.expected_harvest_date||null,area_planted:Number(r.area_planted),location:r.location.trim(),growth_stage:r.growth_stage,notes:r.notes.trim()};let w;t==="create"?w=await Hl.createPlanting(j):w=await Hl.updatePlanting(e.id,j),s&&s(w.data)}catch(j){console.error("Planting save error:",j);const w=(x=j.response)==null?void 0:x.data;w!=null&&w.field?h({[w.field]:w.message}):w!=null&&w.message?d(w.message):d(t==="create"?"Failed to create planting record":"Failed to update planting record")}finally{o(!1)}},f=p=>{const x="w-full border rounded-xl px-3 py-2 focus:outline-none focus:ring-2 transition-colors";return u[p]?`${x} border-red-500 focus:ring-red-200`:`${x} border-gray-300 focus:ring-primary-200 focus:border-primary-500`};return i.jsxs("form",{onSubmit:b,className:"space-y-4",children:[c&&i.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-xl text-sm",children:c}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Crop Name ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("select",{name:"crop_name",value:r.crop_name,onChange:g,className:f("crop_name"),children:[i.jsx("option",{value:"",children:"Select crop"}),v.map(p=>i.jsx("option",{value:p,children:p},p)),i.jsx("option",{value:"other",children:"Other (specify below)"})]}),r.crop_name==="other"&&i.jsx("input",{type:"text",name:"crop_name",value:"",onChange:p=>a({...r,crop_name:p.target.value}),className:f("crop_name"),placeholder:"Enter crop name"})]}),u.crop_name&&i.jsx("p",{className:"text-red-500 text-xs mt-1",children:u.crop_name})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Variety"}),i.jsx("input",{type:"text",name:"variety",value:r.variety,onChange:g,className:f("variety"),placeholder:"Enter variety (optional)"}),u.variety&&i.jsx("p",{className:"text-red-500 text-xs mt-1",children:u.variety})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Planting Date ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"date",name:"planting_date",value:r.planting_date,onChange:g,className:f("planting_date")}),u.planting_date&&i.jsx("p",{className:"text-red-500 text-xs mt-1",children:u.planting_date})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Expected Harvest Date"}),i.jsx("input",{type:"date",name:"expected_harvest_date",value:r.expected_harvest_date,onChange:g,className:f("expected_harvest_date")}),u.expected_harvest_date&&i.jsx("p",{className:"text-red-500 text-xs mt-1",children:u.expected_harvest_date})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Area Planted (hectares) ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"number",name:"area_planted",value:r.area_planted,onChange:g,className:f("area_planted"),placeholder:"Enter area in hectares",min:"0.01",step:"0.01"}),u.area_planted&&i.jsx("p",{className:"text-red-500 text-xs mt-1",children:u.area_planted})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Location"}),i.jsx("input",{type:"text",name:"location",value:r.location,onChange:g,className:f("location"),placeholder:"Field/plot location"}),u.location&&i.jsx("p",{className:"text-red-500 text-xs mt-1",children:u.location})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Growth Stage"}),i.jsx("select",{name:"growth_stage",value:r.growth_stage,onChange:g,className:f("growth_stage"),children:m.map(p=>i.jsx("option",{value:p,children:p.charAt(0).toUpperCase()+p.slice(1)},p))}),u.growth_stage&&i.jsx("p",{className:"text-red-500 text-xs mt-1",children:u.growth_stage})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),i.jsx("textarea",{name:"notes",value:r.notes,onChange:g,rows:3,className:f("notes"),placeholder:"Any additional notes about this planting..."}),u.notes&&i.jsx("p",{className:"text-red-500 text-xs mt-1",children:u.notes})]})]}),i.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[i.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-xl transition-colors",children:"Cancel"}),i.jsx("button",{type:"submit",disabled:l,className:"px-4 py-2 bg-primary-600 hover:bg-primary-700 text-white rounded-xl transition-colors disabled:opacity-50",children:l?i.jsxs("span",{className:"flex items-center",children:[i.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",children:[i.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),i.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),t==="create"?"Creating...":"Updating..."]}):t==="create"?"Create Planting":"Update Planting"})]})]})},mC=()=>{const{user:e}=ze(),[t,s]=N.useState([]),[n,r]=N.useState(!0),[a,l]=N.useState(""),[o,c]=N.useState(""),[d,u]=N.useState(""),[h,m]=N.useState(""),[v,y]=N.useState(!1),[g,b]=N.useState("create"),[f,p]=N.useState(null),x=["Admin","Farm Manager"].includes(e==null?void 0:e.role);N.useEffect(()=>{j()},[]);const j=async()=>{try{r(!0);const k=await Hl.getPlantings();s(k.data),l("")}catch(k){console.error("Failed to fetch plantings:",k),l("Failed to load plantings. Please try again."),s([{id:1,crop_name:"Corn",variety:"Sweet Corn - Golden Bantam",location:"North Field A",area_planted:5.2,planting_date:"2024-03-15",expected_harvest_date:"2024-07-15",growth_stage:"flowering",status:"active",notes:"Growth is excellent, showing early signs of flowering"},{id:2,crop_name:"Tomatoes",variety:"Roma Tomatoes",location:"Greenhouse B",area_planted:2.1,planting_date:"2024-02-20",expected_harvest_date:"2024-06-20",growth_stage:"fruiting",status:"active",notes:"Some plants showing signs of blight, treatment applied"}])}finally{r(!1)}},w=k=>{switch(k){case"healthy":return"bg-green-100 text-green-700 border-green-200";case"needs_attention":return"bg-yellow-100 text-yellow-700 border-yellow-200";case"ready_for_harvest":return"bg-blue-100 text-blue-700 border-blue-200";case"diseased":return"bg-red-100 text-red-700 border-red-200";default:return"bg-gray-100 text-gray-700 border-gray-200"}},_=k=>{switch(k){case"seedling":return"bg-green-50 text-green-600";case"vegetative":return"bg-blue-50 text-blue-600";case"flowering":return"bg-purple-50 text-purple-600";case"fruiting":return"bg-orange-50 text-orange-600";case"maturation":return"bg-yellow-50 text-yellow-600";default:return"bg-gray-50 text-gray-600"}},S=t.filter(k=>{var Y,R,T;const B=((Y=k.crop_name)==null?void 0:Y.toLowerCase().includes(o.toLowerCase()))||((R=k.variety)==null?void 0:R.toLowerCase().includes(o.toLowerCase()))||((T=k.field_location)==null?void 0:T.toLowerCase().includes(o.toLowerCase())),D=!d||k.status===d,z=!h||k.crop_name===h;return B&&D&&z}),P=[...new Set(t.map(k=>k.crop_name))],A=t.reduce((k,B)=>k+B.area_planted,0),O=t.filter(k=>k.status==="ready_for_harvest").length,C=()=>{x&&(b("create"),p(null),y(!0))},F=k=>{x&&(b("edit"),p(k),y(!0))},V=k=>{b("view"),p(k),y(!0)},K=k=>{g==="create"?s([k,...t]):g==="edit"&&s(t.map(B=>B.id===k.id?k:B)),y(!1),p(null)},E=async k=>{if(x&&window.confirm(`Are you sure you want to delete the "${k.crop_name}" planting? This action cannot be undone.`))try{await Hl.deletePlanting(k.id),s(t.filter(B=>B.id!==k.id))}catch(B){console.error("Failed to delete planting:",B),l("Failed to delete planting. Please try again.")}};return n?i.jsx("div",{className:"flex items-center justify-center min-h-96",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Planting Tracker"}),i.jsx("p",{className:"text-gray-600 mt-2",children:"Track planting activities, growth stages, and harvest planning"})]}),x&&i.jsxs("button",{onClick:C,className:"mt-4 sm:mt-0 bg-primary-600 hover:bg-primary-700 text-white px-4 py-2 rounded-xl flex items-center space-x-2 transition-colors",children:[i.jsx(Ln,{className:"w-5 h-5"}),i.jsx("span",{children:"Add Planting"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[i.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Plantings"}),i.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.length})]}),i.jsx(Td,{className:"w-8 h-8 text-green-600"})]})}),i.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Area"}),i.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[A.toFixed(1)," acres"]})]}),i.jsx(Gf,{className:"w-8 h-8 text-blue-600"})]})}),i.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Ready for Harvest"}),i.jsx("p",{className:"text-2xl font-bold text-green-600",children:O})]}),i.jsx(Ft,{className:"w-8 h-8 text-green-600"})]})}),i.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Crop Varieties"}),i.jsx("p",{className:"text-2xl font-bold text-gray-900",children:P.length})]}),i.jsx(Xu,{className:"w-8 h-8 text-purple-600"})]})})]}),i.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search Plantings"}),i.jsxs("div",{className:"relative",children:[i.jsx(sa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),i.jsx("input",{type:"text",placeholder:"Search by crop, variety, or location...",value:o,onChange:k=>c(k.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Filter by Crop"}),i.jsxs("select",{value:h,onChange:k=>m(k.target.value),className:"w-full border border-gray-300 rounded-xl px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[i.jsx("option",{value:"",children:"All Crops"}),P.map(k=>i.jsx("option",{value:k,children:k},k))]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Filter by Status"}),i.jsxs("select",{value:d,onChange:k=>u(k.target.value),className:"w-full border border-gray-300 rounded-xl px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[i.jsx("option",{value:"",children:"All Status"}),i.jsx("option",{value:"healthy",children:"Healthy"}),i.jsx("option",{value:"needs_attention",children:"Needs Attention"}),i.jsx("option",{value:"ready_for_harvest",children:"Ready for Harvest"}),i.jsx("option",{value:"diseased",children:"Diseased"})]})]}),i.jsx("div",{className:"flex items-end",children:i.jsxs("div",{className:"text-sm text-gray-600",children:[i.jsxs("p",{className:"font-medium",children:["Showing: ",S.length," plantings"]}),i.jsxs("p",{children:["Area: ",S.reduce((k,B)=>k+B.area_planted,0).toFixed(1)," acres"]})]})})]})}),i.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:i.jsx("div",{className:"p-6",children:S.length===0?i.jsxs("div",{className:"text-center py-12",children:[i.jsx(Td,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No plantings found"}),i.jsx("p",{className:"text-gray-600",children:t.length===0?"Get started by recording your first planting.":"Try adjusting your search criteria."}),x&&t.length===0&&i.jsx("button",{onClick:C,className:"mt-4 bg-primary-600 hover:bg-primary-700 text-white px-4 py-2 rounded-xl transition-colors",children:"Record First Planting"})]}):i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:S.map(k=>i.jsxs("div",{className:"border border-gray-200 rounded-xl p-6 hover:shadow-md transition-shadow",children:[i.jsxs("div",{className:"flex items-start justify-between mb-4",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:k.crop_name}),i.jsx("p",{className:"text-sm text-gray-600",children:k.variety})]}),i.jsx("span",{className:`inline-block px-2 py-1 text-xs font-medium rounded-full border ${w(k.status)}`,children:k.status.replace("_"," ")})]}),i.jsxs("div",{className:"space-y-3 mb-4",children:[i.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[i.jsx(ta,{className:"w-4 h-4"}),i.jsx("span",{children:k.field_location})]}),i.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[i.jsx(Gf,{className:"w-4 h-4"}),i.jsxs("span",{children:[k.area_planted," acres"]})]}),i.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[i.jsx(St,{className:"w-4 h-4"}),i.jsxs("span",{children:["Planted: ",new Date(k.planting_date).toLocaleDateString()]})]}),i.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[i.jsx(Us,{className:"w-4 h-4"}),i.jsxs("span",{children:["Harvest: ",new Date(k.expected_harvest).toLocaleDateString()]})]}),i.jsx("div",{className:"border-t pt-2",children:i.jsx("span",{className:`inline-block px-2 py-1 text-xs font-medium rounded-full ${_(k.growth_stage)}`,children:k.growth_stage.replace("_"," ")})})]}),k.notes&&i.jsx("div",{className:"mb-4 p-3 bg-gray-50 rounded-lg",children:i.jsxs("p",{className:"text-xs text-gray-600 italic",children:['"',k.notes,'"']})}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsxs("button",{onClick:()=>V(k),className:"flex-1 bg-gray-100 hover:bg-gray-200 text-gray-700 px-3 py-2 rounded-lg text-sm font-medium transition-colors flex items-center justify-center space-x-1",children:[i.jsx(Ot,{className:"w-4 h-4"}),i.jsx("span",{children:"View"})]}),x&&i.jsxs(i.Fragment,{children:[i.jsxs("button",{onClick:()=>F(k),className:"flex-1 bg-primary-100 hover:bg-primary-200 text-primary-700 px-3 py-2 rounded-lg text-sm font-medium transition-colors flex items-center justify-center space-x-1",children:[i.jsx(Rn,{className:"w-4 h-4"}),i.jsx("span",{children:"Update"})]}),i.jsx("button",{onClick:()=>E(k),className:"bg-red-100 hover:bg-red-200 text-red-700 px-3 py-2 rounded-lg text-sm font-medium transition-colors flex items-center justify-center",children:i.jsx(br,{className:"w-4 h-4"})})]})]})]},k.id))})})}),v&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:g==="create"?"Record New Planting":g==="edit"?"Update Planting":"Planting Details"}),i.jsx("button",{onClick:()=>y(!1),className:"text-gray-400 hover:text-gray-600",children:i.jsx(Ue,{className:"w-6 h-6"})})]}),g==="view"&&f?i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Crop Name"}),i.jsx("p",{className:"mt-1 text-sm text-gray-900",children:f.crop_name})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Variety"}),i.jsx("p",{className:"mt-1 text-sm text-gray-900",children:f.variety||"Not specified"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Location"}),i.jsx("p",{className:"mt-1 text-sm text-gray-900",children:f.location||"Not specified"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Area Planted"}),i.jsxs("p",{className:"mt-1 text-sm text-gray-900",children:[f.area_planted," hectares"]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Growth Stage"}),i.jsx("span",{className:`inline-block px-2 py-1 text-xs font-medium rounded-full ${_(f.growth_stage)}`,children:f.growth_stage.charAt(0).toUpperCase()+f.growth_stage.slice(1)})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Growth Stage"}),i.jsx("span",{className:`inline-block px-2 py-1 text-xs font-medium rounded-full ${_(f.growth_stage)}`,children:f.growth_stage.replace("_"," ")})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Spacing"}),i.jsx("p",{className:"mt-1 text-sm text-gray-900",children:f.spacing})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Planting Depth"}),i.jsx("p",{className:"mt-1 text-sm text-gray-900",children:f.depth})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Irrigation Schedule"}),i.jsx("p",{className:"mt-1 text-sm text-gray-900",children:f.irrigation_schedule})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Fertilizer"}),i.jsx("p",{className:"mt-1 text-sm text-gray-900",children:f.fertilizer_applied})]})]}),f.notes&&i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Notes"}),i.jsx("p",{className:"mt-1 text-sm text-gray-900 bg-gray-50 p-3 rounded-lg",children:f.notes})]}),i.jsx("div",{className:"flex justify-end space-x-3 mt-6",children:i.jsx("button",{onClick:()=>y(!1),className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-xl transition-colors",children:"Close"})})]}):i.jsx(fC,{planting:f,mode:g,onPlantingSaved:K,onCancel:()=>y(!1)})]})})]})},pC=()=>{const[e,t]=N.useState(null),[s,n]=N.useState(!1),[r,a]=N.useState(!1);N.useEffect(()=>{(()=>{if(window.matchMedia("(display-mode: standalone)").matches){a(!0);return}if(window.navigator.standalone===!0){a(!0);return}})();const c=u=>{console.log("beforeinstallprompt event fired"),u.preventDefault(),t(u),n(!0)},d=u=>{console.log("PWA was installed"),n(!1),a(!0),t(null)};return window.addEventListener("beforeinstallprompt",c),window.addEventListener("appinstalled",d),()=>{window.removeEventListener("beforeinstallprompt",c),window.removeEventListener("appinstalled",d)}},[]);const l=async()=>{if(e){e.prompt();const{outcome:o}=await e.userChoice;console.log(`Install prompt outcome: ${o}`),t(null),n(!1)}};return r||!s?null:i.jsx("div",{className:"fixed bottom-4 right-4 bg-white shadow-lg rounded-lg p-4 z-50 max-w-sm animate-in slide-in-from-bottom-4 duration-300",children:i.jsxs("div",{className:"flex items-start space-x-3",children:[i.jsx("div",{className:"flex-shrink-0 p-2 bg-primary-100 rounded-lg",children:i.jsx(Ng,{className:"w-5 h-5 text-primary-600"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-sm font-medium text-gray-900 mb-3",children:"Install the Livestock Management App for a better experience!"}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsx("button",{className:"px-4 py-2 bg-primary-600 hover:bg-primary-700 text-white text-sm font-medium rounded-lg transition-colors duration-200",onClick:l,children:"Install"}),i.jsx("button",{className:"px-4 py-2 text-gray-500 hover:text-gray-700 text-sm font-medium transition-colors duration-200",onClick:()=>n(!1),children:"Maybe later"})]})]})]})})},xC=()=>{const[e,t]=N.useState({name:"",email:"",phone:"",avatar:""}),[s,n]=N.useState(""),[r,a]=N.useState(!1),[l,o]=N.useState(!1),[c,d]=N.useState({current:"",new:"",confirm:""}),[u,h]=N.useState(!1),[m,v]=N.useState({}),[y,g]=N.useState(!1),[b,f]=N.useState(""),p="BNHDRbAjLIrCvsBN1AIZpWClyCqUAUPq9ae46_TgiLy2uY4CGWmozC_cjdLIJtTX-Pg8Zsk0AZzlENIH-YqHMq8";N.useEffect(()=>{async function C(){try{const F=await ps.getProfile();t({name:F.data.full_name,email:F.data.email,phone:F.data.phone,avatar:F.data.avatar||""}),v({push:F.data.notif_push??!0,email:F.data.notif_email??!0,morningTime:F.data.notif_morning??"08:00",eveningTime:F.data.notif_evening??"18:00"})}catch{}}C()},[]);const x=C=>{t({...e,[C.target.name]:C.target.value})},j=C=>{const F=C.target.files[0];F&&n(URL.createObjectURL(F))},w=async()=>{g(!0),f(""),g(!1),a(!1),f("Profile updated successfully!"),setTimeout(()=>f(""),3e3)},_=C=>{d({...c,[C.target.name]:C.target.value})},S=async()=>{g(!0),f(""),g(!1),o(!1),d({current:"",new:"",confirm:""}),f("Password changed successfully!"),setTimeout(()=>f(""),3e3)},P=async()=>{if("serviceWorker"in navigator&&"PushManager"in window){const C=await navigator.serviceWorker.ready;if(await Notification.requestPermission()!=="granted"){alert("Permission denied for push notifications.");return}const V=await C.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:p});await fetch("/api/notifications/subscribe",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(V)}),alert("Push notifications enabled!")}},A=C=>{const{name:F,value:V,type:K,checked:E}=C.target;v({...m,[F]:K==="checkbox"?E:V})},O=async()=>{g(!0),f("");try{await ps.updateNotifications({push:m.push,email:m.email,morningTime:m.morningTime,eveningTime:m.eveningTime}),m.push&&await P(),f("Notification settings updated!")}catch{f("Failed to update notification settings.")}g(!1),h(!1),setTimeout(()=>f(""),3e3)};return i.jsx("div",{className:"min-h-screen py-8 px-4",children:i.jsxs("div",{className:"max-w-4xl mx-auto",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-slate-800 to-primary-700 bg-clip-text text-transparent mb-2",children:"Profile Settings"}),i.jsx("p",{className:"text-slate-600",children:"Manage your account preferences and security settings"})]}),b&&i.jsxs("div",{className:"mb-6 p-4 bg-green-50 border border-green-200 rounded-xl text-green-800 text-center animate-pulse shadow-sm",children:[i.jsx(Na,{className:"inline-block w-5 h-5 mr-2"}),b]}),i.jsxs("div",{className:"",children:[i.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-white/20 p-8 hover:shadow-2xl transition-all duration-300",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"p-2 bg-primary-100 rounded-xl",children:i.jsx(rr,{className:"w-6 h-6 text-primary-600"})}),i.jsx("h2",{className:"text-2xl font-semibold text-slate-800",children:"Personal Information"})]}),!r&&i.jsxs("button",{onClick:()=>a(!0),className:"flex items-center space-x-2 px-4 py-2 bg-primary-50 hover:bg-primary-100 text-primary-600 rounded-xl transition-all duration-200 hover:scale-105",children:[i.jsx(Kf,{className:"w-4 h-4"}),i.jsx("span",{children:"Edit"})]})]}),i.jsxs("div",{className:"flex items-center mb-6",children:[i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"w-20 h-20 rounded-full bg-gradient-to-br from-primary-400 to-primary-600 p-1",children:i.jsx("div",{className:"w-full h-full rounded-full bg-white p-1",children:s||e.avatar?i.jsx("img",{src:s||e.avatar,alt:"Profile Avatar",className:"w-full h-full rounded-full object-cover"}):i.jsx("div",{className:"w-full h-full rounded-full bg-slate-100 flex items-center justify-center",children:i.jsx(rr,{className:"w-8 h-8 text-slate-400"})})})}),r&&i.jsxs("label",{className:"absolute -bottom-2 -right-2 p-2 bg-primary-600 hover:bg-primary-700 rounded-full cursor-pointer transition-colors shadow-lg",children:[i.jsx(fi,{className:"w-4 h-4 text-white"}),i.jsx("input",{type:"file",accept:"image/*",onChange:j,className:"hidden"})]})]}),i.jsxs("div",{className:"ml-4",children:[i.jsx("h3",{className:"text-lg font-semibold text-slate-800",children:e.name}),i.jsx("p",{className:"text-slate-600",children:e.email})]})]}),r?i.jsxs("div",{className:"space-y-4 animate-in slide-in-from-top-2 duration-300",children:[i.jsxs("div",{className:"relative",children:[i.jsx(rr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-slate-400"}),i.jsx("input",{type:"text",name:"name",value:e.name,onChange:x,placeholder:"Full Name",className:"w-full pl-12 pr-4 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200 bg-slate-50 focus:bg-white"})]}),i.jsxs("div",{className:"relative",children:[i.jsx(ds,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-slate-400"}),i.jsx("input",{type:"email",name:"email",value:e.email,onChange:x,placeholder:"Email Address",className:"w-full pl-12 pr-4 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200 bg-slate-50 focus:bg-white"})]}),i.jsxs("div",{className:"relative",children:[i.jsx(Yl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-slate-400"}),i.jsx("input",{type:"tel",name:"phone",value:e.phone,onChange:x,placeholder:"Phone Number",className:"w-full pl-12 pr-4 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200 bg-slate-50 focus:bg-white"})]}),i.jsxs("div",{className:"flex space-x-3 pt-2",children:[i.jsxs("button",{onClick:w,disabled:y,className:"flex-1 flex items-center justify-center space-x-2 px-6 py-3 bg-gradient-to-r from-primary-600 to-primary-700 hover:from-primary-700 hover:to-primary-800 text-white rounded-xl transition-all duration-200 hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed shadow-lg",children:[y?i.jsx("div",{className:"w-5 h-5 border-2 border-white/20 border-t-white rounded-full animate-spin"}):i.jsx(Na,{className:"w-5 h-5"}),i.jsx("span",{children:y?"Saving...":"Save Changes"})]}),i.jsx("button",{onClick:()=>a(!1),className:"px-6 py-3 bg-slate-100 hover:bg-slate-200 text-slate-700 rounded-xl transition-all duration-200 hover:scale-105",children:i.jsx(Ue,{className:"w-5 h-5"})})]})]}):i.jsxs("div",{className:"space-y-4 animate-in fade-in duration-300",children:[i.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-slate-50 rounded-xl",children:[i.jsx(rr,{className:"w-5 h-5 text-slate-500"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-slate-500",children:"Name"}),i.jsx("p",{className:"font-medium text-slate-800",children:e.name})]})]}),i.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-slate-50 rounded-xl",children:[i.jsx(ds,{className:"w-5 h-5 text-slate-500"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-slate-500",children:"Email"}),i.jsx("p",{className:"font-medium text-slate-800",children:e.email})]})]}),i.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-slate-50 rounded-xl",children:[i.jsx(Yl,{className:"w-5 h-5 text-slate-500"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-slate-500",children:"Phone"}),i.jsx("p",{className:"font-medium text-slate-800",children:e.phone})]})]})]})]}),i.jsxs("div",{className:"bg-white/80 backdrop-blur-sm mt-4 rounded-2xl shadow-xl border border-white/20 p-8 hover:shadow-2xl transition-all duration-300",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"p-2 bg-slate-100 rounded-xl",children:i.jsx(ns,{className:"w-6 h-6 text-slate-600"})}),i.jsx("h2",{className:"text-2xl font-semibold text-slate-800",children:"Security"})]}),!l&&i.jsxs("button",{onClick:()=>o(!0),className:"flex items-center space-x-2 px-4 py-2 bg-slate-50 hover:bg-slate-100 text-slate-600 rounded-xl transition-all duration-200 hover:scale-105",children:[i.jsx(ns,{className:"w-4 h-4"}),i.jsx("span",{children:"Change"})]})]}),l?i.jsxs("div",{className:"space-y-4 animate-in slide-in-from-top-2 duration-300",children:[i.jsxs("div",{className:"relative",children:[i.jsx(ns,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-slate-400"}),i.jsx("input",{type:"password",name:"current",value:c.current,onChange:_,placeholder:"Current Password",className:"w-full pl-12 pr-4 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200 bg-slate-50 focus:bg-white"})]}),i.jsxs("div",{className:"relative",children:[i.jsx(ns,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-slate-400"}),i.jsx("input",{type:"password",name:"new",value:c.new,onChange:_,placeholder:"New Password",className:"w-full pl-12 pr-4 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200 bg-slate-50 focus:bg-white"})]}),i.jsxs("div",{className:"relative",children:[i.jsx(ns,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-slate-400"}),i.jsx("input",{type:"password",name:"confirm",value:c.confirm,onChange:_,placeholder:"Confirm New Password",className:"w-full pl-12 pr-4 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200 bg-slate-50 focus:bg-white"})]}),i.jsxs("div",{className:"flex space-x-3 pt-2",children:[i.jsxs("button",{onClick:S,disabled:y,className:"flex-1 flex items-center justify-center space-x-2 px-6 py-3 bg-gradient-to-r from-primary-600 to-primary-700 hover:from-primary-700 hover:to-primary-800 text-white rounded-xl transition-all duration-200 hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed shadow-lg",children:[y?i.jsx("div",{className:"w-5 h-5 border-2 border-white/20 border-t-white rounded-full animate-spin"}):i.jsx(Na,{className:"w-5 h-5"}),i.jsx("span",{children:y?"Changing...":"Update Password"})]}),i.jsx("button",{onClick:()=>o(!1),className:"px-6 py-3 bg-slate-100 hover:bg-slate-200 text-slate-700 rounded-xl transition-all duration-200 hover:scale-105",children:i.jsx(Ue,{className:"w-5 h-5"})})]})]}):i.jsxs("div",{className:"p-4 bg-slate-50 rounded-xl text-center",children:[i.jsx(ns,{className:"w-12 h-12 mx-auto text-slate-400 mb-3"}),i.jsx("p",{className:"text-slate-600",children:"Your password is secure"}),i.jsx("p",{className:"text-sm text-slate-500",children:"Last changed 30 days ago"})]})]})]}),i.jsxs("div",{className:"mt-6 bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-white/20 p-8 hover:shadow-2xl transition-all duration-300",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"p-2 bg-primary-100 rounded-xl",children:i.jsx(jg,{className:"w-6 h-6 text-primary-600"})}),i.jsx("h2",{className:"text-2xl font-semibold text-slate-800",children:"Notifications"})]}),!u&&i.jsxs("button",{onClick:()=>h(!0),className:"flex items-center space-x-2 px-4 py-2 bg-primary-50 hover:bg-primary-100 text-primary-600 rounded-xl transition-all duration-200 hover:scale-105",children:[i.jsx(Kf,{className:"w-4 h-4"}),i.jsx("span",{children:"Edit"})]})]}),u?i.jsxs("div",{className:"grid md:grid-cols-2 gap-6 animate-in slide-in-from-top-2 duration-300",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"text-lg font-semibold text-slate-700 mb-3",children:"Preferences"}),i.jsxs("label",{className:"flex items-center space-x-3 p-3 bg-slate-50 rounded-xl cursor-pointer hover:bg-slate-100 transition-colors",children:[i.jsx("input",{type:"checkbox",name:"push",checked:m.push,onChange:A,className:"w-5 h-5 text-primary-600 border-2 border-slate-300 rounded focus:ring-primary-500 focus:ring-2"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-slate-800",children:"Push Notifications"}),i.jsx("p",{className:"text-sm text-slate-600",children:"Receive notifications on your device"})]})]}),i.jsxs("label",{className:"flex items-center space-x-3 p-3 bg-slate-50 rounded-xl cursor-pointer hover:bg-slate-100 transition-colors",children:[i.jsx("input",{type:"checkbox",name:"email",checked:m.email,onChange:A,className:"w-5 h-5 text-primary-600 border-2 border-slate-300 rounded focus:ring-primary-500 focus:ring-2"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-slate-800",children:"Email Notifications"}),i.jsx("p",{className:"text-sm text-slate-600",children:"Receive updates via email"})]})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"text-lg font-semibold text-slate-700 mb-3",children:"Schedule"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Morning Summary"}),i.jsx("input",{type:"time",name:"morningTime",value:m.morningTime,onChange:A,className:"w-full px-4 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200 bg-slate-50 focus:bg-white"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Evening Summary"}),i.jsx("input",{type:"time",name:"eveningTime",value:m.eveningTime,onChange:A,className:"w-full px-4 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200 bg-slate-50 focus:bg-white"})]})]})]}),i.jsxs("div",{className:"md:col-span-2 flex space-x-3 pt-4",children:[i.jsxs("button",{onClick:O,disabled:y,className:"flex-1 flex items-center justify-center space-x-2 px-6 py-3 bg-gradient-to-r from-primary-600 to-primary-700 hover:from-primary-700 hover:to-primary-800 text-white rounded-xl transition-all duration-200 hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed shadow-lg",children:[y?i.jsx("div",{className:"w-5 h-5 border-2 border-white/20 border-t-white rounded-full animate-spin"}):i.jsx(Na,{className:"w-5 h-5"}),i.jsx("span",{children:y?"Saving...":"Save Settings"})]}),i.jsx("button",{onClick:()=>h(!1),className:"px-6 py-3 bg-slate-100 hover:bg-slate-200 text-slate-700 rounded-xl transition-all duration-200 hover:scale-105",children:i.jsx(Ue,{className:"w-5 h-5"})})]})]}):i.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-4 animate-in fade-in duration-300",children:[i.jsxs("div",{className:"p-4 bg-slate-50 rounded-xl",children:[i.jsx("p",{className:"text-sm text-slate-500 mb-1",children:"Push Notifications"}),i.jsx("p",{className:"font-semibold text-slate-800",children:m.push?"Enabled":"Disabled"})]}),i.jsxs("div",{className:"p-4 bg-slate-50 rounded-xl",children:[i.jsx("p",{className:"text-sm text-slate-500 mb-1",children:"Email Notifications"}),i.jsx("p",{className:"font-semibold text-slate-800",children:m.email?"Enabled":"Disabled"})]}),i.jsxs("div",{className:"p-4 bg-slate-50 rounded-xl",children:[i.jsx("p",{className:"text-sm text-slate-500 mb-1",children:"Morning Summary"}),i.jsx("p",{className:"font-semibold text-slate-800",children:m.morningTime})]}),i.jsxs("div",{className:"p-4 bg-slate-50 rounded-xl",children:[i.jsx("p",{className:"text-sm text-slate-500 mb-1",children:"Evening Summary"}),i.jsx("p",{className:"font-semibold text-slate-800",children:m.eveningTime})]})]})]})]})})},ct=({children:e})=>{const{user:t,loading:s}=ze();return s?i.jsx("div",{className:"min-h-screen flex items-center justify-center",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):t?e:i.jsx(Ol,{to:"/login"})},$n=({children:e})=>{const{user:t,loading:s}=ze();return s?i.jsx("div",{className:"min-h-screen flex items-center justify-center",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):t?i.jsx(Ol,{to:"/dashboard"}):e},gC=({children:e})=>{const{user:t,loading:s}=ze();return s?i.jsx("div",{className:"min-h-screen flex items-center justify-center",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):t?t.role==="Admin"||t.role==="Admin User"?e:i.jsx(Ol,{to:"/dashboard"}):i.jsx(Ol,{to:"/login"})};function yC(){return i.jsxs(Fw,{children:[i.jsx(K1,{children:i.jsxs(H1,{children:[i.jsx(Se,{path:"/login",element:i.jsx($n,{children:i.jsx(i2,{})})}),i.jsx(Se,{path:"/register",element:i.jsx($n,{children:i.jsx(a2,{})})}),i.jsx(Se,{path:"/forgot-password",element:i.jsx($n,{children:i.jsx(l2,{})})}),i.jsx(Se,{path:"/reset-password/:token",element:i.jsx($n,{children:i.jsx(o2,{})})}),i.jsx(Se,{path:"/verify-email/:token",element:i.jsx($n,{children:i.jsx(Zf,{})})}),i.jsx(Se,{path:"/verify-email",element:i.jsx($n,{children:i.jsx(Zf,{})})}),i.jsx(Se,{path:"/dashboard",element:i.jsx(ct,{children:i.jsx(ot,{children:i.jsx(c2,{})})})}),i.jsx(Se,{path:"/tasks",element:i.jsx(ct,{children:i.jsx(ot,{children:i.jsx(yN,{})})})}),i.jsx(Se,{path:"/task-history",element:i.jsx(ct,{children:i.jsx(ot,{children:i.jsx(vN,{})})})}),i.jsx(Se,{path:"/task-details/:id",element:i.jsx(ct,{children:i.jsx(ot,{children:i.jsx(bN,{})})})}),i.jsx(Se,{path:"/calendar",element:i.jsx(ct,{children:i.jsx(ot,{children:i.jsx(jN,{})})})}),i.jsx(Se,{path:"/livestock",element:i.jsx(ct,{children:i.jsx(ot,{children:i.jsx(rC,{})})})}),i.jsx(Se,{path:"/profile",element:i.jsx(ct,{children:i.jsx(ot,{children:i.jsx(xC,{})})})}),i.jsx(Se,{path:"/users",element:i.jsx(ct,{children:i.jsx(ot,{children:i.jsx(cC,{})})})}),i.jsx(Se,{path:"/livestock/health",element:i.jsx(ct,{children:i.jsx(ot,{children:i.jsx(aC,{})})})}),i.jsx(Se,{path:"/farm-resources",element:i.jsx(ct,{children:i.jsx(ot,{children:i.jsx(uC,{})})})}),i.jsx(Se,{path:"/farm-map",element:i.jsx(ct,{children:i.jsx(ot,{children:i.jsx(hC,{})})})}),i.jsx(Se,{path:"/planting-tracker",element:i.jsx(ct,{children:i.jsx(ot,{children:i.jsx(mC,{})})})}),i.jsx(Se,{path:"/reports",element:i.jsx(ct,{children:i.jsx(gC,{children:i.jsx(ot,{children:i.jsx(nC,{})})})})})]})}),i.jsx(pC,{})]})}"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(e=>{console.log("SW registered: ",e)}).catch(e=>{console.log("SW registration failed: ",e)})});Pc.createRoot(document.getElementById("root")).render(i.jsx(ro.StrictMode,{children:i.jsx(yC,{})}));
