var tv=Object.defineProperty;var sv=(e,t,s)=>t in e?tv(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s;var V=(e,t,s)=>(sv(e,typeof t!="symbol"?t+"":t,s),s);function nv(e,t){for(var s=0;s<t.length;s++){const n=t[s];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function s(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=s(i);fetch(i.href,a)}})();const rv="modulepreload",iv=function(e){return"/"+e},Fh={},Zx=function(t,s,n){if(!s||s.length===0)return t();const i=document.getElementsByTagName("link");return Promise.all(s.map(a=>{if(a=iv(a),a in Fh)return;Fh[a]=!0;const l=a.endsWith(".css"),o=l?'[rel="stylesheet"]':"";if(!!n)for(let u=i.length-1;u>=0;u--){const h=i[u];if(h.href===a&&(!l||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${a}"]${o}`))return;const d=document.createElement("link");if(d.rel=l?"stylesheet":rv,l||(d.as="script",d.crossOrigin=""),d.href=a,document.head.appendChild(d),l)return new Promise((u,h)=>{d.addEventListener("load",u),d.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${a}`)))})})).then(()=>t()).catch(a=>{const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a})};function av(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ep={exports:{}},wo={},tp={exports:{}},re={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pa=Symbol.for("react.element"),lv=Symbol.for("react.portal"),ov=Symbol.for("react.fragment"),cv=Symbol.for("react.strict_mode"),dv=Symbol.for("react.profiler"),uv=Symbol.for("react.provider"),hv=Symbol.for("react.context"),mv=Symbol.for("react.forward_ref"),fv=Symbol.for("react.suspense"),xv=Symbol.for("react.memo"),pv=Symbol.for("react.lazy"),Ih=Symbol.iterator;function gv(e){return e===null||typeof e!="object"?null:(e=Ih&&e[Ih]||e["@@iterator"],typeof e=="function"?e:null)}var sp={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},np=Object.assign,rp={};function Or(e,t,s){this.props=e,this.context=t,this.refs=rp,this.updater=s||sp}Or.prototype.isReactComponent={};Or.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Or.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function ip(){}ip.prototype=Or.prototype;function lu(e,t,s){this.props=e,this.context=t,this.refs=rp,this.updater=s||sp}var ou=lu.prototype=new ip;ou.constructor=lu;np(ou,Or.prototype);ou.isPureReactComponent=!0;var zh=Array.isArray,ap=Object.prototype.hasOwnProperty,cu={current:null},lp={key:!0,ref:!0,__self:!0,__source:!0};function op(e,t,s){var n,i={},a=null,l=null;if(t!=null)for(n in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(a=""+t.key),t)ap.call(t,n)&&!lp.hasOwnProperty(n)&&(i[n]=t[n]);var o=arguments.length-2;if(o===1)i.children=s;else if(1<o){for(var c=Array(o),d=0;d<o;d++)c[d]=arguments[d+2];i.children=c}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)i[n]===void 0&&(i[n]=o[n]);return{$$typeof:pa,type:e,key:a,ref:l,props:i,_owner:cu.current}}function yv(e,t){return{$$typeof:pa,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function du(e){return typeof e=="object"&&e!==null&&e.$$typeof===pa}function vv(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(s){return t[s]})}var Bh=/\/+/g;function ec(e,t){return typeof e=="object"&&e!==null&&e.key!=null?vv(""+e.key):t.toString(36)}function hl(e,t,s,n,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case pa:case lv:l=!0}}if(l)return l=e,i=i(l),e=n===""?"."+ec(l,0):n,zh(i)?(s="",e!=null&&(s=e.replace(Bh,"$&/")+"/"),hl(i,t,s,"",function(d){return d})):i!=null&&(du(i)&&(i=yv(i,s+(!i.key||l&&l.key===i.key?"":(""+i.key).replace(Bh,"$&/")+"/")+e)),t.push(i)),1;if(l=0,n=n===""?".":n+":",zh(e))for(var o=0;o<e.length;o++){a=e[o];var c=n+ec(a,o);l+=hl(a,t,s,c,i)}else if(c=gv(e),typeof c=="function")for(e=c.call(e),o=0;!(a=e.next()).done;)a=a.value,c=n+ec(a,o++),l+=hl(a,t,s,c,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function Ta(e,t,s){if(e==null)return e;var n=[],i=0;return hl(e,n,"","",function(a){return t.call(s,a,i++)}),n}function bv(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(s){(e._status===0||e._status===-1)&&(e._status=1,e._result=s)},function(s){(e._status===0||e._status===-1)&&(e._status=2,e._result=s)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var it={current:null},ml={transition:null},jv={ReactCurrentDispatcher:it,ReactCurrentBatchConfig:ml,ReactCurrentOwner:cu};function cp(){throw Error("act(...) is not supported in production builds of React.")}re.Children={map:Ta,forEach:function(e,t,s){Ta(e,function(){t.apply(this,arguments)},s)},count:function(e){var t=0;return Ta(e,function(){t++}),t},toArray:function(e){return Ta(e,function(t){return t})||[]},only:function(e){if(!du(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};re.Component=Or;re.Fragment=ov;re.Profiler=dv;re.PureComponent=lu;re.StrictMode=cv;re.Suspense=fv;re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jv;re.act=cp;re.cloneElement=function(e,t,s){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=np({},e.props),i=e.key,a=e.ref,l=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,l=cu.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in t)ap.call(t,c)&&!lp.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&o!==void 0?o[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=s;else if(1<c){o=Array(c);for(var d=0;d<c;d++)o[d]=arguments[d+2];n.children=o}return{$$typeof:pa,type:e.type,key:i,ref:a,props:n,_owner:l}};re.createContext=function(e){return e={$$typeof:hv,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:uv,_context:e},e.Consumer=e};re.createElement=op;re.createFactory=function(e){var t=op.bind(null,e);return t.type=e,t};re.createRef=function(){return{current:null}};re.forwardRef=function(e){return{$$typeof:mv,render:e}};re.isValidElement=du;re.lazy=function(e){return{$$typeof:pv,_payload:{_status:-1,_result:e},_init:bv}};re.memo=function(e,t){return{$$typeof:xv,type:e,compare:t===void 0?null:t}};re.startTransition=function(e){var t=ml.transition;ml.transition={};try{e()}finally{ml.transition=t}};re.unstable_act=cp;re.useCallback=function(e,t){return it.current.useCallback(e,t)};re.useContext=function(e){return it.current.useContext(e)};re.useDebugValue=function(){};re.useDeferredValue=function(e){return it.current.useDeferredValue(e)};re.useEffect=function(e,t){return it.current.useEffect(e,t)};re.useId=function(){return it.current.useId()};re.useImperativeHandle=function(e,t,s){return it.current.useImperativeHandle(e,t,s)};re.useInsertionEffect=function(e,t){return it.current.useInsertionEffect(e,t)};re.useLayoutEffect=function(e,t){return it.current.useLayoutEffect(e,t)};re.useMemo=function(e,t){return it.current.useMemo(e,t)};re.useReducer=function(e,t,s){return it.current.useReducer(e,t,s)};re.useRef=function(e){return it.current.useRef(e)};re.useState=function(e){return it.current.useState(e)};re.useSyncExternalStore=function(e,t,s){return it.current.useSyncExternalStore(e,t,s)};re.useTransition=function(){return it.current.useTransition()};re.version="18.3.1";tp.exports=re;var N=tp.exports;const ga=av(N),wv=nv({__proto__:null,default:ga},[N]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nv=N,_v=Symbol.for("react.element"),kv=Symbol.for("react.fragment"),Sv=Object.prototype.hasOwnProperty,Cv=Nv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Pv={key:!0,ref:!0,__self:!0,__source:!0};function dp(e,t,s){var n,i={},a=null,l=null;s!==void 0&&(a=""+s),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(l=t.ref);for(n in t)Sv.call(t,n)&&!Pv.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:_v,type:e,key:a,ref:l,props:i,_owner:Cv.current}}wo.Fragment=kv;wo.jsx=dp;wo.jsxs=dp;ep.exports=wo;var r=ep.exports,Vc={},up={exports:{}},wt={},hp={exports:{}},mp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(S,A){var $=S.length;S.push(A);e:for(;0<$;){var X=$-1>>>1,K=S[X];if(0<i(K,A))S[X]=A,S[$]=K,$=X;else break e}}function s(S){return S.length===0?null:S[0]}function n(S){if(S.length===0)return null;var A=S[0],$=S.pop();if($!==A){S[0]=$;e:for(var X=0,K=S.length,L=K>>>1;X<L;){var U=2*(X+1)-1,J=S[U],F=U+1,z=S[F];if(0>i(J,$))F<K&&0>i(z,J)?(S[X]=z,S[F]=$,X=F):(S[X]=J,S[U]=$,X=U);else if(F<K&&0>i(z,$))S[X]=z,S[F]=$,X=F;else break e}}return A}function i(S,A){var $=S.sortIndex-A.sortIndex;return $!==0?$:S.id-A.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var l=Date,o=l.now();e.unstable_now=function(){return l.now()-o}}var c=[],d=[],u=1,h=null,m=3,v=!1,x=!1,y=!1,b=typeof setTimeout=="function"?setTimeout:null,f=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(S){for(var A=s(d);A!==null;){if(A.callback===null)n(d);else if(A.startTime<=S)n(d),A.sortIndex=A.expirationTime,t(c,A);else break;A=s(d)}}function j(S){if(y=!1,g(S),!x)if(s(c)!==null)x=!0,M(w);else{var A=s(d);A!==null&&B(j,A.startTime-S)}}function w(S,A){x=!1,y&&(y=!1,f(P),P=-1),v=!0;var $=m;try{for(g(A),h=s(c);h!==null&&(!(h.expirationTime>A)||S&&!R());){var X=h.callback;if(typeof X=="function"){h.callback=null,m=h.priorityLevel;var K=X(h.expirationTime<=A);A=e.unstable_now(),typeof K=="function"?h.callback=K:h===s(c)&&n(c),g(A)}else n(c);h=s(c)}if(h!==null)var L=!0;else{var U=s(d);U!==null&&B(j,U.startTime-A),L=!1}return L}finally{h=null,m=$,v=!1}}var _=!1,k=null,P=-1,E=5,C=-1;function R(){return!(e.unstable_now()-C<E)}function I(){if(k!==null){var S=e.unstable_now();C=S;var A=!0;try{A=k(!0,S)}finally{A?H():(_=!1,k=null)}}else _=!1}var H;if(typeof p=="function")H=function(){p(I)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,Z=Q.port2;Q.port1.onmessage=I,H=function(){Z.postMessage(null)}}else H=function(){b(I,0)};function M(S){k=S,_||(_=!0,H())}function B(S,A){P=b(function(){S(e.unstable_now())},A)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(S){S.callback=null},e.unstable_continueExecution=function(){x||v||(x=!0,M(w))},e.unstable_forceFrameRate=function(S){0>S||125<S?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<S?Math.floor(1e3/S):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return s(c)},e.unstable_next=function(S){switch(m){case 1:case 2:case 3:var A=3;break;default:A=m}var $=m;m=A;try{return S()}finally{m=$}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(S,A){switch(S){case 1:case 2:case 3:case 4:case 5:break;default:S=3}var $=m;m=S;try{return A()}finally{m=$}},e.unstable_scheduleCallback=function(S,A,$){var X=e.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?X+$:X):$=X,S){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=$+K,S={id:u++,callback:A,priorityLevel:S,startTime:$,expirationTime:K,sortIndex:-1},$>X?(S.sortIndex=$,t(d,S),s(c)===null&&S===s(d)&&(y?(f(P),P=-1):y=!0,B(j,$-X))):(S.sortIndex=K,t(c,S),x||v||(x=!0,M(w))),S},e.unstable_shouldYield=R,e.unstable_wrapCallback=function(S){var A=m;return function(){var $=m;m=A;try{return S.apply(this,arguments)}finally{m=$}}}})(mp);hp.exports=mp;var Ev=hp.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mv=N,jt=Ev;function W(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=1;s<arguments.length;s++)t+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var fp=new Set,Oi={};function Kn(e,t){kr(e,t),kr(e+"Capture",t)}function kr(e,t){for(Oi[e]=t,e=0;e<t.length;e++)fp.add(t[e])}var _s=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),qc=Object.prototype.hasOwnProperty,Tv=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,$h={},Wh={};function Dv(e){return qc.call(Wh,e)?!0:qc.call($h,e)?!1:Tv.test(e)?Wh[e]=!0:($h[e]=!0,!1)}function Rv(e,t,s,n){if(s!==null&&s.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:s!==null?!s.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Av(e,t,s,n){if(t===null||typeof t>"u"||Rv(e,t,s,n))return!0;if(n)return!1;if(s!==null)switch(s.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function at(e,t,s,n,i,a,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=s,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=l}var Ve={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ve[e]=new at(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ve[t]=new at(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ve[e]=new at(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ve[e]=new at(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ve[e]=new at(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ve[e]=new at(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ve[e]=new at(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ve[e]=new at(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ve[e]=new at(e,5,!1,e.toLowerCase(),null,!1,!1)});var uu=/[\-:]([a-z])/g;function hu(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(uu,hu);Ve[t]=new at(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(uu,hu);Ve[t]=new at(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(uu,hu);Ve[t]=new at(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ve[e]=new at(e,1,!1,e.toLowerCase(),null,!1,!1)});Ve.xlinkHref=new at("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ve[e]=new at(e,1,!1,e.toLowerCase(),null,!0,!0)});function mu(e,t,s,n){var i=Ve.hasOwnProperty(t)?Ve[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Av(t,s,i,n)&&(s=null),n||i===null?Dv(t)&&(s===null?e.removeAttribute(t):e.setAttribute(t,""+s)):i.mustUseProperty?e[i.propertyName]=s===null?i.type===3?!1:"":s:(t=i.attributeName,n=i.attributeNamespace,s===null?e.removeAttribute(t):(i=i.type,s=i===3||i===4&&s===!0?"":""+s,n?e.setAttributeNS(n,t,s):e.setAttribute(t,s))))}var Es=Mv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Da=Symbol.for("react.element"),ir=Symbol.for("react.portal"),ar=Symbol.for("react.fragment"),fu=Symbol.for("react.strict_mode"),Yc=Symbol.for("react.profiler"),xp=Symbol.for("react.provider"),pp=Symbol.for("react.context"),xu=Symbol.for("react.forward_ref"),Xc=Symbol.for("react.suspense"),Qc=Symbol.for("react.suspense_list"),pu=Symbol.for("react.memo"),As=Symbol.for("react.lazy"),gp=Symbol.for("react.offscreen"),Hh=Symbol.iterator;function Xr(e){return e===null||typeof e!="object"?null:(e=Hh&&e[Hh]||e["@@iterator"],typeof e=="function"?e:null)}var _e=Object.assign,tc;function di(e){if(tc===void 0)try{throw Error()}catch(s){var t=s.stack.trim().match(/\n( *(at )?)/);tc=t&&t[1]||""}return`
`+tc+e}var sc=!1;function nc(e,t){if(!e||sc)return"";sc=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var n=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){n=d}e.call(t.prototype)}else{try{throw Error()}catch(d){n=d}e()}}catch(d){if(d&&n&&typeof d.stack=="string"){for(var i=d.stack.split(`
`),a=n.stack.split(`
`),l=i.length-1,o=a.length-1;1<=l&&0<=o&&i[l]!==a[o];)o--;for(;1<=l&&0<=o;l--,o--)if(i[l]!==a[o]){if(l!==1||o!==1)do if(l--,o--,0>o||i[l]!==a[o]){var c=`
`+i[l].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=l&&0<=o);break}}}finally{sc=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:"")?di(e):""}function Lv(e){switch(e.tag){case 5:return di(e.type);case 16:return di("Lazy");case 13:return di("Suspense");case 19:return di("SuspenseList");case 0:case 2:case 15:return e=nc(e.type,!1),e;case 11:return e=nc(e.type.render,!1),e;case 1:return e=nc(e.type,!0),e;default:return""}}function Kc(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ar:return"Fragment";case ir:return"Portal";case Yc:return"Profiler";case fu:return"StrictMode";case Xc:return"Suspense";case Qc:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case pp:return(e.displayName||"Context")+".Consumer";case xp:return(e._context.displayName||"Context")+".Provider";case xu:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case pu:return t=e.displayName||null,t!==null?t:Kc(e.type)||"Memo";case As:t=e._payload,e=e._init;try{return Kc(e(t))}catch{}}return null}function Ov(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Kc(t);case 8:return t===fu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function rn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function yp(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Fv(e){var t=yp(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var i=s.get,a=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(l){n=""+l,a.call(this,l)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return n},setValue:function(l){n=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ra(e){e._valueTracker||(e._valueTracker=Fv(e))}function vp(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var s=t.getValue(),n="";return e&&(n=yp(e)?e.checked?"true":"false":e.value),e=n,e!==s?(t.setValue(e),!0):!1}function Ll(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Gc(e,t){var s=t.checked;return _e({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??e._wrapperState.initialChecked})}function Uh(e,t){var s=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;s=rn(t.value!=null?t.value:s),e._wrapperState={initialChecked:n,initialValue:s,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function bp(e,t){t=t.checked,t!=null&&mu(e,"checked",t,!1)}function Jc(e,t){bp(e,t);var s=rn(t.value),n=t.type;if(s!=null)n==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+s):e.value!==""+s&&(e.value=""+s);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Zc(e,t.type,s):t.hasOwnProperty("defaultValue")&&Zc(e,t.type,rn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Vh(e,t,s){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,s||t===e.value||(e.value=t),e.defaultValue=t}s=e.name,s!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,s!==""&&(e.name=s)}function Zc(e,t,s){(t!=="number"||Ll(e.ownerDocument)!==e)&&(s==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+s&&(e.defaultValue=""+s))}var ui=Array.isArray;function gr(e,t,s,n){if(e=e.options,t){t={};for(var i=0;i<s.length;i++)t["$"+s[i]]=!0;for(s=0;s<e.length;s++)i=t.hasOwnProperty("$"+e[s].value),e[s].selected!==i&&(e[s].selected=i),i&&n&&(e[s].defaultSelected=!0)}else{for(s=""+rn(s),t=null,i=0;i<e.length;i++){if(e[i].value===s){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function ed(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(W(91));return _e({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function qh(e,t){var s=t.value;if(s==null){if(s=t.children,t=t.defaultValue,s!=null){if(t!=null)throw Error(W(92));if(ui(s)){if(1<s.length)throw Error(W(93));s=s[0]}t=s}t==null&&(t=""),s=t}e._wrapperState={initialValue:rn(s)}}function jp(e,t){var s=rn(t.value),n=rn(t.defaultValue);s!=null&&(s=""+s,s!==e.value&&(e.value=s),t.defaultValue==null&&e.defaultValue!==s&&(e.defaultValue=s)),n!=null&&(e.defaultValue=""+n)}function Yh(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function wp(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function td(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?wp(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Aa,Np=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,s,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,s,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Aa=Aa||document.createElement("div"),Aa.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Aa.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Fi(e,t){if(t){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=t;return}}e.textContent=t}var wi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Iv=["Webkit","ms","Moz","O"];Object.keys(wi).forEach(function(e){Iv.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),wi[t]=wi[e]})});function _p(e,t,s){return t==null||typeof t=="boolean"||t===""?"":s||typeof t!="number"||t===0||wi.hasOwnProperty(e)&&wi[e]?(""+t).trim():t+"px"}function kp(e,t){e=e.style;for(var s in t)if(t.hasOwnProperty(s)){var n=s.indexOf("--")===0,i=_p(s,t[s],n);s==="float"&&(s="cssFloat"),n?e.setProperty(s,i):e[s]=i}}var zv=_e({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function sd(e,t){if(t){if(zv[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(W(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(W(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(W(61))}if(t.style!=null&&typeof t.style!="object")throw Error(W(62))}}function nd(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var rd=null;function gu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var id=null,yr=null,vr=null;function Xh(e){if(e=ba(e)){if(typeof id!="function")throw Error(W(280));var t=e.stateNode;t&&(t=Co(t),id(e.stateNode,e.type,t))}}function Sp(e){yr?vr?vr.push(e):vr=[e]:yr=e}function Cp(){if(yr){var e=yr,t=vr;if(vr=yr=null,Xh(e),t)for(e=0;e<t.length;e++)Xh(t[e])}}function Pp(e,t){return e(t)}function Ep(){}var rc=!1;function Mp(e,t,s){if(rc)return e(t,s);rc=!0;try{return Pp(e,t,s)}finally{rc=!1,(yr!==null||vr!==null)&&(Ep(),Cp())}}function Ii(e,t){var s=e.stateNode;if(s===null)return null;var n=Co(s);if(n===null)return null;s=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(W(231,t,typeof s));return s}var ad=!1;if(_s)try{var Qr={};Object.defineProperty(Qr,"passive",{get:function(){ad=!0}}),window.addEventListener("test",Qr,Qr),window.removeEventListener("test",Qr,Qr)}catch{ad=!1}function Bv(e,t,s,n,i,a,l,o,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(s,d)}catch(u){this.onError(u)}}var Ni=!1,Ol=null,Fl=!1,ld=null,$v={onError:function(e){Ni=!0,Ol=e}};function Wv(e,t,s,n,i,a,l,o,c){Ni=!1,Ol=null,Bv.apply($v,arguments)}function Hv(e,t,s,n,i,a,l,o,c){if(Wv.apply(this,arguments),Ni){if(Ni){var d=Ol;Ni=!1,Ol=null}else throw Error(W(198));Fl||(Fl=!0,ld=d)}}function Gn(e){var t=e,s=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(s=t.return),e=t.return;while(e)}return t.tag===3?s:null}function Tp(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Qh(e){if(Gn(e)!==e)throw Error(W(188))}function Uv(e){var t=e.alternate;if(!t){if(t=Gn(e),t===null)throw Error(W(188));return t!==e?null:e}for(var s=e,n=t;;){var i=s.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){s=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===s)return Qh(i),e;if(a===n)return Qh(i),t;a=a.sibling}throw Error(W(188))}if(s.return!==n.return)s=i,n=a;else{for(var l=!1,o=i.child;o;){if(o===s){l=!0,s=i,n=a;break}if(o===n){l=!0,n=i,s=a;break}o=o.sibling}if(!l){for(o=a.child;o;){if(o===s){l=!0,s=a,n=i;break}if(o===n){l=!0,n=a,s=i;break}o=o.sibling}if(!l)throw Error(W(189))}}if(s.alternate!==n)throw Error(W(190))}if(s.tag!==3)throw Error(W(188));return s.stateNode.current===s?e:t}function Dp(e){return e=Uv(e),e!==null?Rp(e):null}function Rp(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Rp(e);if(t!==null)return t;e=e.sibling}return null}var Ap=jt.unstable_scheduleCallback,Kh=jt.unstable_cancelCallback,Vv=jt.unstable_shouldYield,qv=jt.unstable_requestPaint,Ce=jt.unstable_now,Yv=jt.unstable_getCurrentPriorityLevel,yu=jt.unstable_ImmediatePriority,Lp=jt.unstable_UserBlockingPriority,Il=jt.unstable_NormalPriority,Xv=jt.unstable_LowPriority,Op=jt.unstable_IdlePriority,No=null,rs=null;function Qv(e){if(rs&&typeof rs.onCommitFiberRoot=="function")try{rs.onCommitFiberRoot(No,e,void 0,(e.current.flags&128)===128)}catch{}}var $t=Math.clz32?Math.clz32:Jv,Kv=Math.log,Gv=Math.LN2;function Jv(e){return e>>>=0,e===0?32:31-(Kv(e)/Gv|0)|0}var La=64,Oa=4194304;function hi(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function zl(e,t){var s=e.pendingLanes;if(s===0)return 0;var n=0,i=e.suspendedLanes,a=e.pingedLanes,l=s&268435455;if(l!==0){var o=l&~i;o!==0?n=hi(o):(a&=l,a!==0&&(n=hi(a)))}else l=s&~i,l!==0?n=hi(l):a!==0&&(n=hi(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(n&4&&(n|=s&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)s=31-$t(t),i=1<<s,n|=e[s],t&=~i;return n}function Zv(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function eb(e,t){for(var s=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var l=31-$t(a),o=1<<l,c=i[l];c===-1?(!(o&s)||o&n)&&(i[l]=Zv(o,t)):c<=t&&(e.expiredLanes|=o),a&=~o}}function od(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Fp(){var e=La;return La<<=1,!(La&4194240)&&(La=64),e}function ic(e){for(var t=[],s=0;31>s;s++)t.push(e);return t}function ya(e,t,s){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-$t(t),e[t]=s}function tb(e,t){var s=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<s;){var i=31-$t(s),a=1<<i;t[i]=0,n[i]=-1,e[i]=-1,s&=~a}}function vu(e,t){var s=e.entangledLanes|=t;for(e=e.entanglements;s;){var n=31-$t(s),i=1<<n;i&t|e[n]&t&&(e[n]|=t),s&=~i}}var me=0;function Ip(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var zp,bu,Bp,$p,Wp,cd=!1,Fa=[],Xs=null,Qs=null,Ks=null,zi=new Map,Bi=new Map,Os=[],sb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Gh(e,t){switch(e){case"focusin":case"focusout":Xs=null;break;case"dragenter":case"dragleave":Qs=null;break;case"mouseover":case"mouseout":Ks=null;break;case"pointerover":case"pointerout":zi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bi.delete(t.pointerId)}}function Kr(e,t,s,n,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:s,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},t!==null&&(t=ba(t),t!==null&&bu(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function nb(e,t,s,n,i){switch(t){case"focusin":return Xs=Kr(Xs,e,t,s,n,i),!0;case"dragenter":return Qs=Kr(Qs,e,t,s,n,i),!0;case"mouseover":return Ks=Kr(Ks,e,t,s,n,i),!0;case"pointerover":var a=i.pointerId;return zi.set(a,Kr(zi.get(a)||null,e,t,s,n,i)),!0;case"gotpointercapture":return a=i.pointerId,Bi.set(a,Kr(Bi.get(a)||null,e,t,s,n,i)),!0}return!1}function Hp(e){var t=Mn(e.target);if(t!==null){var s=Gn(t);if(s!==null){if(t=s.tag,t===13){if(t=Tp(s),t!==null){e.blockedOn=t,Wp(e.priority,function(){Bp(s)});return}}else if(t===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function fl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var s=dd(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(s===null){s=e.nativeEvent;var n=new s.constructor(s.type,s);rd=n,s.target.dispatchEvent(n),rd=null}else return t=ba(s),t!==null&&bu(t),e.blockedOn=s,!1;t.shift()}return!0}function Jh(e,t,s){fl(e)&&s.delete(t)}function rb(){cd=!1,Xs!==null&&fl(Xs)&&(Xs=null),Qs!==null&&fl(Qs)&&(Qs=null),Ks!==null&&fl(Ks)&&(Ks=null),zi.forEach(Jh),Bi.forEach(Jh)}function Gr(e,t){e.blockedOn===t&&(e.blockedOn=null,cd||(cd=!0,jt.unstable_scheduleCallback(jt.unstable_NormalPriority,rb)))}function $i(e){function t(i){return Gr(i,e)}if(0<Fa.length){Gr(Fa[0],e);for(var s=1;s<Fa.length;s++){var n=Fa[s];n.blockedOn===e&&(n.blockedOn=null)}}for(Xs!==null&&Gr(Xs,e),Qs!==null&&Gr(Qs,e),Ks!==null&&Gr(Ks,e),zi.forEach(t),Bi.forEach(t),s=0;s<Os.length;s++)n=Os[s],n.blockedOn===e&&(n.blockedOn=null);for(;0<Os.length&&(s=Os[0],s.blockedOn===null);)Hp(s),s.blockedOn===null&&Os.shift()}var br=Es.ReactCurrentBatchConfig,Bl=!0;function ib(e,t,s,n){var i=me,a=br.transition;br.transition=null;try{me=1,ju(e,t,s,n)}finally{me=i,br.transition=a}}function ab(e,t,s,n){var i=me,a=br.transition;br.transition=null;try{me=4,ju(e,t,s,n)}finally{me=i,br.transition=a}}function ju(e,t,s,n){if(Bl){var i=dd(e,t,s,n);if(i===null)xc(e,t,n,$l,s),Gh(e,n);else if(nb(i,e,t,s,n))n.stopPropagation();else if(Gh(e,n),t&4&&-1<sb.indexOf(e)){for(;i!==null;){var a=ba(i);if(a!==null&&zp(a),a=dd(e,t,s,n),a===null&&xc(e,t,n,$l,s),a===i)break;i=a}i!==null&&n.stopPropagation()}else xc(e,t,n,null,s)}}var $l=null;function dd(e,t,s,n){if($l=null,e=gu(n),e=Mn(e),e!==null)if(t=Gn(e),t===null)e=null;else if(s=t.tag,s===13){if(e=Tp(t),e!==null)return e;e=null}else if(s===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return $l=e,null}function Up(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Yv()){case yu:return 1;case Lp:return 4;case Il:case Xv:return 16;case Op:return 536870912;default:return 16}default:return 16}}var Is=null,wu=null,xl=null;function Vp(){if(xl)return xl;var e,t=wu,s=t.length,n,i="value"in Is?Is.value:Is.textContent,a=i.length;for(e=0;e<s&&t[e]===i[e];e++);var l=s-e;for(n=1;n<=l&&t[s-n]===i[a-n];n++);return xl=i.slice(e,1<n?1-n:void 0)}function pl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ia(){return!0}function Zh(){return!1}function Nt(e){function t(s,n,i,a,l){this._reactName=s,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=l,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(s=e[o],this[o]=s?s(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Ia:Zh,this.isPropagationStopped=Zh,this}return _e(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Ia)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Ia)},persist:function(){},isPersistent:Ia}),t}var Fr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Nu=Nt(Fr),va=_e({},Fr,{view:0,detail:0}),lb=Nt(va),ac,lc,Jr,_o=_e({},va,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_u,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Jr&&(Jr&&e.type==="mousemove"?(ac=e.screenX-Jr.screenX,lc=e.screenY-Jr.screenY):lc=ac=0,Jr=e),ac)},movementY:function(e){return"movementY"in e?e.movementY:lc}}),em=Nt(_o),ob=_e({},_o,{dataTransfer:0}),cb=Nt(ob),db=_e({},va,{relatedTarget:0}),oc=Nt(db),ub=_e({},Fr,{animationName:0,elapsedTime:0,pseudoElement:0}),hb=Nt(ub),mb=_e({},Fr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),fb=Nt(mb),xb=_e({},Fr,{data:0}),tm=Nt(xb),pb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vb(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=yb[e])?!!t[e]:!1}function _u(){return vb}var bb=_e({},va,{key:function(e){if(e.key){var t=pb[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=pl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?gb[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_u,charCode:function(e){return e.type==="keypress"?pl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?pl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),jb=Nt(bb),wb=_e({},_o,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sm=Nt(wb),Nb=_e({},va,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_u}),_b=Nt(Nb),kb=_e({},Fr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Sb=Nt(kb),Cb=_e({},_o,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pb=Nt(Cb),Eb=[9,13,27,32],ku=_s&&"CompositionEvent"in window,_i=null;_s&&"documentMode"in document&&(_i=document.documentMode);var Mb=_s&&"TextEvent"in window&&!_i,qp=_s&&(!ku||_i&&8<_i&&11>=_i),nm=String.fromCharCode(32),rm=!1;function Yp(e,t){switch(e){case"keyup":return Eb.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xp(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var lr=!1;function Tb(e,t){switch(e){case"compositionend":return Xp(t);case"keypress":return t.which!==32?null:(rm=!0,nm);case"textInput":return e=t.data,e===nm&&rm?null:e;default:return null}}function Db(e,t){if(lr)return e==="compositionend"||!ku&&Yp(e,t)?(e=Vp(),xl=wu=Is=null,lr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return qp&&t.locale!=="ko"?null:t.data;default:return null}}var Rb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function im(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Rb[e.type]:t==="textarea"}function Qp(e,t,s,n){Sp(n),t=Wl(t,"onChange"),0<t.length&&(s=new Nu("onChange","change",null,s,n),e.push({event:s,listeners:t}))}var ki=null,Wi=null;function Ab(e){a0(e,0)}function ko(e){var t=dr(e);if(vp(t))return e}function Lb(e,t){if(e==="change")return t}var Kp=!1;if(_s){var cc;if(_s){var dc="oninput"in document;if(!dc){var am=document.createElement("div");am.setAttribute("oninput","return;"),dc=typeof am.oninput=="function"}cc=dc}else cc=!1;Kp=cc&&(!document.documentMode||9<document.documentMode)}function lm(){ki&&(ki.detachEvent("onpropertychange",Gp),Wi=ki=null)}function Gp(e){if(e.propertyName==="value"&&ko(Wi)){var t=[];Qp(t,Wi,e,gu(e)),Mp(Ab,t)}}function Ob(e,t,s){e==="focusin"?(lm(),ki=t,Wi=s,ki.attachEvent("onpropertychange",Gp)):e==="focusout"&&lm()}function Fb(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ko(Wi)}function Ib(e,t){if(e==="click")return ko(t)}function zb(e,t){if(e==="input"||e==="change")return ko(t)}function Bb(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Vt=typeof Object.is=="function"?Object.is:Bb;function Hi(e,t){if(Vt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var s=Object.keys(e),n=Object.keys(t);if(s.length!==n.length)return!1;for(n=0;n<s.length;n++){var i=s[n];if(!qc.call(t,i)||!Vt(e[i],t[i]))return!1}return!0}function om(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cm(e,t){var s=om(e);e=0;for(var n;s;){if(s.nodeType===3){if(n=e+s.textContent.length,e<=t&&n>=t)return{node:s,offset:t-e};e=n}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=om(s)}}function Jp(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Jp(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Zp(){for(var e=window,t=Ll();t instanceof e.HTMLIFrameElement;){try{var s=typeof t.contentWindow.location.href=="string"}catch{s=!1}if(s)e=t.contentWindow;else break;t=Ll(e.document)}return t}function Su(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function $b(e){var t=Zp(),s=e.focusedElem,n=e.selectionRange;if(t!==s&&s&&s.ownerDocument&&Jp(s.ownerDocument.documentElement,s)){if(n!==null&&Su(s)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in s)s.selectionStart=t,s.selectionEnd=Math.min(e,s.value.length);else if(e=(t=s.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=s.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!e.extend&&a>n&&(i=n,n=a,a=i),i=cm(s,a);var l=cm(s,n);i&&l&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}}for(t=[],e=s;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<t.length;s++)e=t[s],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Wb=_s&&"documentMode"in document&&11>=document.documentMode,or=null,ud=null,Si=null,hd=!1;function dm(e,t,s){var n=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;hd||or==null||or!==Ll(n)||(n=or,"selectionStart"in n&&Su(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Si&&Hi(Si,n)||(Si=n,n=Wl(ud,"onSelect"),0<n.length&&(t=new Nu("onSelect","select",null,t,s),e.push({event:t,listeners:n}),t.target=or)))}function za(e,t){var s={};return s[e.toLowerCase()]=t.toLowerCase(),s["Webkit"+e]="webkit"+t,s["Moz"+e]="moz"+t,s}var cr={animationend:za("Animation","AnimationEnd"),animationiteration:za("Animation","AnimationIteration"),animationstart:za("Animation","AnimationStart"),transitionend:za("Transition","TransitionEnd")},uc={},e0={};_s&&(e0=document.createElement("div").style,"AnimationEvent"in window||(delete cr.animationend.animation,delete cr.animationiteration.animation,delete cr.animationstart.animation),"TransitionEvent"in window||delete cr.transitionend.transition);function So(e){if(uc[e])return uc[e];if(!cr[e])return e;var t=cr[e],s;for(s in t)if(t.hasOwnProperty(s)&&s in e0)return uc[e]=t[s];return e}var t0=So("animationend"),s0=So("animationiteration"),n0=So("animationstart"),r0=So("transitionend"),i0=new Map,um="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function un(e,t){i0.set(e,t),Kn(t,[e])}for(var hc=0;hc<um.length;hc++){var mc=um[hc],Hb=mc.toLowerCase(),Ub=mc[0].toUpperCase()+mc.slice(1);un(Hb,"on"+Ub)}un(t0,"onAnimationEnd");un(s0,"onAnimationIteration");un(n0,"onAnimationStart");un("dblclick","onDoubleClick");un("focusin","onFocus");un("focusout","onBlur");un(r0,"onTransitionEnd");kr("onMouseEnter",["mouseout","mouseover"]);kr("onMouseLeave",["mouseout","mouseover"]);kr("onPointerEnter",["pointerout","pointerover"]);kr("onPointerLeave",["pointerout","pointerover"]);Kn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Kn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Kn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Kn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Kn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Kn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var mi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Vb=new Set("cancel close invalid load scroll toggle".split(" ").concat(mi));function hm(e,t,s){var n=e.type||"unknown-event";e.currentTarget=s,Hv(n,t,void 0,e),e.currentTarget=null}function a0(e,t){t=(t&4)!==0;for(var s=0;s<e.length;s++){var n=e[s],i=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var l=n.length-1;0<=l;l--){var o=n[l],c=o.instance,d=o.currentTarget;if(o=o.listener,c!==a&&i.isPropagationStopped())break e;hm(i,o,d),a=c}else for(l=0;l<n.length;l++){if(o=n[l],c=o.instance,d=o.currentTarget,o=o.listener,c!==a&&i.isPropagationStopped())break e;hm(i,o,d),a=c}}}if(Fl)throw e=ld,Fl=!1,ld=null,e}function pe(e,t){var s=t[gd];s===void 0&&(s=t[gd]=new Set);var n=e+"__bubble";s.has(n)||(l0(t,e,2,!1),s.add(n))}function fc(e,t,s){var n=0;t&&(n|=4),l0(s,e,n,t)}var Ba="_reactListening"+Math.random().toString(36).slice(2);function Ui(e){if(!e[Ba]){e[Ba]=!0,fp.forEach(function(s){s!=="selectionchange"&&(Vb.has(s)||fc(s,!1,e),fc(s,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ba]||(t[Ba]=!0,fc("selectionchange",!1,t))}}function l0(e,t,s,n){switch(Up(t)){case 1:var i=ib;break;case 4:i=ab;break;default:i=ju}s=i.bind(null,t,s,e),i=void 0,!ad||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,s,{capture:!0,passive:i}):e.addEventListener(t,s,!0):i!==void 0?e.addEventListener(t,s,{passive:i}):e.addEventListener(t,s,!1)}function xc(e,t,s,n,i){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var l=n.tag;if(l===3||l===4){var o=n.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(l===4)for(l=n.return;l!==null;){var c=l.tag;if((c===3||c===4)&&(c=l.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;l=l.return}for(;o!==null;){if(l=Mn(o),l===null)return;if(c=l.tag,c===5||c===6){n=a=l;continue e}o=o.parentNode}}n=n.return}Mp(function(){var d=a,u=gu(s),h=[];e:{var m=i0.get(e);if(m!==void 0){var v=Nu,x=e;switch(e){case"keypress":if(pl(s)===0)break e;case"keydown":case"keyup":v=jb;break;case"focusin":x="focus",v=oc;break;case"focusout":x="blur",v=oc;break;case"beforeblur":case"afterblur":v=oc;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=em;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=cb;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=_b;break;case t0:case s0:case n0:v=hb;break;case r0:v=Sb;break;case"scroll":v=lb;break;case"wheel":v=Pb;break;case"copy":case"cut":case"paste":v=fb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=sm}var y=(t&4)!==0,b=!y&&e==="scroll",f=y?m!==null?m+"Capture":null:m;y=[];for(var p=d,g;p!==null;){g=p;var j=g.stateNode;if(g.tag===5&&j!==null&&(g=j,f!==null&&(j=Ii(p,f),j!=null&&y.push(Vi(p,j,g)))),b)break;p=p.return}0<y.length&&(m=new v(m,x,null,s,u),h.push({event:m,listeners:y}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",m&&s!==rd&&(x=s.relatedTarget||s.fromElement)&&(Mn(x)||x[ks]))break e;if((v||m)&&(m=u.window===u?u:(m=u.ownerDocument)?m.defaultView||m.parentWindow:window,v?(x=s.relatedTarget||s.toElement,v=d,x=x?Mn(x):null,x!==null&&(b=Gn(x),x!==b||x.tag!==5&&x.tag!==6)&&(x=null)):(v=null,x=d),v!==x)){if(y=em,j="onMouseLeave",f="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(y=sm,j="onPointerLeave",f="onPointerEnter",p="pointer"),b=v==null?m:dr(v),g=x==null?m:dr(x),m=new y(j,p+"leave",v,s,u),m.target=b,m.relatedTarget=g,j=null,Mn(u)===d&&(y=new y(f,p+"enter",x,s,u),y.target=g,y.relatedTarget=b,j=y),b=j,v&&x)t:{for(y=v,f=x,p=0,g=y;g;g=er(g))p++;for(g=0,j=f;j;j=er(j))g++;for(;0<p-g;)y=er(y),p--;for(;0<g-p;)f=er(f),g--;for(;p--;){if(y===f||f!==null&&y===f.alternate)break t;y=er(y),f=er(f)}y=null}else y=null;v!==null&&mm(h,m,v,y,!1),x!==null&&b!==null&&mm(h,b,x,y,!0)}}e:{if(m=d?dr(d):window,v=m.nodeName&&m.nodeName.toLowerCase(),v==="select"||v==="input"&&m.type==="file")var w=Lb;else if(im(m))if(Kp)w=zb;else{w=Fb;var _=Ob}else(v=m.nodeName)&&v.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(w=Ib);if(w&&(w=w(e,d))){Qp(h,w,s,u);break e}_&&_(e,m,d),e==="focusout"&&(_=m._wrapperState)&&_.controlled&&m.type==="number"&&Zc(m,"number",m.value)}switch(_=d?dr(d):window,e){case"focusin":(im(_)||_.contentEditable==="true")&&(or=_,ud=d,Si=null);break;case"focusout":Si=ud=or=null;break;case"mousedown":hd=!0;break;case"contextmenu":case"mouseup":case"dragend":hd=!1,dm(h,s,u);break;case"selectionchange":if(Wb)break;case"keydown":case"keyup":dm(h,s,u)}var k;if(ku)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else lr?Yp(e,s)&&(P="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(P="onCompositionStart");P&&(qp&&s.locale!=="ko"&&(lr||P!=="onCompositionStart"?P==="onCompositionEnd"&&lr&&(k=Vp()):(Is=u,wu="value"in Is?Is.value:Is.textContent,lr=!0)),_=Wl(d,P),0<_.length&&(P=new tm(P,e,null,s,u),h.push({event:P,listeners:_}),k?P.data=k:(k=Xp(s),k!==null&&(P.data=k)))),(k=Mb?Tb(e,s):Db(e,s))&&(d=Wl(d,"onBeforeInput"),0<d.length&&(u=new tm("onBeforeInput","beforeinput",null,s,u),h.push({event:u,listeners:d}),u.data=k))}a0(h,t)})}function Vi(e,t,s){return{instance:e,listener:t,currentTarget:s}}function Wl(e,t){for(var s=t+"Capture",n=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=Ii(e,s),a!=null&&n.unshift(Vi(e,a,i)),a=Ii(e,t),a!=null&&n.push(Vi(e,a,i))),e=e.return}return n}function er(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function mm(e,t,s,n,i){for(var a=t._reactName,l=[];s!==null&&s!==n;){var o=s,c=o.alternate,d=o.stateNode;if(c!==null&&c===n)break;o.tag===5&&d!==null&&(o=d,i?(c=Ii(s,a),c!=null&&l.unshift(Vi(s,c,o))):i||(c=Ii(s,a),c!=null&&l.push(Vi(s,c,o)))),s=s.return}l.length!==0&&e.push({event:t,listeners:l})}var qb=/\r\n?/g,Yb=/\u0000|\uFFFD/g;function fm(e){return(typeof e=="string"?e:""+e).replace(qb,`
`).replace(Yb,"")}function $a(e,t,s){if(t=fm(t),fm(e)!==t&&s)throw Error(W(425))}function Hl(){}var md=null,fd=null;function xd(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var pd=typeof setTimeout=="function"?setTimeout:void 0,Xb=typeof clearTimeout=="function"?clearTimeout:void 0,xm=typeof Promise=="function"?Promise:void 0,Qb=typeof queueMicrotask=="function"?queueMicrotask:typeof xm<"u"?function(e){return xm.resolve(null).then(e).catch(Kb)}:pd;function Kb(e){setTimeout(function(){throw e})}function pc(e,t){var s=t,n=0;do{var i=s.nextSibling;if(e.removeChild(s),i&&i.nodeType===8)if(s=i.data,s==="/$"){if(n===0){e.removeChild(i),$i(t);return}n--}else s!=="$"&&s!=="$?"&&s!=="$!"||n++;s=i}while(s);$i(t)}function Gs(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function pm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(t===0)return e;t--}else s==="/$"&&t++}e=e.previousSibling}return null}var Ir=Math.random().toString(36).slice(2),ts="__reactFiber$"+Ir,qi="__reactProps$"+Ir,ks="__reactContainer$"+Ir,gd="__reactEvents$"+Ir,Gb="__reactListeners$"+Ir,Jb="__reactHandles$"+Ir;function Mn(e){var t=e[ts];if(t)return t;for(var s=e.parentNode;s;){if(t=s[ks]||s[ts]){if(s=t.alternate,t.child!==null||s!==null&&s.child!==null)for(e=pm(e);e!==null;){if(s=e[ts])return s;e=pm(e)}return t}e=s,s=e.parentNode}return null}function ba(e){return e=e[ts]||e[ks],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function dr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(W(33))}function Co(e){return e[qi]||null}var yd=[],ur=-1;function hn(e){return{current:e}}function ge(e){0>ur||(e.current=yd[ur],yd[ur]=null,ur--)}function xe(e,t){ur++,yd[ur]=e.current,e.current=t}var an={},Ze=hn(an),ht=hn(!1),Bn=an;function Sr(e,t){var s=e.type.contextTypes;if(!s)return an;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in s)i[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function mt(e){return e=e.childContextTypes,e!=null}function Ul(){ge(ht),ge(Ze)}function gm(e,t,s){if(Ze.current!==an)throw Error(W(168));xe(Ze,t),xe(ht,s)}function o0(e,t,s){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return s;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(W(108,Ov(e)||"Unknown",i));return _e({},s,n)}function Vl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||an,Bn=Ze.current,xe(Ze,e),xe(ht,ht.current),!0}function ym(e,t,s){var n=e.stateNode;if(!n)throw Error(W(169));s?(e=o0(e,t,Bn),n.__reactInternalMemoizedMergedChildContext=e,ge(ht),ge(Ze),xe(Ze,e)):ge(ht),xe(ht,s)}var hs=null,Po=!1,gc=!1;function c0(e){hs===null?hs=[e]:hs.push(e)}function Zb(e){Po=!0,c0(e)}function mn(){if(!gc&&hs!==null){gc=!0;var e=0,t=me;try{var s=hs;for(me=1;e<s.length;e++){var n=s[e];do n=n(!0);while(n!==null)}hs=null,Po=!1}catch(i){throw hs!==null&&(hs=hs.slice(e+1)),Ap(yu,mn),i}finally{me=t,gc=!1}}return null}var hr=[],mr=0,ql=null,Yl=0,St=[],Ct=0,$n=null,gs=1,ys="";function Nn(e,t){hr[mr++]=Yl,hr[mr++]=ql,ql=e,Yl=t}function d0(e,t,s){St[Ct++]=gs,St[Ct++]=ys,St[Ct++]=$n,$n=e;var n=gs;e=ys;var i=32-$t(n)-1;n&=~(1<<i),s+=1;var a=32-$t(t)+i;if(30<a){var l=i-i%5;a=(n&(1<<l)-1).toString(32),n>>=l,i-=l,gs=1<<32-$t(t)+i|s<<i|n,ys=a+e}else gs=1<<a|s<<i|n,ys=e}function Cu(e){e.return!==null&&(Nn(e,1),d0(e,1,0))}function Pu(e){for(;e===ql;)ql=hr[--mr],hr[mr]=null,Yl=hr[--mr],hr[mr]=null;for(;e===$n;)$n=St[--Ct],St[Ct]=null,ys=St[--Ct],St[Ct]=null,gs=St[--Ct],St[Ct]=null}var vt=null,yt=null,ye=!1,It=null;function u0(e,t){var s=Et(5,null,null,0);s.elementType="DELETED",s.stateNode=t,s.return=e,t=e.deletions,t===null?(e.deletions=[s],e.flags|=16):t.push(s)}function vm(e,t){switch(e.tag){case 5:var s=e.type;return t=t.nodeType!==1||s.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,vt=e,yt=Gs(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,vt=e,yt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(s=$n!==null?{id:gs,overflow:ys}:null,e.memoizedState={dehydrated:t,treeContext:s,retryLane:1073741824},s=Et(18,null,null,0),s.stateNode=t,s.return=e,e.child=s,vt=e,yt=null,!0):!1;default:return!1}}function vd(e){return(e.mode&1)!==0&&(e.flags&128)===0}function bd(e){if(ye){var t=yt;if(t){var s=t;if(!vm(e,t)){if(vd(e))throw Error(W(418));t=Gs(s.nextSibling);var n=vt;t&&vm(e,t)?u0(n,s):(e.flags=e.flags&-4097|2,ye=!1,vt=e)}}else{if(vd(e))throw Error(W(418));e.flags=e.flags&-4097|2,ye=!1,vt=e}}}function bm(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;vt=e}function Wa(e){if(e!==vt)return!1;if(!ye)return bm(e),ye=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!xd(e.type,e.memoizedProps)),t&&(t=yt)){if(vd(e))throw h0(),Error(W(418));for(;t;)u0(e,t),t=Gs(t.nextSibling)}if(bm(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(W(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"){if(t===0){yt=Gs(e.nextSibling);break e}t--}else s!=="$"&&s!=="$!"&&s!=="$?"||t++}e=e.nextSibling}yt=null}}else yt=vt?Gs(e.stateNode.nextSibling):null;return!0}function h0(){for(var e=yt;e;)e=Gs(e.nextSibling)}function Cr(){yt=vt=null,ye=!1}function Eu(e){It===null?It=[e]:It.push(e)}var ej=Es.ReactCurrentBatchConfig;function Zr(e,t,s){if(e=s.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(W(309));var n=s.stateNode}if(!n)throw Error(W(147,e));var i=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(l){var o=i.refs;l===null?delete o[a]:o[a]=l},t._stringRef=a,t)}if(typeof e!="string")throw Error(W(284));if(!s._owner)throw Error(W(290,e))}return e}function Ha(e,t){throw e=Object.prototype.toString.call(t),Error(W(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function jm(e){var t=e._init;return t(e._payload)}function m0(e){function t(f,p){if(e){var g=f.deletions;g===null?(f.deletions=[p],f.flags|=16):g.push(p)}}function s(f,p){if(!e)return null;for(;p!==null;)t(f,p),p=p.sibling;return null}function n(f,p){for(f=new Map;p!==null;)p.key!==null?f.set(p.key,p):f.set(p.index,p),p=p.sibling;return f}function i(f,p){return f=tn(f,p),f.index=0,f.sibling=null,f}function a(f,p,g){return f.index=g,e?(g=f.alternate,g!==null?(g=g.index,g<p?(f.flags|=2,p):g):(f.flags|=2,p)):(f.flags|=1048576,p)}function l(f){return e&&f.alternate===null&&(f.flags|=2),f}function o(f,p,g,j){return p===null||p.tag!==6?(p=_c(g,f.mode,j),p.return=f,p):(p=i(p,g),p.return=f,p)}function c(f,p,g,j){var w=g.type;return w===ar?u(f,p,g.props.children,j,g.key):p!==null&&(p.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===As&&jm(w)===p.type)?(j=i(p,g.props),j.ref=Zr(f,p,g),j.return=f,j):(j=Nl(g.type,g.key,g.props,null,f.mode,j),j.ref=Zr(f,p,g),j.return=f,j)}function d(f,p,g,j){return p===null||p.tag!==4||p.stateNode.containerInfo!==g.containerInfo||p.stateNode.implementation!==g.implementation?(p=kc(g,f.mode,j),p.return=f,p):(p=i(p,g.children||[]),p.return=f,p)}function u(f,p,g,j,w){return p===null||p.tag!==7?(p=On(g,f.mode,j,w),p.return=f,p):(p=i(p,g),p.return=f,p)}function h(f,p,g){if(typeof p=="string"&&p!==""||typeof p=="number")return p=_c(""+p,f.mode,g),p.return=f,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Da:return g=Nl(p.type,p.key,p.props,null,f.mode,g),g.ref=Zr(f,null,p),g.return=f,g;case ir:return p=kc(p,f.mode,g),p.return=f,p;case As:var j=p._init;return h(f,j(p._payload),g)}if(ui(p)||Xr(p))return p=On(p,f.mode,g,null),p.return=f,p;Ha(f,p)}return null}function m(f,p,g,j){var w=p!==null?p.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return w!==null?null:o(f,p,""+g,j);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Da:return g.key===w?c(f,p,g,j):null;case ir:return g.key===w?d(f,p,g,j):null;case As:return w=g._init,m(f,p,w(g._payload),j)}if(ui(g)||Xr(g))return w!==null?null:u(f,p,g,j,null);Ha(f,g)}return null}function v(f,p,g,j,w){if(typeof j=="string"&&j!==""||typeof j=="number")return f=f.get(g)||null,o(p,f,""+j,w);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Da:return f=f.get(j.key===null?g:j.key)||null,c(p,f,j,w);case ir:return f=f.get(j.key===null?g:j.key)||null,d(p,f,j,w);case As:var _=j._init;return v(f,p,g,_(j._payload),w)}if(ui(j)||Xr(j))return f=f.get(g)||null,u(p,f,j,w,null);Ha(p,j)}return null}function x(f,p,g,j){for(var w=null,_=null,k=p,P=p=0,E=null;k!==null&&P<g.length;P++){k.index>P?(E=k,k=null):E=k.sibling;var C=m(f,k,g[P],j);if(C===null){k===null&&(k=E);break}e&&k&&C.alternate===null&&t(f,k),p=a(C,p,P),_===null?w=C:_.sibling=C,_=C,k=E}if(P===g.length)return s(f,k),ye&&Nn(f,P),w;if(k===null){for(;P<g.length;P++)k=h(f,g[P],j),k!==null&&(p=a(k,p,P),_===null?w=k:_.sibling=k,_=k);return ye&&Nn(f,P),w}for(k=n(f,k);P<g.length;P++)E=v(k,f,P,g[P],j),E!==null&&(e&&E.alternate!==null&&k.delete(E.key===null?P:E.key),p=a(E,p,P),_===null?w=E:_.sibling=E,_=E);return e&&k.forEach(function(R){return t(f,R)}),ye&&Nn(f,P),w}function y(f,p,g,j){var w=Xr(g);if(typeof w!="function")throw Error(W(150));if(g=w.call(g),g==null)throw Error(W(151));for(var _=w=null,k=p,P=p=0,E=null,C=g.next();k!==null&&!C.done;P++,C=g.next()){k.index>P?(E=k,k=null):E=k.sibling;var R=m(f,k,C.value,j);if(R===null){k===null&&(k=E);break}e&&k&&R.alternate===null&&t(f,k),p=a(R,p,P),_===null?w=R:_.sibling=R,_=R,k=E}if(C.done)return s(f,k),ye&&Nn(f,P),w;if(k===null){for(;!C.done;P++,C=g.next())C=h(f,C.value,j),C!==null&&(p=a(C,p,P),_===null?w=C:_.sibling=C,_=C);return ye&&Nn(f,P),w}for(k=n(f,k);!C.done;P++,C=g.next())C=v(k,f,P,C.value,j),C!==null&&(e&&C.alternate!==null&&k.delete(C.key===null?P:C.key),p=a(C,p,P),_===null?w=C:_.sibling=C,_=C);return e&&k.forEach(function(I){return t(f,I)}),ye&&Nn(f,P),w}function b(f,p,g,j){if(typeof g=="object"&&g!==null&&g.type===ar&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case Da:e:{for(var w=g.key,_=p;_!==null;){if(_.key===w){if(w=g.type,w===ar){if(_.tag===7){s(f,_.sibling),p=i(_,g.props.children),p.return=f,f=p;break e}}else if(_.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===As&&jm(w)===_.type){s(f,_.sibling),p=i(_,g.props),p.ref=Zr(f,_,g),p.return=f,f=p;break e}s(f,_);break}else t(f,_);_=_.sibling}g.type===ar?(p=On(g.props.children,f.mode,j,g.key),p.return=f,f=p):(j=Nl(g.type,g.key,g.props,null,f.mode,j),j.ref=Zr(f,p,g),j.return=f,f=j)}return l(f);case ir:e:{for(_=g.key;p!==null;){if(p.key===_)if(p.tag===4&&p.stateNode.containerInfo===g.containerInfo&&p.stateNode.implementation===g.implementation){s(f,p.sibling),p=i(p,g.children||[]),p.return=f,f=p;break e}else{s(f,p);break}else t(f,p);p=p.sibling}p=kc(g,f.mode,j),p.return=f,f=p}return l(f);case As:return _=g._init,b(f,p,_(g._payload),j)}if(ui(g))return x(f,p,g,j);if(Xr(g))return y(f,p,g,j);Ha(f,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,p!==null&&p.tag===6?(s(f,p.sibling),p=i(p,g),p.return=f,f=p):(s(f,p),p=_c(g,f.mode,j),p.return=f,f=p),l(f)):s(f,p)}return b}var Pr=m0(!0),f0=m0(!1),Xl=hn(null),Ql=null,fr=null,Mu=null;function Tu(){Mu=fr=Ql=null}function Du(e){var t=Xl.current;ge(Xl),e._currentValue=t}function jd(e,t,s){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===s)break;e=e.return}}function jr(e,t){Ql=e,Mu=fr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ut=!0),e.firstContext=null)}function Dt(e){var t=e._currentValue;if(Mu!==e)if(e={context:e,memoizedValue:t,next:null},fr===null){if(Ql===null)throw Error(W(308));fr=e,Ql.dependencies={lanes:0,firstContext:e}}else fr=fr.next=e;return t}var Tn=null;function Ru(e){Tn===null?Tn=[e]:Tn.push(e)}function x0(e,t,s,n){var i=t.interleaved;return i===null?(s.next=s,Ru(t)):(s.next=i.next,i.next=s),t.interleaved=s,Ss(e,n)}function Ss(e,t){e.lanes|=t;var s=e.alternate;for(s!==null&&(s.lanes|=t),s=e,e=e.return;e!==null;)e.childLanes|=t,s=e.alternate,s!==null&&(s.childLanes|=t),s=e,e=e.return;return s.tag===3?s.stateNode:null}var Ls=!1;function Au(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function p0(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ws(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Js(e,t,s){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,ae&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,Ss(e,s)}return i=n.interleaved,i===null?(t.next=t,Ru(n)):(t.next=i.next,i.next=t),n.interleaved=t,Ss(e,s)}function gl(e,t,s){if(t=t.updateQueue,t!==null&&(t=t.shared,(s&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,s|=n,t.lanes=s,vu(e,s)}}function wm(e,t){var s=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,s===n)){var i=null,a=null;if(s=s.firstBaseUpdate,s!==null){do{var l={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};a===null?i=a=l:a=a.next=l,s=s.next}while(s!==null);a===null?i=a=t:a=a.next=t}else i=a=t;s={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=t:e.next=t,s.lastBaseUpdate=t}function Kl(e,t,s,n){var i=e.updateQueue;Ls=!1;var a=i.firstBaseUpdate,l=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var c=o,d=c.next;c.next=null,l===null?a=d:l.next=d,l=c;var u=e.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==l&&(o===null?u.firstBaseUpdate=d:o.next=d,u.lastBaseUpdate=c))}if(a!==null){var h=i.baseState;l=0,u=d=c=null,o=a;do{var m=o.lane,v=o.eventTime;if((n&m)===m){u!==null&&(u=u.next={eventTime:v,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var x=e,y=o;switch(m=t,v=s,y.tag){case 1:if(x=y.payload,typeof x=="function"){h=x.call(v,h,m);break e}h=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=y.payload,m=typeof x=="function"?x.call(v,h,m):x,m==null)break e;h=_e({},h,m);break e;case 2:Ls=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,m=i.effects,m===null?i.effects=[o]:m.push(o))}else v={eventTime:v,lane:m,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(d=u=v,c=h):u=u.next=v,l|=m;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;m=o,o=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(1);if(u===null&&(c=h),i.baseState=c,i.firstBaseUpdate=d,i.lastBaseUpdate=u,t=i.shared.interleaved,t!==null){i=t;do l|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);Hn|=l,e.lanes=l,e.memoizedState=h}}function Nm(e,t,s){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=s,typeof i!="function")throw Error(W(191,i));i.call(n)}}}var ja={},is=hn(ja),Yi=hn(ja),Xi=hn(ja);function Dn(e){if(e===ja)throw Error(W(174));return e}function Lu(e,t){switch(xe(Xi,t),xe(Yi,e),xe(is,ja),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:td(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=td(t,e)}ge(is),xe(is,t)}function Er(){ge(is),ge(Yi),ge(Xi)}function g0(e){Dn(Xi.current);var t=Dn(is.current),s=td(t,e.type);t!==s&&(xe(Yi,e),xe(is,s))}function Ou(e){Yi.current===e&&(ge(is),ge(Yi))}var we=hn(0);function Gl(e){for(var t=e;t!==null;){if(t.tag===13){var s=t.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var yc=[];function Fu(){for(var e=0;e<yc.length;e++)yc[e]._workInProgressVersionPrimary=null;yc.length=0}var yl=Es.ReactCurrentDispatcher,vc=Es.ReactCurrentBatchConfig,Wn=0,Ne=null,Re=null,Ie=null,Jl=!1,Ci=!1,Qi=0,tj=0;function Ye(){throw Error(W(321))}function Iu(e,t){if(t===null)return!1;for(var s=0;s<t.length&&s<e.length;s++)if(!Vt(e[s],t[s]))return!1;return!0}function zu(e,t,s,n,i,a){if(Wn=a,Ne=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,yl.current=e===null||e.memoizedState===null?ij:aj,e=s(n,i),Ci){a=0;do{if(Ci=!1,Qi=0,25<=a)throw Error(W(301));a+=1,Ie=Re=null,t.updateQueue=null,yl.current=lj,e=s(n,i)}while(Ci)}if(yl.current=Zl,t=Re!==null&&Re.next!==null,Wn=0,Ie=Re=Ne=null,Jl=!1,t)throw Error(W(300));return e}function Bu(){var e=Qi!==0;return Qi=0,e}function Zt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ie===null?Ne.memoizedState=Ie=e:Ie=Ie.next=e,Ie}function Rt(){if(Re===null){var e=Ne.alternate;e=e!==null?e.memoizedState:null}else e=Re.next;var t=Ie===null?Ne.memoizedState:Ie.next;if(t!==null)Ie=t,Re=e;else{if(e===null)throw Error(W(310));Re=e,e={memoizedState:Re.memoizedState,baseState:Re.baseState,baseQueue:Re.baseQueue,queue:Re.queue,next:null},Ie===null?Ne.memoizedState=Ie=e:Ie=Ie.next=e}return Ie}function Ki(e,t){return typeof t=="function"?t(e):t}function bc(e){var t=Rt(),s=t.queue;if(s===null)throw Error(W(311));s.lastRenderedReducer=e;var n=Re,i=n.baseQueue,a=s.pending;if(a!==null){if(i!==null){var l=i.next;i.next=a.next,a.next=l}n.baseQueue=i=a,s.pending=null}if(i!==null){a=i.next,n=n.baseState;var o=l=null,c=null,d=a;do{var u=d.lane;if((Wn&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:e(n,d.action);else{var h={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(o=c=h,l=n):c=c.next=h,Ne.lanes|=u,Hn|=u}d=d.next}while(d!==null&&d!==a);c===null?l=n:c.next=o,Vt(n,t.memoizedState)||(ut=!0),t.memoizedState=n,t.baseState=l,t.baseQueue=c,s.lastRenderedState=n}if(e=s.interleaved,e!==null){i=e;do a=i.lane,Ne.lanes|=a,Hn|=a,i=i.next;while(i!==e)}else i===null&&(s.lanes=0);return[t.memoizedState,s.dispatch]}function jc(e){var t=Rt(),s=t.queue;if(s===null)throw Error(W(311));s.lastRenderedReducer=e;var n=s.dispatch,i=s.pending,a=t.memoizedState;if(i!==null){s.pending=null;var l=i=i.next;do a=e(a,l.action),l=l.next;while(l!==i);Vt(a,t.memoizedState)||(ut=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),s.lastRenderedState=a}return[a,n]}function y0(){}function v0(e,t){var s=Ne,n=Rt(),i=t(),a=!Vt(n.memoizedState,i);if(a&&(n.memoizedState=i,ut=!0),n=n.queue,$u(w0.bind(null,s,n,e),[e]),n.getSnapshot!==t||a||Ie!==null&&Ie.memoizedState.tag&1){if(s.flags|=2048,Gi(9,j0.bind(null,s,n,i,t),void 0,null),Be===null)throw Error(W(349));Wn&30||b0(s,t,i)}return i}function b0(e,t,s){e.flags|=16384,e={getSnapshot:t,value:s},t=Ne.updateQueue,t===null?(t={lastEffect:null,stores:null},Ne.updateQueue=t,t.stores=[e]):(s=t.stores,s===null?t.stores=[e]:s.push(e))}function j0(e,t,s,n){t.value=s,t.getSnapshot=n,N0(t)&&_0(e)}function w0(e,t,s){return s(function(){N0(t)&&_0(e)})}function N0(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!Vt(e,s)}catch{return!0}}function _0(e){var t=Ss(e,1);t!==null&&Wt(t,e,1,-1)}function _m(e){var t=Zt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:e},t.queue=e,e=e.dispatch=rj.bind(null,Ne,e),[t.memoizedState,e]}function Gi(e,t,s,n){return e={tag:e,create:t,destroy:s,deps:n,next:null},t=Ne.updateQueue,t===null?(t={lastEffect:null,stores:null},Ne.updateQueue=t,t.lastEffect=e.next=e):(s=t.lastEffect,s===null?t.lastEffect=e.next=e:(n=s.next,s.next=e,e.next=n,t.lastEffect=e)),e}function k0(){return Rt().memoizedState}function vl(e,t,s,n){var i=Zt();Ne.flags|=e,i.memoizedState=Gi(1|t,s,void 0,n===void 0?null:n)}function Eo(e,t,s,n){var i=Rt();n=n===void 0?null:n;var a=void 0;if(Re!==null){var l=Re.memoizedState;if(a=l.destroy,n!==null&&Iu(n,l.deps)){i.memoizedState=Gi(t,s,a,n);return}}Ne.flags|=e,i.memoizedState=Gi(1|t,s,a,n)}function km(e,t){return vl(8390656,8,e,t)}function $u(e,t){return Eo(2048,8,e,t)}function S0(e,t){return Eo(4,2,e,t)}function C0(e,t){return Eo(4,4,e,t)}function P0(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function E0(e,t,s){return s=s!=null?s.concat([e]):null,Eo(4,4,P0.bind(null,t,e),s)}function Wu(){}function M0(e,t){var s=Rt();t=t===void 0?null:t;var n=s.memoizedState;return n!==null&&t!==null&&Iu(t,n[1])?n[0]:(s.memoizedState=[e,t],e)}function T0(e,t){var s=Rt();t=t===void 0?null:t;var n=s.memoizedState;return n!==null&&t!==null&&Iu(t,n[1])?n[0]:(e=e(),s.memoizedState=[e,t],e)}function D0(e,t,s){return Wn&21?(Vt(s,t)||(s=Fp(),Ne.lanes|=s,Hn|=s,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ut=!0),e.memoizedState=s)}function sj(e,t){var s=me;me=s!==0&&4>s?s:4,e(!0);var n=vc.transition;vc.transition={};try{e(!1),t()}finally{me=s,vc.transition=n}}function R0(){return Rt().memoizedState}function nj(e,t,s){var n=en(e);if(s={lane:n,action:s,hasEagerState:!1,eagerState:null,next:null},A0(e))L0(t,s);else if(s=x0(e,t,s,n),s!==null){var i=rt();Wt(s,e,n,i),O0(s,t,n)}}function rj(e,t,s){var n=en(e),i={lane:n,action:s,hasEagerState:!1,eagerState:null,next:null};if(A0(e))L0(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var l=t.lastRenderedState,o=a(l,s);if(i.hasEagerState=!0,i.eagerState=o,Vt(o,l)){var c=t.interleaved;c===null?(i.next=i,Ru(t)):(i.next=c.next,c.next=i),t.interleaved=i;return}}catch{}finally{}s=x0(e,t,i,n),s!==null&&(i=rt(),Wt(s,e,n,i),O0(s,t,n))}}function A0(e){var t=e.alternate;return e===Ne||t!==null&&t===Ne}function L0(e,t){Ci=Jl=!0;var s=e.pending;s===null?t.next=t:(t.next=s.next,s.next=t),e.pending=t}function O0(e,t,s){if(s&4194240){var n=t.lanes;n&=e.pendingLanes,s|=n,t.lanes=s,vu(e,s)}}var Zl={readContext:Dt,useCallback:Ye,useContext:Ye,useEffect:Ye,useImperativeHandle:Ye,useInsertionEffect:Ye,useLayoutEffect:Ye,useMemo:Ye,useReducer:Ye,useRef:Ye,useState:Ye,useDebugValue:Ye,useDeferredValue:Ye,useTransition:Ye,useMutableSource:Ye,useSyncExternalStore:Ye,useId:Ye,unstable_isNewReconciler:!1},ij={readContext:Dt,useCallback:function(e,t){return Zt().memoizedState=[e,t===void 0?null:t],e},useContext:Dt,useEffect:km,useImperativeHandle:function(e,t,s){return s=s!=null?s.concat([e]):null,vl(4194308,4,P0.bind(null,t,e),s)},useLayoutEffect:function(e,t){return vl(4194308,4,e,t)},useInsertionEffect:function(e,t){return vl(4,2,e,t)},useMemo:function(e,t){var s=Zt();return t=t===void 0?null:t,e=e(),s.memoizedState=[e,t],e},useReducer:function(e,t,s){var n=Zt();return t=s!==void 0?s(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=nj.bind(null,Ne,e),[n.memoizedState,e]},useRef:function(e){var t=Zt();return e={current:e},t.memoizedState=e},useState:_m,useDebugValue:Wu,useDeferredValue:function(e){return Zt().memoizedState=e},useTransition:function(){var e=_m(!1),t=e[0];return e=sj.bind(null,e[1]),Zt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,s){var n=Ne,i=Zt();if(ye){if(s===void 0)throw Error(W(407));s=s()}else{if(s=t(),Be===null)throw Error(W(349));Wn&30||b0(n,t,s)}i.memoizedState=s;var a={value:s,getSnapshot:t};return i.queue=a,km(w0.bind(null,n,a,e),[e]),n.flags|=2048,Gi(9,j0.bind(null,n,a,s,t),void 0,null),s},useId:function(){var e=Zt(),t=Be.identifierPrefix;if(ye){var s=ys,n=gs;s=(n&~(1<<32-$t(n)-1)).toString(32)+s,t=":"+t+"R"+s,s=Qi++,0<s&&(t+="H"+s.toString(32)),t+=":"}else s=tj++,t=":"+t+"r"+s.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},aj={readContext:Dt,useCallback:M0,useContext:Dt,useEffect:$u,useImperativeHandle:E0,useInsertionEffect:S0,useLayoutEffect:C0,useMemo:T0,useReducer:bc,useRef:k0,useState:function(){return bc(Ki)},useDebugValue:Wu,useDeferredValue:function(e){var t=Rt();return D0(t,Re.memoizedState,e)},useTransition:function(){var e=bc(Ki)[0],t=Rt().memoizedState;return[e,t]},useMutableSource:y0,useSyncExternalStore:v0,useId:R0,unstable_isNewReconciler:!1},lj={readContext:Dt,useCallback:M0,useContext:Dt,useEffect:$u,useImperativeHandle:E0,useInsertionEffect:S0,useLayoutEffect:C0,useMemo:T0,useReducer:jc,useRef:k0,useState:function(){return jc(Ki)},useDebugValue:Wu,useDeferredValue:function(e){var t=Rt();return Re===null?t.memoizedState=e:D0(t,Re.memoizedState,e)},useTransition:function(){var e=jc(Ki)[0],t=Rt().memoizedState;return[e,t]},useMutableSource:y0,useSyncExternalStore:v0,useId:R0,unstable_isNewReconciler:!1};function Ot(e,t){if(e&&e.defaultProps){t=_e({},t),e=e.defaultProps;for(var s in e)t[s]===void 0&&(t[s]=e[s]);return t}return t}function wd(e,t,s,n){t=e.memoizedState,s=s(n,t),s=s==null?t:_e({},t,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Mo={isMounted:function(e){return(e=e._reactInternals)?Gn(e)===e:!1},enqueueSetState:function(e,t,s){e=e._reactInternals;var n=rt(),i=en(e),a=ws(n,i);a.payload=t,s!=null&&(a.callback=s),t=Js(e,a,i),t!==null&&(Wt(t,e,i,n),gl(t,e,i))},enqueueReplaceState:function(e,t,s){e=e._reactInternals;var n=rt(),i=en(e),a=ws(n,i);a.tag=1,a.payload=t,s!=null&&(a.callback=s),t=Js(e,a,i),t!==null&&(Wt(t,e,i,n),gl(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var s=rt(),n=en(e),i=ws(s,n);i.tag=2,t!=null&&(i.callback=t),t=Js(e,i,n),t!==null&&(Wt(t,e,n,s),gl(t,e,n))}};function Sm(e,t,s,n,i,a,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,l):t.prototype&&t.prototype.isPureReactComponent?!Hi(s,n)||!Hi(i,a):!0}function F0(e,t,s){var n=!1,i=an,a=t.contextType;return typeof a=="object"&&a!==null?a=Dt(a):(i=mt(t)?Bn:Ze.current,n=t.contextTypes,a=(n=n!=null)?Sr(e,i):an),t=new t(s,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Mo,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Cm(e,t,s,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(s,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(s,n),t.state!==e&&Mo.enqueueReplaceState(t,t.state,null)}function Nd(e,t,s,n){var i=e.stateNode;i.props=s,i.state=e.memoizedState,i.refs={},Au(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=Dt(a):(a=mt(t)?Bn:Ze.current,i.context=Sr(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(wd(e,t,a,s),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Mo.enqueueReplaceState(i,i.state,null),Kl(e,s,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Mr(e,t){try{var s="",n=t;do s+=Lv(n),n=n.return;while(n);var i=s}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function wc(e,t,s){return{value:e,source:null,stack:s??null,digest:t??null}}function _d(e,t){try{console.error(t.value)}catch(s){setTimeout(function(){throw s})}}var oj=typeof WeakMap=="function"?WeakMap:Map;function I0(e,t,s){s=ws(-1,s),s.tag=3,s.payload={element:null};var n=t.value;return s.callback=function(){to||(to=!0,Ad=n),_d(e,t)},s}function z0(e,t,s){s=ws(-1,s),s.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;s.payload=function(){return n(i)},s.callback=function(){_d(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(s.callback=function(){_d(e,t),typeof n!="function"&&(Zs===null?Zs=new Set([this]):Zs.add(this));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),s}function Pm(e,t,s){var n=e.pingCache;if(n===null){n=e.pingCache=new oj;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(s)||(i.add(s),e=wj.bind(null,e,t,s),t.then(e,e))}function Em(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Mm(e,t,s,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(t=ws(-1,1),t.tag=2,Js(s,t,1))),s.lanes|=1),e)}var cj=Es.ReactCurrentOwner,ut=!1;function nt(e,t,s,n){t.child=e===null?f0(t,null,s,n):Pr(t,e.child,s,n)}function Tm(e,t,s,n,i){s=s.render;var a=t.ref;return jr(t,i),n=zu(e,t,s,n,a,i),s=Bu(),e!==null&&!ut?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Cs(e,t,i)):(ye&&s&&Cu(t),t.flags|=1,nt(e,t,n,i),t.child)}function Dm(e,t,s,n,i){if(e===null){var a=s.type;return typeof a=="function"&&!Ku(a)&&a.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(t.tag=15,t.type=a,B0(e,t,a,n,i)):(e=Nl(s.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var l=a.memoizedProps;if(s=s.compare,s=s!==null?s:Hi,s(l,n)&&e.ref===t.ref)return Cs(e,t,i)}return t.flags|=1,e=tn(a,n),e.ref=t.ref,e.return=t,t.child=e}function B0(e,t,s,n,i){if(e!==null){var a=e.memoizedProps;if(Hi(a,n)&&e.ref===t.ref)if(ut=!1,t.pendingProps=n=a,(e.lanes&i)!==0)e.flags&131072&&(ut=!0);else return t.lanes=e.lanes,Cs(e,t,i)}return kd(e,t,s,n,i)}function $0(e,t,s){var n=t.pendingProps,i=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},xe(pr,gt),gt|=s;else{if(!(s&1073741824))return e=a!==null?a.baseLanes|s:s,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,xe(pr,gt),gt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:s,xe(pr,gt),gt|=n}else a!==null?(n=a.baseLanes|s,t.memoizedState=null):n=s,xe(pr,gt),gt|=n;return nt(e,t,i,s),t.child}function W0(e,t){var s=t.ref;(e===null&&s!==null||e!==null&&e.ref!==s)&&(t.flags|=512,t.flags|=2097152)}function kd(e,t,s,n,i){var a=mt(s)?Bn:Ze.current;return a=Sr(t,a),jr(t,i),s=zu(e,t,s,n,a,i),n=Bu(),e!==null&&!ut?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Cs(e,t,i)):(ye&&n&&Cu(t),t.flags|=1,nt(e,t,s,i),t.child)}function Rm(e,t,s,n,i){if(mt(s)){var a=!0;Vl(t)}else a=!1;if(jr(t,i),t.stateNode===null)bl(e,t),F0(t,s,n),Nd(t,s,n,i),n=!0;else if(e===null){var l=t.stateNode,o=t.memoizedProps;l.props=o;var c=l.context,d=s.contextType;typeof d=="object"&&d!==null?d=Dt(d):(d=mt(s)?Bn:Ze.current,d=Sr(t,d));var u=s.getDerivedStateFromProps,h=typeof u=="function"||typeof l.getSnapshotBeforeUpdate=="function";h||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==n||c!==d)&&Cm(t,l,n,d),Ls=!1;var m=t.memoizedState;l.state=m,Kl(t,n,l,i),c=t.memoizedState,o!==n||m!==c||ht.current||Ls?(typeof u=="function"&&(wd(t,s,u,n),c=t.memoizedState),(o=Ls||Sm(t,s,o,n,m,c,d))?(h||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),l.props=n,l.state=c,l.context=d,n=o):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{l=t.stateNode,p0(e,t),o=t.memoizedProps,d=t.type===t.elementType?o:Ot(t.type,o),l.props=d,h=t.pendingProps,m=l.context,c=s.contextType,typeof c=="object"&&c!==null?c=Dt(c):(c=mt(s)?Bn:Ze.current,c=Sr(t,c));var v=s.getDerivedStateFromProps;(u=typeof v=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==h||m!==c)&&Cm(t,l,n,c),Ls=!1,m=t.memoizedState,l.state=m,Kl(t,n,l,i);var x=t.memoizedState;o!==h||m!==x||ht.current||Ls?(typeof v=="function"&&(wd(t,s,v,n),x=t.memoizedState),(d=Ls||Sm(t,s,d,n,m,x,c)||!1)?(u||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(n,x,c),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(n,x,c)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=x),l.props=n,l.state=x,l.context=c,n=d):(typeof l.componentDidUpdate!="function"||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),n=!1)}return Sd(e,t,s,n,a,i)}function Sd(e,t,s,n,i,a){W0(e,t);var l=(t.flags&128)!==0;if(!n&&!l)return i&&ym(t,s,!1),Cs(e,t,a);n=t.stateNode,cj.current=t;var o=l&&typeof s.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&l?(t.child=Pr(t,e.child,null,a),t.child=Pr(t,null,o,a)):nt(e,t,o,a),t.memoizedState=n.state,i&&ym(t,s,!0),t.child}function H0(e){var t=e.stateNode;t.pendingContext?gm(e,t.pendingContext,t.pendingContext!==t.context):t.context&&gm(e,t.context,!1),Lu(e,t.containerInfo)}function Am(e,t,s,n,i){return Cr(),Eu(i),t.flags|=256,nt(e,t,s,n),t.child}var Cd={dehydrated:null,treeContext:null,retryLane:0};function Pd(e){return{baseLanes:e,cachePool:null,transitions:null}}function U0(e,t,s){var n=t.pendingProps,i=we.current,a=!1,l=(t.flags&128)!==0,o;if((o=l)||(o=e!==null&&e.memoizedState===null?!1:(i&2)!==0),o?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),xe(we,i&1),e===null)return bd(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=n.children,e=n.fallback,a?(n=t.mode,a=t.child,l={mode:"hidden",children:l},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=l):a=Ro(l,n,0,null),e=On(e,n,s,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Pd(s),t.memoizedState=Cd,e):Hu(t,l));if(i=e.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return dj(e,t,l,n,o,i,s);if(a){a=n.fallback,l=t.mode,i=e.child,o=i.sibling;var c={mode:"hidden",children:n.children};return!(l&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=tn(i,c),n.subtreeFlags=i.subtreeFlags&14680064),o!==null?a=tn(o,a):(a=On(a,l,s,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,l=e.child.memoizedState,l=l===null?Pd(s):{baseLanes:l.baseLanes|s,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~s,t.memoizedState=Cd,n}return a=e.child,e=a.sibling,n=tn(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=s),n.return=t,n.sibling=null,e!==null&&(s=t.deletions,s===null?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=n,t.memoizedState=null,n}function Hu(e,t){return t=Ro({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ua(e,t,s,n){return n!==null&&Eu(n),Pr(t,e.child,null,s),e=Hu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function dj(e,t,s,n,i,a,l){if(s)return t.flags&256?(t.flags&=-257,n=wc(Error(W(422))),Ua(e,t,l,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,i=t.mode,n=Ro({mode:"visible",children:n.children},i,0,null),a=On(a,i,l,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&Pr(t,e.child,null,l),t.child.memoizedState=Pd(l),t.memoizedState=Cd,a);if(!(t.mode&1))return Ua(e,t,l,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var o=n.dgst;return n=o,a=Error(W(419)),n=wc(a,n,void 0),Ua(e,t,l,n)}if(o=(l&e.childLanes)!==0,ut||o){if(n=Be,n!==null){switch(l&-l){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|l)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,Ss(e,i),Wt(n,e,i,-1))}return Qu(),n=wc(Error(W(421))),Ua(e,t,l,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=Nj.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,yt=Gs(i.nextSibling),vt=t,ye=!0,It=null,e!==null&&(St[Ct++]=gs,St[Ct++]=ys,St[Ct++]=$n,gs=e.id,ys=e.overflow,$n=t),t=Hu(t,n.children),t.flags|=4096,t)}function Lm(e,t,s){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),jd(e.return,t,s)}function Nc(e,t,s,n,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:s,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=s,a.tailMode=i)}function V0(e,t,s){var n=t.pendingProps,i=n.revealOrder,a=n.tail;if(nt(e,t,n.children,s),n=we.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Lm(e,s,t);else if(e.tag===19)Lm(e,s,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(xe(we,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(s=t.child,i=null;s!==null;)e=s.alternate,e!==null&&Gl(e)===null&&(i=s),s=s.sibling;s=i,s===null?(i=t.child,t.child=null):(i=s.sibling,s.sibling=null),Nc(t,!1,i,s,a);break;case"backwards":for(s=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Gl(e)===null){t.child=i;break}e=i.sibling,i.sibling=s,s=i,i=e}Nc(t,!0,s,null,a);break;case"together":Nc(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function bl(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Cs(e,t,s){if(e!==null&&(t.dependencies=e.dependencies),Hn|=t.lanes,!(s&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(W(153));if(t.child!==null){for(e=t.child,s=tn(e,e.pendingProps),t.child=s,s.return=t;e.sibling!==null;)e=e.sibling,s=s.sibling=tn(e,e.pendingProps),s.return=t;s.sibling=null}return t.child}function uj(e,t,s){switch(t.tag){case 3:H0(t),Cr();break;case 5:g0(t);break;case 1:mt(t.type)&&Vl(t);break;case 4:Lu(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;xe(Xl,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(xe(we,we.current&1),t.flags|=128,null):s&t.child.childLanes?U0(e,t,s):(xe(we,we.current&1),e=Cs(e,t,s),e!==null?e.sibling:null);xe(we,we.current&1);break;case 19:if(n=(s&t.childLanes)!==0,e.flags&128){if(n)return V0(e,t,s);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),xe(we,we.current),n)break;return null;case 22:case 23:return t.lanes=0,$0(e,t,s)}return Cs(e,t,s)}var q0,Ed,Y0,X0;q0=function(e,t){for(var s=t.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return;s=s.return}s.sibling.return=s.return,s=s.sibling}};Ed=function(){};Y0=function(e,t,s,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,Dn(is.current);var a=null;switch(s){case"input":i=Gc(e,i),n=Gc(e,n),a=[];break;case"select":i=_e({},i,{value:void 0}),n=_e({},n,{value:void 0}),a=[];break;case"textarea":i=ed(e,i),n=ed(e,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Hl)}sd(s,n);var l;s=null;for(d in i)if(!n.hasOwnProperty(d)&&i.hasOwnProperty(d)&&i[d]!=null)if(d==="style"){var o=i[d];for(l in o)o.hasOwnProperty(l)&&(s||(s={}),s[l]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Oi.hasOwnProperty(d)?a||(a=[]):(a=a||[]).push(d,null));for(d in n){var c=n[d];if(o=i!=null?i[d]:void 0,n.hasOwnProperty(d)&&c!==o&&(c!=null||o!=null))if(d==="style")if(o){for(l in o)!o.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(s||(s={}),s[l]="");for(l in c)c.hasOwnProperty(l)&&o[l]!==c[l]&&(s||(s={}),s[l]=c[l])}else s||(a||(a=[]),a.push(d,s)),s=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(a=a||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Oi.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&pe("scroll",e),a||o===c||(a=[])):(a=a||[]).push(d,c))}s&&(a=a||[]).push("style",s);var d=a;(t.updateQueue=d)&&(t.flags|=4)}};X0=function(e,t,s,n){s!==n&&(t.flags|=4)};function ei(e,t){if(!ye)switch(e.tailMode){case"hidden":t=e.tail;for(var s=null;t!==null;)t.alternate!==null&&(s=t),t=t.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var n=null;s!==null;)s.alternate!==null&&(n=s),s=s.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Xe(e){var t=e.alternate!==null&&e.alternate.child===e.child,s=0,n=0;if(t)for(var i=e.child;i!==null;)s|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)s|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=s,t}function hj(e,t,s){var n=t.pendingProps;switch(Pu(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xe(t),null;case 1:return mt(t.type)&&Ul(),Xe(t),null;case 3:return n=t.stateNode,Er(),ge(ht),ge(Ze),Fu(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Wa(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,It!==null&&(Fd(It),It=null))),Ed(e,t),Xe(t),null;case 5:Ou(t);var i=Dn(Xi.current);if(s=t.type,e!==null&&t.stateNode!=null)Y0(e,t,s,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(W(166));return Xe(t),null}if(e=Dn(is.current),Wa(t)){n=t.stateNode,s=t.type;var a=t.memoizedProps;switch(n[ts]=t,n[qi]=a,e=(t.mode&1)!==0,s){case"dialog":pe("cancel",n),pe("close",n);break;case"iframe":case"object":case"embed":pe("load",n);break;case"video":case"audio":for(i=0;i<mi.length;i++)pe(mi[i],n);break;case"source":pe("error",n);break;case"img":case"image":case"link":pe("error",n),pe("load",n);break;case"details":pe("toggle",n);break;case"input":Uh(n,a),pe("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},pe("invalid",n);break;case"textarea":qh(n,a),pe("invalid",n)}sd(s,a),i=null;for(var l in a)if(a.hasOwnProperty(l)){var o=a[l];l==="children"?typeof o=="string"?n.textContent!==o&&(a.suppressHydrationWarning!==!0&&$a(n.textContent,o,e),i=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&$a(n.textContent,o,e),i=["children",""+o]):Oi.hasOwnProperty(l)&&o!=null&&l==="onScroll"&&pe("scroll",n)}switch(s){case"input":Ra(n),Vh(n,a,!0);break;case"textarea":Ra(n),Yh(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=Hl)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{l=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=wp(s)),e==="http://www.w3.org/1999/xhtml"?s==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=l.createElement(s,{is:n.is}):(e=l.createElement(s),s==="select"&&(l=e,n.multiple?l.multiple=!0:n.size&&(l.size=n.size))):e=l.createElementNS(e,s),e[ts]=t,e[qi]=n,q0(e,t,!1,!1),t.stateNode=e;e:{switch(l=nd(s,n),s){case"dialog":pe("cancel",e),pe("close",e),i=n;break;case"iframe":case"object":case"embed":pe("load",e),i=n;break;case"video":case"audio":for(i=0;i<mi.length;i++)pe(mi[i],e);i=n;break;case"source":pe("error",e),i=n;break;case"img":case"image":case"link":pe("error",e),pe("load",e),i=n;break;case"details":pe("toggle",e),i=n;break;case"input":Uh(e,n),i=Gc(e,n),pe("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=_e({},n,{value:void 0}),pe("invalid",e);break;case"textarea":qh(e,n),i=ed(e,n),pe("invalid",e);break;default:i=n}sd(s,i),o=i;for(a in o)if(o.hasOwnProperty(a)){var c=o[a];a==="style"?kp(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Np(e,c)):a==="children"?typeof c=="string"?(s!=="textarea"||c!=="")&&Fi(e,c):typeof c=="number"&&Fi(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Oi.hasOwnProperty(a)?c!=null&&a==="onScroll"&&pe("scroll",e):c!=null&&mu(e,a,c,l))}switch(s){case"input":Ra(e),Vh(e,n,!1);break;case"textarea":Ra(e),Yh(e);break;case"option":n.value!=null&&e.setAttribute("value",""+rn(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?gr(e,!!n.multiple,a,!1):n.defaultValue!=null&&gr(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Hl)}switch(s){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Xe(t),null;case 6:if(e&&t.stateNode!=null)X0(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(W(166));if(s=Dn(Xi.current),Dn(is.current),Wa(t)){if(n=t.stateNode,s=t.memoizedProps,n[ts]=t,(a=n.nodeValue!==s)&&(e=vt,e!==null))switch(e.tag){case 3:$a(n.nodeValue,s,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&$a(n.nodeValue,s,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(s.nodeType===9?s:s.ownerDocument).createTextNode(n),n[ts]=t,t.stateNode=n}return Xe(t),null;case 13:if(ge(we),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ye&&yt!==null&&t.mode&1&&!(t.flags&128))h0(),Cr(),t.flags|=98560,a=!1;else if(a=Wa(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(W(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(W(317));a[ts]=t}else Cr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Xe(t),a=!1}else It!==null&&(Fd(It),It=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=s,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||we.current&1?Le===0&&(Le=3):Qu())),t.updateQueue!==null&&(t.flags|=4),Xe(t),null);case 4:return Er(),Ed(e,t),e===null&&Ui(t.stateNode.containerInfo),Xe(t),null;case 10:return Du(t.type._context),Xe(t),null;case 17:return mt(t.type)&&Ul(),Xe(t),null;case 19:if(ge(we),a=t.memoizedState,a===null)return Xe(t),null;if(n=(t.flags&128)!==0,l=a.rendering,l===null)if(n)ei(a,!1);else{if(Le!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=Gl(e),l!==null){for(t.flags|=128,ei(a,!1),n=l.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=s,s=t.child;s!==null;)a=s,e=n,a.flags&=14680066,l=a.alternate,l===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return xe(we,we.current&1|2),t.child}e=e.sibling}a.tail!==null&&Ce()>Tr&&(t.flags|=128,n=!0,ei(a,!1),t.lanes=4194304)}else{if(!n)if(e=Gl(l),e!==null){if(t.flags|=128,n=!0,s=e.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),ei(a,!0),a.tail===null&&a.tailMode==="hidden"&&!l.alternate&&!ye)return Xe(t),null}else 2*Ce()-a.renderingStartTime>Tr&&s!==1073741824&&(t.flags|=128,n=!0,ei(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(s=a.last,s!==null?s.sibling=l:t.child=l,a.last=l)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Ce(),t.sibling=null,s=we.current,xe(we,n?s&1|2:s&1),t):(Xe(t),null);case 22:case 23:return Xu(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?gt&1073741824&&(Xe(t),t.subtreeFlags&6&&(t.flags|=8192)):Xe(t),null;case 24:return null;case 25:return null}throw Error(W(156,t.tag))}function mj(e,t){switch(Pu(t),t.tag){case 1:return mt(t.type)&&Ul(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Er(),ge(ht),ge(Ze),Fu(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Ou(t),null;case 13:if(ge(we),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(W(340));Cr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ge(we),null;case 4:return Er(),null;case 10:return Du(t.type._context),null;case 22:case 23:return Xu(),null;case 24:return null;default:return null}}var Va=!1,Ke=!1,fj=typeof WeakSet=="function"?WeakSet:Set,q=null;function xr(e,t){var s=e.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(n){ke(e,t,n)}else s.current=null}function Md(e,t,s){try{s()}catch(n){ke(e,t,n)}}var Om=!1;function xj(e,t){if(md=Bl,e=Zp(),Su(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var n=s.getSelection&&s.getSelection();if(n&&n.rangeCount!==0){s=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{s.nodeType,a.nodeType}catch{s=null;break e}var l=0,o=-1,c=-1,d=0,u=0,h=e,m=null;t:for(;;){for(var v;h!==s||i!==0&&h.nodeType!==3||(o=l+i),h!==a||n!==0&&h.nodeType!==3||(c=l+n),h.nodeType===3&&(l+=h.nodeValue.length),(v=h.firstChild)!==null;)m=h,h=v;for(;;){if(h===e)break t;if(m===s&&++d===i&&(o=l),m===a&&++u===n&&(c=l),(v=h.nextSibling)!==null)break;h=m,m=h.parentNode}h=v}s=o===-1||c===-1?null:{start:o,end:c}}else s=null}s=s||{start:0,end:0}}else s=null;for(fd={focusedElem:e,selectionRange:s},Bl=!1,q=t;q!==null;)if(t=q,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,q=e;else for(;q!==null;){t=q;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var y=x.memoizedProps,b=x.memoizedState,f=t.stateNode,p=f.getSnapshotBeforeUpdate(t.elementType===t.type?y:Ot(t.type,y),b);f.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(W(163))}}catch(j){ke(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,q=e;break}q=t.return}return x=Om,Om=!1,x}function Pi(e,t,s){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&Md(t,s,a)}i=i.next}while(i!==n)}}function To(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var s=t=t.next;do{if((s.tag&e)===e){var n=s.create;s.destroy=n()}s=s.next}while(s!==t)}}function Td(e){var t=e.ref;if(t!==null){var s=e.stateNode;switch(e.tag){case 5:e=s;break;default:e=s}typeof t=="function"?t(e):t.current=e}}function Q0(e){var t=e.alternate;t!==null&&(e.alternate=null,Q0(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ts],delete t[qi],delete t[gd],delete t[Gb],delete t[Jb])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function K0(e){return e.tag===5||e.tag===3||e.tag===4}function Fm(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||K0(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Dd(e,t,s){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?s.nodeType===8?s.parentNode.insertBefore(e,t):s.insertBefore(e,t):(s.nodeType===8?(t=s.parentNode,t.insertBefore(e,s)):(t=s,t.appendChild(e)),s=s._reactRootContainer,s!=null||t.onclick!==null||(t.onclick=Hl));else if(n!==4&&(e=e.child,e!==null))for(Dd(e,t,s),e=e.sibling;e!==null;)Dd(e,t,s),e=e.sibling}function Rd(e,t,s){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?s.insertBefore(e,t):s.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Rd(e,t,s),e=e.sibling;e!==null;)Rd(e,t,s),e=e.sibling}var $e=null,Ft=!1;function Ts(e,t,s){for(s=s.child;s!==null;)G0(e,t,s),s=s.sibling}function G0(e,t,s){if(rs&&typeof rs.onCommitFiberUnmount=="function")try{rs.onCommitFiberUnmount(No,s)}catch{}switch(s.tag){case 5:Ke||xr(s,t);case 6:var n=$e,i=Ft;$e=null,Ts(e,t,s),$e=n,Ft=i,$e!==null&&(Ft?(e=$e,s=s.stateNode,e.nodeType===8?e.parentNode.removeChild(s):e.removeChild(s)):$e.removeChild(s.stateNode));break;case 18:$e!==null&&(Ft?(e=$e,s=s.stateNode,e.nodeType===8?pc(e.parentNode,s):e.nodeType===1&&pc(e,s),$i(e)):pc($e,s.stateNode));break;case 4:n=$e,i=Ft,$e=s.stateNode.containerInfo,Ft=!0,Ts(e,t,s),$e=n,Ft=i;break;case 0:case 11:case 14:case 15:if(!Ke&&(n=s.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,l=a.destroy;a=a.tag,l!==void 0&&(a&2||a&4)&&Md(s,t,l),i=i.next}while(i!==n)}Ts(e,t,s);break;case 1:if(!Ke&&(xr(s,t),n=s.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=s.memoizedProps,n.state=s.memoizedState,n.componentWillUnmount()}catch(o){ke(s,t,o)}Ts(e,t,s);break;case 21:Ts(e,t,s);break;case 22:s.mode&1?(Ke=(n=Ke)||s.memoizedState!==null,Ts(e,t,s),Ke=n):Ts(e,t,s);break;default:Ts(e,t,s)}}function Im(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var s=e.stateNode;s===null&&(s=e.stateNode=new fj),t.forEach(function(n){var i=_j.bind(null,e,n);s.has(n)||(s.add(n),n.then(i,i))})}}function Lt(e,t){var s=t.deletions;if(s!==null)for(var n=0;n<s.length;n++){var i=s[n];try{var a=e,l=t,o=l;e:for(;o!==null;){switch(o.tag){case 5:$e=o.stateNode,Ft=!1;break e;case 3:$e=o.stateNode.containerInfo,Ft=!0;break e;case 4:$e=o.stateNode.containerInfo,Ft=!0;break e}o=o.return}if($e===null)throw Error(W(160));G0(a,l,i),$e=null,Ft=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(d){ke(i,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)J0(t,e),t=t.sibling}function J0(e,t){var s=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Lt(t,e),Kt(e),n&4){try{Pi(3,e,e.return),To(3,e)}catch(y){ke(e,e.return,y)}try{Pi(5,e,e.return)}catch(y){ke(e,e.return,y)}}break;case 1:Lt(t,e),Kt(e),n&512&&s!==null&&xr(s,s.return);break;case 5:if(Lt(t,e),Kt(e),n&512&&s!==null&&xr(s,s.return),e.flags&32){var i=e.stateNode;try{Fi(i,"")}catch(y){ke(e,e.return,y)}}if(n&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,l=s!==null?s.memoizedProps:a,o=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&bp(i,a),nd(o,l);var d=nd(o,a);for(l=0;l<c.length;l+=2){var u=c[l],h=c[l+1];u==="style"?kp(i,h):u==="dangerouslySetInnerHTML"?Np(i,h):u==="children"?Fi(i,h):mu(i,u,h,d)}switch(o){case"input":Jc(i,a);break;case"textarea":jp(i,a);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var v=a.value;v!=null?gr(i,!!a.multiple,v,!1):m!==!!a.multiple&&(a.defaultValue!=null?gr(i,!!a.multiple,a.defaultValue,!0):gr(i,!!a.multiple,a.multiple?[]:"",!1))}i[qi]=a}catch(y){ke(e,e.return,y)}}break;case 6:if(Lt(t,e),Kt(e),n&4){if(e.stateNode===null)throw Error(W(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(y){ke(e,e.return,y)}}break;case 3:if(Lt(t,e),Kt(e),n&4&&s!==null&&s.memoizedState.isDehydrated)try{$i(t.containerInfo)}catch(y){ke(e,e.return,y)}break;case 4:Lt(t,e),Kt(e);break;case 13:Lt(t,e),Kt(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(qu=Ce())),n&4&&Im(e);break;case 22:if(u=s!==null&&s.memoizedState!==null,e.mode&1?(Ke=(d=Ke)||u,Lt(t,e),Ke=d):Lt(t,e),Kt(e),n&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!u&&e.mode&1)for(q=e,u=e.child;u!==null;){for(h=q=u;q!==null;){switch(m=q,v=m.child,m.tag){case 0:case 11:case 14:case 15:Pi(4,m,m.return);break;case 1:xr(m,m.return);var x=m.stateNode;if(typeof x.componentWillUnmount=="function"){n=m,s=m.return;try{t=n,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(y){ke(n,s,y)}}break;case 5:xr(m,m.return);break;case 22:if(m.memoizedState!==null){Bm(h);continue}}v!==null?(v.return=m,q=v):Bm(h)}u=u.sibling}e:for(u=null,h=e;;){if(h.tag===5){if(u===null){u=h;try{i=h.stateNode,d?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=h.stateNode,c=h.memoizedProps.style,l=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=_p("display",l))}catch(y){ke(e,e.return,y)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(y){ke(e,e.return,y)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Lt(t,e),Kt(e),n&4&&Im(e);break;case 21:break;default:Lt(t,e),Kt(e)}}function Kt(e){var t=e.flags;if(t&2){try{e:{for(var s=e.return;s!==null;){if(K0(s)){var n=s;break e}s=s.return}throw Error(W(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Fi(i,""),n.flags&=-33);var a=Fm(e);Rd(e,a,i);break;case 3:case 4:var l=n.stateNode.containerInfo,o=Fm(e);Dd(e,o,l);break;default:throw Error(W(161))}}catch(c){ke(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function pj(e,t,s){q=e,Z0(e)}function Z0(e,t,s){for(var n=(e.mode&1)!==0;q!==null;){var i=q,a=i.child;if(i.tag===22&&n){var l=i.memoizedState!==null||Va;if(!l){var o=i.alternate,c=o!==null&&o.memoizedState!==null||Ke;o=Va;var d=Ke;if(Va=l,(Ke=c)&&!d)for(q=i;q!==null;)l=q,c=l.child,l.tag===22&&l.memoizedState!==null?$m(i):c!==null?(c.return=l,q=c):$m(i);for(;a!==null;)q=a,Z0(a),a=a.sibling;q=i,Va=o,Ke=d}zm(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,q=a):zm(e)}}function zm(e){for(;q!==null;){var t=q;if(t.flags&8772){var s=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ke||To(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Ke)if(s===null)n.componentDidMount();else{var i=t.elementType===t.type?s.memoizedProps:Ot(t.type,s.memoizedProps);n.componentDidUpdate(i,s.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&Nm(t,a,n);break;case 3:var l=t.updateQueue;if(l!==null){if(s=null,t.child!==null)switch(t.child.tag){case 5:s=t.child.stateNode;break;case 1:s=t.child.stateNode}Nm(t,l,s)}break;case 5:var o=t.stateNode;if(s===null&&t.flags&4){s=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&s.focus();break;case"img":c.src&&(s.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&$i(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(W(163))}Ke||t.flags&512&&Td(t)}catch(m){ke(t,t.return,m)}}if(t===e){q=null;break}if(s=t.sibling,s!==null){s.return=t.return,q=s;break}q=t.return}}function Bm(e){for(;q!==null;){var t=q;if(t===e){q=null;break}var s=t.sibling;if(s!==null){s.return=t.return,q=s;break}q=t.return}}function $m(e){for(;q!==null;){var t=q;try{switch(t.tag){case 0:case 11:case 15:var s=t.return;try{To(4,t)}catch(c){ke(t,s,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(c){ke(t,i,c)}}var a=t.return;try{Td(t)}catch(c){ke(t,a,c)}break;case 5:var l=t.return;try{Td(t)}catch(c){ke(t,l,c)}}}catch(c){ke(t,t.return,c)}if(t===e){q=null;break}var o=t.sibling;if(o!==null){o.return=t.return,q=o;break}q=t.return}}var gj=Math.ceil,eo=Es.ReactCurrentDispatcher,Uu=Es.ReactCurrentOwner,Tt=Es.ReactCurrentBatchConfig,ae=0,Be=null,Te=null,Ue=0,gt=0,pr=hn(0),Le=0,Ji=null,Hn=0,Do=0,Vu=0,Ei=null,ct=null,qu=0,Tr=1/0,us=null,to=!1,Ad=null,Zs=null,qa=!1,zs=null,so=0,Mi=0,Ld=null,jl=-1,wl=0;function rt(){return ae&6?Ce():jl!==-1?jl:jl=Ce()}function en(e){return e.mode&1?ae&2&&Ue!==0?Ue&-Ue:ej.transition!==null?(wl===0&&(wl=Fp()),wl):(e=me,e!==0||(e=window.event,e=e===void 0?16:Up(e.type)),e):1}function Wt(e,t,s,n){if(50<Mi)throw Mi=0,Ld=null,Error(W(185));ya(e,s,n),(!(ae&2)||e!==Be)&&(e===Be&&(!(ae&2)&&(Do|=s),Le===4&&Fs(e,Ue)),ft(e,n),s===1&&ae===0&&!(t.mode&1)&&(Tr=Ce()+500,Po&&mn()))}function ft(e,t){var s=e.callbackNode;eb(e,t);var n=zl(e,e===Be?Ue:0);if(n===0)s!==null&&Kh(s),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(s!=null&&Kh(s),t===1)e.tag===0?Zb(Wm.bind(null,e)):c0(Wm.bind(null,e)),Qb(function(){!(ae&6)&&mn()}),s=null;else{switch(Ip(n)){case 1:s=yu;break;case 4:s=Lp;break;case 16:s=Il;break;case 536870912:s=Op;break;default:s=Il}s=lg(s,eg.bind(null,e))}e.callbackPriority=t,e.callbackNode=s}}function eg(e,t){if(jl=-1,wl=0,ae&6)throw Error(W(327));var s=e.callbackNode;if(wr()&&e.callbackNode!==s)return null;var n=zl(e,e===Be?Ue:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=no(e,n);else{t=n;var i=ae;ae|=2;var a=sg();(Be!==e||Ue!==t)&&(us=null,Tr=Ce()+500,Ln(e,t));do try{bj();break}catch(o){tg(e,o)}while(1);Tu(),eo.current=a,ae=i,Te!==null?t=0:(Be=null,Ue=0,t=Le)}if(t!==0){if(t===2&&(i=od(e),i!==0&&(n=i,t=Od(e,i))),t===1)throw s=Ji,Ln(e,0),Fs(e,n),ft(e,Ce()),s;if(t===6)Fs(e,n);else{if(i=e.current.alternate,!(n&30)&&!yj(i)&&(t=no(e,n),t===2&&(a=od(e),a!==0&&(n=a,t=Od(e,a))),t===1))throw s=Ji,Ln(e,0),Fs(e,n),ft(e,Ce()),s;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(W(345));case 2:_n(e,ct,us);break;case 3:if(Fs(e,n),(n&130023424)===n&&(t=qu+500-Ce(),10<t)){if(zl(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){rt(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=pd(_n.bind(null,e,ct,us),t);break}_n(e,ct,us);break;case 4:if(Fs(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var l=31-$t(n);a=1<<l,l=t[l],l>i&&(i=l),n&=~a}if(n=i,n=Ce()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*gj(n/1960))-n,10<n){e.timeoutHandle=pd(_n.bind(null,e,ct,us),n);break}_n(e,ct,us);break;case 5:_n(e,ct,us);break;default:throw Error(W(329))}}}return ft(e,Ce()),e.callbackNode===s?eg.bind(null,e):null}function Od(e,t){var s=Ei;return e.current.memoizedState.isDehydrated&&(Ln(e,t).flags|=256),e=no(e,t),e!==2&&(t=ct,ct=s,t!==null&&Fd(t)),e}function Fd(e){ct===null?ct=e:ct.push.apply(ct,e)}function yj(e){for(var t=e;;){if(t.flags&16384){var s=t.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var n=0;n<s.length;n++){var i=s[n],a=i.getSnapshot;i=i.value;try{if(!Vt(a(),i))return!1}catch{return!1}}}if(s=t.child,t.subtreeFlags&16384&&s!==null)s.return=t,t=s;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Fs(e,t){for(t&=~Vu,t&=~Do,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var s=31-$t(t),n=1<<s;e[s]=-1,t&=~n}}function Wm(e){if(ae&6)throw Error(W(327));wr();var t=zl(e,0);if(!(t&1))return ft(e,Ce()),null;var s=no(e,t);if(e.tag!==0&&s===2){var n=od(e);n!==0&&(t=n,s=Od(e,n))}if(s===1)throw s=Ji,Ln(e,0),Fs(e,t),ft(e,Ce()),s;if(s===6)throw Error(W(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,_n(e,ct,us),ft(e,Ce()),null}function Yu(e,t){var s=ae;ae|=1;try{return e(t)}finally{ae=s,ae===0&&(Tr=Ce()+500,Po&&mn())}}function Un(e){zs!==null&&zs.tag===0&&!(ae&6)&&wr();var t=ae;ae|=1;var s=Tt.transition,n=me;try{if(Tt.transition=null,me=1,e)return e()}finally{me=n,Tt.transition=s,ae=t,!(ae&6)&&mn()}}function Xu(){gt=pr.current,ge(pr)}function Ln(e,t){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(s!==-1&&(e.timeoutHandle=-1,Xb(s)),Te!==null)for(s=Te.return;s!==null;){var n=s;switch(Pu(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Ul();break;case 3:Er(),ge(ht),ge(Ze),Fu();break;case 5:Ou(n);break;case 4:Er();break;case 13:ge(we);break;case 19:ge(we);break;case 10:Du(n.type._context);break;case 22:case 23:Xu()}s=s.return}if(Be=e,Te=e=tn(e.current,null),Ue=gt=t,Le=0,Ji=null,Vu=Do=Hn=0,ct=Ei=null,Tn!==null){for(t=0;t<Tn.length;t++)if(s=Tn[t],n=s.interleaved,n!==null){s.interleaved=null;var i=n.next,a=s.pending;if(a!==null){var l=a.next;a.next=i,n.next=l}s.pending=n}Tn=null}return e}function tg(e,t){do{var s=Te;try{if(Tu(),yl.current=Zl,Jl){for(var n=Ne.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Jl=!1}if(Wn=0,Ie=Re=Ne=null,Ci=!1,Qi=0,Uu.current=null,s===null||s.return===null){Le=1,Ji=t,Te=null;break}e:{var a=e,l=s.return,o=s,c=t;if(t=Ue,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=o,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var m=u.alternate;m?(u.updateQueue=m.updateQueue,u.memoizedState=m.memoizedState,u.lanes=m.lanes):(u.updateQueue=null,u.memoizedState=null)}var v=Em(l);if(v!==null){v.flags&=-257,Mm(v,l,o,a,t),v.mode&1&&Pm(a,d,t),t=v,c=d;var x=t.updateQueue;if(x===null){var y=new Set;y.add(c),t.updateQueue=y}else x.add(c);break e}else{if(!(t&1)){Pm(a,d,t),Qu();break e}c=Error(W(426))}}else if(ye&&o.mode&1){var b=Em(l);if(b!==null){!(b.flags&65536)&&(b.flags|=256),Mm(b,l,o,a,t),Eu(Mr(c,o));break e}}a=c=Mr(c,o),Le!==4&&(Le=2),Ei===null?Ei=[a]:Ei.push(a),a=l;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var f=I0(a,c,t);wm(a,f);break e;case 1:o=c;var p=a.type,g=a.stateNode;if(!(a.flags&128)&&(typeof p.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Zs===null||!Zs.has(g)))){a.flags|=65536,t&=-t,a.lanes|=t;var j=z0(a,o,t);wm(a,j);break e}}a=a.return}while(a!==null)}rg(s)}catch(w){t=w,Te===s&&s!==null&&(Te=s=s.return);continue}break}while(1)}function sg(){var e=eo.current;return eo.current=Zl,e===null?Zl:e}function Qu(){(Le===0||Le===3||Le===2)&&(Le=4),Be===null||!(Hn&268435455)&&!(Do&268435455)||Fs(Be,Ue)}function no(e,t){var s=ae;ae|=2;var n=sg();(Be!==e||Ue!==t)&&(us=null,Ln(e,t));do try{vj();break}catch(i){tg(e,i)}while(1);if(Tu(),ae=s,eo.current=n,Te!==null)throw Error(W(261));return Be=null,Ue=0,Le}function vj(){for(;Te!==null;)ng(Te)}function bj(){for(;Te!==null&&!Vv();)ng(Te)}function ng(e){var t=ag(e.alternate,e,gt);e.memoizedProps=e.pendingProps,t===null?rg(e):Te=t,Uu.current=null}function rg(e){var t=e;do{var s=t.alternate;if(e=t.return,t.flags&32768){if(s=mj(s,t),s!==null){s.flags&=32767,Te=s;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Le=6,Te=null;return}}else if(s=hj(s,t,gt),s!==null){Te=s;return}if(t=t.sibling,t!==null){Te=t;return}Te=t=e}while(t!==null);Le===0&&(Le=5)}function _n(e,t,s){var n=me,i=Tt.transition;try{Tt.transition=null,me=1,jj(e,t,s,n)}finally{Tt.transition=i,me=n}return null}function jj(e,t,s,n){do wr();while(zs!==null);if(ae&6)throw Error(W(327));s=e.finishedWork;var i=e.finishedLanes;if(s===null)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error(W(177));e.callbackNode=null,e.callbackPriority=0;var a=s.lanes|s.childLanes;if(tb(e,a),e===Be&&(Te=Be=null,Ue=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||qa||(qa=!0,lg(Il,function(){return wr(),null})),a=(s.flags&15990)!==0,s.subtreeFlags&15990||a){a=Tt.transition,Tt.transition=null;var l=me;me=1;var o=ae;ae|=4,Uu.current=null,xj(e,s),J0(s,e),$b(fd),Bl=!!md,fd=md=null,e.current=s,pj(s),qv(),ae=o,me=l,Tt.transition=a}else e.current=s;if(qa&&(qa=!1,zs=e,so=i),a=e.pendingLanes,a===0&&(Zs=null),Qv(s.stateNode),ft(e,Ce()),t!==null)for(n=e.onRecoverableError,s=0;s<t.length;s++)i=t[s],n(i.value,{componentStack:i.stack,digest:i.digest});if(to)throw to=!1,e=Ad,Ad=null,e;return so&1&&e.tag!==0&&wr(),a=e.pendingLanes,a&1?e===Ld?Mi++:(Mi=0,Ld=e):Mi=0,mn(),null}function wr(){if(zs!==null){var e=Ip(so),t=Tt.transition,s=me;try{if(Tt.transition=null,me=16>e?16:e,zs===null)var n=!1;else{if(e=zs,zs=null,so=0,ae&6)throw Error(W(331));var i=ae;for(ae|=4,q=e.current;q!==null;){var a=q,l=a.child;if(q.flags&16){var o=a.deletions;if(o!==null){for(var c=0;c<o.length;c++){var d=o[c];for(q=d;q!==null;){var u=q;switch(u.tag){case 0:case 11:case 15:Pi(8,u,a)}var h=u.child;if(h!==null)h.return=u,q=h;else for(;q!==null;){u=q;var m=u.sibling,v=u.return;if(Q0(u),u===d){q=null;break}if(m!==null){m.return=v,q=m;break}q=v}}}var x=a.alternate;if(x!==null){var y=x.child;if(y!==null){x.child=null;do{var b=y.sibling;y.sibling=null,y=b}while(y!==null)}}q=a}}if(a.subtreeFlags&2064&&l!==null)l.return=a,q=l;else e:for(;q!==null;){if(a=q,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Pi(9,a,a.return)}var f=a.sibling;if(f!==null){f.return=a.return,q=f;break e}q=a.return}}var p=e.current;for(q=p;q!==null;){l=q;var g=l.child;if(l.subtreeFlags&2064&&g!==null)g.return=l,q=g;else e:for(l=p;q!==null;){if(o=q,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:To(9,o)}}catch(w){ke(o,o.return,w)}if(o===l){q=null;break e}var j=o.sibling;if(j!==null){j.return=o.return,q=j;break e}q=o.return}}if(ae=i,mn(),rs&&typeof rs.onPostCommitFiberRoot=="function")try{rs.onPostCommitFiberRoot(No,e)}catch{}n=!0}return n}finally{me=s,Tt.transition=t}}return!1}function Hm(e,t,s){t=Mr(s,t),t=I0(e,t,1),e=Js(e,t,1),t=rt(),e!==null&&(ya(e,1,t),ft(e,t))}function ke(e,t,s){if(e.tag===3)Hm(e,e,s);else for(;t!==null;){if(t.tag===3){Hm(t,e,s);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Zs===null||!Zs.has(n))){e=Mr(s,e),e=z0(t,e,1),t=Js(t,e,1),e=rt(),t!==null&&(ya(t,1,e),ft(t,e));break}}t=t.return}}function wj(e,t,s){var n=e.pingCache;n!==null&&n.delete(t),t=rt(),e.pingedLanes|=e.suspendedLanes&s,Be===e&&(Ue&s)===s&&(Le===4||Le===3&&(Ue&130023424)===Ue&&500>Ce()-qu?Ln(e,0):Vu|=s),ft(e,t)}function ig(e,t){t===0&&(e.mode&1?(t=Oa,Oa<<=1,!(Oa&130023424)&&(Oa=4194304)):t=1);var s=rt();e=Ss(e,t),e!==null&&(ya(e,t,s),ft(e,s))}function Nj(e){var t=e.memoizedState,s=0;t!==null&&(s=t.retryLane),ig(e,s)}function _j(e,t){var s=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(s=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(W(314))}n!==null&&n.delete(t),ig(e,s)}var ag;ag=function(e,t,s){if(e!==null)if(e.memoizedProps!==t.pendingProps||ht.current)ut=!0;else{if(!(e.lanes&s)&&!(t.flags&128))return ut=!1,uj(e,t,s);ut=!!(e.flags&131072)}else ut=!1,ye&&t.flags&1048576&&d0(t,Yl,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;bl(e,t),e=t.pendingProps;var i=Sr(t,Ze.current);jr(t,s),i=zu(null,t,n,e,i,s);var a=Bu();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,mt(n)?(a=!0,Vl(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Au(t),i.updater=Mo,t.stateNode=i,i._reactInternals=t,Nd(t,n,e,s),t=Sd(null,t,n,!0,a,s)):(t.tag=0,ye&&a&&Cu(t),nt(null,t,i,s),t=t.child),t;case 16:n=t.elementType;e:{switch(bl(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=Sj(n),e=Ot(n,e),i){case 0:t=kd(null,t,n,e,s);break e;case 1:t=Rm(null,t,n,e,s);break e;case 11:t=Tm(null,t,n,e,s);break e;case 14:t=Dm(null,t,n,Ot(n.type,e),s);break e}throw Error(W(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Ot(n,i),kd(e,t,n,i,s);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Ot(n,i),Rm(e,t,n,i,s);case 3:e:{if(H0(t),e===null)throw Error(W(387));n=t.pendingProps,a=t.memoizedState,i=a.element,p0(e,t),Kl(t,n,null,s);var l=t.memoizedState;if(n=l.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=Mr(Error(W(423)),t),t=Am(e,t,n,s,i);break e}else if(n!==i){i=Mr(Error(W(424)),t),t=Am(e,t,n,s,i);break e}else for(yt=Gs(t.stateNode.containerInfo.firstChild),vt=t,ye=!0,It=null,s=f0(t,null,n,s),t.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Cr(),n===i){t=Cs(e,t,s);break e}nt(e,t,n,s)}t=t.child}return t;case 5:return g0(t),e===null&&bd(t),n=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,l=i.children,xd(n,i)?l=null:a!==null&&xd(n,a)&&(t.flags|=32),W0(e,t),nt(e,t,l,s),t.child;case 6:return e===null&&bd(t),null;case 13:return U0(e,t,s);case 4:return Lu(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Pr(t,null,n,s):nt(e,t,n,s),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Ot(n,i),Tm(e,t,n,i,s);case 7:return nt(e,t,t.pendingProps,s),t.child;case 8:return nt(e,t,t.pendingProps.children,s),t.child;case 12:return nt(e,t,t.pendingProps.children,s),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,a=t.memoizedProps,l=i.value,xe(Xl,n._currentValue),n._currentValue=l,a!==null)if(Vt(a.value,l)){if(a.children===i.children&&!ht.current){t=Cs(e,t,s);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var o=a.dependencies;if(o!==null){l=a.child;for(var c=o.firstContext;c!==null;){if(c.context===n){if(a.tag===1){c=ws(-1,s&-s),c.tag=2;var d=a.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}a.lanes|=s,c=a.alternate,c!==null&&(c.lanes|=s),jd(a.return,s,t),o.lanes|=s;break}c=c.next}}else if(a.tag===10)l=a.type===t.type?null:a.child;else if(a.tag===18){if(l=a.return,l===null)throw Error(W(341));l.lanes|=s,o=l.alternate,o!==null&&(o.lanes|=s),jd(l,s,t),l=a.sibling}else l=a.child;if(l!==null)l.return=a;else for(l=a;l!==null;){if(l===t){l=null;break}if(a=l.sibling,a!==null){a.return=l.return,l=a;break}l=l.return}a=l}nt(e,t,i.children,s),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,jr(t,s),i=Dt(i),n=n(i),t.flags|=1,nt(e,t,n,s),t.child;case 14:return n=t.type,i=Ot(n,t.pendingProps),i=Ot(n.type,i),Dm(e,t,n,i,s);case 15:return B0(e,t,t.type,t.pendingProps,s);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Ot(n,i),bl(e,t),t.tag=1,mt(n)?(e=!0,Vl(t)):e=!1,jr(t,s),F0(t,n,i),Nd(t,n,i,s),Sd(null,t,n,!0,e,s);case 19:return V0(e,t,s);case 22:return $0(e,t,s)}throw Error(W(156,t.tag))};function lg(e,t){return Ap(e,t)}function kj(e,t,s,n){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Et(e,t,s,n){return new kj(e,t,s,n)}function Ku(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Sj(e){if(typeof e=="function")return Ku(e)?1:0;if(e!=null){if(e=e.$$typeof,e===xu)return 11;if(e===pu)return 14}return 2}function tn(e,t){var s=e.alternate;return s===null?(s=Et(e.tag,t,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=t,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&14680064,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,t=e.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function Nl(e,t,s,n,i,a){var l=2;if(n=e,typeof e=="function")Ku(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case ar:return On(s.children,i,a,t);case fu:l=8,i|=8;break;case Yc:return e=Et(12,s,t,i|2),e.elementType=Yc,e.lanes=a,e;case Xc:return e=Et(13,s,t,i),e.elementType=Xc,e.lanes=a,e;case Qc:return e=Et(19,s,t,i),e.elementType=Qc,e.lanes=a,e;case gp:return Ro(s,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case xp:l=10;break e;case pp:l=9;break e;case xu:l=11;break e;case pu:l=14;break e;case As:l=16,n=null;break e}throw Error(W(130,e==null?e:typeof e,""))}return t=Et(l,s,t,i),t.elementType=e,t.type=n,t.lanes=a,t}function On(e,t,s,n){return e=Et(7,e,n,t),e.lanes=s,e}function Ro(e,t,s,n){return e=Et(22,e,n,t),e.elementType=gp,e.lanes=s,e.stateNode={isHidden:!1},e}function _c(e,t,s){return e=Et(6,e,null,t),e.lanes=s,e}function kc(e,t,s){return t=Et(4,e.children!==null?e.children:[],e.key,t),t.lanes=s,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Cj(e,t,s,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ic(0),this.expirationTimes=ic(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ic(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Gu(e,t,s,n,i,a,l,o,c){return e=new Cj(e,t,s,o,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Et(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},Au(a),e}function Pj(e,t,s){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ir,key:n==null?null:""+n,children:e,containerInfo:t,implementation:s}}function og(e){if(!e)return an;e=e._reactInternals;e:{if(Gn(e)!==e||e.tag!==1)throw Error(W(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(mt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(W(171))}if(e.tag===1){var s=e.type;if(mt(s))return o0(e,s,t)}return t}function cg(e,t,s,n,i,a,l,o,c){return e=Gu(s,n,!0,e,i,a,l,o,c),e.context=og(null),s=e.current,n=rt(),i=en(s),a=ws(n,i),a.callback=t??null,Js(s,a,i),e.current.lanes=i,ya(e,i,n),ft(e,n),e}function Ao(e,t,s,n){var i=t.current,a=rt(),l=en(i);return s=og(s),t.context===null?t.context=s:t.pendingContext=s,t=ws(a,l),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Js(i,t,l),e!==null&&(Wt(e,i,l,a),gl(e,i,l)),l}function ro(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Um(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<t?s:t}}function Ju(e,t){Um(e,t),(e=e.alternate)&&Um(e,t)}function Ej(){return null}var dg=typeof reportError=="function"?reportError:function(e){console.error(e)};function Zu(e){this._internalRoot=e}Lo.prototype.render=Zu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(W(409));Ao(e,t,null,null)};Lo.prototype.unmount=Zu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Un(function(){Ao(null,e,null,null)}),t[ks]=null}};function Lo(e){this._internalRoot=e}Lo.prototype.unstable_scheduleHydration=function(e){if(e){var t=$p();e={blockedOn:null,target:e,priority:t};for(var s=0;s<Os.length&&t!==0&&t<Os[s].priority;s++);Os.splice(s,0,e),s===0&&Hp(e)}};function eh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Oo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Vm(){}function Mj(e,t,s,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var d=ro(l);a.call(d)}}var l=cg(t,n,e,0,null,!1,!1,"",Vm);return e._reactRootContainer=l,e[ks]=l.current,Ui(e.nodeType===8?e.parentNode:e),Un(),l}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var o=n;n=function(){var d=ro(c);o.call(d)}}var c=Gu(e,0,!1,null,null,!1,!1,"",Vm);return e._reactRootContainer=c,e[ks]=c.current,Ui(e.nodeType===8?e.parentNode:e),Un(function(){Ao(t,c,s,n)}),c}function Fo(e,t,s,n,i){var a=s._reactRootContainer;if(a){var l=a;if(typeof i=="function"){var o=i;i=function(){var c=ro(l);o.call(c)}}Ao(t,l,e,i)}else l=Mj(s,t,e,i,n);return ro(l)}zp=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var s=hi(t.pendingLanes);s!==0&&(vu(t,s|1),ft(t,Ce()),!(ae&6)&&(Tr=Ce()+500,mn()))}break;case 13:Un(function(){var n=Ss(e,1);if(n!==null){var i=rt();Wt(n,e,1,i)}}),Ju(e,1)}};bu=function(e){if(e.tag===13){var t=Ss(e,134217728);if(t!==null){var s=rt();Wt(t,e,134217728,s)}Ju(e,134217728)}};Bp=function(e){if(e.tag===13){var t=en(e),s=Ss(e,t);if(s!==null){var n=rt();Wt(s,e,t,n)}Ju(e,t)}};$p=function(){return me};Wp=function(e,t){var s=me;try{return me=e,t()}finally{me=s}};id=function(e,t,s){switch(t){case"input":if(Jc(e,s),t=s.name,s.type==="radio"&&t!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<s.length;t++){var n=s[t];if(n!==e&&n.form===e.form){var i=Co(n);if(!i)throw Error(W(90));vp(n),Jc(n,i)}}}break;case"textarea":jp(e,s);break;case"select":t=s.value,t!=null&&gr(e,!!s.multiple,t,!1)}};Pp=Yu;Ep=Un;var Tj={usingClientEntryPoint:!1,Events:[ba,dr,Co,Sp,Cp,Yu]},ti={findFiberByHostInstance:Mn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Dj={bundleType:ti.bundleType,version:ti.version,rendererPackageName:ti.rendererPackageName,rendererConfig:ti.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Es.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Dp(e),e===null?null:e.stateNode},findFiberByHostInstance:ti.findFiberByHostInstance||Ej,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ya=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ya.isDisabled&&Ya.supportsFiber)try{No=Ya.inject(Dj),rs=Ya}catch{}}wt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Tj;wt.createPortal=function(e,t){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!eh(t))throw Error(W(200));return Pj(e,t,null,s)};wt.createRoot=function(e,t){if(!eh(e))throw Error(W(299));var s=!1,n="",i=dg;return t!=null&&(t.unstable_strictMode===!0&&(s=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Gu(e,1,!1,null,null,s,!1,n,i),e[ks]=t.current,Ui(e.nodeType===8?e.parentNode:e),new Zu(t)};wt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(W(188)):(e=Object.keys(e).join(","),Error(W(268,e)));return e=Dp(t),e=e===null?null:e.stateNode,e};wt.flushSync=function(e){return Un(e)};wt.hydrate=function(e,t,s){if(!Oo(t))throw Error(W(200));return Fo(null,e,t,!0,s)};wt.hydrateRoot=function(e,t,s){if(!eh(e))throw Error(W(405));var n=s!=null&&s.hydratedSources||null,i=!1,a="",l=dg;if(s!=null&&(s.unstable_strictMode===!0&&(i=!0),s.identifierPrefix!==void 0&&(a=s.identifierPrefix),s.onRecoverableError!==void 0&&(l=s.onRecoverableError)),t=cg(t,null,e,1,s??null,i,!1,a,l),e[ks]=t.current,Ui(e),n)for(e=0;e<n.length;e++)s=n[e],i=s._getVersion,i=i(s._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[s,i]:t.mutableSourceEagerHydrationData.push(s,i);return new Lo(t)};wt.render=function(e,t,s){if(!Oo(t))throw Error(W(200));return Fo(null,e,t,!1,s)};wt.unmountComponentAtNode=function(e){if(!Oo(e))throw Error(W(40));return e._reactRootContainer?(Un(function(){Fo(null,null,e,!1,function(){e._reactRootContainer=null,e[ks]=null})}),!0):!1};wt.unstable_batchedUpdates=Yu;wt.unstable_renderSubtreeIntoContainer=function(e,t,s,n){if(!Oo(s))throw Error(W(200));if(e==null||e._reactInternals===void 0)throw Error(W(38));return Fo(e,t,s,!1,n)};wt.version="18.3.1-next-f1338f8080-20240426";function ug(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ug)}catch(e){console.error(e)}}ug(),up.exports=wt;var Rj=up.exports,qm=Rj;Vc.createRoot=qm.createRoot,Vc.hydrateRoot=qm.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Zi(){return Zi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},Zi.apply(this,arguments)}var Bs;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Bs||(Bs={}));const Ym="popstate";function Aj(e){e===void 0&&(e={});function t(n,i){let{pathname:a,search:l,hash:o}=n.location;return Id("",{pathname:a,search:l,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function s(n,i){return typeof i=="string"?i:io(i)}return Oj(t,s,null,e)}function Ee(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function hg(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Lj(){return Math.random().toString(36).substr(2,8)}function Xm(e,t){return{usr:e.state,key:e.key,idx:t}}function Id(e,t,s,n){return s===void 0&&(s=null),Zi({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?zr(t):t,{state:s,key:t&&t.key||n||Lj()})}function io(e){let{pathname:t="/",search:s="",hash:n=""}=e;return s&&s!=="?"&&(t+=s.charAt(0)==="?"?s:"?"+s),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function zr(e){let t={};if(e){let s=e.indexOf("#");s>=0&&(t.hash=e.substr(s),e=e.substr(0,s));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function Oj(e,t,s,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:a=!1}=n,l=i.history,o=Bs.Pop,c=null,d=u();d==null&&(d=0,l.replaceState(Zi({},l.state,{idx:d}),""));function u(){return(l.state||{idx:null}).idx}function h(){o=Bs.Pop;let b=u(),f=b==null?null:b-d;d=b,c&&c({action:o,location:y.location,delta:f})}function m(b,f){o=Bs.Push;let p=Id(y.location,b,f);s&&s(p,b),d=u()+1;let g=Xm(p,d),j=y.createHref(p);try{l.pushState(g,"",j)}catch(w){if(w instanceof DOMException&&w.name==="DataCloneError")throw w;i.location.assign(j)}a&&c&&c({action:o,location:y.location,delta:1})}function v(b,f){o=Bs.Replace;let p=Id(y.location,b,f);s&&s(p,b),d=u();let g=Xm(p,d),j=y.createHref(p);l.replaceState(g,"",j),a&&c&&c({action:o,location:y.location,delta:0})}function x(b){let f=i.location.origin!=="null"?i.location.origin:i.location.href,p=typeof b=="string"?b:io(b);return p=p.replace(/ $/,"%20"),Ee(f,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,f)}let y={get action(){return o},get location(){return e(i,l)},listen(b){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(Ym,h),c=b,()=>{i.removeEventListener(Ym,h),c=null}},createHref(b){return t(i,b)},createURL:x,encodeLocation(b){let f=x(b);return{pathname:f.pathname,search:f.search,hash:f.hash}},push:m,replace:v,go(b){return l.go(b)}};return y}var Qm;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Qm||(Qm={}));function Fj(e,t,s){return s===void 0&&(s="/"),Ij(e,t,s,!1)}function Ij(e,t,s,n){let i=typeof t=="string"?zr(t):t,a=th(i.pathname||"/",s);if(a==null)return null;let l=mg(e);zj(l);let o=null;for(let c=0;o==null&&c<l.length;++c){let d=Kj(a);o=Xj(l[c],d,n)}return o}function mg(e,t,s,n){t===void 0&&(t=[]),s===void 0&&(s=[]),n===void 0&&(n="");let i=(a,l,o)=>{let c={relativePath:o===void 0?a.path||"":o,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};c.relativePath.startsWith("/")&&(Ee(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let d=sn([n,c.relativePath]),u=s.concat(c);a.children&&a.children.length>0&&(Ee(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),mg(a.children,t,u,d)),!(a.path==null&&!a.index)&&t.push({path:d,score:qj(d,a.index),routesMeta:u})};return e.forEach((a,l)=>{var o;if(a.path===""||!((o=a.path)!=null&&o.includes("?")))i(a,l);else for(let c of fg(a.path))i(a,l,c)}),t}function fg(e){let t=e.split("/");if(t.length===0)return[];let[s,...n]=t,i=s.endsWith("?"),a=s.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let l=fg(n.join("/")),o=[];return o.push(...l.map(c=>c===""?a:[a,c].join("/"))),i&&o.push(...l),o.map(c=>e.startsWith("/")&&c===""?"/":c)}function zj(e){e.sort((t,s)=>t.score!==s.score?s.score-t.score:Yj(t.routesMeta.map(n=>n.childrenIndex),s.routesMeta.map(n=>n.childrenIndex)))}const Bj=/^:[\w-]+$/,$j=3,Wj=2,Hj=1,Uj=10,Vj=-2,Km=e=>e==="*";function qj(e,t){let s=e.split("/"),n=s.length;return s.some(Km)&&(n+=Vj),t&&(n+=Wj),s.filter(i=>!Km(i)).reduce((i,a)=>i+(Bj.test(a)?$j:a===""?Hj:Uj),n)}function Yj(e,t){return e.length===t.length&&e.slice(0,-1).every((n,i)=>n===t[i])?e[e.length-1]-t[t.length-1]:0}function Xj(e,t,s){s===void 0&&(s=!1);let{routesMeta:n}=e,i={},a="/",l=[];for(let o=0;o<n.length;++o){let c=n[o],d=o===n.length-1,u=a==="/"?t:t.slice(a.length)||"/",h=Gm({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),m=c.route;if(!h&&d&&s&&!n[n.length-1].route.index&&(h=Gm({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},u)),!h)return null;Object.assign(i,h.params),l.push({params:i,pathname:sn([a,h.pathname]),pathnameBase:e1(sn([a,h.pathnameBase])),route:m}),h.pathnameBase!=="/"&&(a=sn([a,h.pathnameBase]))}return l}function Gm(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[s,n]=Qj(e.path,e.caseSensitive,e.end),i=t.match(s);if(!i)return null;let a=i[0],l=a.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:n.reduce((d,u,h)=>{let{paramName:m,isOptional:v}=u;if(m==="*"){let y=o[h]||"";l=a.slice(0,a.length-y.length).replace(/(.)\/+$/,"$1")}const x=o[h];return v&&!x?d[m]=void 0:d[m]=(x||"").replace(/%2F/g,"/"),d},{}),pathname:a,pathnameBase:l,pattern:e}}function Qj(e,t,s){t===void 0&&(t=!1),s===void 0&&(s=!0),hg(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,o,c)=>(n.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function Kj(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return hg(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function th(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let s=t.endsWith("/")?t.length-1:t.length,n=e.charAt(s);return n&&n!=="/"?null:e.slice(s)||"/"}function Gj(e,t){t===void 0&&(t="/");let{pathname:s,search:n="",hash:i=""}=typeof e=="string"?zr(e):e;return{pathname:s?s.startsWith("/")?s:Jj(s,t):t,search:t1(n),hash:s1(i)}}function Jj(e,t){let s=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?s.length>1&&s.pop():i!=="."&&s.push(i)}),s.length>1?s.join("/"):"/"}function Sc(e,t,s,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+s+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Zj(e){return e.filter((t,s)=>s===0||t.route.path&&t.route.path.length>0)}function sh(e,t){let s=Zj(e);return t?s.map((n,i)=>i===s.length-1?n.pathname:n.pathnameBase):s.map(n=>n.pathnameBase)}function nh(e,t,s,n){n===void 0&&(n=!1);let i;typeof e=="string"?i=zr(e):(i=Zi({},e),Ee(!i.pathname||!i.pathname.includes("?"),Sc("?","pathname","search",i)),Ee(!i.pathname||!i.pathname.includes("#"),Sc("#","pathname","hash",i)),Ee(!i.search||!i.search.includes("#"),Sc("#","search","hash",i)));let a=e===""||i.pathname==="",l=a?"/":i.pathname,o;if(l==null)o=s;else{let h=t.length-1;if(!n&&l.startsWith("..")){let m=l.split("/");for(;m[0]==="..";)m.shift(),h-=1;i.pathname=m.join("/")}o=h>=0?t[h]:"/"}let c=Gj(i,o),d=l&&l!=="/"&&l.endsWith("/"),u=(a||l===".")&&s.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}const sn=e=>e.join("/").replace(/\/\/+/g,"/"),e1=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),t1=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,s1=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function n1(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const xg=["post","put","patch","delete"];new Set(xg);const r1=["get",...xg];new Set(r1);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ea(){return ea=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},ea.apply(this,arguments)}const rh=N.createContext(null),i1=N.createContext(null),fn=N.createContext(null),Io=N.createContext(null),Ms=N.createContext({outlet:null,matches:[],isDataRoute:!1}),pg=N.createContext(null);function a1(e,t){let{relative:s}=t===void 0?{}:t;Br()||Ee(!1);let{basename:n,navigator:i}=N.useContext(fn),{hash:a,pathname:l,search:o}=yg(e,{relative:s}),c=l;return n!=="/"&&(c=l==="/"?n:sn([n,l])),i.createHref({pathname:c,search:o,hash:a})}function Br(){return N.useContext(Io)!=null}function xn(){return Br()||Ee(!1),N.useContext(Io).location}function gg(e){N.useContext(fn).static||N.useLayoutEffect(e)}function At(){let{isDataRoute:e}=N.useContext(Ms);return e?v1():l1()}function l1(){Br()||Ee(!1);let e=N.useContext(rh),{basename:t,future:s,navigator:n}=N.useContext(fn),{matches:i}=N.useContext(Ms),{pathname:a}=xn(),l=JSON.stringify(sh(i,s.v7_relativeSplatPath)),o=N.useRef(!1);return gg(()=>{o.current=!0}),N.useCallback(function(d,u){if(u===void 0&&(u={}),!o.current)return;if(typeof d=="number"){n.go(d);return}let h=nh(d,JSON.parse(l),a,u.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:sn([t,h.pathname])),(u.replace?n.replace:n.push)(h,u.state,u)},[t,n,l,a,e])}function ih(){let{matches:e}=N.useContext(Ms),t=e[e.length-1];return t?t.params:{}}function yg(e,t){let{relative:s}=t===void 0?{}:t,{future:n}=N.useContext(fn),{matches:i}=N.useContext(Ms),{pathname:a}=xn(),l=JSON.stringify(sh(i,n.v7_relativeSplatPath));return N.useMemo(()=>nh(e,JSON.parse(l),a,s==="path"),[e,l,a,s])}function o1(e,t){return c1(e,t)}function c1(e,t,s,n){Br()||Ee(!1);let{navigator:i}=N.useContext(fn),{matches:a}=N.useContext(Ms),l=a[a.length-1],o=l?l.params:{};l&&l.pathname;let c=l?l.pathnameBase:"/";l&&l.route;let d=xn(),u;if(t){var h;let b=typeof t=="string"?zr(t):t;c==="/"||(h=b.pathname)!=null&&h.startsWith(c)||Ee(!1),u=b}else u=d;let m=u.pathname||"/",v=m;if(c!=="/"){let b=c.replace(/^\//,"").split("/");v="/"+m.replace(/^\//,"").split("/").slice(b.length).join("/")}let x=Fj(e,{pathname:v}),y=f1(x&&x.map(b=>Object.assign({},b,{params:Object.assign({},o,b.params),pathname:sn([c,i.encodeLocation?i.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?c:sn([c,i.encodeLocation?i.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),a,s,n);return t&&y?N.createElement(Io.Provider,{value:{location:ea({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Bs.Pop}},y):y}function d1(){let e=y1(),t=n1(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),s=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},a=null;return N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},t),s?N.createElement("pre",{style:i},s):null,a)}const u1=N.createElement(d1,null);class h1 extends N.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,s){return s.location!==t.location||s.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:s.error,location:s.location,revalidation:t.revalidation||s.revalidation}}componentDidCatch(t,s){console.error("React Router caught the following error during render",t,s)}render(){return this.state.error!==void 0?N.createElement(Ms.Provider,{value:this.props.routeContext},N.createElement(pg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function m1(e){let{routeContext:t,match:s,children:n}=e,i=N.useContext(rh);return i&&i.static&&i.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=s.route.id),N.createElement(Ms.Provider,{value:t},n)}function f1(e,t,s,n){var i;if(t===void 0&&(t=[]),s===void 0&&(s=null),n===void 0&&(n=null),e==null){var a;if(!s)return null;if(s.errors)e=s.matches;else if((a=n)!=null&&a.v7_partialHydration&&t.length===0&&!s.initialized&&s.matches.length>0)e=s.matches;else return null}let l=e,o=(i=s)==null?void 0:i.errors;if(o!=null){let u=l.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);u>=0||Ee(!1),l=l.slice(0,Math.min(l.length,u+1))}let c=!1,d=-1;if(s&&n&&n.v7_partialHydration)for(let u=0;u<l.length;u++){let h=l[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(d=u),h.route.id){let{loaderData:m,errors:v}=s,x=h.route.loader&&m[h.route.id]===void 0&&(!v||v[h.route.id]===void 0);if(h.route.lazy||x){c=!0,d>=0?l=l.slice(0,d+1):l=[l[0]];break}}}return l.reduceRight((u,h,m)=>{let v,x=!1,y=null,b=null;s&&(v=o&&h.route.id?o[h.route.id]:void 0,y=h.route.errorElement||u1,c&&(d<0&&m===0?(b1("route-fallback",!1),x=!0,b=null):d===m&&(x=!0,b=h.route.hydrateFallbackElement||null)));let f=t.concat(l.slice(0,m+1)),p=()=>{let g;return v?g=y:x?g=b:h.route.Component?g=N.createElement(h.route.Component,null):h.route.element?g=h.route.element:g=u,N.createElement(m1,{match:h,routeContext:{outlet:u,matches:f,isDataRoute:s!=null},children:g})};return s&&(h.route.ErrorBoundary||h.route.errorElement||m===0)?N.createElement(h1,{location:s.location,revalidation:s.revalidation,component:y,error:v,children:p(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):p()},null)}var vg=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(vg||{}),ao=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ao||{});function x1(e){let t=N.useContext(rh);return t||Ee(!1),t}function p1(e){let t=N.useContext(i1);return t||Ee(!1),t}function g1(e){let t=N.useContext(Ms);return t||Ee(!1),t}function bg(e){let t=g1(),s=t.matches[t.matches.length-1];return s.route.id||Ee(!1),s.route.id}function y1(){var e;let t=N.useContext(pg),s=p1(ao.UseRouteError),n=bg(ao.UseRouteError);return t!==void 0?t:(e=s.errors)==null?void 0:e[n]}function v1(){let{router:e}=x1(vg.UseNavigateStable),t=bg(ao.UseNavigateStable),s=N.useRef(!1);return gg(()=>{s.current=!0}),N.useCallback(function(i,a){a===void 0&&(a={}),s.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,ea({fromRouteId:t},a)))},[e,t])}const Jm={};function b1(e,t,s){!t&&!Jm[e]&&(Jm[e]=!0)}function j1(e,t){e==null||e.v7_startTransition,(e==null?void 0:e.v7_relativeSplatPath)===void 0&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}function ta(e){let{to:t,replace:s,state:n,relative:i}=e;Br()||Ee(!1);let{future:a,static:l}=N.useContext(fn),{matches:o}=N.useContext(Ms),{pathname:c}=xn(),d=At(),u=nh(t,sh(o,a.v7_relativeSplatPath),c,i==="path"),h=JSON.stringify(u);return N.useEffect(()=>d(JSON.parse(h),{replace:s,state:n,relative:i}),[d,h,i,s,n]),null}function je(e){Ee(!1)}function w1(e){let{basename:t="/",children:s=null,location:n,navigationType:i=Bs.Pop,navigator:a,static:l=!1,future:o}=e;Br()&&Ee(!1);let c=t.replace(/^\/*/,"/"),d=N.useMemo(()=>({basename:c,navigator:a,static:l,future:ea({v7_relativeSplatPath:!1},o)}),[c,o,a,l]);typeof n=="string"&&(n=zr(n));let{pathname:u="/",search:h="",hash:m="",state:v=null,key:x="default"}=n,y=N.useMemo(()=>{let b=th(u,c);return b==null?null:{location:{pathname:b,search:h,hash:m,state:v,key:x},navigationType:i}},[c,u,h,m,v,x,i]);return y==null?null:N.createElement(fn.Provider,{value:d},N.createElement(Io.Provider,{children:s,value:y}))}function N1(e){let{children:t,location:s}=e;return o1(zd(t),s)}new Promise(()=>{});function zd(e,t){t===void 0&&(t=[]);let s=[];return N.Children.forEach(e,(n,i)=>{if(!N.isValidElement(n))return;let a=[...t,i];if(n.type===N.Fragment){s.push.apply(s,zd(n.props.children,a));return}n.type!==je&&Ee(!1),!n.props.index||!n.props.children||Ee(!1);let l={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(l.children=zd(n.props.children,a)),s.push(l)}),s}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Bd(){return Bd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},Bd.apply(this,arguments)}function _1(e,t){if(e==null)return{};var s={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(s[i]=e[i]);return s}function k1(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function S1(e,t){return e.button===0&&(!t||t==="_self")&&!k1(e)}function $d(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,s)=>{let n=e[s];return t.concat(Array.isArray(n)?n.map(i=>[s,i]):[[s,n]])},[]))}function C1(e,t){let s=$d(e);return t&&t.forEach((n,i)=>{s.has(i)||t.getAll(i).forEach(a=>{s.append(i,a)})}),s}const P1=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],E1="6";try{window.__reactRouterVersion=E1}catch{}const M1="startTransition",Zm=wv[M1];function T1(e){let{basename:t,children:s,future:n,window:i}=e,a=N.useRef();a.current==null&&(a.current=Aj({window:i,v5Compat:!0}));let l=a.current,[o,c]=N.useState({action:l.action,location:l.location}),{v7_startTransition:d}=n||{},u=N.useCallback(h=>{d&&Zm?Zm(()=>c(h)):c(h)},[c,d]);return N.useLayoutEffect(()=>l.listen(u),[l,u]),N.useEffect(()=>j1(n),[n]),N.createElement(w1,{basename:t,children:s,location:o.location,navigationType:o.action,navigator:l,future:n})}const D1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",R1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,bt=N.forwardRef(function(t,s){let{onClick:n,relative:i,reloadDocument:a,replace:l,state:o,target:c,to:d,preventScrollReset:u,viewTransition:h}=t,m=_1(t,P1),{basename:v}=N.useContext(fn),x,y=!1;if(typeof d=="string"&&R1.test(d)&&(x=d,D1))try{let g=new URL(window.location.href),j=d.startsWith("//")?new URL(g.protocol+d):new URL(d),w=th(j.pathname,v);j.origin===g.origin&&w!=null?d=w+j.search+j.hash:y=!0}catch{}let b=a1(d,{relative:i}),f=A1(d,{replace:l,state:o,target:c,preventScrollReset:u,relative:i,viewTransition:h});function p(g){n&&n(g),g.defaultPrevented||f(g)}return N.createElement("a",Bd({},m,{href:x||b,onClick:y||a?n:p,ref:s,target:c}))});var ef;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(ef||(ef={}));var tf;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(tf||(tf={}));function A1(e,t){let{target:s,replace:n,state:i,preventScrollReset:a,relative:l,viewTransition:o}=t===void 0?{}:t,c=At(),d=xn(),u=yg(e,{relative:l});return N.useCallback(h=>{if(S1(h,s)){h.preventDefault();let m=n!==void 0?n:io(d)===io(u);c(e,{replace:m,state:i,preventScrollReset:a,relative:l,viewTransition:o})}},[d,c,u,n,i,s,e,a,l,o])}function jg(e){let t=N.useRef($d(e)),s=N.useRef(!1),n=xn(),i=N.useMemo(()=>C1(n.search,s.current?null:t.current),[n.search]),a=At(),l=N.useCallback((o,c)=>{const d=$d(typeof o=="function"?o(i):o);s.current=!0,a("?"+d,c)},[a,i]);return[i,l]}function wg(e,t){return function(){return e.apply(t,arguments)}}const{toString:L1}=Object.prototype,{getPrototypeOf:ah}=Object,{iterator:zo,toStringTag:Ng}=Symbol,Bo=(e=>t=>{const s=L1.call(t);return e[s]||(e[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),Yt=e=>(e=e.toLowerCase(),t=>Bo(t)===e),$o=e=>t=>typeof t===e,{isArray:$r}=Array,sa=$o("undefined");function wa(e){return e!==null&&!sa(e)&&e.constructor!==null&&!sa(e.constructor)&&xt(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const _g=Yt("ArrayBuffer");function O1(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&_g(e.buffer),t}const F1=$o("string"),xt=$o("function"),kg=$o("number"),Na=e=>e!==null&&typeof e=="object",I1=e=>e===!0||e===!1,_l=e=>{if(Bo(e)!=="object")return!1;const t=ah(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Ng in e)&&!(zo in e)},z1=e=>{if(!Na(e)||wa(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},B1=Yt("Date"),$1=Yt("File"),W1=Yt("Blob"),H1=Yt("FileList"),U1=e=>Na(e)&&xt(e.pipe),V1=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||xt(e.append)&&((t=Bo(e))==="formdata"||t==="object"&&xt(e.toString)&&e.toString()==="[object FormData]"))},q1=Yt("URLSearchParams"),[Y1,X1,Q1,K1]=["ReadableStream","Request","Response","Headers"].map(Yt),G1=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function _a(e,t,{allOwnKeys:s=!1}={}){if(e===null||typeof e>"u")return;let n,i;if(typeof e!="object"&&(e=[e]),$r(e))for(n=0,i=e.length;n<i;n++)t.call(null,e[n],n,e);else{if(wa(e))return;const a=s?Object.getOwnPropertyNames(e):Object.keys(e),l=a.length;let o;for(n=0;n<l;n++)o=a[n],t.call(null,e[o],o,e)}}function Sg(e,t){if(wa(e))return null;t=t.toLowerCase();const s=Object.keys(e);let n=s.length,i;for(;n-- >0;)if(i=s[n],t===i.toLowerCase())return i;return null}const Rn=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),Cg=e=>!sa(e)&&e!==Rn;function Wd(){const{caseless:e}=Cg(this)&&this||{},t={},s=(n,i)=>{const a=e&&Sg(t,i)||i;_l(t[a])&&_l(n)?t[a]=Wd(t[a],n):_l(n)?t[a]=Wd({},n):$r(n)?t[a]=n.slice():t[a]=n};for(let n=0,i=arguments.length;n<i;n++)arguments[n]&&_a(arguments[n],s);return t}const J1=(e,t,s,{allOwnKeys:n}={})=>(_a(t,(i,a)=>{s&&xt(i)?e[a]=wg(i,s):e[a]=i},{allOwnKeys:n}),e),Z1=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),ew=(e,t,s,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),s&&Object.assign(e.prototype,s)},tw=(e,t,s,n)=>{let i,a,l;const o={};if(t=t||{},e==null)return t;do{for(i=Object.getOwnPropertyNames(e),a=i.length;a-- >0;)l=i[a],(!n||n(l,e,t))&&!o[l]&&(t[l]=e[l],o[l]=!0);e=s!==!1&&ah(e)}while(e&&(!s||s(e,t))&&e!==Object.prototype);return t},sw=(e,t,s)=>{e=String(e),(s===void 0||s>e.length)&&(s=e.length),s-=t.length;const n=e.indexOf(t,s);return n!==-1&&n===s},nw=e=>{if(!e)return null;if($r(e))return e;let t=e.length;if(!kg(t))return null;const s=new Array(t);for(;t-- >0;)s[t]=e[t];return s},rw=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&ah(Uint8Array)),iw=(e,t)=>{const n=(e&&e[zo]).call(e);let i;for(;(i=n.next())&&!i.done;){const a=i.value;t.call(e,a[0],a[1])}},aw=(e,t)=>{let s;const n=[];for(;(s=e.exec(t))!==null;)n.push(s);return n},lw=Yt("HTMLFormElement"),ow=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(s,n,i){return n.toUpperCase()+i}),sf=(({hasOwnProperty:e})=>(t,s)=>e.call(t,s))(Object.prototype),cw=Yt("RegExp"),Pg=(e,t)=>{const s=Object.getOwnPropertyDescriptors(e),n={};_a(s,(i,a)=>{let l;(l=t(i,a,e))!==!1&&(n[a]=l||i)}),Object.defineProperties(e,n)},dw=e=>{Pg(e,(t,s)=>{if(xt(e)&&["arguments","caller","callee"].indexOf(s)!==-1)return!1;const n=e[s];if(xt(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")})}})},uw=(e,t)=>{const s={},n=i=>{i.forEach(a=>{s[a]=!0})};return $r(e)?n(e):n(String(e).split(t)),s},hw=()=>{},mw=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function fw(e){return!!(e&&xt(e.append)&&e[Ng]==="FormData"&&e[zo])}const xw=e=>{const t=new Array(10),s=(n,i)=>{if(Na(n)){if(t.indexOf(n)>=0)return;if(wa(n))return n;if(!("toJSON"in n)){t[i]=n;const a=$r(n)?[]:{};return _a(n,(l,o)=>{const c=s(l,i+1);!sa(c)&&(a[o]=c)}),t[i]=void 0,a}}return n};return s(e,0)},pw=Yt("AsyncFunction"),gw=e=>e&&(Na(e)||xt(e))&&xt(e.then)&&xt(e.catch),Eg=((e,t)=>e?setImmediate:t?((s,n)=>(Rn.addEventListener("message",({source:i,data:a})=>{i===Rn&&a===s&&n.length&&n.shift()()},!1),i=>{n.push(i),Rn.postMessage(s,"*")}))(`axios@${Math.random()}`,[]):s=>setTimeout(s))(typeof setImmediate=="function",xt(Rn.postMessage)),yw=typeof queueMicrotask<"u"?queueMicrotask.bind(Rn):typeof process<"u"&&process.nextTick||Eg,vw=e=>e!=null&&xt(e[zo]),D={isArray:$r,isArrayBuffer:_g,isBuffer:wa,isFormData:V1,isArrayBufferView:O1,isString:F1,isNumber:kg,isBoolean:I1,isObject:Na,isPlainObject:_l,isEmptyObject:z1,isReadableStream:Y1,isRequest:X1,isResponse:Q1,isHeaders:K1,isUndefined:sa,isDate:B1,isFile:$1,isBlob:W1,isRegExp:cw,isFunction:xt,isStream:U1,isURLSearchParams:q1,isTypedArray:rw,isFileList:H1,forEach:_a,merge:Wd,extend:J1,trim:G1,stripBOM:Z1,inherits:ew,toFlatObject:tw,kindOf:Bo,kindOfTest:Yt,endsWith:sw,toArray:nw,forEachEntry:iw,matchAll:aw,isHTMLForm:lw,hasOwnProperty:sf,hasOwnProp:sf,reduceDescriptors:Pg,freezeMethods:dw,toObjectSet:uw,toCamelCase:ow,noop:hw,toFiniteNumber:mw,findKey:Sg,global:Rn,isContextDefined:Cg,isSpecCompliantForm:fw,toJSONObject:xw,isAsyncFn:pw,isThenable:gw,setImmediate:Eg,asap:yw,isIterable:vw};function te(e,t,s,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),s&&(this.config=s),n&&(this.request=n),i&&(this.response=i,this.status=i.status?i.status:null)}D.inherits(te,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:D.toJSONObject(this.config),code:this.code,status:this.status}}});const Mg=te.prototype,Tg={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Tg[e]={value:e}});Object.defineProperties(te,Tg);Object.defineProperty(Mg,"isAxiosError",{value:!0});te.from=(e,t,s,n,i,a)=>{const l=Object.create(Mg);return D.toFlatObject(e,l,function(c){return c!==Error.prototype},o=>o!=="isAxiosError"),te.call(l,e.message,t,s,n,i),l.cause=e,l.name=e.name,a&&Object.assign(l,a),l};const bw=null;function Hd(e){return D.isPlainObject(e)||D.isArray(e)}function Dg(e){return D.endsWith(e,"[]")?e.slice(0,-2):e}function nf(e,t,s){return e?e.concat(t).map(function(i,a){return i=Dg(i),!s&&a?"["+i+"]":i}).join(s?".":""):t}function jw(e){return D.isArray(e)&&!e.some(Hd)}const ww=D.toFlatObject(D,{},null,function(t){return/^is[A-Z]/.test(t)});function Wo(e,t,s){if(!D.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,s=D.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,b){return!D.isUndefined(b[y])});const n=s.metaTokens,i=s.visitor||u,a=s.dots,l=s.indexes,c=(s.Blob||typeof Blob<"u"&&Blob)&&D.isSpecCompliantForm(t);if(!D.isFunction(i))throw new TypeError("visitor must be a function");function d(x){if(x===null)return"";if(D.isDate(x))return x.toISOString();if(D.isBoolean(x))return x.toString();if(!c&&D.isBlob(x))throw new te("Blob is not supported. Use a Buffer instead.");return D.isArrayBuffer(x)||D.isTypedArray(x)?c&&typeof Blob=="function"?new Blob([x]):Buffer.from(x):x}function u(x,y,b){let f=x;if(x&&!b&&typeof x=="object"){if(D.endsWith(y,"{}"))y=n?y:y.slice(0,-2),x=JSON.stringify(x);else if(D.isArray(x)&&jw(x)||(D.isFileList(x)||D.endsWith(y,"[]"))&&(f=D.toArray(x)))return y=Dg(y),f.forEach(function(g,j){!(D.isUndefined(g)||g===null)&&t.append(l===!0?nf([y],j,a):l===null?y:y+"[]",d(g))}),!1}return Hd(x)?!0:(t.append(nf(b,y,a),d(x)),!1)}const h=[],m=Object.assign(ww,{defaultVisitor:u,convertValue:d,isVisitable:Hd});function v(x,y){if(!D.isUndefined(x)){if(h.indexOf(x)!==-1)throw Error("Circular reference detected in "+y.join("."));h.push(x),D.forEach(x,function(f,p){(!(D.isUndefined(f)||f===null)&&i.call(t,f,D.isString(p)?p.trim():p,y,m))===!0&&v(f,y?y.concat(p):[p])}),h.pop()}}if(!D.isObject(e))throw new TypeError("data must be an object");return v(e),t}function rf(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function lh(e,t){this._pairs=[],e&&Wo(e,this,t)}const Rg=lh.prototype;Rg.append=function(t,s){this._pairs.push([t,s])};Rg.toString=function(t){const s=t?function(n){return t.call(this,n,rf)}:rf;return this._pairs.map(function(i){return s(i[0])+"="+s(i[1])},"").join("&")};function Nw(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Ag(e,t,s){if(!t)return e;const n=s&&s.encode||Nw;D.isFunction(s)&&(s={serialize:s});const i=s&&s.serialize;let a;if(i?a=i(t,s):a=D.isURLSearchParams(t)?t.toString():new lh(t,s).toString(n),a){const l=e.indexOf("#");l!==-1&&(e=e.slice(0,l)),e+=(e.indexOf("?")===-1?"?":"&")+a}return e}class _w{constructor(){this.handlers=[]}use(t,s,n){return this.handlers.push({fulfilled:t,rejected:s,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){D.forEach(this.handlers,function(n){n!==null&&t(n)})}}const af=_w,Lg={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},kw=typeof URLSearchParams<"u"?URLSearchParams:lh,Sw=typeof FormData<"u"?FormData:null,Cw=typeof Blob<"u"?Blob:null,Pw={isBrowser:!0,classes:{URLSearchParams:kw,FormData:Sw,Blob:Cw},protocols:["http","https","file","blob","url","data"]},oh=typeof window<"u"&&typeof document<"u",Ud=typeof navigator=="object"&&navigator||void 0,Ew=oh&&(!Ud||["ReactNative","NativeScript","NS"].indexOf(Ud.product)<0),Mw=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),Tw=oh&&window.location.href||"http://localhost",Dw=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:oh,hasStandardBrowserEnv:Ew,hasStandardBrowserWebWorkerEnv:Mw,navigator:Ud,origin:Tw},Symbol.toStringTag,{value:"Module"})),Ge={...Dw,...Pw};function Rw(e,t){return Wo(e,new Ge.classes.URLSearchParams,{visitor:function(s,n,i,a){return Ge.isNode&&D.isBuffer(s)?(this.append(n,s.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)},...t})}function Aw(e){return D.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Lw(e){const t={},s=Object.keys(e);let n;const i=s.length;let a;for(n=0;n<i;n++)a=s[n],t[a]=e[a];return t}function Og(e){function t(s,n,i,a){let l=s[a++];if(l==="__proto__")return!0;const o=Number.isFinite(+l),c=a>=s.length;return l=!l&&D.isArray(i)?i.length:l,c?(D.hasOwnProp(i,l)?i[l]=[i[l],n]:i[l]=n,!o):((!i[l]||!D.isObject(i[l]))&&(i[l]=[]),t(s,n,i[l],a)&&D.isArray(i[l])&&(i[l]=Lw(i[l])),!o)}if(D.isFormData(e)&&D.isFunction(e.entries)){const s={};return D.forEachEntry(e,(n,i)=>{t(Aw(n),i,s,0)}),s}return null}function Ow(e,t,s){if(D.isString(e))try{return(t||JSON.parse)(e),D.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(s||JSON.stringify)(e)}const ch={transitional:Lg,adapter:["xhr","http","fetch"],transformRequest:[function(t,s){const n=s.getContentType()||"",i=n.indexOf("application/json")>-1,a=D.isObject(t);if(a&&D.isHTMLForm(t)&&(t=new FormData(t)),D.isFormData(t))return i?JSON.stringify(Og(t)):t;if(D.isArrayBuffer(t)||D.isBuffer(t)||D.isStream(t)||D.isFile(t)||D.isBlob(t)||D.isReadableStream(t))return t;if(D.isArrayBufferView(t))return t.buffer;if(D.isURLSearchParams(t))return s.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let o;if(a){if(n.indexOf("application/x-www-form-urlencoded")>-1)return Rw(t,this.formSerializer).toString();if((o=D.isFileList(t))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Wo(o?{"files[]":t}:t,c&&new c,this.formSerializer)}}return a||i?(s.setContentType("application/json",!1),Ow(t)):t}],transformResponse:[function(t){const s=this.transitional||ch.transitional,n=s&&s.forcedJSONParsing,i=this.responseType==="json";if(D.isResponse(t)||D.isReadableStream(t))return t;if(t&&D.isString(t)&&(n&&!this.responseType||i)){const l=!(s&&s.silentJSONParsing)&&i;try{return JSON.parse(t)}catch(o){if(l)throw o.name==="SyntaxError"?te.from(o,te.ERR_BAD_RESPONSE,this,null,this.response):o}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ge.classes.FormData,Blob:Ge.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};D.forEach(["delete","get","head","post","put","patch"],e=>{ch.headers[e]={}});const dh=ch,Fw=D.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Iw=e=>{const t={};let s,n,i;return e&&e.split(`
`).forEach(function(l){i=l.indexOf(":"),s=l.substring(0,i).trim().toLowerCase(),n=l.substring(i+1).trim(),!(!s||t[s]&&Fw[s])&&(s==="set-cookie"?t[s]?t[s].push(n):t[s]=[n]:t[s]=t[s]?t[s]+", "+n:n)}),t},lf=Symbol("internals");function si(e){return e&&String(e).trim().toLowerCase()}function kl(e){return e===!1||e==null?e:D.isArray(e)?e.map(kl):String(e)}function zw(e){const t=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=s.exec(e);)t[n[1]]=n[2];return t}const Bw=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Cc(e,t,s,n,i){if(D.isFunction(n))return n.call(this,t,s);if(i&&(t=s),!!D.isString(t)){if(D.isString(n))return t.indexOf(n)!==-1;if(D.isRegExp(n))return n.test(t)}}function $w(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,s,n)=>s.toUpperCase()+n)}function Ww(e,t){const s=D.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+s,{value:function(i,a,l){return this[n].call(this,t,i,a,l)},configurable:!0})})}class Ho{constructor(t){t&&this.set(t)}set(t,s,n){const i=this;function a(o,c,d){const u=si(c);if(!u)throw new Error("header name must be a non-empty string");const h=D.findKey(i,u);(!h||i[h]===void 0||d===!0||d===void 0&&i[h]!==!1)&&(i[h||c]=kl(o))}const l=(o,c)=>D.forEach(o,(d,u)=>a(d,u,c));if(D.isPlainObject(t)||t instanceof this.constructor)l(t,s);else if(D.isString(t)&&(t=t.trim())&&!Bw(t))l(Iw(t),s);else if(D.isObject(t)&&D.isIterable(t)){let o={},c,d;for(const u of t){if(!D.isArray(u))throw TypeError("Object iterator must return a key-value pair");o[d=u[0]]=(c=o[d])?D.isArray(c)?[...c,u[1]]:[c,u[1]]:u[1]}l(o,s)}else t!=null&&a(s,t,n);return this}get(t,s){if(t=si(t),t){const n=D.findKey(this,t);if(n){const i=this[n];if(!s)return i;if(s===!0)return zw(i);if(D.isFunction(s))return s.call(this,i,n);if(D.isRegExp(s))return s.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,s){if(t=si(t),t){const n=D.findKey(this,t);return!!(n&&this[n]!==void 0&&(!s||Cc(this,this[n],n,s)))}return!1}delete(t,s){const n=this;let i=!1;function a(l){if(l=si(l),l){const o=D.findKey(n,l);o&&(!s||Cc(n,n[o],o,s))&&(delete n[o],i=!0)}}return D.isArray(t)?t.forEach(a):a(t),i}clear(t){const s=Object.keys(this);let n=s.length,i=!1;for(;n--;){const a=s[n];(!t||Cc(this,this[a],a,t,!0))&&(delete this[a],i=!0)}return i}normalize(t){const s=this,n={};return D.forEach(this,(i,a)=>{const l=D.findKey(n,a);if(l){s[l]=kl(i),delete s[a];return}const o=t?$w(a):String(a).trim();o!==a&&delete s[a],s[o]=kl(i),n[o]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const s=Object.create(null);return D.forEach(this,(n,i)=>{n!=null&&n!==!1&&(s[i]=t&&D.isArray(n)?n.join(", "):n)}),s}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,s])=>t+": "+s).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...s){const n=new this(t);return s.forEach(i=>n.set(i)),n}static accessor(t){const n=(this[lf]=this[lf]={accessors:{}}).accessors,i=this.prototype;function a(l){const o=si(l);n[o]||(Ww(i,l),n[o]=!0)}return D.isArray(t)?t.forEach(a):a(t),this}}Ho.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);D.reduceDescriptors(Ho.prototype,({value:e},t)=>{let s=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[s]=n}}});D.freezeMethods(Ho);const Ht=Ho;function Pc(e,t){const s=this||dh,n=t||s,i=Ht.from(n.headers);let a=n.data;return D.forEach(e,function(o){a=o.call(s,a,i.normalize(),t?t.status:void 0)}),i.normalize(),a}function Fg(e){return!!(e&&e.__CANCEL__)}function Wr(e,t,s){te.call(this,e??"canceled",te.ERR_CANCELED,t,s),this.name="CanceledError"}D.inherits(Wr,te,{__CANCEL__:!0});function Ig(e,t,s){const n=s.config.validateStatus;!s.status||!n||n(s.status)?e(s):t(new te("Request failed with status code "+s.status,[te.ERR_BAD_REQUEST,te.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))}function Hw(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function Uw(e,t){e=e||10;const s=new Array(e),n=new Array(e);let i=0,a=0,l;return t=t!==void 0?t:1e3,function(c){const d=Date.now(),u=n[a];l||(l=d),s[i]=c,n[i]=d;let h=a,m=0;for(;h!==i;)m+=s[h++],h=h%e;if(i=(i+1)%e,i===a&&(a=(a+1)%e),d-l<t)return;const v=u&&d-u;return v?Math.round(m*1e3/v):void 0}}function Vw(e,t){let s=0,n=1e3/t,i,a;const l=(d,u=Date.now())=>{s=u,i=null,a&&(clearTimeout(a),a=null),e(...d)};return[(...d)=>{const u=Date.now(),h=u-s;h>=n?l(d,u):(i=d,a||(a=setTimeout(()=>{a=null,l(i)},n-h)))},()=>i&&l(i)]}const lo=(e,t,s=3)=>{let n=0;const i=Uw(50,250);return Vw(a=>{const l=a.loaded,o=a.lengthComputable?a.total:void 0,c=l-n,d=i(c),u=l<=o;n=l;const h={loaded:l,total:o,progress:o?l/o:void 0,bytes:c,rate:d||void 0,estimated:d&&o&&u?(o-l)/d:void 0,event:a,lengthComputable:o!=null,[t?"download":"upload"]:!0};e(h)},s)},of=(e,t)=>{const s=e!=null;return[n=>t[0]({lengthComputable:s,total:e,loaded:n}),t[1]]},cf=e=>(...t)=>D.asap(()=>e(...t)),qw=Ge.hasStandardBrowserEnv?((e,t)=>s=>(s=new URL(s,Ge.origin),e.protocol===s.protocol&&e.host===s.host&&(t||e.port===s.port)))(new URL(Ge.origin),Ge.navigator&&/(msie|trident)/i.test(Ge.navigator.userAgent)):()=>!0,Yw=Ge.hasStandardBrowserEnv?{write(e,t,s,n,i,a){const l=[e+"="+encodeURIComponent(t)];D.isNumber(s)&&l.push("expires="+new Date(s).toGMTString()),D.isString(n)&&l.push("path="+n),D.isString(i)&&l.push("domain="+i),a===!0&&l.push("secure"),document.cookie=l.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Xw(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Qw(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function zg(e,t,s){let n=!Xw(t);return e&&(n||s==!1)?Qw(e,t):t}const df=e=>e instanceof Ht?{...e}:e;function Vn(e,t){t=t||{};const s={};function n(d,u,h,m){return D.isPlainObject(d)&&D.isPlainObject(u)?D.merge.call({caseless:m},d,u):D.isPlainObject(u)?D.merge({},u):D.isArray(u)?u.slice():u}function i(d,u,h,m){if(D.isUndefined(u)){if(!D.isUndefined(d))return n(void 0,d,h,m)}else return n(d,u,h,m)}function a(d,u){if(!D.isUndefined(u))return n(void 0,u)}function l(d,u){if(D.isUndefined(u)){if(!D.isUndefined(d))return n(void 0,d)}else return n(void 0,u)}function o(d,u,h){if(h in t)return n(d,u);if(h in e)return n(void 0,d)}const c={url:a,method:a,data:a,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:o,headers:(d,u,h)=>i(df(d),df(u),h,!0)};return D.forEach(Object.keys({...e,...t}),function(u){const h=c[u]||i,m=h(e[u],t[u],u);D.isUndefined(m)&&h!==o||(s[u]=m)}),s}const Bg=e=>{const t=Vn({},e);let{data:s,withXSRFToken:n,xsrfHeaderName:i,xsrfCookieName:a,headers:l,auth:o}=t;t.headers=l=Ht.from(l),t.url=Ag(zg(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),o&&l.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):"")));let c;if(D.isFormData(s)){if(Ge.hasStandardBrowserEnv||Ge.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if((c=l.getContentType())!==!1){const[d,...u]=c?c.split(";").map(h=>h.trim()).filter(Boolean):[];l.setContentType([d||"multipart/form-data",...u].join("; "))}}if(Ge.hasStandardBrowserEnv&&(n&&D.isFunction(n)&&(n=n(t)),n||n!==!1&&qw(t.url))){const d=i&&a&&Yw.read(a);d&&l.set(i,d)}return t},Kw=typeof XMLHttpRequest<"u",Gw=Kw&&function(e){return new Promise(function(s,n){const i=Bg(e);let a=i.data;const l=Ht.from(i.headers).normalize();let{responseType:o,onUploadProgress:c,onDownloadProgress:d}=i,u,h,m,v,x;function y(){v&&v(),x&&x(),i.cancelToken&&i.cancelToken.unsubscribe(u),i.signal&&i.signal.removeEventListener("abort",u)}let b=new XMLHttpRequest;b.open(i.method.toUpperCase(),i.url,!0),b.timeout=i.timeout;function f(){if(!b)return;const g=Ht.from("getAllResponseHeaders"in b&&b.getAllResponseHeaders()),w={data:!o||o==="text"||o==="json"?b.responseText:b.response,status:b.status,statusText:b.statusText,headers:g,config:e,request:b};Ig(function(k){s(k),y()},function(k){n(k),y()},w),b=null}"onloadend"in b?b.onloadend=f:b.onreadystatechange=function(){!b||b.readyState!==4||b.status===0&&!(b.responseURL&&b.responseURL.indexOf("file:")===0)||setTimeout(f)},b.onabort=function(){b&&(n(new te("Request aborted",te.ECONNABORTED,e,b)),b=null)},b.onerror=function(){n(new te("Network Error",te.ERR_NETWORK,e,b)),b=null},b.ontimeout=function(){let j=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const w=i.transitional||Lg;i.timeoutErrorMessage&&(j=i.timeoutErrorMessage),n(new te(j,w.clarifyTimeoutError?te.ETIMEDOUT:te.ECONNABORTED,e,b)),b=null},a===void 0&&l.setContentType(null),"setRequestHeader"in b&&D.forEach(l.toJSON(),function(j,w){b.setRequestHeader(w,j)}),D.isUndefined(i.withCredentials)||(b.withCredentials=!!i.withCredentials),o&&o!=="json"&&(b.responseType=i.responseType),d&&([m,x]=lo(d,!0),b.addEventListener("progress",m)),c&&b.upload&&([h,v]=lo(c),b.upload.addEventListener("progress",h),b.upload.addEventListener("loadend",v)),(i.cancelToken||i.signal)&&(u=g=>{b&&(n(!g||g.type?new Wr(null,e,b):g),b.abort(),b=null)},i.cancelToken&&i.cancelToken.subscribe(u),i.signal&&(i.signal.aborted?u():i.signal.addEventListener("abort",u)));const p=Hw(i.url);if(p&&Ge.protocols.indexOf(p)===-1){n(new te("Unsupported protocol "+p+":",te.ERR_BAD_REQUEST,e));return}b.send(a||null)})},Jw=(e,t)=>{const{length:s}=e=e?e.filter(Boolean):[];if(t||s){let n=new AbortController,i;const a=function(d){if(!i){i=!0,o();const u=d instanceof Error?d:this.reason;n.abort(u instanceof te?u:new Wr(u instanceof Error?u.message:u))}};let l=t&&setTimeout(()=>{l=null,a(new te(`timeout ${t} of ms exceeded`,te.ETIMEDOUT))},t);const o=()=>{e&&(l&&clearTimeout(l),l=null,e.forEach(d=>{d.unsubscribe?d.unsubscribe(a):d.removeEventListener("abort",a)}),e=null)};e.forEach(d=>d.addEventListener("abort",a));const{signal:c}=n;return c.unsubscribe=()=>D.asap(o),c}},Zw=Jw,e2=function*(e,t){let s=e.byteLength;if(!t||s<t){yield e;return}let n=0,i;for(;n<s;)i=n+t,yield e.slice(n,i),n=i},t2=async function*(e,t){for await(const s of s2(e))yield*e2(s,t)},s2=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:s,value:n}=await t.read();if(s)break;yield n}}finally{await t.cancel()}},uf=(e,t,s,n)=>{const i=t2(e,t);let a=0,l,o=c=>{l||(l=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:d,value:u}=await i.next();if(d){o(),c.close();return}let h=u.byteLength;if(s){let m=a+=h;s(m)}c.enqueue(new Uint8Array(u))}catch(d){throw o(d),d}},cancel(c){return o(c),i.return()}},{highWaterMark:2})},Uo=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",$g=Uo&&typeof ReadableStream=="function",n2=Uo&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),Wg=(e,...t)=>{try{return!!e(...t)}catch{return!1}},r2=$g&&Wg(()=>{let e=!1;const t=new Request(Ge.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),hf=64*1024,Vd=$g&&Wg(()=>D.isReadableStream(new Response("").body)),oo={stream:Vd&&(e=>e.body)};Uo&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!oo[t]&&(oo[t]=D.isFunction(e[t])?s=>s[t]():(s,n)=>{throw new te(`Response type '${t}' is not supported`,te.ERR_NOT_SUPPORT,n)})})})(new Response);const i2=async e=>{if(e==null)return 0;if(D.isBlob(e))return e.size;if(D.isSpecCompliantForm(e))return(await new Request(Ge.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(D.isArrayBufferView(e)||D.isArrayBuffer(e))return e.byteLength;if(D.isURLSearchParams(e)&&(e=e+""),D.isString(e))return(await n2(e)).byteLength},a2=async(e,t)=>{const s=D.toFiniteNumber(e.getContentLength());return s??i2(t)},l2=Uo&&(async e=>{let{url:t,method:s,data:n,signal:i,cancelToken:a,timeout:l,onDownloadProgress:o,onUploadProgress:c,responseType:d,headers:u,withCredentials:h="same-origin",fetchOptions:m}=Bg(e);d=d?(d+"").toLowerCase():"text";let v=Zw([i,a&&a.toAbortSignal()],l),x;const y=v&&v.unsubscribe&&(()=>{v.unsubscribe()});let b;try{if(c&&r2&&s!=="get"&&s!=="head"&&(b=await a2(u,n))!==0){let w=new Request(t,{method:"POST",body:n,duplex:"half"}),_;if(D.isFormData(n)&&(_=w.headers.get("content-type"))&&u.setContentType(_),w.body){const[k,P]=of(b,lo(cf(c)));n=uf(w.body,hf,k,P)}}D.isString(h)||(h=h?"include":"omit");const f="credentials"in Request.prototype;x=new Request(t,{...m,signal:v,method:s.toUpperCase(),headers:u.normalize().toJSON(),body:n,duplex:"half",credentials:f?h:void 0});let p=await fetch(x,m);const g=Vd&&(d==="stream"||d==="response");if(Vd&&(o||g&&y)){const w={};["status","statusText","headers"].forEach(E=>{w[E]=p[E]});const _=D.toFiniteNumber(p.headers.get("content-length")),[k,P]=o&&of(_,lo(cf(o),!0))||[];p=new Response(uf(p.body,hf,k,()=>{P&&P(),y&&y()}),w)}d=d||"text";let j=await oo[D.findKey(oo,d)||"text"](p,e);return!g&&y&&y(),await new Promise((w,_)=>{Ig(w,_,{data:j,headers:Ht.from(p.headers),status:p.status,statusText:p.statusText,config:e,request:x})})}catch(f){throw y&&y(),f&&f.name==="TypeError"&&/Load failed|fetch/i.test(f.message)?Object.assign(new te("Network Error",te.ERR_NETWORK,e,x),{cause:f.cause||f}):te.from(f,f&&f.code,e,x)}}),qd={http:bw,xhr:Gw,fetch:l2};D.forEach(qd,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const mf=e=>`- ${e}`,o2=e=>D.isFunction(e)||e===null||e===!1,Hg={getAdapter:e=>{e=D.isArray(e)?e:[e];const{length:t}=e;let s,n;const i={};for(let a=0;a<t;a++){s=e[a];let l;if(n=s,!o2(s)&&(n=qd[(l=String(s)).toLowerCase()],n===void 0))throw new te(`Unknown adapter '${l}'`);if(n)break;i[l||"#"+a]=n}if(!n){const a=Object.entries(i).map(([o,c])=>`adapter ${o} `+(c===!1?"is not supported by the environment":"is not available in the build"));let l=t?a.length>1?`since :
`+a.map(mf).join(`
`):" "+mf(a[0]):"as no adapter specified";throw new te("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return n},adapters:qd};function Ec(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Wr(null,e)}function ff(e){return Ec(e),e.headers=Ht.from(e.headers),e.data=Pc.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Hg.getAdapter(e.adapter||dh.adapter)(e).then(function(n){return Ec(e),n.data=Pc.call(e,e.transformResponse,n),n.headers=Ht.from(n.headers),n},function(n){return Fg(n)||(Ec(e),n&&n.response&&(n.response.data=Pc.call(e,e.transformResponse,n.response),n.response.headers=Ht.from(n.response.headers))),Promise.reject(n)})}const Ug="1.11.0",Vo={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Vo[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const xf={};Vo.transitional=function(t,s,n){function i(a,l){return"[Axios v"+Ug+"] Transitional option '"+a+"'"+l+(n?". "+n:"")}return(a,l,o)=>{if(t===!1)throw new te(i(l," has been removed"+(s?" in "+s:"")),te.ERR_DEPRECATED);return s&&!xf[l]&&(xf[l]=!0,console.warn(i(l," has been deprecated since v"+s+" and will be removed in the near future"))),t?t(a,l,o):!0}};Vo.spelling=function(t){return(s,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function c2(e,t,s){if(typeof e!="object")throw new te("options must be an object",te.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let i=n.length;for(;i-- >0;){const a=n[i],l=t[a];if(l){const o=e[a],c=o===void 0||l(o,a,e);if(c!==!0)throw new te("option "+a+" must be "+c,te.ERR_BAD_OPTION_VALUE);continue}if(s!==!0)throw new te("Unknown option "+a,te.ERR_BAD_OPTION)}}const Sl={assertOptions:c2,validators:Vo},Gt=Sl.validators;class co{constructor(t){this.defaults=t||{},this.interceptors={request:new af,response:new af}}async request(t,s){try{return await this._request(t,s)}catch(n){if(n instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const a=i.stack?i.stack.replace(/^.+\n/,""):"";try{n.stack?a&&!String(n.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+a):n.stack=a}catch{}}throw n}}_request(t,s){typeof t=="string"?(s=s||{},s.url=t):s=t||{},s=Vn(this.defaults,s);const{transitional:n,paramsSerializer:i,headers:a}=s;n!==void 0&&Sl.assertOptions(n,{silentJSONParsing:Gt.transitional(Gt.boolean),forcedJSONParsing:Gt.transitional(Gt.boolean),clarifyTimeoutError:Gt.transitional(Gt.boolean)},!1),i!=null&&(D.isFunction(i)?s.paramsSerializer={serialize:i}:Sl.assertOptions(i,{encode:Gt.function,serialize:Gt.function},!0)),s.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?s.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:s.allowAbsoluteUrls=!0),Sl.assertOptions(s,{baseUrl:Gt.spelling("baseURL"),withXsrfToken:Gt.spelling("withXSRFToken")},!0),s.method=(s.method||this.defaults.method||"get").toLowerCase();let l=a&&D.merge(a.common,a[s.method]);a&&D.forEach(["delete","get","head","post","put","patch","common"],x=>{delete a[x]}),s.headers=Ht.concat(l,a);const o=[];let c=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(s)===!1||(c=c&&y.synchronous,o.unshift(y.fulfilled,y.rejected))});const d=[];this.interceptors.response.forEach(function(y){d.push(y.fulfilled,y.rejected)});let u,h=0,m;if(!c){const x=[ff.bind(this),void 0];for(x.unshift(...o),x.push(...d),m=x.length,u=Promise.resolve(s);h<m;)u=u.then(x[h++],x[h++]);return u}m=o.length;let v=s;for(h=0;h<m;){const x=o[h++],y=o[h++];try{v=x(v)}catch(b){y.call(this,b);break}}try{u=ff.call(this,v)}catch(x){return Promise.reject(x)}for(h=0,m=d.length;h<m;)u=u.then(d[h++],d[h++]);return u}getUri(t){t=Vn(this.defaults,t);const s=zg(t.baseURL,t.url,t.allowAbsoluteUrls);return Ag(s,t.params,t.paramsSerializer)}}D.forEach(["delete","get","head","options"],function(t){co.prototype[t]=function(s,n){return this.request(Vn(n||{},{method:t,url:s,data:(n||{}).data}))}});D.forEach(["post","put","patch"],function(t){function s(n){return function(a,l,o){return this.request(Vn(o||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:a,data:l}))}}co.prototype[t]=s(),co.prototype[t+"Form"]=s(!0)});const Cl=co;class uh{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let s;this.promise=new Promise(function(a){s=a});const n=this;this.promise.then(i=>{if(!n._listeners)return;let a=n._listeners.length;for(;a-- >0;)n._listeners[a](i);n._listeners=null}),this.promise.then=i=>{let a;const l=new Promise(o=>{n.subscribe(o),a=o}).then(i);return l.cancel=function(){n.unsubscribe(a)},l},t(function(a,l,o){n.reason||(n.reason=new Wr(a,l,o),s(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const s=this._listeners.indexOf(t);s!==-1&&this._listeners.splice(s,1)}toAbortSignal(){const t=new AbortController,s=n=>{t.abort(n)};return this.subscribe(s),t.signal.unsubscribe=()=>this.unsubscribe(s),t.signal}static source(){let t;return{token:new uh(function(i){t=i}),cancel:t}}}const d2=uh;function u2(e){return function(s){return e.apply(null,s)}}function h2(e){return D.isObject(e)&&e.isAxiosError===!0}const Yd={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Yd).forEach(([e,t])=>{Yd[t]=e});const m2=Yd;function Vg(e){const t=new Cl(e),s=wg(Cl.prototype.request,t);return D.extend(s,Cl.prototype,t,{allOwnKeys:!0}),D.extend(s,t,null,{allOwnKeys:!0}),s.create=function(i){return Vg(Vn(e,i))},s}const De=Vg(dh);De.Axios=Cl;De.CanceledError=Wr;De.CancelToken=d2;De.isCancel=Fg;De.VERSION=Ug;De.toFormData=Wo;De.AxiosError=te;De.Cancel=De.CanceledError;De.all=function(t){return Promise.all(t)};De.spread=u2;De.isAxiosError=h2;De.mergeConfig=Vn;De.AxiosHeaders=Ht;De.formToJSON=e=>Og(D.isHTMLForm(e)?new FormData(e):e);De.getAdapter=Hg.getAdapter;De.HttpStatusCode=m2;De.default=De;const f2=De,x2="https://studious-capybara-v7w6j77r7x7hww4p-6000.app.github.dev/api",O=f2.create({baseURL:x2});O.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e});const vs={login:e=>O.post("/auth/login",e),register:e=>O.post("/auth/register",e),sendVerification:e=>O.post("/auth/send-verification",{email:e}),sendEmailVerification:e=>O.post("/auth/send-verification",{email:e}),verifyEmail:e=>O.post("/auth/verify-email",{token:e}),forgotPassword:e=>O.post("/auth/forgot-password",{email:e}),resetPassword:(e,t)=>O.post("/auth/reset-password",{token:e,newPassword:t})},ln={getProfile:()=>O.get("/users/profile"),updateProfile:e=>O.put("/users/profile",e),getUsers:()=>O.get("/users"),createUser:e=>O.post("/users",e),updateUser:(e,t)=>O.put(`/users/${e}`,t),deleteUser:e=>O.delete(`/users/${e}`),uploadAvatar:e=>O.post("/users/avatar",e),changePassword:e=>O.put("/users/password",e),updateNotifications:e=>O.put("/users/notifications",e)},p2={getStats:()=>O.get("/dashboard/stats"),getTasks:()=>O.get("/dashboard/tasks")},$s={getTasks:()=>O.get("/tasks"),completeTask:e=>O.put(`/tasks/${e}/complete`),createTask:e=>O.post("/tasks",e),updateTask:(e,t)=>O.put(`/tasks/${e}`,t),deleteTask:e=>O.delete(`/tasks/${e}`),completeTaskWithEvidence:e=>O.post(`/tasks/${e.get("taskId")}/complete-with-evidence`,e),getTaskDetails:e=>O.get(`/tasks/${e}/details`),getWeeklyHistory:()=>O.get("/tasks/history/weekly"),getHistory:e=>O.get(`/tasks/history/${e.week||"current"}`)},fi={getEvents:()=>O.get("/events"),createEvent:e=>O.post("/events",e),updateEvent:(e,t)=>O.put(`/events/${e}`,t),deleteEvent:e=>O.delete(`/events/${e}`)},rr={getStats:e=>O.get("/reports/stats",{params:e}),getStaffPerformance:e=>O.get("/reports/staff-performance",{params:e}),getTaskDistribution:e=>O.get("/reports/task-distribution",{params:e}),getInsights:e=>O.get("/reports/insights",{params:e}),exportReport:e=>O.get("/reports/export",{params:e,responseType:"blob"})},bs={getLivestock:()=>O.get("/livestock"),getLivestockById:e=>O.get(`/livestock/${e}`),createLivestock:e=>O.post("/livestock",e),updateLivestock:(e,t)=>O.put(`/livestock/${e}`,t),deleteLivestock:e=>O.delete(`/livestock/${e}`)},na={getResources:()=>O.get("/farm-resources"),getResourceById:e=>O.get(`/farm-resources/${e}`),createResource:e=>O.post("/farm-resources",e),updateResource:(e,t)=>O.put(`/farm-resources/${e}`,t),deleteResource:e=>O.delete(`/farm-resources/${e}`)},ra={getPlantings:()=>O.get("/plantings"),getPlantingById:e=>O.get(`/plantings/${e}`),createPlanting:e=>O.post("/plantings",e),updatePlanting:(e,t)=>O.put(`/plantings/${e}`,t),deletePlanting:e=>O.delete(`/plantings/${e}`)},ia={getHealthRecords:()=>O.get("/livestock-health"),getHealthRecordById:e=>O.get(`/livestock-health/${e}`),createHealthRecord:e=>O.post("/livestock-health",e),updateHealthRecord:(e,t)=>O.put(`/livestock-health/${e}`,t),deleteHealthRecord:e=>O.delete(`/livestock-health/${e}`)},aa={getExternalUsers:()=>O.get("/external-users"),getSuppliers:()=>O.get("/external-users/suppliers"),getExternalUserById:e=>O.get(`/external-users/${e}`),createExternalUser:e=>O.post("/external-users",e),updateExternalUser:(e,t)=>O.put(`/external-users/${e}`,t),deleteExternalUser:e=>O.delete(`/external-users/${e}`)},g2=e=>O.post("/notifications/subscribe",e),y2={getPens:()=>O.get("/pens"),getPenById:e=>O.get(`/pens/${e}`),createPen:e=>O.post("/pens",e),updatePen:(e,t)=>O.put(`/pens/${e}`,t),deletePen:e=>O.delete(`/pens/${e}`),getPenAssignments:()=>O.get("/pen-assignments"),createPenAssignment:e=>O.post("/pen-assignments",e),updatePenAssignment:(e,t)=>O.put(`/pen-assignments/${e}`,t)},v2={getWeightRecords:e=>O.get(`/weight-records${e?`?animal_id=${e}`:""}`),createWeightRecord:e=>O.post("/weight-records",e),updateWeightRecord:(e,t)=>O.put(`/weight-records/${e}`,t),deleteWeightRecord:e=>O.delete(`/weight-records/${e}`)},b2={getBreedingEvents:()=>O.get("/breeding-events"),createBreedingEvent:e=>O.post("/breeding-events",e),getPregnancyChecks:e=>O.get(`/pregnancy-checks${e?`?breeding_event_id=${e}`:""}`),createPregnancyCheck:e=>O.post("/pregnancy-checks",e),getBirths:()=>O.get("/births"),createBirth:e=>O.post("/births",e),getOffspring:e=>O.get(`/offspring${e?`?birth_id=${e}`:""}`)},j2={getVaccinations:e=>O.get(`/vaccinations${e?`?animal_id=${e}`:""}`),createVaccination:e=>O.post("/vaccinations",e),getTreatments:e=>O.get(`/treatments${e?`?animal_id=${e}`:""}`),createTreatment:e=>O.post("/treatments",e),getMortalities:()=>O.get("/mortalities"),createMortality:e=>O.post("/mortalities",e),getHealthSummary:e=>O.get(`/health-summary${e?`/${e}`:""}`),getVaccinationsDue:()=>O.get("/vaccinations/due")},w2={getRations:e=>O.get(`/feed-rations${e?`?pen_id=${e}`:""}`),createRation:e=>O.post("/feed-rations",e),updateRation:(e,t)=>O.put(`/feed-rations/${e}`,t),getFeedInventory:()=>O.get("/feed-inventory"),updateInventory:(e,t)=>O.put(`/feed-inventory/${e}`,t),getFeedLogs:(e,t)=>O.get(`/feed-logs${e?`?pen_id=${e}`:""}${t?`&date=${t}`:""}`),createFeedLog:e=>O.post("/feed-logs",e),updateFeedLog:(e,t)=>O.put(`/feed-logs/${e}`,t)},xi={getInvestors:()=>O.get("/investors"),getInvestorById:e=>O.get(`/investors/${e}`),createInvestor:e=>O.post("/investors",e),updateInvestor:(e,t)=>O.put(`/investors/${e}`,t),getInvestorAllocations:e=>O.get(`/investor-allocations${e?`?investor_id=${e}`:""}`),createAllocation:e=>O.post("/investor-allocations",e),getInvestorDashboard:e=>O.get(`/investor-dashboard/${e}`),getInvestorKPIs:(e,t)=>O.get(`/investor-kpis/${e}`,{params:t})},N2={getNotifications:e=>O.get(`/notifications${e?`?user_id=${e}`:""}`),markAsRead:e=>O.put(`/notifications/${e}/read`),createNotification:e=>O.post("/notifications",e),deleteNotification:e=>O.delete(`/notifications/${e}`)},qg={getSupervisorReports:(e,t)=>O.get(`/reports/supervisor/${e}`,{params:t}),getInvestorReports:(e,t)=>O.get(`/reports/investor/${e}`,{params:t}),getHealthCoverageReport:e=>O.get("/reports/health-coverage",{params:e}),getMortalityReport:e=>O.get("/reports/mortality",{params:e}),getBreedingReport:e=>O.get("/reports/breeding",{params:e}),getFeedEfficiencyReport:e=>O.get("/reports/feed-efficiency",{params:e}),exportReport:(e,t)=>O.get(`/reports/export/${e}`,{params:t,responseType:"blob"})},_2=Object.freeze(Object.defineProperty({__proto__:null,authAPI:vs,breedingAPI:b2,dashboardAPI:p2,default:O,enhancedReportsAPI:qg,eventsAPI:fi,externalUsersAPI:aa,farmResourcesAPI:na,feedAPI:w2,healthAPI:j2,investorAPI:xi,livestockAPI:bs,livestockHealthAPI:ia,notificationsAPI:N2,penAPI:y2,plantingAPI:ra,reportsAPI:rr,subscribePush:g2,tasksAPI:$s,userAPI:ln,weightAPI:v2},Symbol.toStringTag,{value:"Module"})),k2="AllianceCropCraftDB",S2=1;let ss=null;const Pn=()=>new Promise((e,t)=>{if(ss){e(ss);return}const s=indexedDB.open(k2,S2);s.onerror=()=>t(s.error),s.onsuccess=()=>{ss=s.result,e(ss)},s.onupgradeneeded=n=>{const i=n.target.result;if(!i.objectStoreNames.contains("livestock")){const a=i.createObjectStore("livestock",{keyPath:"id"});a.createIndex("species","species",{unique:!1}),a.createIndex("pen_id","pen_id",{unique:!1}),a.createIndex("health_status","health_status",{unique:!1})}if(i.objectStoreNames.contains("pens")||i.createObjectStore("pens",{keyPath:"id"}).createIndex("species","species",{unique:!1}),i.objectStoreNames.contains("users")||i.createObjectStore("users",{keyPath:"id"}).createIndex("role","role",{unique:!1}),!i.objectStoreNames.contains("healthRecords")){const a=i.createObjectStore("healthRecords",{keyPath:"id"});a.createIndex("animal_id","animal_id",{unique:!1}),a.createIndex("type","type",{unique:!1})}if(i.objectStoreNames.contains("weightRecords")||i.createObjectStore("weightRecords",{keyPath:"id"}).createIndex("animal_id","animal_id",{unique:!1}),!i.objectStoreNames.contains("feedLogs")){const a=i.createObjectStore("feedLogs",{keyPath:"id"});a.createIndex("pen_id","pen_id",{unique:!1}),a.createIndex("feed_date","feed_date",{unique:!1})}if(!i.objectStoreNames.contains("pendingSync")){const a=i.createObjectStore("pendingSync",{keyPath:"id",autoIncrement:!0});a.createIndex("endpoint","endpoint",{unique:!1}),a.createIndex("method","method",{unique:!1}),a.createIndex("timestamp","timestamp",{unique:!1})}if(!i.objectStoreNames.contains("notifications")){const a=i.createObjectStore("notifications",{keyPath:"id"});a.createIndex("user_id","user_id",{unique:!1}),a.createIndex("due_date","due_date",{unique:!1})}}}),ie={async get(e,t){return await Pn(),new Promise((s,n)=>{const l=ss.transaction([e],"readonly").objectStore(e).get(t);l.onsuccess=()=>s(l.result),l.onerror=()=>n(l.error)})},async getAll(e,t=null,s=null){return await Pn(),new Promise((n,i)=>{const l=ss.transaction([e],"readonly").objectStore(e);let o;t&&s?o=l.index(t).getAll(s):o=l.getAll(),o.onsuccess=()=>n(o.result),o.onerror=()=>i(o.error)})},async put(e,t){return await Pn(),new Promise((s,n)=>{const l=ss.transaction([e],"readwrite").objectStore(e).put(t);l.onsuccess=()=>s(l.result),l.onerror=()=>n(l.error)})},async delete(e,t){return await Pn(),new Promise((s,n)=>{const l=ss.transaction([e],"readwrite").objectStore(e).delete(t);l.onsuccess=()=>s(l.result),l.onerror=()=>n(l.error)})},async clear(e){return await Pn(),new Promise((t,s)=>{const a=ss.transaction([e],"readwrite").objectStore(e).clear();a.onsuccess=()=>t(),a.onerror=()=>s(a.error)})}},Yg=async(e,t,s=null,n="normal")=>{const i={endpoint:e,method:t.toUpperCase(),data:s,priority:n,timestamp:Date.now(),retries:0,maxRetries:3};return await ie.put("pendingSync",i),console.log(`[OfflineSync] Queued ${t} ${e}`,i),navigator.onLine&&setTimeout(()=>Dr(),1e3),i},Dr=async()=>{if(!navigator.onLine){console.log("[OfflineSync] Offline - skipping sync");return}const e=await ie.getAll("pendingSync");console.log(`[OfflineSync] Processing ${e.length} pending calls`);const t=e.sort((s,n)=>{const i={high:3,normal:2,low:1};return i[s.priority]!==i[n.priority]?i[n.priority]-i[s.priority]:s.timestamp-n.timestamp});for(const s of t)try{await C2(s),await ie.delete("pendingSync",s.id),console.log(`[OfflineSync] Successfully synced ${s.method} ${s.endpoint}`)}catch(n){console.error(`[OfflineSync] Failed to sync ${s.method} ${s.endpoint}:`,n),s.retries+=1,s.retries>=s.maxRetries?(console.error(`[OfflineSync] Max retries reached for ${s.method} ${s.endpoint}`),await ie.delete("pendingSync",s.id),await P2(s,n)):await ie.put("pendingSync",s)}},C2=async e=>{const{default:t}=await Zx(()=>Promise.resolve().then(()=>_2),void 0),s={method:e.method,url:e.endpoint,...e.data&&{data:e.data}};return t.request(s)},P2=async(e,t)=>{const s=JSON.parse(localStorage.getItem("failedSyncCalls")||"[]");s.push({...e,error:t.message,failedAt:Date.now()}),localStorage.setItem("failedSyncCalls",JSON.stringify(s))},hh={async livestock(e){if(Array.isArray(e))for(const t of e)await ie.put("livestock",{...t,cached_at:Date.now()});else await ie.put("livestock",{...e,cached_at:Date.now()})},async pens(e){if(Array.isArray(e))for(const t of e)await ie.put("pens",{...t,cached_at:Date.now()});else await ie.put("pens",{...e,cached_at:Date.now()})},async users(e){if(Array.isArray(e))for(const t of e)await ie.put("users",{...t,cached_at:Date.now()});else await ie.put("users",{...e,cached_at:Date.now()})},async healthRecords(e){if(Array.isArray(e))for(const t of e)await ie.put("healthRecords",{...t,cached_at:Date.now()});else await ie.put("healthRecords",{...e,cached_at:Date.now()})},async weightRecords(e){if(Array.isArray(e))for(const t of e)await ie.put("weightRecords",{...t,cached_at:Date.now()});else await ie.put("weightRecords",{...e,cached_at:Date.now()})},async feedLogs(e){if(Array.isArray(e))for(const t of e)await ie.put("feedLogs",{...t,cached_at:Date.now()});else await ie.put("feedLogs",{...e,cached_at:Date.now()})}},ms={livestock:(e=null)=>e?ie.get("livestock",e):ie.getAll("livestock"),pens:(e=null)=>e?ie.get("pens",e):ie.getAll("pens"),users:(e=null)=>e?ie.get("users",e):ie.getAll("users"),healthRecords:(e=null)=>e?ie.getAll("healthRecords","animal_id",e):ie.getAll("healthRecords"),weightRecords:(e=null)=>e?ie.getAll("weightRecords","animal_id",e):ie.getAll("weightRecords"),feedLogs:(e=null)=>e?ie.getAll("feedLogs","pen_id",e):ie.getAll("feedLogs")},Xg=async e=>{const t={...e,id:`offline_${Date.now()}`,queued_at:Date.now(),synced:!1};return await ie.put("notifications",t),Notification.permission==="granted"&&new Notification(e.title,{body:e.message,icon:"/logo.png",badge:"/logo.png"}),t},Qg=async(e=null)=>e?ie.getAll("notifications","user_id",e):ie.getAll("notifications"),mh=async()=>{const e={timestamp:Date.now(),version:"1.0",data:{livestock:await ms.livestock(),pens:await ms.pens(),users:await ms.users(),healthRecords:await ms.healthRecords(),weightRecords:await ms.weightRecords(),feedLogs:await ms.feedLogs(),notifications:await ie.getAll("notifications")}};localStorage.setItem("allianceCropCraftBackup",JSON.stringify(e));const t=JSON.stringify(e,null,2),s="data:application/json;charset=utf-8,"+encodeURIComponent(t),n=`alliance-cropcraft-backup-${new Date().toISOString().split("T")[0]}.json`,i=document.createElement("a");return i.setAttribute("href",s),i.setAttribute("download",n),i.click(),console.log("[OfflineSync] Data backup exported"),e},Kg=async()=>{const e=await ie.getAll("pendingSync"),t=JSON.parse(localStorage.getItem("failedSyncCalls")||"[]");return{isOnline:navigator.onLine,pendingSync:e.length,failedSync:t.length,lastSync:localStorage.getItem("lastSyncTime"),dbInitialized:!!ss}},Gg=async()=>{console.log("[OfflineSync] Manual sync triggered"),await Dr(),localStorage.setItem("lastSyncTime",Date.now().toString())},qo=async()=>{try{await Pn(),console.log("[OfflineSync] IndexedDB initialized"),window.addEventListener("online",()=>{console.log("[OfflineSync] Back online - starting sync"),Dr()}),window.addEventListener("offline",()=>{console.log("[OfflineSync] Gone offline - queuing mode activated")}),setInterval(()=>{navigator.onLine&&Dr()},5*60*1e3);const e=localStorage.getItem("lastAutoBackup"),t=Date.now()-24*60*60*1e3;return(!e||parseInt(e)<t)&&(await mh(),localStorage.setItem("lastAutoBackup",Date.now().toString())),console.log("[OfflineSync] System initialized successfully"),!0}catch(e){return console.error("[OfflineSync] Initialization failed:",e),!1}},E2={initOfflineSync:qo,queueAPICall:Yg,syncPendingCalls:Dr,cacheData:hh,getCachedData:ms,queueNotification:Xg,getOfflineNotifications:Qg,exportDataBackup:mh,getSyncStatus:Kg,forcSync:Gg},M2=Object.freeze(Object.defineProperty({__proto__:null,cacheData:hh,dbOperations:ie,default:E2,exportDataBackup:mh,forcSync:Gg,getCachedData:ms,getOfflineNotifications:Qg,getSyncStatus:Kg,initDB:Pn,initOfflineSync:qo,queueAPICall:Yg,queueNotification:Xg,syncPendingCalls:Dr},Symbol.toStringTag,{value:"Module"})),Jg=N.createContext(),Fe=()=>{const e=N.useContext(Jg);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},T2=({children:e})=>{const[t,s]=N.useState(null),[n,i]=N.useState(!0),a=N.useCallback(x=>{if(!x)return!0;try{const y=JSON.parse(atob(x.split(".")[1])),b=Date.now()/1e3;return y.exp<b}catch{return!0}},[]),l=N.useCallback(()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),s(null),window.location.pathname!=="/login"&&(window.location.href="/login")},[]);N.useEffect(()=>{const x=localStorage.getItem("token"),y=localStorage.getItem("user");x&&y&&(a(x)?l():s(JSON.parse(y))),i(!1);const b=setInterval(()=>{const f=localStorage.getItem("token");f&&a(f)&&l()},6e4);return()=>clearInterval(b)},[a,l]);const v={user:t,login:async(x,y)=>{localStorage.setItem("token",x),localStorage.setItem("user",JSON.stringify(y)),s(y);try{await qo(),await hh.users(y),console.log("[AuthContext] Offline sync initialized")}catch(b){console.error("[AuthContext] Failed to initialize offline sync:",b)}},logout:(x=!1)=>{if(x){l();return}window.confirm("Are you sure you want to log out?")&&(localStorage.removeItem("token"),localStorage.removeItem("user"),s(null))},loading:n,sendEmailVerification:async x=>{try{return(await vs.sendEmailVerification(x)).data}catch(y){throw y}},verifyEmail:async x=>{try{return(await vs.verifyEmail(x)).data}catch(y){throw y}},forgotPassword:async x=>{try{return(await vs.forgotPassword(x)).data}catch(y){throw y}},resetPassword:async(x,y)=>{try{return(await vs.resetPassword(x,y)).data}catch(b){throw b}},forceLogout:l};return r.jsx(Jg.Provider,{value:v,children:e})};var D2={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const R2=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),A2=(e,t)=>{const s=N.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:l,children:o,...c},d)=>N.createElement("svg",{ref:d,...D2,width:i,height:i,stroke:n,strokeWidth:l?Number(a)*24/Number(i):a,className:`lucide lucide-${R2(e)}`,...c},[...t.map(([u,h])=>N.createElement(u,h)),...(Array.isArray(o)?o:[o])||[]]));return s.displayName=`${e}`,s};var Y=A2;const Ns=Y("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),Zg=Y("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),Ws=Y("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),Ps=Y("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),L2=Y("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),pf=Y("Baby",[["path",{d:"M9 12h.01",key:"157uk2"}],["path",{d:"M15 12h.01",key:"1k8ypt"}],["path",{d:"M10 16c.5.3 1.2.5 2 .5s1.5-.2 2-.5",key:"1u7htd"}],["path",{d:"M19 6.3a9 9 0 0 1 1.8 3.9 2 2 0 0 1 0 3.6 9 9 0 0 1-17.6 0 2 2 0 0 1 0-3.6A9 9 0 0 1 12 3c2 0 3.5 1.1 3.5 2.5s-.9 2.5-2 2.5c-.8 0-1.5-.4-1.5-1",key:"5yv0yz"}]]),O2=Y("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]),ey=Y("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),gf=Y("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),He=Y("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),En=Y("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),We=Y("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]]),yf=Y("CheckSquare",[["polyline",{points:"9 11 12 14 22 4",key:"19ybtz"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]),Xa=Y("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]]),F2=Y("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),I2=Y("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),ty=Y("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),fs=Y("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),z2=Y("CloudRain",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M16 14v6",key:"1j4efv"}],["path",{d:"M8 14v6",key:"17c4r9"}],["path",{d:"M12 16v6",key:"c8a4gj"}]]),B2=Y("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]),$2=Y("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),fh=Y("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),vf=Y("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),Ut=Y("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Rr=Y("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),Yo=Y("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),W2=Y("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]),Bt=Y("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),Qa=Y("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),H2=Y("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),bf=Y("Layers",[["polygon",{points:"12 2 2 7 12 12 22 7 12 2",key:"1b0ttc"}],["polyline",{points:"2 17 12 22 22 17",key:"imjtdl"}],["polyline",{points:"2 12 12 17 22 12",key:"5dexcv"}]]),U2=Y("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]),xs=Y("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),Mc=Y("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),as=Y("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),ka=Y("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),Tc=Y("Map",[["polygon",{points:"3 6 9 3 15 6 21 3 21 18 15 21 9 18 3 21",key:"ok2ie8"}],["line",{x1:"9",x2:"9",y1:"3",y2:"18",key:"w34qz5"}],["line",{x1:"15",x2:"15",y1:"6",y2:"21",key:"volv9a"}]]),V2=Y("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]),Pl=Y("Package",[["path",{d:"M16.5 9.4 7.55 4.24",key:"10qotr"}],["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z",key:"yt0hxn"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]]),jf=Y("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]),on=Y("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),uo=Y("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),sy=Y("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]),qn=Y("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),wf=Y("Ruler",[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]]),ny=Y("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]),Hr=Y("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),q2=Y("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z",key:"3xmgem"}]]),Xd=Y("Sprout",[["path",{d:"M7 20h10",key:"e6iznv"}],["path",{d:"M10 20c5.5-2.5.8-6.4 3-10",key:"161w41"}],["path",{d:"M9.5 9.4c1.1.8 1.8 2.2 2.3 3.7-2 .4-3.5.4-4.8-.3-1.2-.6-2.3-1.9-3-4.2 2.8-.5 4.4 0 5.5.8z",key:"9gtqwd"}],["path",{d:"M14.1 6a7 7 0 0 0-1.1 4c1.9-.1 3.3-.6 4.3-1.4 1-1 1.6-2.3 1.7-4.6-2.7.1-4 1-4.9 2z",key:"bkxnd2"}]]),Ka=Y("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),Y2=Y("Sunset",[["path",{d:"M12 10V2",key:"16sf7g"}],["path",{d:"m4.93 10.93 1.41 1.41",key:"2a7f42"}],["path",{d:"M2 18h2",key:"j10viu"}],["path",{d:"M20 18h2",key:"wocana"}],["path",{d:"m19.07 10.93-1.41 1.41",key:"15zs5n"}],["path",{d:"M22 22H2",key:"19qnx5"}],["path",{d:"m16 6-4 4-4-4",key:"6wukr"}],["path",{d:"M16 18a4 4 0 0 0-8 0",key:"1lzouq"}]]),Nf=Y("Syringe",[["path",{d:"m18 2 4 4",key:"22kx64"}],["path",{d:"m17 7 3-3",key:"1w1zoj"}],["path",{d:"M19 9 8.7 19.3c-1 1-2.5 1-3.4 0l-.6-.6c-1-1-1-2.5 0-3.4L15 5",key:"1exhtz"}],["path",{d:"m9 11 4 4",key:"rovt3i"}],["path",{d:"m5 19-3 3",key:"59f2uf"}],["path",{d:"m14 4 6 6",key:"yqp9t2"}]]),X2=Y("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]),Q2=Y("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),Hs=Y("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),K2=Y("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]),Sa=Y("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),G2=Y("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),J2=Y("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]),Z2=Y("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]),zt=Y("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),Pt=Y("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),_f=Y("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2v0a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"1ogz0v"}]]),Ae=Y("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),eN=Y("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),tt=({children:e})=>{var v,x,y;const t=At(),{user:s,logout:n}=Fe(),i=xn(),[a,l]=N.useState(!1),[o,c]=N.useState({}),d=b=>{c(f=>({...f,[b]:!f[b]}))},u=b=>{const f=b.icon;if(b.submenu){const g=o[b.name];return r.jsxs("div",{children:[r.jsxs("button",{onClick:()=>d(b.name),className:"w-full flex items-center justify-between px-3 py-2 rounded-xl text-sm font-medium transition-colors text-gray-700 hover:bg-gray-100",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(f,{className:"w-5 h-5"}),r.jsx("span",{children:b.name})]}),g?r.jsx(F2,{className:"w-4 h-4"}):r.jsx(ty,{className:"w-4 h-4"})]}),g&&r.jsx("div",{className:"ml-6 mt-1 space-y-1",children:b.submenu.map(j=>{const w=j.icon,_=i.pathname===j.href;return r.jsxs(bt,{to:j.href,className:`flex items-center gap-3 px-3 py-2 rounded-xl text-sm font-medium transition-colors ${_?"bg-primary-600 text-white":"text-gray-700 hover:bg-gray-100"}`,onClick:()=>l(!1),children:[r.jsx(w,{className:"w-4 h-4"}),r.jsx("span",{children:j.name})]},j.name)})})]},b.name)}const p=i.pathname===b.href;return r.jsxs(bt,{to:b.href,className:`flex items-center gap-3 px-3 py-2 rounded-xl text-sm font-medium transition-colors ${p?"bg-primary-600 text-white":"text-gray-700 hover:bg-gray-100"}`,onClick:()=>l(!1),children:[r.jsx(f,{className:"w-5 h-5"}),r.jsx("span",{children:b.name})]},b.name)},h=()=>{n()},m=[{name:"Dashboard",href:"/dashboard",icon:U2},{name:"Tasks",icon:yf,submenu:[{name:"My Tasks",href:"/tasks",icon:yf},{name:"Task History",href:"/task-history",icon:He}]},{name:"Calendar",href:"/calendar",icon:He},{name:"Livestock",icon:Ns,submenu:[{name:"Overview",href:"/livestock",icon:Ns},{name:"Health",href:"/livestock/health",icon:Bt}]},{name:"Farm Resources",href:"/farm-resources",icon:Pl},{name:"Planting Tracker",href:"/planting-tracker",icon:Xd},{name:"Users",href:"/users",icon:Pt},...["Admin","Farm Manager","Supervisor"].includes(s==null?void 0:s.role)?[{name:"Reports",href:"/reports",icon:ey}]:[],...(s==null?void 0:s.role)==="Investor"?[{name:"Investor Dashboard",href:"/investor-dashboard",icon:Sa}]:[]];return r.jsxs("div",{className:"min-h-screen bg-gray-50 relative overflow-hidden",children:[r.jsx("div",{className:"absolute inset-0 pointer-events-none z-0",children:r.jsxs("svg",{width:"100%",height:"100%",className:"absolute top-0 left-0 animate-fade-in",style:{zIndex:0},children:[r.jsx("circle",{cx:"10%",cy:"10%",r:"80",fill:"#d1fae5",opacity:"0.3",children:r.jsx("animate",{attributeName:"r",values:"80;100;80",dur:"6s",repeatCount:"indefinite"})}),r.jsx("circle",{cx:"80%",cy:"20%",r:"60",fill:"#a7f3d0",opacity:"0.2",children:r.jsx("animate",{attributeName:"r",values:"60;80;60",dur:"7s",repeatCount:"indefinite"})}),r.jsx("circle",{cx:"50%",cy:"80%",r:"100",fill:"#f0abfc",opacity:"0.15",children:r.jsx("animate",{attributeName:"r",values:"100;120;100",dur:"8s",repeatCount:"indefinite"})})]})}),r.jsxs("nav",{className:"fixed top-0 left-0 right-0 z-50 w-full bg-white shadow-sm border-b border-gray-200 px-4 py-3 flex items-center justify-between lg:hidden",children:[r.jsx("div",{className:"flex items-center gap-3",children:r.jsx("span",{className:"font-bold text-lg text-gray-900",children:"Alliance CropCraft"})}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("button",{className:"lg:hidden p-2 rounded-md text-gray-600 hover:bg-gray-100",onClick:()=>l(!a),children:r.jsxs("svg",{width:"24",height:"24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("line",{x1:"3",y1:"12",x2:"21",y2:"12"}),r.jsx("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),r.jsx("line",{x1:"3",y1:"18",x2:"21",y2:"18"})]})}),r.jsx("div",{className:"flex items-center gap-3",children:r.jsxs("div",{className:"hidden sm:flex items-center gap-2",children:[r.jsxs("div",{className:"text-right",children:[r.jsx("p",{className:"text-sm font-medium text-gray-900",children:s==null?void 0:s.full_name}),r.jsx("p",{className:"text-xs text-primary-600",children:s==null?void 0:s.role})]}),r.jsx("div",{className:" cursor-pointer w-8 h-8 bg-primary-600 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-white text-sm font-medium",children:(v=s==null?void 0:s.full_name)==null?void 0:v.split(" ").map(b=>b[0]).join("").toUpperCase()})}),r.jsx("button",{onClick:h,className:"p-2 text-gray-400 hover:text-gray-600",children:r.jsx(Mc,{className:"w-5 h-5"})})]})})]})]}),a&&r.jsx("div",{className:"fixed inset-0 z-20 bg-black bg-opacity-30",onClick:()=>l(!1)}),r.jsxs("div",{className:`fixed top-0 left-0 z-40 w-64 h-full bg-white shadow-lg transform ${a?"translate-x-0":"-translate-x-full"} transition-transform duration-300 lg:hidden`,children:[r.jsx("div",{className:"p-6 border-b border-gray-200 flex items-center gap-3",children:r.jsx("span",{className:"font-bold text-lg text-gray-900",children:"Alliance CropCraft"})}),r.jsx("nav",{className:"flex-1 p-4 space-y-2",children:m.map(u)}),r.jsxs("div",{className:"p-4 border-t border-gray-200 flex items-center gap-2",children:[r.jsx("div",{className:"w-8 h-8 bg-primary-600 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-white text-sm font-medium",children:(x=s==null?void 0:s.full_name)==null?void 0:x.split(" ").map(b=>b[0]).join("").toUpperCase()})}),r.jsxs("div",{onClick:()=>t("/profile"),className:"flex-1 pointer-cursor",children:[r.jsx("p",{className:"text-sm font-medium text-gray-900",children:s==null?void 0:s.full_name}),r.jsx("p",{className:"text-xs text-primary-600",children:s==null?void 0:s.role})]}),r.jsx("button",{onClick:h,className:"p-2 text-gray-400 hover:text-gray-600",children:r.jsx(Mc,{className:"w-5 h-5"})})]})]}),r.jsxs("div",{className:"relative z-10 flex flex-col lg:flex-row pt-16 lg:pt-0",children:[r.jsxs("aside",{className:"hidden lg:flex lg:flex-col lg:fixed lg:left-0 lg:top-0 lg:w-64 lg:h-screen bg-white shadow-lg border-r border-gray-200 z-20 overflow-y-auto",children:[r.jsx("div",{className:"p-6 border-b border-gray-200 flex items-center gap-3",children:r.jsx("span",{className:"font-bold text-lg text-gray-900",children:"Alliance CropCraft"})}),r.jsx("nav",{className:"flex-1 p-4 space-y-2",children:m.map(u)}),r.jsxs("div",{className:"p-4 border-t border-gray-200 flex items-center gap-2",children:[r.jsx("div",{className:"w-8 h-8 bg-primary-600 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-white text-sm font-medium",children:(y=s==null?void 0:s.full_name)==null?void 0:y.split(" ").map(b=>b[0]).join("").toUpperCase()})}),r.jsxs("div",{onClick:()=>t("/profile"),className:"flex-1 cursor-pointer",children:[r.jsx("p",{className:"text-sm font-medium text-gray-900",children:s==null?void 0:s.full_name}),r.jsx("p",{className:"text-xs text-primary-600",children:s==null?void 0:s.role})]}),r.jsx("button",{onClick:h,className:"p-2 text-gray-400 hover:text-gray-600",children:r.jsx(Mc,{className:"w-5 h-5"})})]})]}),r.jsx("main",{className:"flex-1 p-2 sm:p-6 lg:ml-64",children:e})]})]})},Nr=({size:e="80",className:t=""})=>r.jsx("div",{className:`inline-flex items-center justify-center ${t}`,children:r.jsx("img",{src:"/logo.png",alt:"Alliance CropCraft Limited",className:"rounded-full object-cover shadow-sm border-1 border-white",style:{width:`${e}px`,height:`${e}px`}})}),tN=()=>{const[e,t]=N.useState({email:"",password:""}),[s,n]=N.useState(!1),[i,a]=N.useState(""),[l,o]=N.useState(!1),c=N.useRef(null),d=N.useRef(null),{login:u}=Fe(),h=At();N.useEffect(()=>{i&&d.current&&c.current&&setTimeout(()=>{d.current.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"})},100)},[i]);const m=x=>{t({...e,[x.target.name]:x.target.value})},v=async x=>{var y;x.preventDefault(),n(!0),a("");try{const b=await vs.login(e),{token:f,user:p}=b.data;u(f,p),h("/dashboard")}catch(b){const f=(y=b.response)==null?void 0:y.data;f!=null&&f.email_not_verified?h("/verify-email",{state:{message:f.message,email:f.user_email}}):f!=null&&f.field?a(f.message):a((f==null?void 0:f.message)||"Login failed")}finally{n(!1)}};return r.jsxs("div",{ref:c,className:"min-h-screen flex flex-col lg:flex-row relative",children:[r.jsxs("div",{className:"hidden lg:flex lg:w-3/5 relative overflow-hidden h-screen sticky top-0",children:[r.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat transform scale-105 transition-transform duration-700 hover:scale-100",style:{backgroundImage:"url('https://images.unsplash.com/photo-1625246333195-78d9c38ad449?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2940&q=80')"},children:r.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-black/50 via-black/30 to-transparent"})}),r.jsx("div",{className:"absolute top-8 left-8 z-20 animate-slide-down",children:r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx(Nr,{size:"48"}),r.jsxs("div",{className:"text-white",children:[r.jsx("h3",{className:"text-xl font-bold tracking-wide",children:"Alliance CropCraft"}),r.jsx("p",{className:"text-sm opacity-90 font-medium",children:"Limited"})]})]})}),r.jsx("div",{className:"relative z-10 flex flex-col justify-end p-6 lg:p-12 text-white",children:r.jsxs("div",{className:"max-w-lg animate-slide-up",children:[r.jsxs("div",{className:"mb-6",children:[r.jsx("div",{className:"w-16 h-1 bg-primary-700 mb-4 animate-expand"}),r.jsx("h1",{className:"text-3xl lg:text-5xl font-bold mb-3 leading-tight",children:"Welcome Back"})]}),r.jsxs("div",{className:"space-y-3 animate-slide-up delay-300",children:[r.jsx("p",{className:"text-lg opacity-90 leading-relaxed",children:"Sign in to access Alliance CropCraft comprehensive farm management dashboard with real-time insights."}),r.jsxs("div",{className:"flex items-center space-x-6 text-sm opacity-80 mt-6",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-2 h-2 bg-primary-700 rounded-full animate-pulse"}),r.jsx("span",{children:"Livestock Monitoring"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-2 h-2 bg-primary-700 rounded-full animate-pulse delay-300"}),r.jsx("span",{children:"Task Management"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-2 h-2 bg-primary-700 rounded-full animate-pulse delay-600"}),r.jsx("span",{children:"Smart Reports"})]})]})]})]})})]}),r.jsxs("div",{className:"w-full lg:w-2/5 relative overflow-hidden min-h-screen",children:[r.jsxs("div",{className:"absolute inset-0 bg-gradient-to-br from-slate-50 via-white to-primary-50",children:[r.jsx("div",{className:"absolute top-20 right-20 w-40 h-40 bg-primary-200/20 rounded-full animate-float blur-xl"}),r.jsx("div",{className:"absolute top-24 right-24 w-10 h-10 flex items-center justify-center animate-float delay-100",children:r.jsxs("svg",{viewBox:"0 0 64 64",className:"w-8 h-8 opacity-70",children:[r.jsx("circle",{cx:"32",cy:"32",r:"30",fill:"#8B4513"}),r.jsx("ellipse",{cx:"32",cy:"45",rx:"25",ry:"15",fill:"#D2691E"}),r.jsx("circle",{cx:"25",cy:"25",r:"3",fill:"#000"}),r.jsx("circle",{cx:"39",cy:"25",r:"3",fill:"#000"}),r.jsx("ellipse",{cx:"32",cy:"35",rx:"4",ry:"2",fill:"#000"}),r.jsx("path",{d:"M20 15 Q15 10 12 15 Q15 20 20 15",fill:"#8B4513"}),r.jsx("path",{d:"M44 15 Q49 10 52 15 Q49 20 44 15",fill:"#8B4513"}),r.jsx("rect",{x:"28",y:"50",width:"8",height:"12",fill:"#000"})]})}),r.jsx("div",{className:"absolute bottom-40 left-10 w-32 h-32 bg-green-300/20 rounded-full animate-float-reverse delay-1000 blur-lg"}),r.jsx("div",{className:"absolute bottom-44 left-14 w-8 h-8 flex items-center justify-center animate-float-reverse delay-1100",children:r.jsxs("svg",{viewBox:"0 0 64 64",className:"w-7 h-7 opacity-70",children:[r.jsx("ellipse",{cx:"32",cy:"35",rx:"22",ry:"18",fill:"#FFB6C1"}),r.jsx("circle",{cx:"32",cy:"25",r:"15",fill:"#FFB6C1"}),r.jsx("circle",{cx:"27",cy:"22",r:"2",fill:"#000"}),r.jsx("circle",{cx:"37",cy:"22",r:"2",fill:"#000"}),r.jsx("ellipse",{cx:"32",cy:"28",rx:"6",ry:"4",fill:"#FF69B4"}),r.jsx("circle",{cx:"30",cy:"28",r:"1",fill:"#000"}),r.jsx("circle",{cx:"34",cy:"28",r:"1",fill:"#000"}),r.jsx("path",{d:"M20 18 Q15 15 18 12 Q22 15 20 18",fill:"#FFB6C1"}),r.jsx("path",{d:"M44 18 Q49 15 46 12 Q42 15 44 18",fill:"#FFB6C1"}),r.jsx("path",{d:"M32 45 Q28 50 32 52 Q36 50 32 45",fill:"#FF69B4"})]})}),r.jsx("div",{className:"absolute top-1/2 right-10 w-24 h-24 bg-teal-200/30 rounded-full animate-pulse-slow delay-500 blur-lg"}),r.jsx("div",{className:"absolute top-1/2 right-14 w-7 h-7 flex items-center justify-center animate-pulse-slow delay-600",children:r.jsxs("svg",{viewBox:"0 0 64 64",className:"w-6 h-6 opacity-70",children:[r.jsx("ellipse",{cx:"32",cy:"40",rx:"18",ry:"20",fill:"#FFFFFF"}),r.jsx("circle",{cx:"32",cy:"25",r:"12",fill:"#FFFFFF"}),r.jsx("circle",{cx:"29",cy:"22",r:"1.5",fill:"#000"}),r.jsx("circle",{cx:"35",cy:"22",r:"1.5",fill:"#000"}),r.jsx("path",{d:"M32 26 L28 28 L32 30 Z",fill:"#FFA500"}),r.jsx("path",{d:"M25 15 Q20 10 25 8 Q30 12 25 15",fill:"#FF0000"}),r.jsx("ellipse",{cx:"32",cy:"55",rx:"8",ry:"3",fill:"#FFA500"}),r.jsx("circle",{cx:"28",cy:"55",r:"1",fill:"#FFA500"}),r.jsx("circle",{cx:"36",cy:"55",r:"1",fill:"#FFA500"})]})}),r.jsx("div",{className:"absolute top-1/3 left-1/4 w-28 h-28 bg-lime-200/20 rounded-full animate-float delay-700 blur-xl"}),r.jsx("div",{className:"absolute top-1/3 left-1/4 w-8 h-8 flex items-center justify-center animate-float delay-800",children:r.jsxs("svg",{viewBox:"0 0 64 64",className:"w-7 h-7 opacity-70",children:[r.jsx("ellipse",{cx:"32",cy:"38",rx:"20",ry:"15",fill:"#F5F5DC"}),r.jsx("circle",{cx:"32",cy:"25",r:"10",fill:"#000"}),r.jsx("circle",{cx:"29",cy:"22",r:"1",fill:"#FFF"}),r.jsx("circle",{cx:"35",cy:"22",r:"1",fill:"#FFF"}),r.jsx("circle",{cx:"25",cy:"30",r:"4",fill:"#F5F5DC"}),r.jsx("circle",{cx:"39",cy:"30",r:"4",fill:"#F5F5DC"}),r.jsx("circle",{cx:"20",cy:"35",r:"3",fill:"#F5F5DC"}),r.jsx("circle",{cx:"44",cy:"35",r:"3",fill:"#F5F5DC"}),r.jsx("circle",{cx:"32",cy:"20",r:"3",fill:"#F5F5DC"}),r.jsx("rect",{x:"28",y:"48",width:"3",height:"10",fill:"#000"}),r.jsx("rect",{x:"33",y:"48",width:"3",height:"10",fill:"#000"})]})}),r.jsx("div",{className:"absolute bottom-20 right-1/3 w-20 h-20 bg-primary-700/20 rounded-full animate-float-reverse delay-300 blur-lg"}),r.jsx("div",{className:"absolute bottom-24 right-1/3 w-7 h-7 flex items-center justify-center animate-float-reverse delay-400",children:r.jsxs("svg",{viewBox:"0 0 64 64",className:"w-6 h-6 opacity-70",children:[r.jsx("ellipse",{cx:"32",cy:"40",rx:"16",ry:"18",fill:"#8B4513"}),r.jsx("ellipse",{cx:"32",cy:"20",rx:"8",ry:"12",fill:"#8B4513"}),r.jsx("circle",{cx:"29",cy:"18",r:"1",fill:"#000"}),r.jsx("circle",{cx:"35",cy:"18",r:"1",fill:"#000"}),r.jsx("path",{d:"M32 22 L28 24 L32 26 Z",fill:"#000"}),r.jsx("path",{d:"M28 8 Q25 5 28 3 Q32 6 30 10 Q28 12 28 8",fill:"#654321"}),r.jsx("path",{d:"M36 8 Q39 5 36 3 Q32 6 34 10 Q36 12 36 8",fill:"#654321"}),r.jsx("rect",{x:"26",y:"52",width:"3",height:"8",fill:"#000"}),r.jsx("rect",{x:"35",y:"52",width:"3",height:"8",fill:"#000"}),r.jsx("ellipse",{cx:"32",cy:"25",rx:"12",ry:"8",fill:"#A0522D"})]})}),r.jsx("div",{className:"absolute top-32 left-16 w-6 h-6 animate-float delay-1500 opacity-60",children:r.jsxs("svg",{viewBox:"0 0 32 32",className:"w-6 h-6",children:[r.jsx("circle",{cx:"16",cy:"16",r:"14",fill:"#90EE90"}),r.jsx("text",{x:"16",y:"20",textAnchor:"middle",fontSize:"16",fill:"#4A5568",children:"🐰"})]})}),r.jsx("div",{className:"absolute bottom-32 right-12 w-6 h-6 animate-float-reverse delay-2000 opacity-60",children:r.jsxs("svg",{viewBox:"0 0 32 32",className:"w-6 h-6",children:[r.jsx("circle",{cx:"16",cy:"16",r:"14",fill:"#FFE4B5"}),r.jsx("text",{x:"16",y:"20",textAnchor:"middle",fontSize:"16",fill:"#4A5568",children:"🐐"})]})})]}),r.jsx("div",{className:"relative z-10 flex items-center justify-center min-h-screen p-8",children:r.jsxs("div",{className:"max-w-md w-full animate-fade-in-up",children:[r.jsxs("div",{className:"text-center mb-8 lg:hidden",children:[r.jsx("div",{className:"flex justify-center mb-4",children:r.jsx(Nr,{size:"64"})}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Alliance CropCraft"}),r.jsx("p",{className:"text-primary-600 font-medium",children:"Limited"})]}),r.jsxs("div",{className:"bg-white/80 backdrop-blur-xl rounded-3xl shadow-2xl border border-white/50 p-8 transition-all duration-500 hover:shadow-3xl hover:bg-white/90",children:[r.jsxs("div",{className:"text-center mb-8 hidden lg:block",children:[r.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16",children:r.jsx(Nr,{size:"64"})}),r.jsx("h2",{className:"text-3xl font-bold text-gray-900 animate-slide-down mb-2",children:"Sign In"}),r.jsx("p",{className:"text-green-600 font-medium animate-slide-down delay-200",children:"Access your dashboard"})]}),i&&r.jsx("div",{ref:d,className:"mb-6 p-4 bg-red-50 border-l-4 border-red-400 rounded-r-xl animate-shake",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("svg",{className:"w-5 h-5 text-red-400 mr-3",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),r.jsx("span",{className:"text-red-700 font-medium",children:i})]})}),r.jsxs("form",{onSubmit:v,className:"space-y-6",children:[r.jsxs("div",{className:"animate-slide-up delay-300",children:[r.jsx("label",{htmlFor:"email",className:"block text-sm font-semibold text-gray-700 mb-3",children:"Email Address"}),r.jsx("div",{className:"relative",children:r.jsx("input",{id:"email",name:"email",type:"email",required:!0,className:"w-full px-4 py-4 border-2 border-gray-200 rounded-2xl focus:ring-2 focus:ring-green-500 focus:border-green-500 focus:outline-none transition-all duration-300 hover:border-green-300 bg-white/70 backdrop-blur-sm text-gray-900 placeholder-gray-500",placeholder:"Enter your email address",value:e.email,onChange:m})})]}),r.jsxs("div",{className:"animate-slide-up delay-500",children:[r.jsx("label",{htmlFor:"password",className:"block text-sm font-semibold text-gray-700 mb-3",children:"Password"}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{id:"password",name:"password",type:l?"text":"password",required:!0,className:"w-full px-4 py-4 pr-12 border-2 border-gray-200 rounded-2xl focus:ring-2 focus:ring-green-500 focus:border-green-500 focus:outline-none transition-all duration-300 hover:border-green-300 bg-white/70 backdrop-blur-sm text-gray-900 placeholder-gray-500",placeholder:"Enter your password",value:e.password,onChange:m}),r.jsx("button",{type:"button",className:"absolute right-4 top-4 text-gray-400 hover:text-gray-600 transition-colors duration-200",onClick:()=>o(!l),children:l?r.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"})}):r.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]})]}),r.jsx("button",{type:"submit",disabled:s,className:"w-full bg-gradient-to-r from-green-600 via-green-500 to-teal-600 hover:from-green-700 hover:via-green-600 hover:to-teal-700 text-white font-bold py-4 px-6 rounded-2xl transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed transform hover:scale-105 hover:shadow-xl active:scale-95 animate-slide-up delay-700 shadow-lg",children:s?r.jsxs("span",{className:"flex items-center justify-center",children:[r.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-6 w-6 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Signing you in..."]}):r.jsx("span",{className:"flex items-center justify-center",children:"Sign In"})})]}),r.jsx("div",{className:"mt-6 text-center animate-slide-up delay-800",children:r.jsx(bt,{to:"/forgot-password",className:"text-sm text-green-600 hover:text-green-700 font-medium transition-colors",children:"Forgot your password?"})}),r.jsxs("div",{className:"mt-8 text-center animate-slide-up delay-900",children:[r.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"New to Alliance CropCraft?"}),r.jsxs(bt,{to:"/register",className:"inline-flex items-center px-6 py-3 border-2 border-green-600 text-green-600 hover:bg-green-600 hover:text-white font-semibold rounded-2xl transition-all duration-300 transform hover:scale-105 hover:shadow-lg active:scale-95",children:[r.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"})}),"Create New Account"]})]})]})]})})]}),r.jsx("style",{jsx:!0,children:`
        @keyframes slide-up {
          from { opacity: 0; transform: translateY(30px); }
          to { opacity: 1; transform: translateY(0); }
        }
        
        @keyframes slide-down {
          from { opacity: 0; transform: translateY(-20px); }
          to { opacity: 1; transform: translateY(0); }
        }
        
        @keyframes fade-in-up {
          from { opacity: 0; transform: translateY(40px); }
          to { opacity: 1; transform: translateY(0); }
        }
        
        @keyframes expand {
          from { width: 0; }
          to { width: 4rem; }
        }
        
        @keyframes bounce-gentle {
          0%, 100% { transform: translateY(0); }
          50% { transform: translateY(-3px); }
        }
        
        @keyframes float {
          0%, 100% { transform: translateY(0px) translateX(0px); }
          33% { transform: translateY(-20px) translateX(10px); }
          66% { transform: translateY(-10px) translateX(-5px); }
        }
        
        @keyframes float-reverse {
          0%, 100% { transform: translateY(0px) translateX(0px); }
          33% { transform: translateY(-15px) translateX(-10px); }
          66% { transform: translateY(-25px) translateX(5px); }
        }
        
        @keyframes pulse-slow {
          0%, 100% { opacity: 0.2; transform: scale(1); }
          50% { opacity: 0.4; transform: scale(1.05); }
        }
        
        @keyframes logo-glow {
          0%, 100% { filter: drop-shadow(0 0 10px rgba(16, 185, 129, 0.3)); }
          50% { filter: drop-shadow(0 0 20px rgba(16, 185, 129, 0.6)); }
        }
        
        @keyframes shake {
          0%, 100% { transform: translateX(0); }
          25% { transform: translateX(-5px); }
          75% { transform: translateX(5px); }
        }
        
        .animate-slide-up { animation: slide-up 0.8s ease-out forwards; opacity: 0; }
        .animate-slide-down { animation: slide-down 0.8s ease-out forwards; opacity: 0; }
        .animate-fade-in-up { animation: fade-in-up 1.2s ease-out forwards; opacity: 0; }
        .animate-expand { animation: expand 1.5s ease-out forwards; }
        .animate-bounce-gentle { animation: bounce-gentle 3s ease-in-out infinite; }
        .animate-float { animation: float 6s ease-in-out infinite; }
        .animate-float-reverse { animation: float-reverse 8s ease-in-out infinite; }
        .animate-pulse-slow { animation: pulse-slow 4s ease-in-out infinite; }
        .animate-shake { animation: shake 0.6s ease-in-out; }
        
        .delay-100 { animation-delay: 0.1s; }
        .delay-200 { animation-delay: 0.2s; }
        .delay-300 { animation-delay: 0.3s; }
        .delay-400 { animation-delay: 0.4s; }
        .delay-500 { animation-delay: 0.5s; }
        .delay-600 { animation-delay: 0.6s; }
        .delay-700 { animation-delay: 0.7s; }
        .delay-800 { animation-delay: 0.8s; }
        .delay-900 { animation-delay: 0.9s; }
        .delay-1000 { animation-delay: 1s; }
        .delay-1100 { animation-delay: 1.1s; }
        .delay-1200 { animation-delay: 1.2s; }
        .delay-1500 { animation-delay: 1.5s; }
        .delay-2000 { animation-delay: 2s; }
        
        .shadow-3xl {
          box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
        }
      `})]})},sN=()=>{const[e,t]=N.useState({full_name:"",email:"",phone:"",role:"",password:"",confirmPassword:""}),[s,n]=N.useState(!1),[i,a]=N.useState(""),[l,o]=N.useState(!1),[c,d]=N.useState(!1),[u,h]=N.useState(!1),m=N.useRef(null),v=N.useRef(null),{login:x}=Fe(),y=At(),b=["Farm Attendant","Veterinary Doctor","Pasture Officer","Admin","Farm Manager","Maintenance Officer","Feed Production Officer","Supervisor","Investor"];N.useEffect(()=>{i&&v.current&&m.current&&setTimeout(()=>{v.current.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"})},100)},[i]);const f=_=>{t({...e,[_.target.name]:_.target.value})},p=_=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(_),g=_=>/^\d{10,15}$/.test(_.replace(/\D/g,"")),j=_=>_.length>=8&&/[0-9!@#$%^&*(),.?":{}|<>]/.test(_),w=async _=>{var k;if(_.preventDefault(),n(!0),a(""),e.password!==e.confirmPassword){a("Passwords do not match"),n(!1);return}if(!l){a("Please accept the terms and conditions"),n(!1);return}if(!p(e.email)){a("Please enter a valid email address"),n(!1);return}if(e.phone&&!g(e.phone)){a("Please enter a valid phone number (10-15 digits)"),n(!1);return}if(!j(e.password)){a("Password must be at least 8 characters and contain a number or symbol"),n(!1);return}if(!e.full_name.trim()){a("Full name is required"),n(!1);return}if(!e.role){a("Please select your role"),n(!1);return}try{const{confirmPassword:P,...E}=e,C=await vs.register(E);if(C.data.verification_required)localStorage.setItem("pendingVerificationEmail",C.data.user.email),y("/registration-successful",{state:{message:C.data.message,email:C.data.user.email}});else{const{token:R,user:I}=C.data;x(R,I),y("/dashboard")}}catch(P){const E=(k=P.response)==null?void 0:k.data;E!=null&&E.field?a(E.message):a((E==null?void 0:E.message)||"Registration failed")}finally{n(!1)}};return r.jsxs("div",{ref:m,className:"min-h-screen flex flex-col lg:flex-row relative",children:[r.jsxs("div",{className:"hidden lg:flex lg:w-3/5 relative overflow-hidden h-screen sticky top-0",children:[r.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat transform scale-105 transition-transform duration-700 hover:scale-100",style:{backgroundImage:"url('https://images.unsplash.com/photo-1625246333195-78d9c38ad449?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2940&q=80')"},children:r.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-black/50 via-black/30 to-transparent"})}),r.jsx("div",{className:"absolute top-8 left-8 z-20 animate-slide-down",children:r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx(Nr,{size:"48"}),r.jsxs("div",{className:"text-white",children:[r.jsx("h3",{className:"text-xl font-bold tracking-wide",children:"Alliance CropCraft"}),r.jsx("p",{className:"text-sm opacity-90 font-medium",children:"Limited"})]})]})}),r.jsx("div",{className:"relative z-10 flex flex-col justify-end p-6 lg:p-12 text-white",children:r.jsxs("div",{className:"max-w-lg animate-slide-up",children:[r.jsxs("div",{className:"mb-6",children:[r.jsx("div",{className:"w-16 h-1 bg-primary-700 mb-4 animate-expand"}),r.jsx("h1",{className:"text-xl sm:text-3xl lg:text-5xl font-bold mb-3 leading-tight",children:"Create an Account"})]}),r.jsxs("div",{className:"space-y-3 animate-slide-up delay-300",children:[r.jsx("p",{className:"text-lg opacity-90 leading-relaxed",children:"Create your account to access Alliance CropCraft comprehensive farm management dashboard with real-time insights."}),r.jsxs("div",{className:"flex items-center space-x-6 text-sm opacity-80 mt-6",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-2 h-2 bg-primary-700 rounded-full animate-pulse"}),r.jsx("span",{children:"Livestock Monitoring"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-2 h-2 bg-primary-700 rounded-full animate-pulse delay-300"}),r.jsx("span",{children:"Task Management"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-2 h-2 bg-primary-700 rounded-full animate-pulse delay-600"}),r.jsx("span",{children:"Smart Reports"})]})]})]})]})})]}),r.jsxs("div",{className:"w-full lg:w-2/5 relative overflow-hidden min-h-screen",children:[r.jsxs("div",{className:"absolute inset-0 bg-gradient-to-br from-slate-50 via-white to-primary-50",children:[r.jsx("div",{className:"absolute top-20 right-20 w-40 h-40 bg-primary-200/20 rounded-full animate-float blur-xl"}),r.jsx("div",{className:"absolute top-24 right-24 w-10 h-10 flex items-center justify-center animate-float delay-100",children:r.jsxs("svg",{viewBox:"0 0 64 64",className:"w-8 h-8 opacity-70",children:[r.jsx("circle",{cx:"32",cy:"32",r:"30",fill:"#8B4513"}),r.jsx("ellipse",{cx:"32",cy:"45",rx:"25",ry:"15",fill:"#D2691E"}),r.jsx("circle",{cx:"25",cy:"25",r:"3",fill:"#000"}),r.jsx("circle",{cx:"39",cy:"25",r:"3",fill:"#000"}),r.jsx("ellipse",{cx:"32",cy:"35",rx:"4",ry:"2",fill:"#000"}),r.jsx("path",{d:"M20 15 Q15 10 12 15 Q15 20 20 15",fill:"#8B4513"}),r.jsx("path",{d:"M44 15 Q49 10 52 15 Q49 20 44 15",fill:"#8B4513"}),r.jsx("rect",{x:"28",y:"50",width:"8",height:"12",fill:"#000"})]})}),r.jsx("div",{className:"absolute bottom-40 left-10 w-32 h-32 bg-green-300/20 rounded-full animate-float-reverse delay-1000 blur-lg"}),r.jsx("div",{className:"absolute bottom-44 left-14 w-8 h-8 flex items-center justify-center animate-float-reverse delay-1100",children:r.jsxs("svg",{viewBox:"0 0 64 64",className:"w-7 h-7 opacity-70",children:[r.jsx("ellipse",{cx:"32",cy:"35",rx:"22",ry:"18",fill:"#FFB6C1"}),r.jsx("circle",{cx:"32",cy:"25",r:"15",fill:"#FFB6C1"}),r.jsx("circle",{cx:"27",cy:"22",r:"2",fill:"#000"}),r.jsx("circle",{cx:"37",cy:"22",r:"2",fill:"#000"}),r.jsx("ellipse",{cx:"32",cy:"28",rx:"6",ry:"4",fill:"#FF69B4"}),r.jsx("circle",{cx:"30",cy:"28",r:"1",fill:"#000"}),r.jsx("circle",{cx:"34",cy:"28",r:"1",fill:"#000"}),r.jsx("path",{d:"M20 18 Q15 15 18 12 Q22 15 20 18",fill:"#FFB6C1"}),r.jsx("path",{d:"M44 18 Q49 15 46 12 Q42 15 44 18",fill:"#FFB6C1"}),r.jsx("path",{d:"M32 45 Q28 50 32 52 Q36 50 32 45",fill:"#FF69B4"})]})}),r.jsx("div",{className:"absolute top-1/2 right-10 w-24 h-24 bg-teal-200/30 rounded-full animate-pulse-slow delay-500 blur-lg"}),r.jsx("div",{className:"absolute top-1/2 right-14 w-7 h-7 flex items-center justify-center animate-pulse-slow delay-600",children:r.jsxs("svg",{viewBox:"0 0 64 64",className:"w-6 h-6 opacity-70",children:[r.jsx("ellipse",{cx:"32",cy:"40",rx:"18",ry:"20",fill:"#FFFFFF"}),r.jsx("circle",{cx:"32",cy:"25",r:"12",fill:"#FFFFFF"}),r.jsx("circle",{cx:"29",cy:"22",r:"1.5",fill:"#000"}),r.jsx("circle",{cx:"35",cy:"22",r:"1.5",fill:"#000"}),r.jsx("path",{d:"M32 26 L28 28 L32 30 Z",fill:"#FFA500"}),r.jsx("path",{d:"M25 15 Q20 10 25 8 Q30 12 25 15",fill:"#FF0000"}),r.jsx("ellipse",{cx:"32",cy:"55",rx:"8",ry:"3",fill:"#FFA500"}),r.jsx("circle",{cx:"28",cy:"55",r:"1",fill:"#FFA500"}),r.jsx("circle",{cx:"36",cy:"55",r:"1",fill:"#FFA500"})]})}),r.jsx("div",{className:"absolute top-1/3 left-1/4 w-28 h-28 bg-lime-200/20 rounded-full animate-float delay-700 blur-xl"}),r.jsx("div",{className:"absolute top-1/3 left-1/4 w-8 h-8 flex items-center justify-center animate-float delay-800",children:r.jsxs("svg",{viewBox:"0 0 64 64",className:"w-7 h-7 opacity-70",children:[r.jsx("ellipse",{cx:"32",cy:"38",rx:"20",ry:"15",fill:"#F5F5DC"}),r.jsx("circle",{cx:"32",cy:"25",r:"10",fill:"#000"}),r.jsx("circle",{cx:"29",cy:"22",r:"1",fill:"#FFF"}),r.jsx("circle",{cx:"35",cy:"22",r:"1",fill:"#FFF"}),r.jsx("circle",{cx:"25",cy:"30",r:"4",fill:"#F5F5DC"}),r.jsx("circle",{cx:"39",cy:"30",r:"4",fill:"#F5F5DC"}),r.jsx("circle",{cx:"20",cy:"35",r:"3",fill:"#F5F5DC"}),r.jsx("circle",{cx:"44",cy:"35",r:"3",fill:"#F5F5DC"}),r.jsx("circle",{cx:"32",cy:"20",r:"3",fill:"#F5F5DC"}),r.jsx("rect",{x:"28",y:"48",width:"3",height:"10",fill:"#000"}),r.jsx("rect",{x:"33",y:"48",width:"3",height:"10",fill:"#000"})]})}),r.jsx("div",{className:"absolute bottom-20 right-1/3 w-20 h-20 bg-primary-700/20 rounded-full animate-float-reverse delay-300 blur-lg"}),r.jsx("div",{className:"absolute bottom-24 right-1/3 w-7 h-7 flex items-center justify-center animate-float-reverse delay-400",children:r.jsxs("svg",{viewBox:"0 0 64 64",className:"w-6 h-6 opacity-70",children:[r.jsx("ellipse",{cx:"32",cy:"40",rx:"16",ry:"18",fill:"#8B4513"}),r.jsx("ellipse",{cx:"32",cy:"20",rx:"8",ry:"12",fill:"#8B4513"}),r.jsx("circle",{cx:"29",cy:"18",r:"1",fill:"#000"}),r.jsx("circle",{cx:"35",cy:"18",r:"1",fill:"#000"}),r.jsx("path",{d:"M32 22 L28 24 L32 26 Z",fill:"#000"}),r.jsx("path",{d:"M28 8 Q25 5 28 3 Q32 6 30 10 Q28 12 28 8",fill:"#654321"}),r.jsx("path",{d:"M36 8 Q39 5 36 3 Q32 6 34 10 Q36 12 36 8",fill:"#654321"}),r.jsx("rect",{x:"26",y:"52",width:"3",height:"8",fill:"#000"}),r.jsx("rect",{x:"35",y:"52",width:"3",height:"8",fill:"#000"}),r.jsx("ellipse",{cx:"32",cy:"25",rx:"12",ry:"8",fill:"#A0522D"})]})}),r.jsx("div",{className:"absolute top-32 left-16 w-6 h-6 animate-float delay-1500 opacity-60",children:r.jsxs("svg",{viewBox:"0 0 32 32",className:"w-6 h-6",children:[r.jsx("circle",{cx:"16",cy:"16",r:"14",fill:"#90EE90"}),r.jsx("text",{x:"16",y:"20",textAnchor:"middle",fontSize:"16",fill:"#4A5568",children:"🐰"})]})}),r.jsx("div",{className:"absolute bottom-32 right-12 w-6 h-6 animate-float-reverse delay-2000 opacity-60",children:r.jsxs("svg",{viewBox:"0 0 32 32",className:"w-6 h-6",children:[r.jsx("circle",{cx:"16",cy:"16",r:"14",fill:"#FFE4B5"}),r.jsx("text",{x:"16",y:"20",textAnchor:"middle",fontSize:"16",fill:"#4A5568",children:"🐐"})]})})]}),r.jsx("div",{className:"relative z-10 flex items-center justify-center min-h-screen p-6 overflow-y-auto",children:r.jsxs("div",{className:"max-w-md w-full animate-fade-in-up my-8",children:[r.jsxs("div",{className:"text-center mb-6 lg:hidden",children:[r.jsx("div",{className:"flex justify-center mb-4",children:r.jsx(Nr,{size:"64"})}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Alliance CropCraft"}),r.jsx("p",{className:"text-primary-600 font-medium",children:"Limited"})]}),r.jsxs("div",{className:"bg-white/85 backdrop-blur-xl rounded-3xl shadow-2xl border border-white/50 p-6 transition-all duration-500 hover:shadow-3xl hover:bg-white/90",children:[r.jsxs("div",{className:"text-center mb-6 hidden lg:block",children:[r.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 ",children:r.jsx(Nr,{size:"64"})}),r.jsx("h2",{className:"text-3xl font-bold text-gray-900 animate-slide-down mb-2",children:"Create Account"})]}),i&&r.jsx("div",{ref:v,className:"mb-4 p-4 bg-red-50 border-l-4 border-red-400 rounded-r-xl animate-shake",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("svg",{className:"w-5 h-5 text-red-400 mr-3",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),r.jsx("span",{className:"text-red-700 font-medium text-sm",children:i})]})}),r.jsxs("form",{onSubmit:w,className:"space-y-4",children:[r.jsxs("div",{className:"animate-slide-up delay-300",children:[r.jsx("label",{htmlFor:"full_name",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Full Name"}),r.jsx("div",{className:"relative",children:r.jsx("input",{id:"full_name",name:"full_name",type:"text",required:!0,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-2xl focus:ring-2 focus:ring-green-500 focus:border-green-500 focus:outline-none transition-all duration-300 hover:border-green-300 bg-white/70 backdrop-blur-sm text-gray-900 placeholder-gray-500",placeholder:"Enter your full name",value:e.full_name,onChange:f})})]}),r.jsxs("div",{className:"animate-slide-up delay-400",children:[r.jsx("label",{htmlFor:"email",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Email Address"}),r.jsx("div",{className:"relative",children:r.jsx("input",{id:"email",name:"email",type:"email",required:!0,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-2xl focus:ring-2 focus:ring-green-500 focus:border-green-500 focus:outline-none transition-all duration-300 hover:border-green-300 bg-white/70 backdrop-blur-sm text-gray-900 placeholder-gray-500",placeholder:"Enter your email address",value:e.email,onChange:f})})]}),r.jsxs("div",{className:"animate-slide-up delay-500",children:[r.jsx("label",{htmlFor:"phone",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Phone Number"}),r.jsx("div",{className:"relative",children:r.jsx("input",{id:"phone",name:"phone",type:"tel",className:"w-full px-4 py-3 border-2 border-gray-200 rounded-2xl focus:ring-2 focus:ring-green-500 focus:border-green-500 focus:outline-none transition-all duration-300 hover:border-green-300 bg-white/70 backdrop-blur-sm text-gray-900 placeholder-gray-500",placeholder:"Enter your phone number",value:e.phone,onChange:f})})]}),r.jsxs("div",{className:"animate-slide-up delay-600",children:[r.jsx("label",{htmlFor:"role",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Role"}),r.jsxs("div",{className:"relative",children:[r.jsxs("select",{id:"role",name:"role",required:!0,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-2xl focus:ring-2 focus:ring-green-500 focus:border-green-500 focus:outline-none transition-all duration-300 hover:border-green-300 bg-white/70 backdrop-blur-sm text-gray-900 appearance-none",value:e.role,onChange:f,children:[r.jsx("option",{value:"",children:"Select your role"}),b.map(_=>r.jsx("option",{value:_,children:_},_))]}),r.jsx("svg",{className:"absolute right-4 top-4 w-4 h-4 text-gray-400 pointer-events-none",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})]})]}),r.jsxs("div",{className:"animate-slide-up delay-700",children:[r.jsx("label",{htmlFor:"password",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Password"}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{id:"password",name:"password",type:c?"text":"password",required:!0,className:"w-full px-4 py-3 pr-12 border-2 border-gray-200 rounded-2xl focus:ring-2 focus:ring-green-500 focus:border-green-500 focus:outline-none transition-all duration-300 hover:border-green-300 bg-white/70 backdrop-blur-sm text-gray-900 placeholder-gray-500",placeholder:"Create a strong password",value:e.password,onChange:f}),r.jsx("button",{type:"button",className:"absolute right-4 top-4 text-gray-400 hover:text-gray-600 transition-colors duration-200",onClick:()=>d(!c),children:c?r.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"})}):r.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]})]}),r.jsxs("div",{className:"animate-slide-up delay-800",children:[r.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Confirm Password"}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:u?"text":"password",required:!0,className:"w-full px-4 py-3 pr-12 border-2 border-gray-200 rounded-2xl focus:ring-2 focus:ring-green-500 focus:border-green-500 focus:outline-none transition-all duration-300 hover:border-green-300 bg-white/70 backdrop-blur-sm text-gray-900 placeholder-gray-500",placeholder:"Confirm your password",value:e.confirmPassword,onChange:f}),r.jsx("button",{type:"button",className:"absolute right-4 top-4 text-gray-400 hover:text-gray-600 transition-colors duration-200",onClick:()=>h(!u),children:u?r.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"})}):r.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]})]}),r.jsx("div",{className:"animate-slide-up delay-900 bt-2",children:r.jsxs("div",{className:"flex items-start space-x-3 mt-4",children:[r.jsx("input",{id:"acceptTerms",type:"checkbox",className:"mt-1 h-4 w-4 text-green-600 focus:ring-green-500 border-gray-300 rounded transition-colors duration-200",checked:l,onChange:_=>o(_.target.checked)}),r.jsxs("label",{htmlFor:"acceptTerms",className:"text-sm text-gray-700 leading-relaxed",children:["I agree to the"," ",r.jsx("a",{href:"#",className:"text-green-600 hover:text-green-700 font-medium underline",children:"Terms and Conditions"})," ","and"," ",r.jsx("a",{href:"#",className:"text-green-600 hover:text-green-700 font-medium underline",children:"Privacy Policy"})]})]})}),r.jsx("button",{type:"submit",disabled:s,className:"w-full bg-gradient-to-r from-green-600 via-green-500 to-teal-600 hover:from-green-700 hover:via-green-600 hover:to-teal-700 text-white font-bold py-4 px-6 rounded-2xl transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed transform hover:scale-105 hover:shadow-xl active:scale-95 animate-slide-up delay-1000 shadow-lg mt-6",children:s?r.jsxs("span",{className:"flex items-center justify-center",children:[r.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-6 w-6 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Creating Account..."]}):r.jsx("span",{className:"flex items-center justify-center",children:"Create Account"})})]}),r.jsxs("div",{className:"mt-6 text-center animate-slide-up delay-1100",children:[r.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Already have an account?"}),r.jsxs(bt,{to:"/login",className:"inline-flex items-center px-6 py-3 border-2 border-green-600 text-green-600 hover:bg-green-600 hover:text-white font-semibold rounded-2xl transition-all duration-300 transform hover:scale-105 hover:shadow-lg active:scale-95",children:[r.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"})}),"Sign In"]})]})]})]})})]}),r.jsx("style",{jsx:!0,children:`
        @keyframes slide-up {
          from { opacity: 0; transform: translateY(30px); }
          to { opacity: 1; transform: translateY(0); }
        }
        
        @keyframes slide-down {
          from { opacity: 0; transform: translateY(-20px); }
          to { opacity: 1; transform: translateY(0); }
        }
        
        @keyframes fade-in-up {
          from { opacity: 0; transform: translateY(40px); }
          to { opacity: 1; transform: translateY(0); }
        }
        
        @keyframes expand {
          from { width: 0; }
          to { width: 4rem; }
        }
        
        @keyframes bounce-gentle {
          0%, 100% { transform: translateY(0); }
          50% { transform: translateY(-3px); }
        }
        
        @keyframes float {
          0%, 100% { transform: translateY(0px) translateX(0px); }
          33% { transform: translateY(-20px) translateX(10px); }
          66% { transform: translateY(-10px) translateX(-5px); }
        }
        
        @keyframes float-reverse {
          0%, 100% { transform: translateY(0px) translateX(0px); }
          33% { transform: translateY(-15px) translateX(-10px); }
          66% { transform: translateY(-25px) translateX(5px); }
        }
        
        @keyframes pulse-slow {
          0%, 100% { opacity: 0.2; transform: scale(1); }
          50% { opacity: 0.4; transform: scale(1.05); }
        }
        
        @keyframes logo-glow {
          0%, 100% { filter: drop-shadow(0 0 10px rgba(16, 185, 129, 0.3)); }
          50% { filter: drop-shadow(0 0 20px rgba(16, 185, 129, 0.6)); }
        }
        
        @keyframes shake {
          0%, 100% { transform: translateX(0); }
          25% { transform: translateX(-5px); }
          75% { transform: translateX(5px); }
        }
        
        .animate-slide-up { animation: slide-up 0.8s ease-out forwards; opacity: 0; }
        .animate-slide-down { animation: slide-down 0.8s ease-out forwards; opacity: 0; }
        .animate-fade-in-up { animation: fade-in-up 1.2s ease-out forwards; opacity: 0; }
        .animate-expand { animation: expand 1.5s ease-out forwards; }
        .animate-bounce-gentle { animation: bounce-gentle 3s ease-in-out infinite; }
        .animate-float { animation: float 6s ease-in-out infinite; }
        .animate-float-reverse { animation: float-reverse 8s ease-in-out infinite; }
        .animate-pulse-slow { animation: pulse-slow 4s ease-in-out infinite; }
        .animate-logo-glow { animation: logo-glow 3s ease-in-out infinite; }
        .animate-shake { animation: shake 0.6s ease-in-out; }
        
        .delay-100 { animation-delay: 0.1s; }
        .delay-200 { animation-delay: 0.2s; }
        .delay-300 { animation-delay: 0.3s; }
        .delay-400 { animation-delay: 0.4s; }
        .delay-500 { animation-delay: 0.5s; }
        .delay-600 { animation-delay: 0.6s; }
        .delay-700 { animation-delay: 0.7s; }
        .delay-800 { animation-delay: 0.8s; }
        .delay-900 { animation-delay: 0.9s; }
        .delay-1000 { animation-delay: 1s; }
        .delay-1100 { animation-delay: 1.1s; }
        .delay-1200 { animation-delay: 1.2s; }
        .delay-1500 { animation-delay: 1.5s; }
        .delay-2000 { animation-delay: 2s; }
        
        .shadow-3xl {
          box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
        }
      `})]})},nN=()=>{const[e,t]=N.useState(""),[s,n]=N.useState(!1),[i,a]=N.useState(""),[l,o]=N.useState(""),[c,d]=N.useState(!1),{forgotPassword:u}=Fe(),h=async m=>{var v,x;if(m.preventDefault(),n(!0),o(""),a(""),!e.trim()){o("Please enter your email address."),n(!1);return}try{await u(e),d(!0),a("Password reset instructions have been sent to your email address.")}catch(y){o(((x=(v=y.response)==null?void 0:v.data)==null?void 0:x.message)||"Failed to send reset email. Please try again.")}finally{n(!1)}};return c?r.jsx("div",{className:"min-h-screen bg-primary-50 flex items-center justify-center px-4 sm:px-6 lg:px-8",children:r.jsx("div",{className:"max-w-md w-full bg-farm-50 space-y-8",children:r.jsxs("div",{className:"card-enhanced text-center",children:[r.jsx("div",{className:"w-16 h-16 bg-farm-100 rounded-full flex items-center justify-center mx-auto mb-6",children:r.jsx(We,{className:"w-8 h-8 text-green-600"})}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Check Your Email"}),r.jsxs("p",{className:"text-gray-600 mb-6",children:["We've sent password reset instructions to ",r.jsx("strong",{children:e})]}),r.jsx("p",{className:"text-sm text-gray-500 mb-6",children:"Didn't receive the email? Check your spam folder or contact support."}),r.jsxs(bt,{to:"/login",className:"btn-primary w-full flex items-center justify-center space-x-2",children:[r.jsx(Ps,{className:"w-4 h-4"}),r.jsx("span",{children:"Back to Login"})]})]})})}):r.jsx("div",{className:"min-h-screen bg-primary-100 flex items-center justify-center px-4 sm:px-6 lg:px-8",children:r.jsx("div",{className:"max-w-md w-full space-y-8",children:r.jsxs("div",{className:"card-enhanced bg-primary-100",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("div",{className:"w-16 h-16 bg-primary-100 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(as,{className:"w-8 h-8 text-green-600"})}),r.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Reset Your Password"}),r.jsx("p",{className:"mt-2 text-gray-600",children:"Enter your email address and we'll send you instructions to reset your password."})]}),r.jsxs("form",{onSubmit:h,className:"space-y-6",children:[l&&r.jsx("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4",children:r.jsx("p",{className:"text-red-700 text-sm",children:l})}),i&&r.jsx("div",{className:"bg-green-50 border border-green-200 rounded-xl p-4",children:r.jsx("p",{className:"text-green-700 text-sm",children:i})}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),r.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"input-field",placeholder:"Enter your email address",value:e,onChange:m=>t(m.target.value),disabled:s})]}),r.jsx("button",{type:"submit",disabled:s,className:"btn-primary w-full flex items-center justify-center space-x-2",children:s?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),r.jsx("span",{children:"Sending..."})]}):r.jsxs(r.Fragment,{children:[r.jsx(as,{className:"w-4 h-4"}),r.jsx("span",{children:"Send Reset Instructions"})]})}),r.jsx("div",{className:"text-center",children:r.jsxs(bt,{to:"/login",className:"text-primary-600 hover:text-primary-700 font-medium text-sm flex items-center justify-center space-x-1",children:[r.jsx(Ps,{className:"w-4 h-4"}),r.jsx("span",{children:"Back to Login"})]})})]})]})})})},rN=()=>{const[e,t]=N.useState({newPassword:"",confirmPassword:""}),[s,n]=N.useState({newPassword:!1,confirmPassword:!1}),[i,a]=N.useState(!1),[l,o]=N.useState(""),[c,d]=N.useState(!1),[u,h]=N.useState(null),{token:m}=ih(),v=At(),{resetPassword:x}=Fe();N.useEffect(()=>{m?h(!0):(h(!1),o("Invalid or missing reset token."))},[m]);const y=g=>{const{name:j,value:w}=g.target;t(_=>({..._,[j]:w})),o("")},b=g=>{n(j=>({...j,[g]:!j[g]}))},f=()=>e.newPassword.length<6?(o("Password must be at least 6 characters long."),!1):e.newPassword!==e.confirmPassword?(o("Passwords do not match."),!1):!0,p=async g=>{var j,w;if(g.preventDefault(),!!f()){a(!0),o("");try{await x(m,e.newPassword),d(!0),setTimeout(()=>{v("/login")},3e3)}catch(_){o(((w=(j=_.response)==null?void 0:j.data)==null?void 0:w.message)||"Failed to reset password. Please try again.")}finally{a(!1)}}};return u===!1?r.jsx("div",{className:"min-h-screen flex items-center justify-center px-4 sm:px-6 lg:px-8",children:r.jsx("div",{className:"max-w-md w-full space-y-8",children:r.jsxs("div",{className:"card-enhanced text-center",children:[r.jsx("div",{className:"w-16 h-16 bg-earth-100 rounded-full flex items-center justify-center mx-auto mb-6",children:r.jsx(xs,{className:"w-8 h-8 text-earth-600"})}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Invalid Reset Link"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"This password reset link is invalid or has expired."}),r.jsx(bt,{to:"/forgot-password",className:"btn-primary w-full",children:"Request New Reset Link"})]})})}):c?r.jsx("div",{className:"min-h-screen bg-primary-50 flex items-center justify-center px-4 sm:px-6 lg:px-8",children:r.jsx("div",{className:"max-w-md w-full space-y-8",children:r.jsxs("div",{className:"card-enhanced text-center",children:[r.jsx("div",{className:"w-16 h-16 bg-primary-100 rounded-full flex items-center justify-center mx-auto mb-6",children:r.jsx(We,{className:"w-8 h-8 text-primary-700"})}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Password Reset Successful"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"Your password has been successfully reset. You will be redirected to the login page shortly."}),r.jsxs(bt,{to:"/login",className:"btn-primary w-full flex items-center justify-center space-x-2",children:[r.jsx(Ps,{className:"w-4 h-4"}),r.jsx("span",{children:"Go to Login"})]})]})})}):r.jsx("div",{className:"min-h-screen bg-primary-50 flex items-center justify-center px-4 sm:px-6 lg:px-8",children:r.jsx("div",{className:"max-w-md w-full space-y-8",children:r.jsxs("div",{className:"card-enhanced",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("div",{className:"w-16 h-16 bg-primary-100 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(xs,{className:"w-8 h-8 text-primary-700"})}),r.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Create New Password"}),r.jsx("p",{className:"mt-2 text-gray-600",children:"Enter your new password below."})]}),r.jsxs("form",{onSubmit:p,className:"space-y-6",children:[l&&r.jsx("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4",children:r.jsx("p",{className:"text-red-700 text-sm",children:l})}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"newPassword",className:"block text-sm font-medium text-gray-700 mb-2",children:"New Password"}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{id:"newPassword",name:"newPassword",type:s.newPassword?"text":"password",required:!0,className:"input-field pr-12",placeholder:"Enter new password",value:e.newPassword,onChange:y,disabled:i}),r.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>b("newPassword"),children:s.newPassword?r.jsx(vf,{className:"h-5 w-5 text-gray-400"}):r.jsx(Ut,{className:"h-5 w-5 text-gray-400"})})]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm New Password"}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:s.confirmPassword?"text":"password",required:!0,className:"input-field pr-12",placeholder:"Confirm new password",value:e.confirmPassword,onChange:y,disabled:i}),r.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>b("confirmPassword"),children:s.confirmPassword?r.jsx(vf,{className:"h-5 w-5 text-gray-400"}):r.jsx(Ut,{className:"h-5 w-5 text-gray-400"})})]})]}),r.jsx("button",{type:"submit",disabled:i,className:"btn-primary w-full flex items-center justify-center space-x-2",children:i?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),r.jsx("span",{children:"Resetting..."})]}):r.jsxs(r.Fragment,{children:[r.jsx(xs,{className:"w-4 h-4"}),r.jsx("span",{children:"Reset Password"})]})}),r.jsx("div",{className:"text-center",children:r.jsxs(bt,{to:"/login",className:"text-primary-600 hover:text-primary-700 font-medium text-sm flex items-center justify-center space-x-1",children:[r.jsx(Ps,{className:"w-4 h-4"}),r.jsx("span",{children:"Back to Login"})]})})]})]})})})},kf=()=>{var b;const[e,t]=N.useState(!1),[s,n]=N.useState(""),[i,a]=N.useState(!1),[l,o]=N.useState(!1),[c,d]=N.useState(""),{token:u}=ih(),[h]=jg(),m=At(),v=xn();Fe(),N.useEffect(()=>{var g,j,w;const f=u||h.get("token"),p=((g=v.state)==null?void 0:g.email)||localStorage.getItem("pendingVerificationEmail")||h.get("email");p&&d(p),(j=v.state)!=null&&j.message&&n(""),f?(t(!0),x(f)):(w=v.state)!=null&&w.message||n("Invalid or missing verification token.")},[u,h,v.state]);const x=async f=>{var p;try{const g=await vs.verifyEmail(f);a(!0),n(""),localStorage.removeItem("pendingVerificationEmail"),setTimeout(()=>{m("/login",{state:{message:"Email verified successfully! You can now log in.",type:"success"}})},3e3)}catch(g){const j=(p=g.response)==null?void 0:p.data;j!=null&&j.token_expired?n("Verification link has expired. Please request a new one."):n((j==null?void 0:j.message)||"Email verification failed. The link may be invalid or expired.")}finally{t(!1)}},y=async()=>{var p;let f=c;if(!(!f&&(f=prompt("Please enter your email address to resend verification:"),!f))){o(!0),n("");try{await vs.sendVerification(f),n(""),alert("Verification email has been sent to your email address. Please check your inbox and spam folder.")}catch(g){const j=(p=g.response)==null?void 0:p.data;n((j==null?void 0:j.message)||"Failed to send verification email.")}finally{o(!1)}}};return e?r.jsx("div",{className:"min-h-screen farm-gradient flex items-center justify-center px-4 sm:px-6 lg:px-8",children:r.jsx("div",{className:"max-w-md w-full space-y-8",children:r.jsxs("div",{className:"card-enhanced text-center",children:[r.jsx("div",{className:"w-16 h-16 sky-gradient rounded-full flex items-center justify-center mx-auto mb-6",children:r.jsx(as,{className:"w-8 h-8 text-white"})}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Verifying Email"}),r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600 mx-auto"}),r.jsx("p",{className:"text-gray-600 mt-4",children:"Please wait while we verify your email address..."})]})})}):i?r.jsx("div",{className:"min-h-screen farm-gradient flex items-center justify-center px-4 sm:px-6 lg:px-8",children:r.jsx("div",{className:"max-w-md w-full space-y-8",children:r.jsxs("div",{className:"card-enhanced text-center",children:[r.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:r.jsx(We,{className:"w-8 h-8 text-green-600"})}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Email Verified Successfully!"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"Your email address has been verified. You can now log in to your account."}),r.jsx("p",{className:"text-sm text-gray-500 mb-6",children:"You will be redirected to the login page in a few seconds."}),r.jsxs(bt,{to:"/login",className:"btn-primary w-full flex items-center justify-center space-x-2",children:[r.jsx(Ps,{className:"w-4 h-4"}),r.jsx("span",{children:"Go to Login"})]})]})})}):r.jsx("div",{className:"min-h-screen farm-gradient flex items-center justify-center px-4 sm:px-6 lg:px-8",children:r.jsx("div",{className:"max-w-md w-full space-y-8",children:r.jsxs("div",{className:"card-enhanced text-center",children:[r.jsx("div",{className:`w-16 h-16 ${s?"bg-red-100":"bg-blue-100"} rounded-full flex items-center justify-center mx-auto mb-6`,children:s?r.jsx(Zg,{className:"w-8 h-8 text-red-600"}):r.jsx(as,{className:"w-8 h-8 text-blue-600"})}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:s?"Email Verification":"Verify Your Email"}),r.jsx("p",{className:"text-gray-600 mb-6",children:s||((b=v.state)==null?void 0:b.message)||"Please check your email for a verification link."}),c&&r.jsxs("p",{className:"text-sm text-gray-500 mb-6",children:["Verification email sent to: ",r.jsx("strong",{children:c})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("button",{onClick:y,disabled:l,className:"btn-primary w-full flex items-center justify-center space-x-2",children:l?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),r.jsx("span",{children:"Sending..."})]}):r.jsxs(r.Fragment,{children:[r.jsx(as,{className:"w-4 h-4"}),r.jsx("span",{children:"Resend Verification Email"})]})}),r.jsxs(bt,{to:"/login",className:"btn-secondary w-full flex items-center justify-center space-x-2",children:[r.jsx(Ps,{className:"w-4 h-4"}),r.jsx("span",{children:"Back to Login"})]})]})]})})})},Sf=()=>{const{user:e}=Fe(),t=At(),[s,n]=N.useState(null),[i,a]=N.useState({morning:[],afternoon:[],evening:[]}),[l,o]=N.useState(null),[c,d]=N.useState(!0),[u,h]=N.useState(null);N.useEffect(()=>{(async()=>{try{const _=await O.get("/dashboard/stats");n(_.data);const k=await O.get("/dashboard/tasks"),P=E=>E.filter(C=>C.status!=="missed");a({morning:P(k.data.morning),afternoon:P(k.data.afternoon),evening:P(k.data.evening)})}catch{h("Failed to fetch dashboard data")}try{const _={lat:7.7883,lon:3.919,name:"Alliance CropCraft Farm"},k=await fetch(`https://api.openweathermap.org/data/2.5/weather?lat=${_.lat}&lon=${_.lon}&appid=f4d6cec31b04951c0ac2ac398f1a3c40&units=metric`);if(k.ok){const P=await k.json();o({temperature:Math.round(P.main.temp),description:P.weather[0].description,condition:P.weather[0].main,humidity:P.main.humidity,feelsLike:Math.round(P.main.feels_like),location:_.name})}else throw new Error("Weather API request failed")}catch(_){console.error("Error fetching weather data:",_),o({temperature:28,description:"partly cloudy",condition:"Clouds",humidity:75,feelsLike:31,location:"Alliance CropCraft Farm"})}d(!1)})()},[]);const m=w=>{switch(w){case"high":return"bg-red-100 text-red-700";case"medium":return"bg-yellow-100 text-yellow-700";case"low":return"bg-green-100 text-green-700";default:return"bg-gray-100 text-gray-700"}},v=w=>{switch(w==null?void 0:w.toLowerCase()){case"clear":return Ka;case"clouds":return B2;case"rain":case"drizzle":return z2;default:return Ka}},x=()=>{const w=new Date().getHours();return w<12?"Good morning":w<17?"Good afternoon":"Good evening"},y=({title:w,tasks:_,icon:k,color:P})=>r.jsxs("div",{className:"card",children:[r.jsx("div",{className:"flex items-center justify-between mb-6",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:`w-12 h-12 ${P} rounded-xl flex items-center justify-center shadow-sm`,children:r.jsx(k,{className:"w-6 h-6 text-white"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:w}),r.jsxs("p",{className:"text-sm text-gray-500",children:[_.filter(E=>E.status==="completed").length," of ",_.length," completed"]})]})]})}),r.jsx("div",{className:"w-full bg-gray-100 rounded-full h-3 mb-6",children:r.jsx("div",{className:`h-3 rounded-full transition-all duration-500 ${P.replace("bg-","bg-").replace("-500","-400")}`,style:{width:`${_.length>0?_.filter(E=>E.status==="completed").length/_.length*100:0}%`}})}),r.jsx("div",{className:"space-y-4",children:_.slice(0,4).map(E=>r.jsxs("div",{className:"flex items-center justify-between group hover:bg-gray-50 -mx-2 px-2 py-2 rounded-lg transition-colors cursor-pointer",onClick:()=>t(`/task-details/${E.id}`),children:[r.jsxs("div",{className:"flex items-center space-x-3 flex-1 min-w-0",children:[E.status==="completed"?r.jsx(We,{className:"w-5 h-5 text-green-500 flex-shrink-0"}):r.jsx(fs,{className:"w-5 h-5 text-gray-400 flex-shrink-0"}),r.jsxs("div",{className:"min-w-0 flex-1",children:[r.jsx("p",{className:`font-medium ${E.status==="completed"?"line-through text-gray-500":"text-gray-900"}`,children:E.title}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:E.due_time})]})]}),r.jsx("span",{className:`px-3 py-1 text-xs font-medium rounded-full ${m(E.priority)} ml-3 flex-shrink-0`,children:E.priority})]},E.id))})]});if(c)return r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})});const b=[...i.morning,...i.afternoon,...i.evening],f=b.filter(w=>w.status==="completed").length,p=b.length,g=p>0?Math.round(f/p*100):0,j=l?v(l.condition):Ka;return r.jsxs("div",{className:"space-y-8 max-w-7xl mx-auto px-2 sm:px-4 lg:px-8 py-6",children:[r.jsxs("div",{className:"relative bg-gradient-to-br from-primary-800 via-primary-700 to-primary-500 rounded-2xl p-4 sm:p-8 text-white overflow-hidden",children:[r.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-10",children:r.jsx("div",{className:"absolute inset-0",style:{backgroundImage:`radial-gradient(circle at 25% 25%, rgba(255,255,255,0.1) 0%, transparent 50%), 
                             radial-gradient(circle at 75% 75%, rgba(255,255,255,0.1) 0%, transparent 50%)`}})}),r.jsx("div",{className:"relative z-10",children:r.jsxs("div",{className:"flex flex-col gap-6 lg:flex-row lg:items-center lg:justify-between lg:gap-0",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("h1",{className:"text-xl sm:text-2xl lg:text-4xl font-bold mb-2",children:[x(),", ",e==null?void 0:e.full_name,"!"]}),r.jsxs("p",{className:"text-white text-base sm:text-md mb-4",children:["You have ",(s==null?void 0:s.pendingTasks)||0," pending tasks today"]}),r.jsxs("div",{className:"flex flex-wrap items-center gap-4 sm:gap-8",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-3xl sm:text-2xl font-bold",children:`${f}/${p}`}),r.jsx("p",{className:"text-white text-sm",children:"Tasks Completed"})]}),r.jsx("div",{className:"hidden sm:block h-12 w-px bg-blue-300 opacity-50"}),r.jsxs("div",{children:[r.jsxs("div",{className:"text-3xl sm:text-2xl font-bold",children:[g,"%"]}),r.jsx("p",{className:"text-white text-sm",children:"Success Rate"})]})]})]}),l&&r.jsx("div",{className:"hidden sm:block lg:text-right",children:r.jsxs("div",{className:"flex flex-row items-center gap-4 lg:flex-col lg:items-end lg:gap-0 lg:space-y-2",children:[r.jsx(j,{className:"w-16 h-16 sm:w-12 sm:h-12 md:w-12 md:h-12 text-white opacity-90"}),r.jsxs("div",{children:[r.jsxs("div",{className:"text-2xl sm:text-2xl font-bold",children:[l.temperature,"°C"]}),r.jsx("p",{className:"text-white capitalize text-lg sm:text-sm",children:l.description}),r.jsxs("div",{className:"flex items-center justify-end space-x-1 mt-2 text-white",children:[r.jsx(ka,{className:"w-4 h-4"}),r.jsx("span",{className:"text-sm",children:l.location})]})]})]})})]})})]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4 sm:gap-6",children:[r.jsx("div",{className:"card group hover:shadow-lg transition-all duration-300",children:r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-emerald-400 to-emerald-600 rounded-2xl flex items-center justify-center shadow-lg group-hover:scale-105 transition-transform",children:r.jsx(Sa,{className:"w-7 h-7 text-white"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:"Completion Rate"}),r.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[(s==null?void 0:s.completionRate)||0,"%"]})]})]})}),r.jsx("div",{className:"card group hover:shadow-lg transition-all duration-300",children:r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-purple-400 to-purple-600 rounded-2xl flex items-center justify-center shadow-lg group-hover:scale-105 transition-transform",children:r.jsx(Pt,{className:"w-7 h-7 text-white"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:"Active Staff"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:(s==null?void 0:s.activeStaff)||0})]})]})}),r.jsx("div",{className:"card group hover:shadow-lg transition-all duration-300",children:r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-orange-400 to-orange-600 rounded-2xl flex items-center justify-center shadow-lg group-hover:scale-105 transition-transform",children:r.jsx(He,{className:"w-7 h-7 text-white"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:"This Week"}),r.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[(s==null?void 0:s.thisWeekTasks)||0," Tasks"]})]})]})})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-6 gap-2",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:"Today's Schedule"}),r.jsxs("button",{onClick:()=>t("/task-history?week=current"),className:"inline-flex items-center gap-2 px-3 py-1.5 text-sm font-medium text-primary-600 bg-primary-50 rounded-lg hover:bg-primary-100 transition-colors",children:[r.jsx("span",{children:"Tasks This Week"}),r.jsx(L2,{className:"w-4 h-4"})]})]}),r.jsx("div",{className:"text-xs sm:text-sm text-gray-500",children:new Date().toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-8",children:[r.jsx(y,{title:"Morning Tasks",tasks:i.morning,icon:Ka,color:"bg-gradient-to-br from-amber-400 to-orange-500"}),r.jsx(y,{title:"Afternoon Tasks",tasks:i.afternoon,icon:Y2,color:"bg-gradient-to-br from-red-400 to-pink-500"}),r.jsx(y,{title:"Evening Tasks",tasks:i.evening,icon:V2,color:"bg-gradient-to-br from-indigo-400 to-purple-500"})]})]})]})},iN=({onTaskCreated:e,onCancel:t})=>{const[s,n]=N.useState([]),[i,a]=N.useState({title:"",description:"",priority:"medium",assigned_to:"",due_date:"",due_time:"",tag:"static",recurrent:!0,active_date:""}),[l,o]=N.useState(!1),[c,d]=N.useState(""),[u,h]=N.useState({}),[m,v]=N.useState("");N.useEffect(()=>{(async()=>{try{const g=await ln.getUsers();n(g.data)}catch(g){d("Failed to load users. Please refresh the page."),console.error("Failed to fetch users:",g)}})()},[]);const x=()=>{const p={};if(i.title.trim()?i.title.length>100&&(p.title="Title must be less than 100 characters"):p.title="Task title is required",i.assigned_to||(p.assigned_to="Please assign the task to someone"),!i.due_date)p.due_date="Due date is required";else{const g=i.due_date,j=new Date().toISOString().split("T")[0];g<j&&(p.due_date="Due date cannot be in the past")}return i.description&&i.description.length>500&&(p.description="Description must be less than 500 characters"),h(p),Object.keys(p).length===0},y=p=>{const{name:g,value:j}=p.target;u[g]&&h({...u,[g]:""}),a(g==="tag"?{...i,tag:j,recurrent:j==="static",active_date:j==="dynamic"?i.due_date:""}:g==="due_date"?{...i,due_date:j,active_date:i.tag==="dynamic"?j:""}:{...i,[g]:j})},b=async p=>{var g;if(p.preventDefault(),o(!0),d(""),v(""),!x()){o(!1),d("Please fix the errors below");return}try{const j=await $s.createTask(i);v("Task created successfully!"),a({title:"",description:"",priority:"medium",assigned_to:"",due_date:"",due_time:"",tag:"static",recurrent:!0,active_date:""}),e&&e(j.data),setTimeout(()=>{v(""),t&&t(),ta("/tasks")},2e3)}catch(j){console.error("Task creation error:",j);const w=(g=j.response)==null?void 0:g.data;w!=null&&w.field?(h({[w.field]:w.message}),d("Please check the highlighted field")):w!=null&&w.message?d(w.message):j.code==="ERR_NETWORK"?d("Network error. Please check your connection and try again."):d("Failed to create task. Please try again.")}finally{o(!1)}},f=p=>{const g="w-full border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 transition-colors";return u[p]?`${g} border-red-500 focus:ring-red-200`:`${g} border-gray-300 focus:ring-primary-200 focus:border-primary-500`};return r.jsx("div",{className:"max-h-[90vh] sm:max-h-[80vh] overflow-y-auto",children:r.jsxs("form",{onSubmit:b,className:"space-y-4 px-1 pb-4",children:[r.jsxs("div",{className:"flex items-center justify-between sticky top-0 bg-white pt-2 pb-4 z-10",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Create New Task"}),t&&r.jsx("button",{type:"button",onClick:t,className:"text-gray-500 hover:text-gray-700 text-sm",children:"Cancel"})]}),c&&r.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg text-sm",children:c}),m&&r.jsx("div",{className:"bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded-lg text-sm",children:m}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Title ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",name:"title",value:i.title,onChange:y,maxLength:100,className:f("title"),placeholder:"Enter task title"}),u.title&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:u.title})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),r.jsx("textarea",{name:"description",value:i.description,onChange:y,maxLength:500,rows:3,className:f("description"),placeholder:"Enter task description (optional)"}),r.jsxs("div",{className:"flex justify-between mt-1",children:[u.description&&r.jsx("p",{className:"text-red-500 text-xs",children:u.description}),r.jsxs("p",{className:"text-gray-400 text-xs ml-auto",children:[i.description.length,"/500"]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Priority"}),r.jsxs("select",{name:"priority",value:i.priority,onChange:y,className:f("priority"),children:[r.jsx("option",{value:"high",children:"High"}),r.jsx("option",{value:"medium",children:"Medium"}),r.jsx("option",{value:"low",children:"Low"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Task Type"}),r.jsxs("select",{name:"tag",value:i.tag,onChange:y,className:f("tag"),children:[r.jsx("option",{value:"static",children:"Static (Daily/Recurrent)"}),r.jsx("option",{value:"dynamic",children:"Dynamic (One-time)"})]})]})]}),r.jsxs("div",{className:"text-xs text-gray-500 bg-gray-50 p-2 rounded",children:[i.tag==="static"&&"This task will recur every day.",i.tag==="dynamic"&&"This task will only be active on the selected date."]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Assign To ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("select",{name:"assigned_to",value:i.assigned_to,onChange:y,className:f("assigned_to"),children:[r.jsx("option",{value:"",children:"-- Select User --"}),s.map(p=>r.jsxs("option",{value:p.id,children:[p.full_name," (",p.role,")"]},p.id))]}),u.assigned_to&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:u.assigned_to})]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Due Date ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"date",name:"due_date",value:i.due_date,onChange:y,min:new Date().toISOString().split("T")[0],className:f("due_date")}),u.due_date&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:u.due_date})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Due Time"}),r.jsx("input",{type:"time",name:"due_time",value:i.due_time,onChange:y,className:f("due_time")})]})]}),r.jsx("button",{type:"submit",disabled:l,className:"w-full bg-primary-600 text-white py-2 px-4 rounded-lg hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-200 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:l?r.jsxs("span",{className:"flex items-center justify-center",children:[r.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Creating Task..."]}):"Create Task"})]})})},aN=({task:e,onTaskUpdated:t,onCancel:s})=>{const[n,i]=N.useState([]),[a,l]=N.useState({title:(e==null?void 0:e.title)||"",description:(e==null?void 0:e.description)||"",priority:(e==null?void 0:e.priority)||"medium",assigned_to:(e==null?void 0:e.assigned_to)||"",due_date:(e==null?void 0:e.due_date)||"",due_time:(e==null?void 0:e.due_time)||"",tag:(e==null?void 0:e.tag)||"static",recurrent:(e==null?void 0:e.recurrent)!==!1,active_date:(e==null?void 0:e.active_date)||""}),[o,c]=N.useState(!1),[d,u]=N.useState(""),[h,m]=N.useState({}),[v,x]=N.useState("");N.useEffect(()=>{(async()=>{try{const j=await ln.getUsers();i(j.data)}catch(j){u("Failed to load users. Please refresh the page."),console.error("Failed to fetch users:",j)}})()},[]),N.useEffect(()=>{if(e){let g="";if(e.due_date){const j=new Date(e.due_date);isNaN(j.getTime())||(g=j.toISOString().slice(0,10))}l({title:e.title||"",description:e.description||"",priority:e.priority||"medium",assigned_to:e.assigned_to||"",due_date:g||"",due_time:e.due_time||"",tag:e.tag||"static",recurrent:e.recurrent!==!1,active_date:e.active_date||""})}},[e]);const y=()=>{const g={};if(a.title.trim()?a.title.length>100&&(g.title="Title must be less than 100 characters"):g.title="Task title is required",a.assigned_to||(g.assigned_to="Please assign the task to someone"),!a.due_date)g.due_date="Due date is required";else{const j=a.due_date,w=new Date().toISOString().split("T")[0];j<w&&(g.due_date="Due date cannot be in the past")}return a.description&&a.description.length>500&&(g.description="Description must be less than 500 characters"),m(g),Object.keys(g).length===0},b=g=>{const{name:j,value:w}=g.target;h[j]&&m({...h,[j]:""}),l(j==="tag"?{...a,tag:w,recurrent:w==="static",active_date:w==="dynamic"?a.due_date:""}:j==="due_date"?{...a,due_date:w,active_date:a.tag==="dynamic"?w:""}:{...a,[j]:w})},f=async g=>{var j;if(g.preventDefault(),c(!0),u(""),x(""),!y()){c(!1),u("Please fix the errors below");return}try{const w=await $s.updateTask(e.id,a);x("Task updated successfully!"),t&&t(w.data),setTimeout(()=>x(""),3e3)}catch(w){console.error("Task update error:",w);const _=(j=w.response)==null?void 0:j.data;_!=null&&_.field?(m({[_.field]:_.message}),u("Please check the highlighted field")):_!=null&&_.message?u(_.message):w.code==="ERR_NETWORK"?u("Network error. Please check your connection and try again."):u("Failed to update task. Please try again.")}finally{c(!1)}},p=g=>{const j="w-full border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 transition-colors";return h[g]?`${j} border-red-500 focus:ring-red-200`:`${j} border-gray-300 focus:ring-primary-200 focus:border-primary-500`};return r.jsx("div",{className:"max-h-[90vh] sm:max-h-[80vh] overflow-y-auto",children:r.jsxs("form",{onSubmit:f,className:"space-y-4 px-1 pb-4",children:[r.jsxs("div",{className:"flex items-center justify-between sticky top-0 bg-white pt-2 pb-4 z-10",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Edit Task"}),s&&r.jsx("button",{type:"button",onClick:s,className:"text-gray-500 hover:text-gray-700 text-sm",children:"Cancel"})]}),d&&r.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg text-sm",children:d}),v&&r.jsx("div",{className:"bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded-lg text-sm",children:v}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Title ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",name:"title",value:a.title,onChange:b,maxLength:100,className:p("title"),placeholder:"Enter task title"}),h.title&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:h.title})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),r.jsx("textarea",{name:"description",value:a.description,onChange:b,maxLength:500,rows:3,className:p("description"),placeholder:"Enter task description (optional)"}),r.jsxs("div",{className:"flex justify-between mt-1",children:[h.description&&r.jsx("p",{className:"text-red-500 text-xs",children:h.description}),r.jsxs("p",{className:"text-gray-400 text-xs ml-auto",children:[a.description.length,"/500"]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Priority"}),r.jsxs("select",{name:"priority",value:a.priority,onChange:b,className:p("priority"),children:[r.jsx("option",{value:"high",children:"High"}),r.jsx("option",{value:"medium",children:"Medium"}),r.jsx("option",{value:"low",children:"Low"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Task Type"}),r.jsxs("select",{name:"tag",value:a.tag,onChange:b,className:p("tag"),children:[r.jsx("option",{value:"static",children:"Static (Daily/Recurrent)"}),r.jsx("option",{value:"dynamic",children:"Dynamic (One-time)"})]})]})]}),r.jsxs("div",{className:"text-xs text-gray-500 bg-gray-50 p-2 rounded",children:[a.tag==="static"&&"This task will recur every day.",a.tag==="dynamic"&&"This task will only be active on the selected date."]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Assign To ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("select",{name:"assigned_to",value:a.assigned_to,onChange:b,className:p("assigned_to"),children:[r.jsx("option",{value:"",children:"-- Select User --"}),n.map(g=>r.jsxs("option",{value:g.id,children:[g.full_name," (",g.role,")"]},g.id))]}),h.assigned_to&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:h.assigned_to})]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Due Date ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"date",name:"due_date",value:a.due_date,onChange:b,min:new Date().toISOString().split("T")[0],className:p("due_date")}),h.due_date&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:h.due_date})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Due Time"}),r.jsx("input",{type:"time",name:"due_time",value:a.due_time,onChange:b,className:p("due_time")})]})]}),r.jsx("button",{type:"submit",disabled:o,className:"w-full bg-primary-600 text-white py-2 px-4 rounded-lg hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-200 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:o?r.jsxs("span",{className:"flex items-center justify-center",children:[r.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Updating Task..."]}):"Update Task"})]})})},ry=6048e5,lN=864e5,Cf=Symbol.for("constructDateFrom");function cn(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&Cf in e?e[Cf](t):e instanceof Date?new e.constructor(t):new Date(t)}function Xt(e,t){return cn(t||e,e)}let oN={};function Xo(){return oN}function la(e,t){var o,c,d,u;const s=Xo(),n=(t==null?void 0:t.weekStartsOn)??((c=(o=t==null?void 0:t.locale)==null?void 0:o.options)==null?void 0:c.weekStartsOn)??s.weekStartsOn??((u=(d=s.locale)==null?void 0:d.options)==null?void 0:u.weekStartsOn)??0,i=Xt(e,t==null?void 0:t.in),a=i.getDay(),l=(a<n?7:0)+a-n;return i.setDate(i.getDate()-l),i.setHours(0,0,0,0),i}function ho(e,t){return la(e,{...t,weekStartsOn:1})}function iy(e,t){const s=Xt(e,t==null?void 0:t.in),n=s.getFullYear(),i=cn(s,0);i.setFullYear(n+1,0,4),i.setHours(0,0,0,0);const a=ho(i),l=cn(s,0);l.setFullYear(n,0,4),l.setHours(0,0,0,0);const o=ho(l);return s.getTime()>=a.getTime()?n+1:s.getTime()>=o.getTime()?n:n-1}function Pf(e){const t=Xt(e),s=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return s.setUTCFullYear(t.getFullYear()),+e-+s}function cN(e,...t){const s=cn.bind(null,e||t.find(n=>typeof n=="object"));return t.map(s)}function Ef(e,t){const s=Xt(e,t==null?void 0:t.in);return s.setHours(0,0,0,0),s}function dN(e,t,s){const[n,i]=cN(s==null?void 0:s.in,e,t),a=Ef(n),l=Ef(i),o=+a-Pf(a),c=+l-Pf(l);return Math.round((o-c)/lN)}function uN(e,t){const s=iy(e,t),n=cn((t==null?void 0:t.in)||e,0);return n.setFullYear(s,0,4),n.setHours(0,0,0,0),ho(n)}function hN(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function mN(e){return!(!hN(e)&&typeof e!="number"||isNaN(+Xt(e)))}function fN(e,t){const s=Xt(e,t==null?void 0:t.in);return s.setFullYear(s.getFullYear(),0,1),s.setHours(0,0,0,0),s}const xN={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},pN=(e,t,s)=>{let n;const i=xN[e];return typeof i=="string"?n=i:t===1?n=i.one:n=i.other.replace("{{count}}",t.toString()),s!=null&&s.addSuffix?s.comparison&&s.comparison>0?"in "+n:n+" ago":n};function Dc(e){return(t={})=>{const s=t.width?String(t.width):e.defaultWidth;return e.formats[s]||e.formats[e.defaultWidth]}}const gN={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},yN={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},vN={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},bN={date:Dc({formats:gN,defaultWidth:"full"}),time:Dc({formats:yN,defaultWidth:"full"}),dateTime:Dc({formats:vN,defaultWidth:"full"})},jN={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},wN=(e,t,s,n)=>jN[e];function ni(e){return(t,s)=>{const n=s!=null&&s.context?String(s.context):"standalone";let i;if(n==="formatting"&&e.formattingValues){const l=e.defaultFormattingWidth||e.defaultWidth,o=s!=null&&s.width?String(s.width):l;i=e.formattingValues[o]||e.formattingValues[l]}else{const l=e.defaultWidth,o=s!=null&&s.width?String(s.width):e.defaultWidth;i=e.values[o]||e.values[l]}const a=e.argumentCallback?e.argumentCallback(t):t;return i[a]}}const NN={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},_N={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},kN={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},SN={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},CN={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},PN={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},EN=(e,t)=>{const s=Number(e),n=s%100;if(n>20||n<10)switch(n%10){case 1:return s+"st";case 2:return s+"nd";case 3:return s+"rd"}return s+"th"},MN={ordinalNumber:EN,era:ni({values:NN,defaultWidth:"wide"}),quarter:ni({values:_N,defaultWidth:"wide",argumentCallback:e=>e-1}),month:ni({values:kN,defaultWidth:"wide"}),day:ni({values:SN,defaultWidth:"wide"}),dayPeriod:ni({values:CN,defaultWidth:"wide",formattingValues:PN,defaultFormattingWidth:"wide"})};function ri(e){return(t,s={})=>{const n=s.width,i=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],a=t.match(i);if(!a)return null;const l=a[0],o=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(o)?DN(o,h=>h.test(l)):TN(o,h=>h.test(l));let d;d=e.valueCallback?e.valueCallback(c):c,d=s.valueCallback?s.valueCallback(d):d;const u=t.slice(l.length);return{value:d,rest:u}}}function TN(e,t){for(const s in e)if(Object.prototype.hasOwnProperty.call(e,s)&&t(e[s]))return s}function DN(e,t){for(let s=0;s<e.length;s++)if(t(e[s]))return s}function RN(e){return(t,s={})=>{const n=t.match(e.matchPattern);if(!n)return null;const i=n[0],a=t.match(e.parsePattern);if(!a)return null;let l=e.valueCallback?e.valueCallback(a[0]):a[0];l=s.valueCallback?s.valueCallback(l):l;const o=t.slice(i.length);return{value:l,rest:o}}}const AN=/^(\d+)(th|st|nd|rd)?/i,LN=/\d+/i,ON={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},FN={any:[/^b/i,/^(a|c)/i]},IN={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},zN={any:[/1/i,/2/i,/3/i,/4/i]},BN={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},$N={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},WN={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},HN={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},UN={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},VN={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},qN={ordinalNumber:RN({matchPattern:AN,parsePattern:LN,valueCallback:e=>parseInt(e,10)}),era:ri({matchPatterns:ON,defaultMatchWidth:"wide",parsePatterns:FN,defaultParseWidth:"any"}),quarter:ri({matchPatterns:IN,defaultMatchWidth:"wide",parsePatterns:zN,defaultParseWidth:"any",valueCallback:e=>e+1}),month:ri({matchPatterns:BN,defaultMatchWidth:"wide",parsePatterns:$N,defaultParseWidth:"any"}),day:ri({matchPatterns:WN,defaultMatchWidth:"wide",parsePatterns:HN,defaultParseWidth:"any"}),dayPeriod:ri({matchPatterns:UN,defaultMatchWidth:"any",parsePatterns:VN,defaultParseWidth:"any"})},YN={code:"en-US",formatDistance:pN,formatLong:bN,formatRelative:wN,localize:MN,match:qN,options:{weekStartsOn:0,firstWeekContainsDate:1}};function XN(e,t){const s=Xt(e,t==null?void 0:t.in);return dN(s,fN(s))+1}function QN(e,t){const s=Xt(e,t==null?void 0:t.in),n=+ho(s)-+uN(s);return Math.round(n/ry)+1}function ay(e,t){var u,h,m,v;const s=Xt(e,t==null?void 0:t.in),n=s.getFullYear(),i=Xo(),a=(t==null?void 0:t.firstWeekContainsDate)??((h=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:h.firstWeekContainsDate)??i.firstWeekContainsDate??((v=(m=i.locale)==null?void 0:m.options)==null?void 0:v.firstWeekContainsDate)??1,l=cn((t==null?void 0:t.in)||e,0);l.setFullYear(n+1,0,a),l.setHours(0,0,0,0);const o=la(l,t),c=cn((t==null?void 0:t.in)||e,0);c.setFullYear(n,0,a),c.setHours(0,0,0,0);const d=la(c,t);return+s>=+o?n+1:+s>=+d?n:n-1}function KN(e,t){var o,c,d,u;const s=Xo(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(o=t==null?void 0:t.locale)==null?void 0:o.options)==null?void 0:c.firstWeekContainsDate)??s.firstWeekContainsDate??((u=(d=s.locale)==null?void 0:d.options)==null?void 0:u.firstWeekContainsDate)??1,i=ay(e,t),a=cn((t==null?void 0:t.in)||e,0);return a.setFullYear(i,0,n),a.setHours(0,0,0,0),la(a,t)}function GN(e,t){const s=Xt(e,t==null?void 0:t.in),n=+la(s,t)-+KN(s,t);return Math.round(n/ry)+1}function ue(e,t){const s=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return s+n}const Ds={y(e,t){const s=e.getFullYear(),n=s>0?s:1-s;return ue(t==="yy"?n%100:n,t.length)},M(e,t){const s=e.getMonth();return t==="M"?String(s+1):ue(s+1,2)},d(e,t){return ue(e.getDate(),t.length)},a(e,t){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return s.toUpperCase();case"aaa":return s;case"aaaaa":return s[0];case"aaaa":default:return s==="am"?"a.m.":"p.m."}},h(e,t){return ue(e.getHours()%12||12,t.length)},H(e,t){return ue(e.getHours(),t.length)},m(e,t){return ue(e.getMinutes(),t.length)},s(e,t){return ue(e.getSeconds(),t.length)},S(e,t){const s=t.length,n=e.getMilliseconds(),i=Math.trunc(n*Math.pow(10,s-3));return ue(i,t.length)}},tr={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Mf={G:function(e,t,s){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return s.era(n,{width:"abbreviated"});case"GGGGG":return s.era(n,{width:"narrow"});case"GGGG":default:return s.era(n,{width:"wide"})}},y:function(e,t,s){if(t==="yo"){const n=e.getFullYear(),i=n>0?n:1-n;return s.ordinalNumber(i,{unit:"year"})}return Ds.y(e,t)},Y:function(e,t,s,n){const i=ay(e,n),a=i>0?i:1-i;if(t==="YY"){const l=a%100;return ue(l,2)}return t==="Yo"?s.ordinalNumber(a,{unit:"year"}):ue(a,t.length)},R:function(e,t){const s=iy(e);return ue(s,t.length)},u:function(e,t){const s=e.getFullYear();return ue(s,t.length)},Q:function(e,t,s){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return ue(n,2);case"Qo":return s.ordinalNumber(n,{unit:"quarter"});case"QQQ":return s.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return s.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,s){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return ue(n,2);case"qo":return s.ordinalNumber(n,{unit:"quarter"});case"qqq":return s.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return s.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,s){const n=e.getMonth();switch(t){case"M":case"MM":return Ds.M(e,t);case"Mo":return s.ordinalNumber(n+1,{unit:"month"});case"MMM":return s.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return s.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,s){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return ue(n+1,2);case"Lo":return s.ordinalNumber(n+1,{unit:"month"});case"LLL":return s.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return s.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,s,n){const i=GN(e,n);return t==="wo"?s.ordinalNumber(i,{unit:"week"}):ue(i,t.length)},I:function(e,t,s){const n=QN(e);return t==="Io"?s.ordinalNumber(n,{unit:"week"}):ue(n,t.length)},d:function(e,t,s){return t==="do"?s.ordinalNumber(e.getDate(),{unit:"date"}):Ds.d(e,t)},D:function(e,t,s){const n=XN(e);return t==="Do"?s.ordinalNumber(n,{unit:"dayOfYear"}):ue(n,t.length)},E:function(e,t,s){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return s.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return s.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(n,{width:"short",context:"formatting"});case"EEEE":default:return s.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,s,n){const i=e.getDay(),a=(i-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return ue(a,2);case"eo":return s.ordinalNumber(a,{unit:"day"});case"eee":return s.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return s.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(i,{width:"short",context:"formatting"});case"eeee":default:return s.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,s,n){const i=e.getDay(),a=(i-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return ue(a,t.length);case"co":return s.ordinalNumber(a,{unit:"day"});case"ccc":return s.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return s.day(i,{width:"narrow",context:"standalone"});case"cccccc":return s.day(i,{width:"short",context:"standalone"});case"cccc":default:return s.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,s){const n=e.getDay(),i=n===0?7:n;switch(t){case"i":return String(i);case"ii":return ue(i,t.length);case"io":return s.ordinalNumber(i,{unit:"day"});case"iii":return s.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return s.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return s.day(n,{width:"short",context:"formatting"});case"iiii":default:return s.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,s){const i=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return s.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,s){const n=e.getHours();let i;switch(n===12?i=tr.noon:n===0?i=tr.midnight:i=n/12>=1?"pm":"am",t){case"b":case"bb":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return s.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,s){const n=e.getHours();let i;switch(n>=17?i=tr.evening:n>=12?i=tr.afternoon:n>=4?i=tr.morning:i=tr.night,t){case"B":case"BB":case"BBB":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return s.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,s){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),s.ordinalNumber(n,{unit:"hour"})}return Ds.h(e,t)},H:function(e,t,s){return t==="Ho"?s.ordinalNumber(e.getHours(),{unit:"hour"}):Ds.H(e,t)},K:function(e,t,s){const n=e.getHours()%12;return t==="Ko"?s.ordinalNumber(n,{unit:"hour"}):ue(n,t.length)},k:function(e,t,s){let n=e.getHours();return n===0&&(n=24),t==="ko"?s.ordinalNumber(n,{unit:"hour"}):ue(n,t.length)},m:function(e,t,s){return t==="mo"?s.ordinalNumber(e.getMinutes(),{unit:"minute"}):Ds.m(e,t)},s:function(e,t,s){return t==="so"?s.ordinalNumber(e.getSeconds(),{unit:"second"}):Ds.s(e,t)},S:function(e,t){return Ds.S(e,t)},X:function(e,t,s){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return Df(n);case"XXXX":case"XX":return kn(n);case"XXXXX":case"XXX":default:return kn(n,":")}},x:function(e,t,s){const n=e.getTimezoneOffset();switch(t){case"x":return Df(n);case"xxxx":case"xx":return kn(n);case"xxxxx":case"xxx":default:return kn(n,":")}},O:function(e,t,s){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Tf(n,":");case"OOOO":default:return"GMT"+kn(n,":")}},z:function(e,t,s){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Tf(n,":");case"zzzz":default:return"GMT"+kn(n,":")}},t:function(e,t,s){const n=Math.trunc(+e/1e3);return ue(n,t.length)},T:function(e,t,s){return ue(+e,t.length)}};function Tf(e,t=""){const s=e>0?"-":"+",n=Math.abs(e),i=Math.trunc(n/60),a=n%60;return a===0?s+String(i):s+String(i)+t+ue(a,2)}function Df(e,t){return e%60===0?(e>0?"-":"+")+ue(Math.abs(e)/60,2):kn(e,t)}function kn(e,t=""){const s=e>0?"-":"+",n=Math.abs(e),i=ue(Math.trunc(n/60),2),a=ue(n%60,2);return s+i+t+a}const Rf=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},ly=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},JN=(e,t)=>{const s=e.match(/(P+)(p+)?/)||[],n=s[1],i=s[2];if(!i)return Rf(e,t);let a;switch(n){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;case"PPPP":default:a=t.dateTime({width:"full"});break}return a.replace("{{date}}",Rf(n,t)).replace("{{time}}",ly(i,t))},ZN={p:ly,P:JN},e_=/^D+$/,t_=/^Y+$/,s_=["D","DD","YY","YYYY"];function n_(e){return e_.test(e)}function r_(e){return t_.test(e)}function i_(e,t,s){const n=a_(e,t,s);if(console.warn(n),s_.includes(e))throw new RangeError(n)}function a_(e,t,s){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${s}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const l_=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,o_=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,c_=/^'([^]*?)'?$/,d_=/''/g,u_=/[a-zA-Z]/;function Af(e,t,s){var u,h,m,v,x,y,b,f;const n=Xo(),i=(s==null?void 0:s.locale)??n.locale??YN,a=(s==null?void 0:s.firstWeekContainsDate)??((h=(u=s==null?void 0:s.locale)==null?void 0:u.options)==null?void 0:h.firstWeekContainsDate)??n.firstWeekContainsDate??((v=(m=n.locale)==null?void 0:m.options)==null?void 0:v.firstWeekContainsDate)??1,l=(s==null?void 0:s.weekStartsOn)??((y=(x=s==null?void 0:s.locale)==null?void 0:x.options)==null?void 0:y.weekStartsOn)??n.weekStartsOn??((f=(b=n.locale)==null?void 0:b.options)==null?void 0:f.weekStartsOn)??0,o=Xt(e,s==null?void 0:s.in);if(!mN(o))throw new RangeError("Invalid time value");let c=t.match(o_).map(p=>{const g=p[0];if(g==="p"||g==="P"){const j=ZN[g];return j(p,i.formatLong)}return p}).join("").match(l_).map(p=>{if(p==="''")return{isToken:!1,value:"'"};const g=p[0];if(g==="'")return{isToken:!1,value:h_(p)};if(Mf[g])return{isToken:!0,value:p};if(g.match(u_))throw new RangeError("Format string contains an unescaped latin alphabet character `"+g+"`");return{isToken:!1,value:p}});i.localize.preprocessor&&(c=i.localize.preprocessor(o,c));const d={firstWeekContainsDate:a,weekStartsOn:l,locale:i};return c.map(p=>{if(!p.isToken)return p.value;const g=p.value;(!(s!=null&&s.useAdditionalWeekYearTokens)&&r_(g)||!(s!=null&&s.useAdditionalDayOfYearTokens)&&n_(g))&&i_(g,t,String(e));const j=Mf[g[0]];return j(o,g,i.localize,d)}).join("")}function h_(e){const t=e.match(c_);return t?t[1].replace(d_,"'"):e}const m_=()=>{const{user:e}=Fe(),[t,s]=N.useState("personal"),n=At(),[i,a]=N.useState([]),[l,o]=N.useState([]),[c,d]=N.useState(!0),[u,h]=N.useState("all"),[m,v]=N.useState(!1),[x,y]=N.useState(!1),[b,f]=N.useState(!1),[p,g]=N.useState(!1),[j,w]=N.useState(null),[_,k]=N.useState({photo:null,notes:"",photoPreview:null}),[P,E]=N.useState(!1),[C,R]=N.useState(null),[I,H]=N.useState(!1),[Q,Z]=N.useState(!1),[M,B]=N.useState(null),[S,A]=N.useState(!1),$=N.useRef(null),[X,K]=N.useState(""),L=["Admin","Farm Manager","Supervisor"].includes(e==null?void 0:e.role),U=["Admin","Farm Manager","Supervisor"].includes(e==null?void 0:e.role),J=["Admin","Farm Manager"].includes(e==null?void 0:e.role);N.useEffect(()=>{G(),ne()},[]);const F=_.photo!==null,z=async()=>{try{const T=await navigator.mediaDevices.getUserMedia({video:!0});R(T),E(!0),setTimeout(()=>{$.current&&($.current.srcObject=T,$.current.play())},100)}catch{alert("Camera access denied")}},ce=()=>{if(!$.current)return;const T=$.current,ee=document.createElement("canvas");ee.width=T.videoWidth||640,ee.height=T.videoHeight||480,ee.getContext("2d").drawImage(T,0,0,ee.width,ee.height),ee.toBlob(qr=>{qr&&(k(Yr=>({...Yr,photo:qr,photoPreview:URL.createObjectURL(qr)})),E(!1),C&&(C.getTracks().forEach(Yr=>Yr.stop()),R(null)))},"image/jpeg")},G=async()=>{try{const T=await $s.getTasks();let ee=[];if(Array.isArray(T.data))ee=T.data;else if(Array.isArray(T))ee=T;else if(T.data&&Array.isArray(T.data.tasks))ee=T.data.tasks;else if(T.data&&typeof T.data=="object"){const Me=Object.values(T.data).filter(ev=>Array.isArray(ev));Me.length>0&&(ee=Me[0])}const _t=Af(new Date,"yyyy-MM-dd"),Yr=ee.map(Me=>({...Me,status:Me.status||"pending",priority:Me.priority||"medium",title:Me.title||"Untitled Task",description:Me.description||"",due_time:Me.due_time||"No due date",tag:Me.tag||"static",recurrent:typeof Me.recurrent=="boolean"?Me.recurrent:Me.tag==="static",active_date:Me.active_date||""})).filter(Me=>Me.tag==="static"&&Me.recurrent?!0:Me.tag==="dynamic"&&Me.active_date?Af(new Date(Me.active_date),"yyyy-MM-dd")===_t:!1);a(Yr)}catch(T){console.error("Error fetching tasks:",T),a([])}finally{d(!1)}},ne=async()=>{try{const T=await $s.getWeeklyHistory();T.data&&o(T.data)}catch(T){console.error("Error fetching weekly tasks:",T),o([])}},qe=T=>{w(T),f(!0),k({photo:null,notes:"",photoPreview:null})},Ur=T=>{w(T),g(!0)},Vr=T=>{const ee=T.target.files[0];ee&&k(_t=>({..._t,photo:ee,photoPreview:URL.createObjectURL(ee)}))},Ea=async()=>{if(!_.photo){K("Please add photo evidence before completing the task.");return}K("");try{const T=new FormData;T.append("taskId",j.id),T.append("notes",_.notes),T.append("completedAt",new Date().toISOString()),_.photo&&T.append("evidence",_.photo),await $s.completeTaskWithEvidence(T),a(i.map(ee=>ee.id===j.id?{...ee,status:"completed",completed_at:new Date().toISOString(),completion_notes:_.notes,evidence_photo:_.photo?_.photo.name:null}:ee)),f(!1),w(null),K("")}catch(T){console.error("Error completing task:",T),alert("Failed to complete task. Please try again.")}},Rh=()=>{f(!1),w(null),_.photoPreview&&URL.revokeObjectURL(_.photoPreview),k({photo:null,notes:"",photoPreview:null})},Jy=()=>{g(!1),w(null)},Ah=T=>{B(T),A(!0)},Zy=()=>{A(!1),B(null),G()},Ma=async T=>{if(window.confirm("Are you sure you want to delete this task?"))try{await $s.deleteTask(T),G()}catch(ee){console.error("Error deleting task:",ee),alert("Failed to delete task. Please try again.")}},Lh=()=>{A(!1),B(null)},Zn=T=>{switch(T){case"high":return"bg-red-100 text-red-800 border-red-200";case"medium":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"low":return"bg-green-100 text-green-800 border-green-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},Qt=i.filter(T=>{if(!T||typeof T.status!="string")return console.warn("Task missing or has invalid status:",T),!1;if(u==="all")return!0;const ee=T.status.toLowerCase(),_t=u.toLowerCase();return ee===_t}),gn=ga.useMemo(()=>{if(!["Admin","Farm Manager"].includes(e==null?void 0:e.role))return{personal:Qt,staff:[]};const T=Qt.filter(_t=>_t.assigned_to===(e==null?void 0:e.id)),ee=Qt.filter(_t=>_t.assigned_to!==(e==null?void 0:e.id));return{personal:T,staff:ee}},[Qt,e==null?void 0:e.id,e==null?void 0:e.role]),Oh=async(T,ee)=>{try{await fetch(`/api/tasks/${T}/remind`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({assignedUserId:ee})}),alert("Reminder sent successfully!")}catch(_t){console.error("Failed to send reminder:",_t),alert("Failed to send reminder. Please try again.")}};return c?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):r.jsxs("div",{className:"space-y-6 max-w-7xl mx-auto px-2 sm:px-4 lg:px-8 py-6",children:[r.jsx("div",{className:"flex flex-col gap-4 mb-6",children:r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:[r.jsx("div",{children:r.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:"Task Management"})}),r.jsxs("div",{className:"flex flex-wrap items-center gap-2 sm:gap-3",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Yo,{className:"w-4 h-4 text-gray-500"}),r.jsxs("select",{value:u,onChange:T=>h(T.target.value),className:"border border-gray-300 rounded-xl px-3 py-2 text-sm focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[r.jsx("option",{value:"all",children:"All Tasks"}),r.jsx("option",{value:"pending",children:"Pending"}),r.jsx("option",{value:"completed",children:"Completed"})]})]}),L&&r.jsx("button",{className:"btn-primary text-sm",onClick:()=>y(!0),children:"Create Task"})]})]})}),["Admin","Farm Manager"].includes(e==null?void 0:e.role)?r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex border-b border-gray-200 mb-6",children:[r.jsx("button",{onClick:()=>s("personal"),className:`py-3 px-4 text-sm font-medium border-b-2 transition-colors duration-200 ${t==="personal"?"border-primary-600 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Personal Tasks"}),r.jsx("button",{onClick:()=>s("staff"),className:`py-3 px-4 text-sm font-medium border-b-2 transition-colors duration-200 ${t==="staff"?"border-primary-600 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Staff Tasks"})]}),t==="personal"&&r.jsx("div",{className:"mb-8",children:r.jsxs("div",{className:"mb-8",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Personal Tasks"}),gn.personal.length>6&&r.jsx("button",{onClick:()=>H(!I),className:"text-primary-600 hover:text-primary-700 text-sm font-medium",children:I?"Show Less":`See More (${gn.personal.length-6})`})]}),gn.personal.length===0?r.jsxs("div",{className:"text-center py-8 bg-gray-50 rounded-xl",children:[r.jsx(We,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No personal tasks"}),r.jsx("p",{className:"text-gray-600",children:"You don't have any tasks assigned to you at the moment."})]}):r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-2 gap-4 sm:gap-6",children:(I?gn.personal:gn.personal.slice(0,6)).map(T=>r.jsxs("div",{className:"card-enhanced cursor-pointer hover:shadow-lg transition-shadow duration-200",onClick:()=>n(`/task-details/${T.id}`),children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center ${T.status==="completed"?"bg-green-100":"bg-blue-100"}`,children:T.status==="completed"?r.jsx(We,{className:"w-5 h-5 text-green-600"}):r.jsx(fs,{className:"w-5 h-5 text-blue-600"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:`text-lg font-semibold ${T.status==="completed"?"line-through text-gray-500":"text-gray-900"}`,children:T.title}),r.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[r.jsx("span",{className:`inline-block px-3 py-1 text-xs font-medium rounded-full ${Zn(T.priority)}`,children:T.priority}),r.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-gray-100 text-gray-600",children:T.tag==="static"?"Daily":"One-time"})]})]})]}),T.status==="completed"&&T.evidence_photo&&r.jsxs("div",{className:"text-right",children:[r.jsx("span",{className:"text-xs text-gray-500",children:"Evidence"}),r.jsxs("div",{className:"flex items-center space-x-1 mt-1",children:[r.jsx(En,{className:"w-4 h-4 text-green-500"}),r.jsx("span",{className:"text-xs text-green-600",children:"Uploaded"})]})]})]}),T.description&&r.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2",children:T.description}),r.jsx("div",{className:"bg-gray-50 rounded-lg p-3 mb-4",children:r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(He,{className:"w-4 h-4 text-gray-500"}),r.jsxs("span",{className:"text-gray-700 font-medium",children:["Due: ",T.due_time]})]}),T.assigned_to_name&&r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(zt,{className:"w-4 h-4 text-gray-500"}),r.jsx("span",{className:"text-gray-700",children:T.assigned_to_name})]})]})}),T.status==="completed"?r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"text-sm text-green-600 font-medium",children:["✅ Completed ",T.completed_at?new Date(T.completed_at).toLocaleString():"Recently"]}),r.jsx("div",{className:"flex items-center space-x-2",children:J&&r.jsxs("button",{onClick:ee=>{ee.stopPropagation(),Ma(T.id)},className:"px-2 py-1 text-red-600 hover:text-red-700 hover:bg-red-50 text-sm font-medium flex items-center space-x-1 transition-all duration-200 rounded-md",children:[r.jsx(Hs,{className:"w-4 h-4"}),r.jsx("span",{children:"Delete"})]})})]}):r.jsxs("div",{className:"flex flex-col space-y-2",children:[r.jsxs("button",{onClick:ee=>{ee.stopPropagation(),qe(T)},className:"btn-primary text-sm flex items-center space-x-2 w-full justify-center",children:[r.jsx(We,{className:"w-4 h-4"}),r.jsx("span",{children:"Mark Complete"})]}),(U||J)&&r.jsxs("div",{className:"flex justify-center space-x-2 pt-2",children:[U&&r.jsxs("button",{onClick:ee=>{ee.stopPropagation(),Ah(T)},className:"w-full justify-center py-1.5 bg-blue-50 rounded-xl text-blue-600 hover:text-blue-700 hover:bg-blue-100 text-sm font-medium flex items-center space-x-1 transition-all duration-200 border border-blue-200",children:[r.jsx(on,{className:"w-4 h-4"}),r.jsx("span",{children:"Edit"})]}),J&&r.jsxs("button",{onClick:ee=>{ee.stopPropagation(),Ma(T.id)},className:"w-full justify-center rounded-xl px-3 py-1.5 bg-red-50 text-red-600 hover:text-red-700 hover:bg-red-100 text-sm font-medium flex items-center space-x-1 transition-all duration-200 rounded-md border border-red-200",children:[r.jsx(Hs,{className:"w-4 h-4"}),r.jsx("span",{children:"Delete"})]})]})]})]},T.id||Math.random()))})]})}),t==="staff"&&r.jsx("div",{className:"mb-8",children:r.jsxs("div",{className:"mb-8",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Staff Tasks"}),r.jsx("button",{onClick:()=>v(!0),className:"px-3 py-2 bg-blue-50 text-blue-600 hover:bg-blue-100 text-sm font-medium rounded-xl border border-blue-200 transition-all",children:"View Staff Overview"})]}),gn.staff.length===0?r.jsxs("div",{className:"text-center py-8 bg-gray-50 rounded-xl",children:[r.jsx(Pt,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No staff tasks"}),r.jsx("p",{className:"text-gray-600",children:"No tasks have been assigned to staff members."})]}):r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:gn.staff.slice(0,6).map(T=>r.jsxs("div",{className:"card-enhanced cursor-pointer hover:shadow-lg transition-shadow duration-200",onClick:()=>n(`/task-details/${T.id}`),children:[r.jsx("div",{className:"flex items-start justify-between mb-4",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center ${T.status==="completed"?"bg-green-100":"bg-blue-100"}`,children:T.status==="completed"?r.jsx(We,{className:"w-5 h-5 text-green-600"}):r.jsx(fs,{className:"w-5 h-5 text-blue-600"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:`text-lg font-semibold ${T.status==="completed"?"line-through text-gray-500":"text-gray-900"}`,children:T.title}),r.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[r.jsx("span",{className:`inline-block px-3 py-1 text-xs font-medium rounded-full ${Zn(T.priority)}`,children:T.priority}),r.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-gray-100 text-gray-600",children:T.tag==="static"?"Daily":"One-time"})]})]})]})}),T.description&&r.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2",children:T.description}),r.jsx("div",{className:"bg-gray-50 rounded-lg p-3 mb-4",children:r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(He,{className:"w-4 h-4 text-gray-500"}),r.jsxs("span",{className:"text-gray-700 font-medium",children:["Due: ",T.due_time]})]}),T.assigned_name&&r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(zt,{className:"w-4 h-4 text-gray-500"}),r.jsx("span",{className:"text-gray-700",children:T.assigned_name})]})]})}),r.jsxs("div",{className:"flex justify-center space-x-2",children:[r.jsxs("button",{onClick:ee=>{ee.stopPropagation(),n(`/task-details/${T.id}`)},className:"w-full justify-center rounded-xl px-3 py-1.5 bg-blue-50 text-blue-600 hover:text-blue-700 hover:bg-blue-100 text-sm font-medium flex items-center space-x-1 transition-all duration-200 rounded-md border border-blue-200",children:[r.jsx(Ut,{className:"w-4 h-4"}),r.jsx("span",{children:"View"})]}),T.status!=="completed"&&T.assigned_to&&r.jsxs("button",{onClick:ee=>{ee.stopPropagation(),Oh(T.id,T.assigned_to)},className:"w-full justify-center rounded-xl px-3 py-1.5 bg-orange-50 text-orange-600 hover:text-orange-700 hover:bg-orange-100 text-sm font-medium flex items-center space-x-1 transition-all duration-200 rounded-md border border-orange-200",children:[r.jsx(zt,{className:"w-4 h-4"}),r.jsx("span",{children:"Remind"})]})]})]},T.id||Math.random()))})]})})]}):r.jsxs("div",{className:"mb-8",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Today's Tasks"}),Qt.length>6&&r.jsx("button",{onClick:()=>H(!I),className:"text-primary-600 hover:text-primary-700 text-sm font-medium",children:I?"Show Less":`See More (${Qt.length-6})`})]}),Qt.length===0?r.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-xl",children:[r.jsx(We,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No tasks found"}),r.jsx("p",{className:"text-gray-600",children:u==="all"?"No tasks available.":`No ${u} tasks found.`})]}):r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-2 gap-4 sm:gap-6",children:(I?Qt:Qt.slice(0,6)).map(T=>r.jsxs("div",{className:"card-enhanced cursor-pointer hover:shadow-lg transition-shadow duration-200",onClick:()=>n(`/task-details/${T.id}`),children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center ${T.status==="completed"?"bg-green-100":"bg-blue-100"}`,children:T.status==="completed"?r.jsx(We,{className:"w-5 h-5 text-green-600"}):r.jsx(fs,{className:"w-5 h-5 text-blue-600"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:`text-lg font-semibold ${T.status==="completed"?"line-through text-gray-500":"text-gray-900"}`,children:T.title}),r.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[r.jsx("span",{className:`inline-block px-3 py-1 text-xs font-medium rounded-full ${Zn(T.priority)}`,children:T.priority}),r.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-gray-100 text-gray-600",children:T.tag==="static"?"Daily":"One-time"})]})]})]}),T.status==="completed"&&T.evidence_photo&&r.jsxs("div",{className:"text-right",children:[r.jsx("span",{className:"text-xs text-gray-500",children:"Evidence"}),r.jsxs("div",{className:"flex items-center space-x-1 mt-1",children:[r.jsx(En,{className:"w-4 h-4 text-green-500"}),r.jsx("span",{className:"text-xs text-green-600",children:"Uploaded"})]})]})]}),T.description&&r.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2",children:T.description}),r.jsx("div",{className:"bg-gray-50 rounded-lg p-3 mb-4",children:r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(He,{className:"w-4 h-4 text-gray-500"}),r.jsxs("span",{className:"text-gray-700 font-medium",children:["Due: ",T.due_time]})]}),T.assigned_to_name&&r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(zt,{className:"w-4 h-4 text-gray-500"}),r.jsx("span",{className:"text-gray-700",children:T.assigned_to_name})]})]})}),T.status==="completed"?r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"text-sm text-green-600 font-medium",children:["✅ Completed ",T.completed_at?new Date(T.completed_at).toLocaleString():"Recently"]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs("button",{onClick:ee=>{ee.stopPropagation(),Ur(T)},className:"text-primary-600 hover:text-primary-700 text-sm font-medium flex items-center space-x-1 transition-colors",children:[r.jsx(Ut,{className:"w-4 h-4"}),r.jsx("span",{children:"View Details"})]}),J&&r.jsxs("button",{onClick:ee=>{ee.stopPropagation(),Ma(T.id)},className:"px-2 py-1 text-red-600 hover:text-red-700 hover:bg-red-50 text-sm font-medium flex items-center space-x-1 transition-all duration-200 rounded-md",children:[r.jsx(Hs,{className:"w-4 h-4"}),r.jsx("span",{children:"Delete"})]})]})]}):r.jsxs("div",{className:"flex flex-col space-y-2",children:[r.jsxs("button",{onClick:ee=>{ee.stopPropagation(),qe(T)},className:"btn-primary text-sm flex items-center space-x-2 w-full justify-center",children:[r.jsx(We,{className:"w-4 h-4"}),r.jsx("span",{children:"Mark Complete"})]}),(U||J)&&r.jsxs("div",{className:"flex justify-center space-x-2",children:[U&&r.jsxs("button",{onClick:ee=>{ee.stopPropagation(),Ah(T)},className:"px-3 py-1.5 bg-blue-50 text-blue-600 hover:text-blue-700 hover:bg-blue-100 text-sm font-medium flex items-center space-x-1 transition-all duration-200 rounded-md border border-blue-200",children:[r.jsx(on,{className:"w-4 h-4"}),r.jsx("span",{children:"Edit"})]}),J&&r.jsxs("button",{onClick:ee=>{ee.stopPropagation(),Ma(T.id)},className:"px-3 py-1.5 bg-red-50 text-red-600 hover:text-red-700 hover:bg-red-100 text-sm font-medium flex items-center space-x-1 transition-all duration-200 rounded-md border border-red-200",children:[r.jsx(Hs,{className:"w-4 h-4"}),r.jsx("span",{children:"Delete"})]})]})]})]},T.id||Math.random()))})]}),l.length>0&&r.jsxs("div",{className:"mb-8",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"This Week's Tasks"}),l.length>6&&r.jsx("button",{onClick:()=>Z(!Q),className:"text-primary-600 hover:text-primary-700 text-sm font-medium",children:Q?"Show Less":`See More (${l.length-6})`})]}),r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:(Q?l:l.slice(0,6)).map(T=>r.jsxs("div",{className:"card-enhanced cursor-pointer hover:shadow-lg transition-shadow duration-200",onClick:()=>n(`/task-details/${T.id}`),children:[r.jsx("div",{className:"flex items-start justify-between mb-4",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center ${T.status==="completed"?"bg-green-100":"bg-blue-100"}`,children:T.status==="completed"?r.jsx(We,{className:"w-5 h-5 text-green-600"}):r.jsx(fs,{className:"w-5 h-5 text-blue-600"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:`text-lg font-semibold ${T.status==="completed"?"line-through text-gray-500":"text-gray-900"}`,children:T.title}),r.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[r.jsx("span",{className:`inline-block px-3 py-1 text-xs font-medium rounded-full ${Zn(T.priority)}`,children:T.priority}),r.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-gray-100 text-gray-600",children:T.tag==="static"?"Daily":"One-time"})]})]})]})}),T.description&&r.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2",children:T.description}),r.jsx("div",{className:"bg-gray-50 rounded-lg p-3 mb-4",children:r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(He,{className:"w-4 h-4 text-gray-500"}),r.jsxs("span",{className:"text-gray-700 font-medium",children:["Due: ",T.due_time]})]}),T.assigned_to_name&&r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(zt,{className:"w-4 h-4 text-gray-500"}),r.jsx("span",{className:"text-gray-700",children:T.assigned_to_name})]})]})}),r.jsx("div",{className:"flex justify-center mt-4",children:r.jsxs("button",{onClick:ee=>{ee.stopPropagation(),Ur(T)},className:"text-primary-600 hover:text-primary-700 text-sm font-medium flex items-center space-x-1 transition-colors",children:[r.jsx(Ut,{className:"w-4 h-4"}),r.jsx("span",{children:"View Details"})]})})]},T.id||Math.random()))})]}),b&&j&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 backdrop-blur-sm flex justify-center items-center z-50 p-4",children:r.jsx("div",{className:"bg-white rounded-2xl w-full max-w-lg shadow-2xl relative max-h-[90vh] overflow-y-auto",children:r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-xl flex items-center justify-center",children:r.jsx(We,{className:"w-5 h-5 text-green-600"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Complete Task"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Add evidence and notes"})]})]}),r.jsx("button",{onClick:Rh,className:"text-gray-400 hover:text-gray-600 transition-colors p-1 rounded-lg hover:bg-gray-100",children:r.jsx(Ae,{className:"w-6 h-6"})})]}),r.jsxs("div",{className:"bg-blue-50 rounded-xl p-4 mb-6",children:[r.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:j.title}),r.jsx("p",{className:"text-sm text-gray-600 mb-3",children:j.description}),r.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx(He,{className:"w-3 h-3"}),r.jsxs("span",{children:["Due: ",j.due_time]})]}),r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx(fs,{className:"w-3 h-3"}),r.jsxs("span",{children:["Completing: ",new Date().toLocaleString()]})]})]})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:[r.jsx(En,{className:"w-4 h-4 inline mr-2"}),"Photo Evidence"]}),P&&r.jsxs("div",{className:"mb-4 p-4 bg-gray-100 rounded-xl",children:[r.jsx("video",{ref:$,autoPlay:!0,className:"w-full rounded-lg mb-3"}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("button",{type:"button",onClick:ce,className:"flex-1 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"📸 Capture"}),r.jsx("button",{type:"button",onClick:()=>{E(!1),C&&C.getTracks().forEach(T=>T.stop())},className:"px-4 py-2 text-gray-600 bg-gray-200 rounded-lg hover:bg-gray-300 transition-colors",children:"Cancel"})]})]}),r.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-xl p-6 text-center hover:border-primary-400 transition-colors",children:_.photoPreview?r.jsxs("div",{className:"space-y-3",children:[r.jsx("img",{src:_.photoPreview,alt:"Preview",className:"max-w-full h-40 object-cover rounded-xl mx-auto shadow-md"}),r.jsxs("div",{className:"flex space-x-2 justify-center",children:[r.jsx("button",{onClick:()=>{URL.revokeObjectURL(_.photoPreview),k(T=>({...T,photo:null,photoPreview:null}))},className:"px-3 py-1 text-red-600 bg-red-50 rounded-lg text-sm hover:bg-red-100 transition-colors",children:"🗑️ Remove"}),r.jsxs("label",{className:"px-3 py-1 text-blue-600 bg-blue-50 rounded-lg text-sm hover:bg-blue-100 transition-colors cursor-pointer",children:["🔄 Replace",r.jsx("input",{type:"file",accept:"image/*",onChange:Vr,className:"hidden"})]})]})]}):r.jsxs("div",{children:[r.jsxs("div",{className:"flex justify-center space-x-4 mb-4",children:[r.jsxs("label",{className:"flex flex-col items-center cursor-pointer p-3 rounded-xl border-2 border-transparent hover:border-blue-200 hover:bg-blue-50 transition-all",children:[r.jsx(G2,{className:"w-8 h-8 text-gray-400 mb-2"}),r.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Upload File"}),r.jsx("input",{type:"file",accept:"image/*",onChange:Vr,className:"hidden"})]}),r.jsxs("button",{type:"button",onClick:z,className:"flex flex-col items-center p-3 rounded-xl border-2 border-transparent hover:border-green-200 hover:bg-green-50 transition-all",children:[r.jsx(En,{className:"w-8 h-8 text-gray-400 mb-2"}),r.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Take Photo"})]})]}),r.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG up to 10MB"})]})})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:[r.jsx(Rr,{className:"w-4 h-4 inline mr-2"}),"Completion Notes (Optional)"]}),r.jsx("textarea",{value:_.notes,onChange:T=>k(ee=>({...ee,notes:T.target.value})),placeholder:"Describe what was completed, any issues encountered, or additional details...",className:"w-full p-4 border border-gray-300 rounded-xl focus:ring-2 focus:ring-primary-500 focus:border-primary-500 resize-none transition-all",rows:"4"})]})]}),X&&r.jsx("div",{className:"text-red-600 text-sm mb-4",children:X}),r.jsxs("div",{className:"flex space-x-3 mt-8",children:[r.jsx("button",{onClick:Rh,className:"flex-1 px-6 py-3 text-gray-700 bg-gray-100 rounded-xl hover:bg-gray-200 transition-colors font-medium",children:"Cancel"}),r.jsx("button",{onClick:F?Ea:void 0,className:"flex-1 px-6 py-3 bg-gradient-to-r from-green-600 to-green-700 text-white rounded-xl hover:from-green-700 hover:to-green-800 transition-all font-medium shadow-md hover:shadow-lg",disabled:!F,type:"button",children:"✅ Complete Task"})]})]})})}),p&&j&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 backdrop-blur-sm flex justify-center items-center z-50 p-4",children:r.jsx("div",{className:"bg-white rounded-2xl w-full max-w-md shadow-2xl relative max-h-[90vh] overflow-y-auto",children:r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Task Details"}),r.jsx("button",{onClick:Jy,className:"text-gray-400 hover:text-gray-600 transition-colors",children:r.jsx(Ae,{className:"w-6 h-6"})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:j.title}),r.jsxs("span",{className:`inline-block px-2 py-1 text-xs font-medium rounded-full border ${Zn(j.priority)}`,children:[j.priority," priority"]})]}),r.jsxs("div",{children:[r.jsxs("h5",{className:"font-medium text-gray-700 mb-2 flex items-center space-x-1",children:[r.jsx(Rr,{className:"w-4 h-4"}),r.jsx("span",{children:"Description"})]}),r.jsx("p",{className:"text-gray-600 bg-gray-50 p-3 rounded-lg",children:j.description})]}),r.jsxs("div",{children:[r.jsxs("h5",{className:"font-medium text-gray-700 mb-2 flex items-center space-x-1",children:[r.jsx(He,{className:"w-4 h-4"}),r.jsx("span",{children:"Timeline"})]}),r.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg space-y-1",children:[r.jsxs("p",{className:"text-sm",children:[r.jsx("span",{className:"font-medium",children:"Due:"})," ",j.due_time]}),r.jsxs("p",{className:"text-sm text-green-600",children:[r.jsx("span",{className:"font-medium",children:"Completed:"})," ",j.completed_at?new Date(j.completed_at).toLocaleString():"Recently"]})]})]}),j.completion_notes&&r.jsxs("div",{children:[r.jsx("h5",{className:"font-medium text-gray-700 mb-2",children:"Completion Notes"}),r.jsx("p",{className:"text-gray-600 bg-blue-50 p-3 rounded-lg",children:j.completion_notes})]}),j.evidence_photo&&r.jsxs("div",{children:[r.jsxs("h5",{className:"font-medium text-gray-700 mb-2 flex items-center space-x-1",children:[r.jsx(En,{className:"w-4 h-4"}),r.jsx("span",{children:"Evidence Photo"})]}),r.jsx("div",{className:"bg-green-50 p-3 rounded-lg",children:r.jsx("div",{className:"flex items-center space-x-2 text-green-700",children:r.jsx("img",{src:j.evidence_photo,alt:"Photo",className:"w-12 h-12 rounded-lg object-cover"})})})]})]})]})})}),x&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 backdrop-blur-sm flex justify-center items-center z-50 p-4",children:r.jsxs("div",{className:"bg-white p-6 rounded-2xl w-full max-w-md max-h-[90vh] overflow-y-auto shadow-2xl relative",children:[r.jsx("button",{onClick:()=>y(!1),className:"absolute top-4 right-4 text-gray-500 hover:text-black transition-colors",children:r.jsx(Ae,{className:"w-6 h-6"})}),r.jsx(iN,{})]})}),S&&M&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 backdrop-blur-sm flex justify-center items-center z-50 p-4",children:r.jsxs("div",{className:"bg-white p-6 rounded-2xl w-full max-w-md max-h-[90vh] overflow-y-auto shadow-2xl relative",children:[r.jsx("button",{onClick:Lh,className:"absolute top-4 right-4 text-gray-500 hover:text-black transition-colors",children:r.jsx(Ae,{className:"w-6 h-6"})}),r.jsx(aN,{task:M,onTaskUpdated:Zy,onCancel:Lh})]})}),Qt.length===0&&r.jsxs("div",{className:"text-center py-12",children:[r.jsx(fs,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No tasks found"}),r.jsx("p",{className:"text-gray-600",children:u==="all"?"No tasks available.":`No ${u} tasks found.`})]}),m&&["Admin","Farm Manager"].includes(e==null?void 0:e.role)&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 backdrop-blur-sm flex justify-center items-center z-50 p-4",children:r.jsx("div",{className:"bg-white rounded-2xl w-full max-w-6xl shadow-2xl relative max-h-[90vh] overflow-hidden",children:r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-xl flex items-center justify-center",children:r.jsx(zt,{className:"w-5 h-5 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Staff Tasks Overview"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Monitor and manage all staff tasks"})]})]}),r.jsx("button",{onClick:()=>v(!1),className:"text-gray-400 hover:text-gray-600 transition-colors p-1 rounded-lg hover:bg-gray-100",children:r.jsx(Ae,{className:"w-6 h-6"})})]}),r.jsxs("div",{className:"overflow-x-auto",children:[r.jsxs("table",{className:"w-full border-collapse",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"bg-gray-50",children:[r.jsx("th",{className:"text-left p-3 font-medium text-gray-700 border-b",children:"Task"}),r.jsx("th",{className:"text-left p-3 font-medium text-gray-700 border-b",children:"Assigned To"}),r.jsx("th",{className:"text-left p-3 font-medium text-gray-700 border-b",children:"Due Date"}),r.jsx("th",{className:"text-left p-3 font-medium text-gray-700 border-b",children:"Due Time"}),r.jsx("th",{className:"text-left p-3 font-medium text-gray-700 border-b",children:"Status"}),r.jsx("th",{className:"text-left p-3 font-medium text-gray-700 border-b",children:"Priority"}),r.jsx("th",{className:"text-left p-3 font-medium text-gray-700 border-b",children:"Actions"})]})}),r.jsx("tbody",{children:i.filter(T=>T.assigned_to!==(e==null?void 0:e.id)).map(T=>r.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[r.jsx("td",{className:"p-3 border-b",children:r.jsxs("div",{children:[r.jsx("div",{className:"font-medium text-gray-900",children:T.title}),T.description&&r.jsx("div",{className:"text-sm text-gray-600 line-clamp-1",children:T.description})]})}),r.jsx("td",{className:"p-3 border-b",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-xs font-medium text-blue-600",children:T.assigned_name?T.assigned_name.split(" ").map(ee=>ee[0]).join(""):"UN"})}),r.jsx("span",{className:"text-sm text-gray-700",children:T.assigned_name||"Unassigned"})]})}),r.jsx("td",{className:"p-3 border-b",children:r.jsx("span",{className:"text-sm text-gray-600",children:new Date(T.due_date).toLocaleDateString()||"Not set"})}),r.jsx("td",{className:"p-3 border-b",children:r.jsx("span",{className:"text-sm text-gray-600",children:T.due_time||"Not set"})}),r.jsx("td",{className:"p-3 border-b",children:r.jsx("span",{className:`inline-block px-2 py-1 text-xs font-medium rounded-full ${T.status==="completed"?"bg-green-100 text-green-800":T.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:T.status})}),r.jsx("td",{className:"p-3 border-b",children:r.jsx("span",{className:`inline-block px-2 py-1 text-xs font-medium rounded-full ${Zn(T.priority)}`,children:T.priority})}),r.jsx("td",{className:"p-3 border-b",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("button",{onClick:()=>n(`/task-details/${T.id}`),className:"px-2 py-1 text-blue-600 hover:bg-blue-50 text-xs font-medium rounded transition-all",children:"View"}),T.status!=="completed"&&T.assigned_to&&r.jsx("button",{onClick:()=>Oh(T.id,T.assigned_to),className:"px-2 py-1 text-orange-600 hover:bg-orange-50 text-xs font-medium rounded transition-all",children:"Remind"})]})})]},T.id))})]}),i.filter(T=>T.assigned_to!==(e==null?void 0:e.id)).length===0&&r.jsx("div",{className:"text-center py-8 text-gray-500",children:"No staff tasks found"})]})]})})})]})},f_=()=>{const{user:e}=Fe(),[t,s]=N.useState([]),[n,i]=N.useState([]),[a,l]=N.useState([]),[o,c]=N.useState(""),[d,u]=N.useState("personal"),[h,m]=N.useState(!0),[v]=jg(),x=At(),y=v.get("week")||"current",[b,f]=N.useState(""),[p,g]=N.useState(""),[j,w]=N.useState(""),[_,k]=N.useState(""),[P,E]=N.useState(!1);N.useEffect(()=>{(async()=>{try{const S=await O.get("/task-history"),A=S.data.data||S.data;s(A),e&&(e.role==="Admin"||e.role==="Admin User"||e.role==="Farm Manager")?(i(A.filter($=>$.assigned_to===e.id)),l(A.filter($=>$.assigned_to!==e.id))):i(A.filter($=>$.assigned_to===(e==null?void 0:e.id)))}catch(S){console.error("Failed to fetch task history:",S),s([]),i([]),l([])}finally{m(!1)}})()},[]);const C=B=>{switch(B){case"high":return"bg-red-100 text-red-700";case"medium":return"bg-yellow-100 text-yellow-700";case"low":return"bg-green-100 text-green-700";default:return"bg-gray-100 text-gray-700"}},R=(B,S=null)=>B.filter(A=>{var J,F,z;const $=((J=A.title)==null?void 0:J.toLowerCase().includes(b.toLowerCase()))||((F=A.description)==null?void 0:F.toLowerCase().includes(b.toLowerCase()))||((z=A.assigned_name)==null?void 0:z.toLowerCase().includes(b.toLowerCase())),X=!p||A.status===p,K=!j||A.priority===j,L=!_||A.tag===_,U=!o||String(A.assigned_to)===o;return $&&X&&K&&L&&(S?S(A):!0)&&U}),I=R(n),H=R(a),Q=R(t),Z=()=>{f(""),g(""),w(""),k("")};if(h)return r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})});const M=B=>r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full bg-white rounded-2xl shadow-xl",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"bg-gradient-to-r from-primary-100 to-primary-50 text-primary-800",children:[r.jsx("th",{className:"px-6 py-4 text-left font-semibold rounded-tl-2xl",children:"Title"}),r.jsx("th",{className:"px-6 py-4 text-left font-semibold",children:"Status"}),r.jsx("th",{className:"px-6 py-4 text-left font-semibold",children:"Priority"}),r.jsx("th",{className:"px-6 py-4 text-left font-semibold",children:"Type"}),r.jsx("th",{className:"px-6 py-4 text-left font-semibold",children:"Due Time"}),r.jsx("th",{className:"px-6 py-4 text-left font-semibold",children:"Completed At"}),r.jsx("th",{className:"px-6 py-4 text-left font-semibold",children:"Assigned"}),r.jsx("th",{className:"px-6 py-4 text-left font-semibold",children:"Evidence"}),r.jsx("th",{className:"px-6 py-4 text-left font-semibold rounded-tr-2xl",children:"Notes"})]})}),r.jsx("tbody",{children:B.map((S,A)=>r.jsxs("tr",{className:`transition-colors ${S.status==="completed"?"bg-green-50":""} ${A%2===0?"":"bg-gray-50"} hover:bg-primary-50`,style:{borderRadius:A===0?"1rem 1rem 0 0":A===B.length-1?"0 0 1rem 1rem":""},children:[r.jsx("td",{className:"px-6 py-4 font-semibold whitespace-nowrap",children:S.status==="completed"?r.jsx("span",{className:"line-through text-gray-500",children:S.title}):r.jsx("span",{className:"text-gray-900",children:S.title})}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold shadow-sm ${S.status==="completed"?"bg-green-200 text-green-700":S.status==="missed"?"bg-red-200 text-red-700":"bg-gray-200 text-gray-700"}`,children:S.status})}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium shadow-sm ${C(S.priority)}`,children:S.priority})}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-700",children:S.recurrent===!0||S.tag==="static"?"Daily":"One-time"})}),r.jsx("td",{className:"px-6 py-4",children:S.due_time||r.jsx("span",{className:"text-gray-400",children:"-"})}),r.jsx("td",{className:"px-6 py-4",children:S.completed_at?r.jsx("span",{className:"bg-green-100 text-green-700 px-2 py-1 rounded-lg text-xs font-mono",children:new Date(S.completed_at).toLocaleString()}):S.completion_date?r.jsx("span",{className:"bg-gray-100 text-gray-700 px-2 py-1 rounded-lg text-xs font-mono",children:new Date(S.completion_date).toLocaleDateString()}):r.jsx("span",{className:"text-gray-400",children:"-"})}),r.jsx("td",{className:"px-6 py-4",children:S.assigned_name||r.jsx("span",{className:"text-gray-400",children:"-"})}),r.jsx("td",{className:"px-6 py-4",children:S.evidence_photo?r.jsx("a",{href:S.evidence_photo,target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 underline font-medium",children:"View"}):r.jsx("span",{className:"text-gray-400",children:"-"})}),r.jsx("td",{className:"px-6 py-4",children:S.completion_notes?r.jsx("span",{className:"bg-yellow-50 text-yellow-800 px-2 py-1 rounded-lg text-xs",children:S.completion_notes}):r.jsx("span",{className:"text-gray-400",children:"-"})})]},S.id))})]})});return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("button",{onClick:()=>x("/tasks"),className:"p-2 text-gray-500 hover:text-gray-700 rounded-lg hover:bg-gray-100 transition-colors",children:r.jsx(Ps,{className:"w-5 h-5"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:"Task History"}),r.jsxs("p",{className:"text-gray-600 mt-2",children:[y==="current"?"This Week":y," • ",Q.length," of ",t.length," tasks shown"]})]})]}),r.jsxs("button",{onClick:()=>E(!P),className:"mt-4 sm:mt-0 bg-primary-600 hover:bg-primary-700 text-white px-4 py-2 rounded-xl flex items-center space-x-2 transition-colors",children:[r.jsx(Yo,{className:"w-5 h-5"}),r.jsx("span",{children:"Filters"})]})]}),P&&r.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search Tasks"}),r.jsxs("div",{className:"relative",children:[r.jsx(Hr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),r.jsx("input",{type:"text",placeholder:"Search by title, description...",value:b,onChange:B=>f(B.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),r.jsxs("select",{value:p,onChange:B=>g(B.target.value),className:"w-full border border-gray-300 rounded-xl px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[r.jsx("option",{value:"",children:"All Status"}),r.jsx("option",{value:"completed",children:"Completed"}),r.jsx("option",{value:"pending",children:"Pending"}),r.jsx("option",{value:"in_progress",children:"In Progress"}),r.jsx("option",{value:"missed",children:"Missed"})]})]}),e&&(e.role==="Admin"||e.role==="Admin User"||e.role==="Farm Manager")&&a.length>0&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Staff"}),r.jsxs("select",{value:o,onChange:B=>c(B.target.value),className:"w-full border border-gray-300 rounded-xl px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[r.jsx("option",{value:"",children:"All Staff"}),[...new Set(a.map(B=>`${B.assigned_to}|${B.assigned_name}`))].map(B=>{const[S,A]=B.split("|");return r.jsx("option",{value:S,children:A||S},S)})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Priority"}),r.jsxs("select",{value:j,onChange:B=>w(B.target.value),className:"w-full border border-gray-300 rounded-xl px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[r.jsx("option",{value:"",children:"All Priorities"}),r.jsx("option",{value:"high",children:"High"}),r.jsx("option",{value:"medium",children:"Medium"}),r.jsx("option",{value:"low",children:"Low"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Type"}),r.jsxs("select",{value:_,onChange:B=>k(B.target.value),className:"w-full border border-gray-300 rounded-xl px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[r.jsx("option",{value:"",children:"All Types"}),r.jsx("option",{value:"static",children:"Daily Tasks"}),r.jsx("option",{value:"dynamic",children:"One-time Tasks"})]})]}),r.jsx("div",{className:"flex items-end",children:r.jsxs("button",{onClick:Z,className:"w-full bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-2 rounded-xl flex items-center justify-center space-x-2 transition-colors",children:[r.jsx(Ae,{className:"w-4 h-4"}),r.jsx("span",{children:"Clear"})]})})]})}),e&&(e.role==="Admin"||e.role==="Admin User"||e.role==="Farm Manager")?r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[r.jsxs("div",{className:"flex gap-4 mb-6",children:[r.jsx("button",{onClick:()=>u("personal"),className:`py-3 px-4 text-sm font-medium border-b-2 transition-colors duration-200 ${d==="personal"?"border-primary-600 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Personal Tasks"}),r.jsx("button",{onClick:()=>u("staff"),className:`py-3 px-4 text-sm font-medium border-b-2 transition-colors duration-200 ${d==="staff"?"border-primary-600 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Staff Tasks"})]}),d==="personal"?I.length===0?r.jsx("div",{className:"text-center py-8 text-gray-500",children:"No personal task history found."}):M(I):H.length===0?r.jsx("div",{className:"text-center py-8 text-gray-500",children:"No staff task history found."}):M(H)]}):r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[r.jsx("h2",{className:"text-xl font-bold mb-4",children:"Personal Task History"}),I.length===0?r.jsx("div",{className:"text-center py-8 text-gray-500",children:"No personal task history found."}):M(I)]})]})},x_=()=>{const{id:e}=ih(),t=At(),[s,n]=N.useState(null),[i,a]=N.useState(!0);N.useEffect(()=>{(async()=>{var d;try{const u=await $s.getTaskDetails(e),h=((d=u.data)==null?void 0:d.data)||u.data;n(h)}catch(u){console.error("Failed to fetch task details:",u),n(null)}finally{a(!1)}})()},[e]);const l=c=>{switch(c){case"high":return"bg-red-100 text-red-800 border-red-200";case"medium":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"low":return"bg-green-100 text-green-800 border-green-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},o=c=>c==="completed"?r.jsx(We,{className:"w-6 h-6 text-green-500"}):r.jsx(fs,{className:"w-6 h-6 text-gray-400"});return i?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):s?r.jsxs("div",{className:"space-y-6 mx-auto px-2 sm:px-4 lg:px-8 py-6",children:[r.jsx("div",{className:"flex items-center justify-between mb-6",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("button",{onClick:()=>t("/tasks"),className:"p-2 text-gray-500 hover:text-gray-700 rounded-lg hover:bg-gray-100 transition-colors",children:r.jsx(Ps,{className:"w-5 h-5"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:s.title}),r.jsxs("div",{className:"flex items-center gap-3 mt-2",children:[o(s.status),r.jsxs("span",{className:`inline-block px-3 py-1 text-sm font-medium rounded-full border ${l(s.priority)}`,children:[s.priority," priority"]}),r.jsxs("span",{className:"text-sm text-gray-500 capitalize",children:["Status: ",s.status]})]})]})]})}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[r.jsxs("div",{className:"card-enhanced",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-xl flex items-center justify-center",children:r.jsx(Rr,{className:"w-5 h-5 text-blue-600"})}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Description"})]}),r.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:r.jsx("p",{className:"text-gray-700 leading-relaxed",children:s.description||"No description provided"})})]}),r.jsxs("div",{className:"card-enhanced",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-xl flex items-center justify-center",children:r.jsx(He,{className:"w-5 h-5 text-green-600"})}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Timeline"})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[r.jsx("span",{className:"font-medium text-gray-700",children:"Due Date:"}),r.jsx("span",{className:"text-gray-600",children:new Date(s.due_date).toLocaleDateString()||"Not specified"})]}),r.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[r.jsx("span",{className:"font-medium text-gray-700",children:"Due Time:"}),r.jsx("span",{className:"text-gray-600",children:s.due_time||"Not specified"})]}),s.completed_at&&r.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-lg",children:[r.jsx("span",{className:"font-medium text-green-700",children:"Completed:"}),r.jsx("span",{className:"text-green-600",children:new Date(s.completed_at).toLocaleString()})]})]})]}),s.completion_notes&&r.jsxs("div",{className:"card-enhanced",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-xl flex items-center justify-center",children:r.jsx(Rr,{className:"w-5 h-5 text-purple-600"})}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Completion Notes"})]}),r.jsx("div",{className:"bg-blue-50 p-4 rounded-lg",children:r.jsx("p",{className:"text-gray-700",children:s.completion_notes})})]}),s.evidence_photo&&r.jsxs("div",{className:"card-enhanced",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-xl flex items-center justify-center",children:r.jsx(En,{className:"w-5 h-5 text-orange-600"})}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Evidence Photo"})]}),r.jsx("div",{className:"bg-green-50 p-4 rounded-lg",children:r.jsx("img",{src:s.evidence_photo,alt:"Task completion evidence",className:"w-full max-w-md rounded-lg object-cover shadow-lg"})})]})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"card-enhanced",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"w-10 h-10 bg-indigo-100 rounded-xl flex items-center justify-center",children:r.jsx(X2,{className:"w-5 h-5 text-indigo-600"})}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Task Type"})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[r.jsx("span",{className:"font-medium text-gray-700",children:"Type:"}),r.jsx("span",{className:"text-gray-600 capitalize",children:s.tag==="static"?"Static (Daily)":"Dynamic (One-time)"})]}),r.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[r.jsx("span",{className:"font-medium text-gray-700",children:"Recurrent:"}),r.jsx("span",{className:"text-gray-600",children:s.recurrent?"Yes":"No"})]})]})]}),r.jsxs("div",{className:"card-enhanced",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"w-10 h-10 bg-cyan-100 rounded-xl flex items-center justify-center",children:r.jsx(zt,{className:"w-5 h-5 text-cyan-600"})}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Assignment"})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[r.jsx("span",{className:"font-medium text-gray-700",children:"Assigned To:"}),r.jsx("span",{className:"text-gray-600",children:s.assigned_name||"Unassigned"})]}),s.created_by_name&&r.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[r.jsx("span",{className:"font-medium text-gray-700",children:"Created By:"}),r.jsx("span",{className:"text-gray-600",children:s.created_by_name})]})]})]}),r.jsxs("div",{className:"card-enhanced",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"w-10 h-10 bg-emerald-100 rounded-xl flex items-center justify-center",children:r.jsx(He,{className:"w-5 h-5 text-emerald-600"})}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Created"})]}),r.jsx("div",{className:"p-3 bg-gray-50 rounded-lg",children:r.jsx("span",{className:"text-gray-600",children:s.created_at?new Date(s.created_at).toLocaleDateString():"Unknown"})})]})]})]})]}):r.jsx("div",{className:"space-y-6 max-w-7xl mx-auto px-2 sm:px-4 lg:px-8 py-6",children:r.jsxs("div",{className:"text-center py-12",children:[r.jsx(Zg,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Task not found"}),r.jsx("p",{className:"text-gray-600 mb-4",children:"The task you're looking for doesn't exist or you don't have permission to view it."}),r.jsx("button",{onClick:()=>t(-1),className:"btn-primary",children:"Go Back"})]})})},p_=()=>{const[e,t]=N.useState(new Date),[s,n]=N.useState([]),[i,a]=N.useState(!1),[l,o]=N.useState(null),[c,d]=N.useState(!0),[u,h]=N.useState({title:"",description:"",event_date:"",event_time:"",location:"",type:"meeting",priority:"medium",reminder_minutes:30,notify:!0,participants:""}),[m,v]=N.useState(""),[x,y]=N.useState({});N.useEffect(()=>{b()},[]);const b=async()=>{try{const C=await fi.getEvents();n(C.data)}catch(C){console.error("Error fetching events:",C)}finally{d(!1)}},f=C=>{const R={};if(C.title.trim()?C.title.length>100&&(R.title="Title must be less than 100 characters"):R.title="Event title is required",!C.event_date)R.event_date="Event date is required";else{const I=new Date(C.event_date),H=new Date;H.setHours(0,0,0,0),I<H&&(R.event_date="Event date cannot be in the past")}return C.description&&C.description.length>500&&(R.description="Description must be less than 500 characters"),C.location&&C.location.length>100&&(R.location="Location must be less than 100 characters"),R},p=async C=>{var I;C.preventDefault(),v(""),y({});const R=f(u);if(Object.keys(R).length>0){y(R),v("Please fix the errors below");return}try{const H=await fi.createEvent(u);n([...s,H.data]),a(!1),h({title:"",description:"",event_date:"",event_time:"",location:"",type:"meeting",priority:"medium",reminder_minutes:30,notify:!0,participants:""}),v(""),y({}),alert("Event created successfully!")}catch(H){console.error("Error creating event:",H);const Q=(I=H.response)==null?void 0:I.data;Q!=null&&Q.field?(y({[Q.field]:Q.message}),v("Please check the highlighted field")):Q!=null&&Q.message?v(Q.message):H.code==="ERR_NETWORK"?v("Network error. Please check your connection and try again."):v("Failed to create event. Please try again.")}},g=async C=>{if(C.preventDefault(),!!l)try{const{id:R,...I}=l,H=await fi.updateEvent(R,I);n(s.map(Q=>Q.id===R?H.data:Q)),o(null)}catch(R){console.error("Error updating event:",R)}},j=async C=>{try{await fi.deleteEvent(C),n(s.filter(R=>R.id!==C))}catch(R){console.error("Error deleting event:",R)}},w=C=>{const R=C.getFullYear(),I=C.getMonth(),H=new Date(R,I,1),Z=new Date(R,I+1,0).getDate(),M=H.getDay(),B=[];for(let S=0;S<M;S++)B.push(null);for(let S=1;S<=Z;S++)B.push(S);return B},_=C=>{if(!C)return[];const R=`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}-${String(C).padStart(2,"0")}`;return s.filter(I=>I.event_date===R)},k=C=>{const R=new Date(e);R.setMonth(e.getMonth()+C),t(R)},P=["January","February","March","April","May","June","July","August","September","October","November","December"],E=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];return c?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):r.jsxs("div",{className:"space-y-6 max-w-7xl mx-auto px-2 sm:px-4 lg:px-8 py-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 mb-4",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:"Calendar"}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Schedule and manage farm events and meetings"})]}),r.jsx("div",{className:"flex flex-wrap items-center gap-2 sm:gap-3",children:r.jsxs("a",{target:"_blank",rel:"noopener noreferrer",href:"https://mx4125.usc1.mymailhosting.com/interface/root#/popout/appointment/new",className:"btn-primary text-sm flex items-center space-x-2",children:[r.jsx(qn,{className:"w-4 h-4"}),r.jsx("span",{children:"Add Event"})]})})]}),r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6",children:r.jsx("div",{className:"lg:col-span-3",children:r.jsxs("div",{className:"card",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("div",{className:"flex items-center space-x-4",children:r.jsxs("h2",{className:"text-lg font-semibold text-gray-900",children:[P[e.getMonth()]," ",e.getFullYear()]})}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("button",{onClick:()=>k(-1),className:"p-2 hover:bg-gray-100 rounded-xl",children:r.jsx(I2,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>t(new Date),className:"px-3 py-2 text-sm text-primary-600 hover:bg-primary-50 rounded-xl",children:"Today"}),r.jsx("button",{onClick:()=>k(1),className:"p-2 hover:bg-gray-100 rounded-xl",children:r.jsx(ty,{className:"w-4 h-4"})})]})]}),r.jsxs("div",{className:"grid grid-cols-7 gap-1",children:[E.map(C=>r.jsx("div",{className:"p-3 text-center text-sm font-medium text-gray-500",children:C},C)),w(e).map((C,R)=>{const I=_(C),H=C&&new Date().getDate()===C&&new Date().getMonth()===e.getMonth()&&new Date().getFullYear()===e.getFullYear();return r.jsx("div",{className:`min-h-[120px] p-2 border border-gray-100 ${C?"hover:bg-gray-50":""} ${H?"bg-primary-50 border-primary-200":""}`,children:C&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:`flex items-center justify-between text-sm font-medium mb-1 ${H?"text-primary-600":"text-gray-900"}`,children:r.jsx("span",{children:C})}),r.jsxs("div",{className:"space-y-1",children:[I.slice(0,3).map(Q=>r.jsxs("div",{className:"text-xs p-1 bg-primary-100 text-primary-800 rounded flex items-center justify-between gap-1",children:[r.jsx("span",{className:"truncate",children:Q.title}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("button",{className:"text-[10px] px-1 py-0.5 bg-white/70 rounded hover:bg-white",onClick:()=>o(Q),children:"Edit"}),r.jsx("button",{className:"text-[10px] px-1 py-0.5 bg-red-100 text-red-700 rounded hover:bg-red-200",onClick:()=>j(Q.id),children:"Del"})]})]},Q.id)),I.length>3&&r.jsxs("div",{className:"text-xs text-gray-500",children:["+",I.length-3," more"]})]})]})},R)})]})]})})}),i&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-md max-h-[90vh] overflow-y-auto mx-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Create New Event"}),r.jsx("button",{onClick:()=>a(!1),className:"p-1 hover:bg-gray-100 rounded",children:r.jsx(Ae,{className:"w-5 h-5"})})]}),r.jsx("p",{className:"text-sm text-primary-600 mb-6",children:"Schedule a new task or event on the calendar"}),r.jsxs("form",{onSubmit:p,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title *"}),r.jsx("input",{type:"text",required:!0,className:"input-field",placeholder:"Event title",value:u.title,onChange:C=>h({...u,title:C.target.value})}),x.title&&r.jsx("p",{className:"text-xs text-red-500 mt-1",children:x.title})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date *"}),r.jsx("input",{type:"date",required:!0,className:"input-field",value:u.event_date,onChange:C=>h({...u,event_date:C.target.value})}),x.event_date&&r.jsx("p",{className:"text-xs text-red-500 mt-1",children:x.event_date})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Time *"}),r.jsx("input",{type:"time",required:!0,className:"input-field",value:u.event_time,onChange:C=>h({...u,event_time:C.target.value})})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),r.jsx("textarea",{className:"input-field",rows:"3",placeholder:"Event description",value:u.description,onChange:C=>h({...u,description:C.target.value})}),x.description&&r.jsx("p",{className:"text-xs text-red-500 mt-1",children:x.description})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type"}),r.jsxs("select",{className:"input-field",value:u.type,onChange:C=>h({...u,type:C.target.value}),children:[r.jsx("option",{value:"Task",children:"Task"}),r.jsx("option",{value:"Event",children:"Event"}),r.jsx("option",{value:"Meeting",children:"Meeting"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Priority"}),r.jsxs("select",{className:"input-field",value:u.priority,onChange:C=>h({...u,priority:C.target.value}),children:[r.jsx("option",{value:"low",children:"Low"}),r.jsx("option",{value:"medium",children:"Medium"}),r.jsx("option",{value:"high",children:"High"})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Location"}),r.jsx("input",{type:"text",className:"input-field",placeholder:"Event location",value:u.location,onChange:C=>h({...u,location:C.target.value})}),x.location&&r.jsx("p",{className:"text-xs text-red-500 mt-1",children:x.location})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Reminder (minutes before)"}),r.jsx("input",{type:"number",min:"0",className:"input-field",value:u.reminder_minutes,onChange:C=>h({...u,reminder_minutes:Number(C.target.value)})})]}),r.jsx("div",{className:"flex items-end",children:r.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-gray-700",children:[r.jsx("input",{type:"checkbox",className:"rounded",checked:u.notify,onChange:C=>h({...u,notify:C.target.checked})}),"Send notification"]})})]}),m&&r.jsx("p",{className:"text-xs text-red-500 mt-2",children:m}),r.jsxs("div",{className:"flex space-x-3 pt-4",children:[r.jsx("button",{type:"submit",className:"btn-primary flex-1",children:"Create Event"}),r.jsx("button",{type:"button",onClick:()=>a(!1),className:"btn-secondary flex-1",children:"Cancel"})]})]})]})}),l&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-md max-h-[90vh] overflow-y-auto mx-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Edit Event"}),r.jsx("button",{onClick:()=>o(null),className:"p-1 hover:bg-gray-100 rounded",children:r.jsx(Ae,{className:"w-5 h-5"})})]}),r.jsxs("form",{onSubmit:g,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title *"}),r.jsx("input",{type:"text",required:!0,className:"input-field",value:l.title,onChange:C=>o({...l,title:C.target.value})})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date *"}),r.jsx("input",{type:"date",required:!0,className:"input-field",value:l.event_date,onChange:C=>o({...l,event_date:C.target.value})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Time *"}),r.jsx("input",{type:"time",required:!0,className:"input-field",value:l.event_time,onChange:C=>o({...l,event_time:C.target.value})})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),r.jsx("textarea",{className:"input-field",rows:"3",value:l.description||"",onChange:C=>o({...l,description:C.target.value})})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type"}),r.jsxs("select",{className:"input-field",value:l.type,onChange:C=>o({...l,type:C.target.value}),children:[r.jsx("option",{value:"Task",children:"Task"}),r.jsx("option",{value:"Event",children:"Event"}),r.jsx("option",{value:"Meeting",children:"Meeting"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Priority"}),r.jsxs("select",{className:"input-field",value:l.priority,onChange:C=>o({...l,priority:C.target.value}),children:[r.jsx("option",{value:"low",children:"Low"}),r.jsx("option",{value:"medium",children:"Medium"}),r.jsx("option",{value:"high",children:"High"})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Location"}),r.jsx("input",{type:"text",className:"input-field",value:l.location||"",onChange:C=>o({...l,location:C.target.value})})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Reminder (minutes before)"}),r.jsx("input",{type:"number",min:"0",className:"input-field",value:l.reminder_minutes||0,onChange:C=>o({...l,reminder_minutes:Number(C.target.value)})})]}),r.jsx("div",{className:"flex items-end",children:r.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-gray-700",children:[r.jsx("input",{type:"checkbox",className:"rounded",checked:!!l.notify,onChange:C=>o({...l,notify:C.target.checked})}),"Send notification"]})})]}),r.jsxs("div",{className:"flex space-x-3 pt-4",children:[r.jsx("button",{type:"submit",className:"btn-primary flex-1",children:"Save"}),r.jsx("button",{type:"button",onClick:()=>o(null),className:"btn-secondary flex-1",children:"Cancel"})]})]})]})})]})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Ca(e){return e+.5|0}const Us=(e,t,s)=>Math.max(Math.min(e,s),t);function pi(e){return Us(Ca(e*2.55),0,255)}function nn(e){return Us(Ca(e*255),0,255)}function ps(e){return Us(Ca(e/2.55)/100,0,1)}function Lf(e){return Us(Ca(e*100),0,100)}const kt={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Qd=[..."0123456789ABCDEF"],g_=e=>Qd[e&15],y_=e=>Qd[(e&240)>>4]+Qd[e&15],Ga=e=>(e&240)>>4===(e&15),v_=e=>Ga(e.r)&&Ga(e.g)&&Ga(e.b)&&Ga(e.a);function b_(e){var t=e.length,s;return e[0]==="#"&&(t===4||t===5?s={r:255&kt[e[1]]*17,g:255&kt[e[2]]*17,b:255&kt[e[3]]*17,a:t===5?kt[e[4]]*17:255}:(t===7||t===9)&&(s={r:kt[e[1]]<<4|kt[e[2]],g:kt[e[3]]<<4|kt[e[4]],b:kt[e[5]]<<4|kt[e[6]],a:t===9?kt[e[7]]<<4|kt[e[8]]:255})),s}const j_=(e,t)=>e<255?t(e):"";function w_(e){var t=v_(e)?g_:y_;return e?"#"+t(e.r)+t(e.g)+t(e.b)+j_(e.a,t):void 0}const N_=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function oy(e,t,s){const n=t*Math.min(s,1-s),i=(a,l=(a+e/30)%12)=>s-n*Math.max(Math.min(l-3,9-l,1),-1);return[i(0),i(8),i(4)]}function __(e,t,s){const n=(i,a=(i+e/60)%6)=>s-s*t*Math.max(Math.min(a,4-a,1),0);return[n(5),n(3),n(1)]}function k_(e,t,s){const n=oy(e,1,.5);let i;for(t+s>1&&(i=1/(t+s),t*=i,s*=i),i=0;i<3;i++)n[i]*=1-t-s,n[i]+=t;return n}function S_(e,t,s,n,i){return e===i?(t-s)/n+(t<s?6:0):t===i?(s-e)/n+2:(e-t)/n+4}function xh(e){const s=e.r/255,n=e.g/255,i=e.b/255,a=Math.max(s,n,i),l=Math.min(s,n,i),o=(a+l)/2;let c,d,u;return a!==l&&(u=a-l,d=o>.5?u/(2-a-l):u/(a+l),c=S_(s,n,i,u,a),c=c*60+.5),[c|0,d||0,o]}function ph(e,t,s,n){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,s,n)).map(nn)}function gh(e,t,s){return ph(oy,e,t,s)}function C_(e,t,s){return ph(k_,e,t,s)}function P_(e,t,s){return ph(__,e,t,s)}function cy(e){return(e%360+360)%360}function E_(e){const t=N_.exec(e);let s=255,n;if(!t)return;t[5]!==n&&(s=t[6]?pi(+t[5]):nn(+t[5]));const i=cy(+t[2]),a=+t[3]/100,l=+t[4]/100;return t[1]==="hwb"?n=C_(i,a,l):t[1]==="hsv"?n=P_(i,a,l):n=gh(i,a,l),{r:n[0],g:n[1],b:n[2],a:s}}function M_(e,t){var s=xh(e);s[0]=cy(s[0]+t),s=gh(s),e.r=s[0],e.g=s[1],e.b=s[2]}function T_(e){if(!e)return;const t=xh(e),s=t[0],n=Lf(t[1]),i=Lf(t[2]);return e.a<255?`hsla(${s}, ${n}%, ${i}%, ${ps(e.a)})`:`hsl(${s}, ${n}%, ${i}%)`}const Of={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Ff={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function D_(){const e={},t=Object.keys(Ff),s=Object.keys(Of);let n,i,a,l,o;for(n=0;n<t.length;n++){for(l=o=t[n],i=0;i<s.length;i++)a=s[i],o=o.replace(a,Of[a]);a=parseInt(Ff[l],16),e[o]=[a>>16&255,a>>8&255,a&255]}return e}let Ja;function R_(e){Ja||(Ja=D_(),Ja.transparent=[0,0,0,0]);const t=Ja[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const A_=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function L_(e){const t=A_.exec(e);let s=255,n,i,a;if(t){if(t[7]!==n){const l=+t[7];s=t[8]?pi(l):Us(l*255,0,255)}return n=+t[1],i=+t[3],a=+t[5],n=255&(t[2]?pi(n):Us(n,0,255)),i=255&(t[4]?pi(i):Us(i,0,255)),a=255&(t[6]?pi(a):Us(a,0,255)),{r:n,g:i,b:a,a:s}}}function O_(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${ps(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}const Rc=e=>e<=.0031308?e*12.92:Math.pow(e,1/2.4)*1.055-.055,sr=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function F_(e,t,s){const n=sr(ps(e.r)),i=sr(ps(e.g)),a=sr(ps(e.b));return{r:nn(Rc(n+s*(sr(ps(t.r))-n))),g:nn(Rc(i+s*(sr(ps(t.g))-i))),b:nn(Rc(a+s*(sr(ps(t.b))-a))),a:e.a+s*(t.a-e.a)}}function Za(e,t,s){if(e){let n=xh(e);n[t]=Math.max(0,Math.min(n[t]+n[t]*s,t===0?360:1)),n=gh(n),e.r=n[0],e.g=n[1],e.b=n[2]}}function dy(e,t){return e&&Object.assign(t||{},e)}function If(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=nn(e[3]))):(t=dy(e,{r:0,g:0,b:0,a:1}),t.a=nn(t.a)),t}function I_(e){return e.charAt(0)==="r"?L_(e):E_(e)}class oa{constructor(t){if(t instanceof oa)return t;const s=typeof t;let n;s==="object"?n=If(t):s==="string"&&(n=b_(t)||R_(t)||I_(t)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var t=dy(this._rgb);return t&&(t.a=ps(t.a)),t}set rgb(t){this._rgb=If(t)}rgbString(){return this._valid?O_(this._rgb):void 0}hexString(){return this._valid?w_(this._rgb):void 0}hslString(){return this._valid?T_(this._rgb):void 0}mix(t,s){if(t){const n=this.rgb,i=t.rgb;let a;const l=s===a?.5:s,o=2*l-1,c=n.a-i.a,d=((o*c===-1?o:(o+c)/(1+o*c))+1)/2;a=1-d,n.r=255&d*n.r+a*i.r+.5,n.g=255&d*n.g+a*i.g+.5,n.b=255&d*n.b+a*i.b+.5,n.a=l*n.a+(1-l)*i.a,this.rgb=n}return this}interpolate(t,s){return t&&(this._rgb=F_(this._rgb,t._rgb,s)),this}clone(){return new oa(this.rgb)}alpha(t){return this._rgb.a=nn(t),this}clearer(t){const s=this._rgb;return s.a*=1-t,this}greyscale(){const t=this._rgb,s=Ca(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=s,this}opaquer(t){const s=this._rgb;return s.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Za(this._rgb,2,t),this}darken(t){return Za(this._rgb,2,-t),this}saturate(t){return Za(this._rgb,1,t),this}desaturate(t){return Za(this._rgb,1,-t),this}rotate(t){return M_(this._rgb,t),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function os(){}const z_=(()=>{let e=0;return()=>e++})();function le(e){return e==null}function ve(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function oe(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}function ze(e){return(typeof e=="number"||e instanceof Number)&&isFinite(+e)}function pt(e,t){return ze(e)?e:t}function se(e,t){return typeof e>"u"?t:e}const B_=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100:+e/t,uy=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*t:+e;function fe(e,t,s){if(e&&typeof e.call=="function")return e.apply(s,t)}function he(e,t,s,n){let i,a,l;if(ve(e))if(a=e.length,n)for(i=a-1;i>=0;i--)t.call(s,e[i],i);else for(i=0;i<a;i++)t.call(s,e[i],i);else if(oe(e))for(l=Object.keys(e),a=l.length,i=0;i<a;i++)t.call(s,e[l[i]],l[i])}function mo(e,t){let s,n,i,a;if(!e||!t||e.length!==t.length)return!1;for(s=0,n=e.length;s<n;++s)if(i=e[s],a=t[s],i.datasetIndex!==a.datasetIndex||i.index!==a.index)return!1;return!0}function fo(e){if(ve(e))return e.map(fo);if(oe(e)){const t=Object.create(null),s=Object.keys(e),n=s.length;let i=0;for(;i<n;++i)t[s[i]]=fo(e[s[i]]);return t}return e}function hy(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function $_(e,t,s,n){if(!hy(e))return;const i=t[e],a=s[e];oe(i)&&oe(a)?ca(i,a,n):t[e]=fo(a)}function ca(e,t,s){const n=ve(t)?t:[t],i=n.length;if(!oe(e))return e;s=s||{};const a=s.merger||$_;let l;for(let o=0;o<i;++o){if(l=n[o],!oe(l))continue;const c=Object.keys(l);for(let d=0,u=c.length;d<u;++d)a(c[d],e,l,s)}return e}function Ti(e,t){return ca(e,t,{merger:W_})}function W_(e,t,s){if(!hy(e))return;const n=t[e],i=s[e];oe(n)&&oe(i)?Ti(n,i):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=fo(i))}const zf={"":e=>e,x:e=>e.x,y:e=>e.y};function H_(e){const t=e.split("."),s=[];let n="";for(const i of t)n+=i,n.endsWith("\\")?n=n.slice(0,-1)+".":(s.push(n),n="");return s}function U_(e){const t=H_(e);return s=>{for(const n of t){if(n==="")break;s=s&&s[n]}return s}}function Yn(e,t){return(zf[t]||(zf[t]=U_(t)))(e)}function yh(e){return e.charAt(0).toUpperCase()+e.slice(1)}const da=e=>typeof e<"u",dn=e=>typeof e=="function",Bf=(e,t)=>{if(e.size!==t.size)return!1;for(const s of e)if(!t.has(s))return!1;return!0};function V_(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}const de=Math.PI,be=2*de,q_=be+de,xo=Number.POSITIVE_INFINITY,Y_=de/180,Pe=de/2,yn=de/4,$f=de*2/3,Vs=Math.log10,ls=Math.sign;function Di(e,t,s){return Math.abs(e-t)<s}function Wf(e){const t=Math.round(e);e=Di(e,t,e/1e3)?t:e;const s=Math.pow(10,Math.floor(Vs(e))),n=e/s;return(n<=1?1:n<=2?2:n<=5?5:10)*s}function X_(e){const t=[],s=Math.sqrt(e);let n;for(n=1;n<s;n++)e%n===0&&(t.push(n),t.push(e/n));return s===(s|0)&&t.push(s),t.sort((i,a)=>i-a).pop(),t}function Q_(e){return typeof e=="symbol"||typeof e=="object"&&e!==null&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}function ua(e){return!Q_(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function K_(e,t){const s=Math.round(e);return s-t<=e&&s+t>=e}function my(e,t,s){let n,i,a;for(n=0,i=e.length;n<i;n++)a=e[n][s],isNaN(a)||(t.min=Math.min(t.min,a),t.max=Math.max(t.max,a))}function ns(e){return e*(de/180)}function vh(e){return e*(180/de)}function Hf(e){if(!ze(e))return;let t=1,s=0;for(;Math.round(e*t)/t!==e;)t*=10,s++;return s}function fy(e,t){const s=t.x-e.x,n=t.y-e.y,i=Math.sqrt(s*s+n*n);let a=Math.atan2(n,s);return a<-.5*de&&(a+=be),{angle:a,distance:i}}function Kd(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function G_(e,t){return(e-t+q_)%be-de}function ot(e){return(e%be+be)%be}function ha(e,t,s,n){const i=ot(e),a=ot(t),l=ot(s),o=ot(a-i),c=ot(l-i),d=ot(i-a),u=ot(i-l);return i===a||i===l||n&&a===l||o>c&&d<u}function Je(e,t,s){return Math.max(t,Math.min(s,e))}function J_(e){return Je(e,-32768,32767)}function qs(e,t,s,n=1e-6){return e>=Math.min(t,s)-n&&e<=Math.max(t,s)+n}function bh(e,t,s){s=s||(l=>e[l]<t);let n=e.length-1,i=0,a;for(;n-i>1;)a=i+n>>1,s(a)?i=a:n=a;return{lo:i,hi:n}}const An=(e,t,s,n)=>bh(e,s,n?i=>{const a=e[i][t];return a<s||a===s&&e[i+1][t]===s}:i=>e[i][t]<s),Z_=(e,t,s)=>bh(e,s,n=>e[n][t]>=s);function ek(e,t,s){let n=0,i=e.length;for(;n<i&&e[n]<t;)n++;for(;i>n&&e[i-1]>s;)i--;return n>0||i<e.length?e.slice(n,i):e}const xy=["push","pop","shift","splice","unshift"];function tk(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),xy.forEach(s=>{const n="_onData"+yh(s),i=e[s];Object.defineProperty(e,s,{configurable:!0,enumerable:!1,value(...a){const l=i.apply(this,a);return e._chartjs.listeners.forEach(o=>{typeof o[n]=="function"&&o[n](...a)}),l}})})}function Uf(e,t){const s=e._chartjs;if(!s)return;const n=s.listeners,i=n.indexOf(t);i!==-1&&n.splice(i,1),!(n.length>0)&&(xy.forEach(a=>{delete e[a]}),delete e._chartjs)}function py(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const gy=function(){return typeof window>"u"?function(e){return e()}:window.requestAnimationFrame}();function yy(e,t){let s=[],n=!1;return function(...i){s=i,n||(n=!0,gy.call(window,()=>{n=!1,e.apply(t,s)}))}}function sk(e,t){let s;return function(...n){return t?(clearTimeout(s),s=setTimeout(e,t,n)):e.apply(this,n),t}}const jh=e=>e==="start"?"left":e==="end"?"right":"center",Qe=(e,t,s)=>e==="start"?t:e==="end"?s:(t+s)/2,nk=(e,t,s,n)=>e===(n?"left":"right")?s:e==="center"?(t+s)/2:t;function rk(e,t,s){const n=t.length;let i=0,a=n;if(e._sorted){const{iScale:l,vScale:o,_parsed:c}=e,d=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null,u=l.axis,{min:h,max:m,minDefined:v,maxDefined:x}=l.getUserBounds();if(v){if(i=Math.min(An(c,u,h).lo,s?n:An(t,u,l.getPixelForValue(h)).lo),d){const y=c.slice(0,i+1).reverse().findIndex(b=>!le(b[o.axis]));i-=Math.max(0,y)}i=Je(i,0,n-1)}if(x){let y=Math.max(An(c,l.axis,m,!0).hi+1,s?0:An(t,u,l.getPixelForValue(m),!0).hi+1);if(d){const b=c.slice(y-1).findIndex(f=>!le(f[o.axis]));y+=Math.max(0,b)}a=Je(y,i,n)-i}else a=n-i}return{start:i,count:a}}function ik(e){const{xScale:t,yScale:s,_scaleRanges:n}=e,i={xmin:t.min,xmax:t.max,ymin:s.min,ymax:s.max};if(!n)return e._scaleRanges=i,!0;const a=n.xmin!==t.min||n.xmax!==t.max||n.ymin!==s.min||n.ymax!==s.max;return Object.assign(n,i),a}const el=e=>e===0||e===1,Vf=(e,t,s)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*be/s)),qf=(e,t,s)=>Math.pow(2,-10*e)*Math.sin((e-t)*be/s)+1,Ri={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*Pe)+1,easeOutSine:e=>Math.sin(e*Pe),easeInOutSine:e=>-.5*(Math.cos(de*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>el(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>el(e)?e:Vf(e,.075,.3),easeOutElastic:e=>el(e)?e:qf(e,.075,.3),easeInOutElastic(e){return el(e)?e:e<.5?.5*Vf(e*2,.1125,.45):.5+.5*qf(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-Ri.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?Ri.easeInBounce(e*2)*.5:Ri.easeOutBounce(e*2-1)*.5+.5};function wh(e){if(e&&typeof e=="object"){const t=e.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function Yf(e){return wh(e)?e:new oa(e)}function Ac(e){return wh(e)?e:new oa(e).saturate(.5).darken(.1).hexString()}const ak=["x","y","borderWidth","radius","tension"],lk=["color","borderColor","backgroundColor"];function ok(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),e.set("animations",{colors:{type:"color",properties:lk},numbers:{type:"number",properties:ak}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function ck(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Xf=new Map;function dk(e,t){t=t||{};const s=e+JSON.stringify(t);let n=Xf.get(s);return n||(n=new Intl.NumberFormat(e,t),Xf.set(s,n)),n}function Qo(e,t,s){return dk(t,s).format(e)}const vy={values(e){return ve(e)?e:""+e},numeric(e,t,s){if(e===0)return"0";const n=this.chart.options.locale;let i,a=e;if(s.length>1){const d=Math.max(Math.abs(s[0].value),Math.abs(s[s.length-1].value));(d<1e-4||d>1e15)&&(i="scientific"),a=uk(e,s)}const l=Vs(Math.abs(a)),o=isNaN(l)?1:Math.max(Math.min(-1*Math.floor(l),20),0),c={notation:i,minimumFractionDigits:o,maximumFractionDigits:o};return Object.assign(c,this.options.ticks.format),Qo(e,n,c)},logarithmic(e,t,s){if(e===0)return"0";const n=s[t].significand||e/Math.pow(10,Math.floor(Vs(e)));return[1,2,3,5,10,15].includes(n)||t>.8*s.length?vy.numeric.call(this,e,t,s):""}};function uk(e,t){let s=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(s)>=1&&e!==Math.floor(e)&&(s=e-Math.floor(e)),s}var Ko={formatters:vy};function hk(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,s)=>s.lineWidth,tickColor:(t,s)=>s.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Ko.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const Xn=Object.create(null),Gd=Object.create(null);function Ai(e,t){if(!t)return e;const s=t.split(".");for(let n=0,i=s.length;n<i;++n){const a=s[n];e=e[a]||(e[a]=Object.create(null))}return e}function Lc(e,t,s){return typeof t=="string"?ca(Ai(e,t),s):ca(Ai(e,""),t)}class mk{constructor(t,s){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=n=>n.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(n,i)=>Ac(i.backgroundColor),this.hoverBorderColor=(n,i)=>Ac(i.borderColor),this.hoverColor=(n,i)=>Ac(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(s)}set(t,s){return Lc(this,t,s)}get(t){return Ai(this,t)}describe(t,s){return Lc(Gd,t,s)}override(t,s){return Lc(Xn,t,s)}route(t,s,n,i){const a=Ai(this,t),l=Ai(this,n),o="_"+s;Object.defineProperties(a,{[o]:{value:a[s],writable:!0},[s]:{enumerable:!0,get(){const c=this[o],d=l[i];return oe(c)?Object.assign({},d,c):se(c,d)},set(c){this[o]=c}}})}apply(t){t.forEach(s=>s(this))}}var Se=new mk({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[ok,ck,hk]);function fk(e){return!e||le(e.size)||le(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function po(e,t,s,n,i){let a=t[i];return a||(a=t[i]=e.measureText(i).width,s.push(i)),a>n&&(n=a),n}function xk(e,t,s,n){n=n||{};let i=n.data=n.data||{},a=n.garbageCollect=n.garbageCollect||[];n.font!==t&&(i=n.data={},a=n.garbageCollect=[],n.font=t),e.save(),e.font=t;let l=0;const o=s.length;let c,d,u,h,m;for(c=0;c<o;c++)if(h=s[c],h!=null&&!ve(h))l=po(e,i,a,l,h);else if(ve(h))for(d=0,u=h.length;d<u;d++)m=h[d],m!=null&&!ve(m)&&(l=po(e,i,a,l,m));e.restore();const v=a.length/2;if(v>s.length){for(c=0;c<v;c++)delete i[a[c]];a.splice(0,v)}return l}function vn(e,t,s){const n=e.currentDevicePixelRatio,i=s!==0?Math.max(s/2,.5):0;return Math.round((t-i)*n)/n+i}function Qf(e,t){!t&&!e||(t=t||e.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function Jd(e,t,s,n){by(e,t,s,n,null)}function by(e,t,s,n,i){let a,l,o,c,d,u,h,m;const v=t.pointStyle,x=t.rotation,y=t.radius;let b=(x||0)*Y_;if(v&&typeof v=="object"&&(a=v.toString(),a==="[object HTMLImageElement]"||a==="[object HTMLCanvasElement]")){e.save(),e.translate(s,n),e.rotate(b),e.drawImage(v,-v.width/2,-v.height/2,v.width,v.height),e.restore();return}if(!(isNaN(y)||y<=0)){switch(e.beginPath(),v){default:i?e.ellipse(s,n,i/2,y,0,0,be):e.arc(s,n,y,0,be),e.closePath();break;case"triangle":u=i?i/2:y,e.moveTo(s+Math.sin(b)*u,n-Math.cos(b)*y),b+=$f,e.lineTo(s+Math.sin(b)*u,n-Math.cos(b)*y),b+=$f,e.lineTo(s+Math.sin(b)*u,n-Math.cos(b)*y),e.closePath();break;case"rectRounded":d=y*.516,c=y-d,l=Math.cos(b+yn)*c,h=Math.cos(b+yn)*(i?i/2-d:c),o=Math.sin(b+yn)*c,m=Math.sin(b+yn)*(i?i/2-d:c),e.arc(s-h,n-o,d,b-de,b-Pe),e.arc(s+m,n-l,d,b-Pe,b),e.arc(s+h,n+o,d,b,b+Pe),e.arc(s-m,n+l,d,b+Pe,b+de),e.closePath();break;case"rect":if(!x){c=Math.SQRT1_2*y,u=i?i/2:c,e.rect(s-u,n-c,2*u,2*c);break}b+=yn;case"rectRot":h=Math.cos(b)*(i?i/2:y),l=Math.cos(b)*y,o=Math.sin(b)*y,m=Math.sin(b)*(i?i/2:y),e.moveTo(s-h,n-o),e.lineTo(s+m,n-l),e.lineTo(s+h,n+o),e.lineTo(s-m,n+l),e.closePath();break;case"crossRot":b+=yn;case"cross":h=Math.cos(b)*(i?i/2:y),l=Math.cos(b)*y,o=Math.sin(b)*y,m=Math.sin(b)*(i?i/2:y),e.moveTo(s-h,n-o),e.lineTo(s+h,n+o),e.moveTo(s+m,n-l),e.lineTo(s-m,n+l);break;case"star":h=Math.cos(b)*(i?i/2:y),l=Math.cos(b)*y,o=Math.sin(b)*y,m=Math.sin(b)*(i?i/2:y),e.moveTo(s-h,n-o),e.lineTo(s+h,n+o),e.moveTo(s+m,n-l),e.lineTo(s-m,n+l),b+=yn,h=Math.cos(b)*(i?i/2:y),l=Math.cos(b)*y,o=Math.sin(b)*y,m=Math.sin(b)*(i?i/2:y),e.moveTo(s-h,n-o),e.lineTo(s+h,n+o),e.moveTo(s+m,n-l),e.lineTo(s-m,n+l);break;case"line":l=i?i/2:Math.cos(b)*y,o=Math.sin(b)*y,e.moveTo(s-l,n-o),e.lineTo(s+l,n+o);break;case"dash":e.moveTo(s,n),e.lineTo(s+Math.cos(b)*(i?i/2:y),n+Math.sin(b)*y);break;case!1:e.closePath();break}e.fill(),t.borderWidth>0&&e.stroke()}}function js(e,t,s){return s=s||.5,!t||e&&e.x>t.left-s&&e.x<t.right+s&&e.y>t.top-s&&e.y<t.bottom+s}function Nh(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function _h(e){e.restore()}function pk(e,t,s,n,i){if(!t)return e.lineTo(s.x,s.y);if(i==="middle"){const a=(t.x+s.x)/2;e.lineTo(a,t.y),e.lineTo(a,s.y)}else i==="after"!=!!n?e.lineTo(t.x,s.y):e.lineTo(s.x,t.y);e.lineTo(s.x,s.y)}function gk(e,t,s,n){if(!t)return e.lineTo(s.x,s.y);e.bezierCurveTo(n?t.cp1x:t.cp2x,n?t.cp1y:t.cp2y,n?s.cp2x:s.cp1x,n?s.cp2y:s.cp1y,s.x,s.y)}function yk(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),le(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function vk(e,t,s,n,i){if(i.strikethrough||i.underline){const a=e.measureText(n),l=t-a.actualBoundingBoxLeft,o=t+a.actualBoundingBoxRight,c=s-a.actualBoundingBoxAscent,d=s+a.actualBoundingBoxDescent,u=i.strikethrough?(c+d)/2:d;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=i.decorationWidth||2,e.moveTo(l,u),e.lineTo(o,u),e.stroke()}}function bk(e,t){const s=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=s}function Qn(e,t,s,n,i,a={}){const l=ve(t)?t:[t],o=a.strokeWidth>0&&a.strokeColor!=="";let c,d;for(e.save(),e.font=i.string,yk(e,a),c=0;c<l.length;++c)d=l[c],a.backdrop&&bk(e,a.backdrop),o&&(a.strokeColor&&(e.strokeStyle=a.strokeColor),le(a.strokeWidth)||(e.lineWidth=a.strokeWidth),e.strokeText(d,s,n,a.maxWidth)),e.fillText(d,s,n,a.maxWidth),vk(e,s,n,d,a),n+=Number(i.lineHeight);e.restore()}function ma(e,t){const{x:s,y:n,w:i,h:a,radius:l}=t;e.arc(s+l.topLeft,n+l.topLeft,l.topLeft,1.5*de,de,!0),e.lineTo(s,n+a-l.bottomLeft),e.arc(s+l.bottomLeft,n+a-l.bottomLeft,l.bottomLeft,de,Pe,!0),e.lineTo(s+i-l.bottomRight,n+a),e.arc(s+i-l.bottomRight,n+a-l.bottomRight,l.bottomRight,Pe,0,!0),e.lineTo(s+i,n+l.topRight),e.arc(s+i-l.topRight,n+l.topRight,l.topRight,0,-Pe,!0),e.lineTo(s+l.topLeft,n)}const jk=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,wk=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Nk(e,t){const s=(""+e).match(jk);if(!s||s[1]==="normal")return t*1.2;switch(e=+s[2],s[3]){case"px":return e;case"%":e/=100;break}return t*e}const _k=e=>+e||0;function kh(e,t){const s={},n=oe(t),i=n?Object.keys(t):t,a=oe(e)?n?l=>se(e[l],e[t[l]]):l=>e[l]:()=>e;for(const l of i)s[l]=_k(a(l));return s}function jy(e){return kh(e,{top:"y",right:"x",bottom:"y",left:"x"})}function Fn(e){return kh(e,["topLeft","topRight","bottomLeft","bottomRight"])}function et(e){const t=jy(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function Oe(e,t){e=e||{},t=t||Se.font;let s=se(e.size,t.size);typeof s=="string"&&(s=parseInt(s,10));let n=se(e.style,t.style);n&&!(""+n).match(wk)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);const i={family:se(e.family,t.family),lineHeight:Nk(se(e.lineHeight,t.lineHeight),s),size:s,style:n,weight:se(e.weight,t.weight),string:""};return i.string=fk(i),i}function tl(e,t,s,n){let i=!0,a,l,o;for(a=0,l=e.length;a<l;++a)if(o=e[a],o!==void 0&&(t!==void 0&&typeof o=="function"&&(o=o(t),i=!1),s!==void 0&&ve(o)&&(o=o[s%o.length],i=!1),o!==void 0))return n&&!i&&(n.cacheable=!1),o}function kk(e,t,s){const{min:n,max:i}=e,a=uy(t,(i-n)/2),l=(o,c)=>s&&o===0?0:o+c;return{min:l(n,-Math.abs(a)),max:l(i,a)}}function pn(e,t){return Object.assign(Object.create(e),t)}function Sh(e,t=[""],s,n,i=()=>e[0]){const a=s||e;typeof n>"u"&&(n=ky("_fallback",e));const l={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:a,_fallback:n,_getTarget:i,override:o=>Sh([o,...e],t,a,n)};return new Proxy(l,{deleteProperty(o,c){return delete o[c],delete o._keys,delete e[0][c],!0},get(o,c){return Ny(o,c,()=>Rk(c,t,e,o))},getOwnPropertyDescriptor(o,c){return Reflect.getOwnPropertyDescriptor(o._scopes[0],c)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(o,c){return Gf(o).includes(c)},ownKeys(o){return Gf(o)},set(o,c,d){const u=o._storage||(o._storage=i());return o[c]=u[c]=d,delete o._keys,!0}})}function Ar(e,t,s,n){const i={_cacheable:!1,_proxy:e,_context:t,_subProxy:s,_stack:new Set,_descriptors:wy(e,n),setContext:a=>Ar(e,a,s,n),override:a=>Ar(e.override(a),t,s,n)};return new Proxy(i,{deleteProperty(a,l){return delete a[l],delete e[l],!0},get(a,l,o){return Ny(a,l,()=>Ck(a,l,o))},getOwnPropertyDescriptor(a,l){return a._descriptors.allKeys?Reflect.has(e,l)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,l)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(a,l){return Reflect.has(e,l)},ownKeys(){return Reflect.ownKeys(e)},set(a,l,o){return e[l]=o,delete a[l],!0}})}function wy(e,t={scriptable:!0,indexable:!0}){const{_scriptable:s=t.scriptable,_indexable:n=t.indexable,_allKeys:i=t.allKeys}=e;return{allKeys:i,scriptable:s,indexable:n,isScriptable:dn(s)?s:()=>s,isIndexable:dn(n)?n:()=>n}}const Sk=(e,t)=>e?e+yh(t):t,Ch=(e,t)=>oe(t)&&e!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function Ny(e,t,s){if(Object.prototype.hasOwnProperty.call(e,t)||t==="constructor")return e[t];const n=s();return e[t]=n,n}function Ck(e,t,s){const{_proxy:n,_context:i,_subProxy:a,_descriptors:l}=e;let o=n[t];return dn(o)&&l.isScriptable(t)&&(o=Pk(t,o,e,s)),ve(o)&&o.length&&(o=Ek(t,o,e,l.isIndexable)),Ch(t,o)&&(o=Ar(o,i,a&&a[t],l)),o}function Pk(e,t,s,n){const{_proxy:i,_context:a,_subProxy:l,_stack:o}=s;if(o.has(e))throw new Error("Recursion detected: "+Array.from(o).join("->")+"->"+e);o.add(e);let c=t(a,l||n);return o.delete(e),Ch(e,c)&&(c=Ph(i._scopes,i,e,c)),c}function Ek(e,t,s,n){const{_proxy:i,_context:a,_subProxy:l,_descriptors:o}=s;if(typeof a.index<"u"&&n(e))return t[a.index%t.length];if(oe(t[0])){const c=t,d=i._scopes.filter(u=>u!==c);t=[];for(const u of c){const h=Ph(d,i,e,u);t.push(Ar(h,a,l&&l[e],o))}}return t}function _y(e,t,s){return dn(e)?e(t,s):e}const Mk=(e,t)=>e===!0?t:typeof e=="string"?Yn(t,e):void 0;function Tk(e,t,s,n,i){for(const a of t){const l=Mk(s,a);if(l){e.add(l);const o=_y(l._fallback,s,i);if(typeof o<"u"&&o!==s&&o!==n)return o}else if(l===!1&&typeof n<"u"&&s!==n)return null}return!1}function Ph(e,t,s,n){const i=t._rootScopes,a=_y(t._fallback,s,n),l=[...e,...i],o=new Set;o.add(n);let c=Kf(o,l,s,a||s,n);return c===null||typeof a<"u"&&a!==s&&(c=Kf(o,l,a,c,n),c===null)?!1:Sh(Array.from(o),[""],i,a,()=>Dk(t,s,n))}function Kf(e,t,s,n,i){for(;s;)s=Tk(e,t,s,n,i);return s}function Dk(e,t,s){const n=e._getTarget();t in n||(n[t]={});const i=n[t];return ve(i)&&oe(s)?s:i||{}}function Rk(e,t,s,n){let i;for(const a of t)if(i=ky(Sk(a,e),s),typeof i<"u")return Ch(e,i)?Ph(s,n,e,i):i}function ky(e,t){for(const s of t){if(!s)continue;const n=s[e];if(typeof n<"u")return n}}function Gf(e){let t=e._keys;return t||(t=e._keys=Ak(e._scopes)),t}function Ak(e){const t=new Set;for(const s of e)for(const n of Object.keys(s).filter(i=>!i.startsWith("_")))t.add(n);return Array.from(t)}const Lk=Number.EPSILON||1e-14,Lr=(e,t)=>t<e.length&&!e[t].skip&&e[t],Sy=e=>e==="x"?"y":"x";function Ok(e,t,s,n){const i=e.skip?t:e,a=t,l=s.skip?t:s,o=Kd(a,i),c=Kd(l,a);let d=o/(o+c),u=c/(o+c);d=isNaN(d)?0:d,u=isNaN(u)?0:u;const h=n*d,m=n*u;return{previous:{x:a.x-h*(l.x-i.x),y:a.y-h*(l.y-i.y)},next:{x:a.x+m*(l.x-i.x),y:a.y+m*(l.y-i.y)}}}function Fk(e,t,s){const n=e.length;let i,a,l,o,c,d=Lr(e,0);for(let u=0;u<n-1;++u)if(c=d,d=Lr(e,u+1),!(!c||!d)){if(Di(t[u],0,Lk)){s[u]=s[u+1]=0;continue}i=s[u]/t[u],a=s[u+1]/t[u],o=Math.pow(i,2)+Math.pow(a,2),!(o<=9)&&(l=3/Math.sqrt(o),s[u]=i*l*t[u],s[u+1]=a*l*t[u])}}function Ik(e,t,s="x"){const n=Sy(s),i=e.length;let a,l,o,c=Lr(e,0);for(let d=0;d<i;++d){if(l=o,o=c,c=Lr(e,d+1),!o)continue;const u=o[s],h=o[n];l&&(a=(u-l[s])/3,o[`cp1${s}`]=u-a,o[`cp1${n}`]=h-a*t[d]),c&&(a=(c[s]-u)/3,o[`cp2${s}`]=u+a,o[`cp2${n}`]=h+a*t[d])}}function zk(e,t="x"){const s=Sy(t),n=e.length,i=Array(n).fill(0),a=Array(n);let l,o,c,d=Lr(e,0);for(l=0;l<n;++l)if(o=c,c=d,d=Lr(e,l+1),!!c){if(d){const u=d[t]-c[t];i[l]=u!==0?(d[s]-c[s])/u:0}a[l]=o?d?ls(i[l-1])!==ls(i[l])?0:(i[l-1]+i[l])/2:i[l-1]:i[l]}Fk(e,i,a),Ik(e,a,t)}function sl(e,t,s){return Math.max(Math.min(e,s),t)}function Bk(e,t){let s,n,i,a,l,o=js(e[0],t);for(s=0,n=e.length;s<n;++s)l=a,a=o,o=s<n-1&&js(e[s+1],t),a&&(i=e[s],l&&(i.cp1x=sl(i.cp1x,t.left,t.right),i.cp1y=sl(i.cp1y,t.top,t.bottom)),o&&(i.cp2x=sl(i.cp2x,t.left,t.right),i.cp2y=sl(i.cp2y,t.top,t.bottom)))}function $k(e,t,s,n,i){let a,l,o,c;if(t.spanGaps&&(e=e.filter(d=>!d.skip)),t.cubicInterpolationMode==="monotone")zk(e,i);else{let d=n?e[e.length-1]:e[0];for(a=0,l=e.length;a<l;++a)o=e[a],c=Ok(d,o,e[Math.min(a+1,l-(n?0:1))%l],t.tension),o.cp1x=c.previous.x,o.cp1y=c.previous.y,o.cp2x=c.next.x,o.cp2y=c.next.y,d=o}t.capBezierPoints&&Bk(e,s)}function Eh(){return typeof window<"u"&&typeof document<"u"}function Mh(e){let t=e.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function go(e,t,s){let n;return typeof e=="string"?(n=parseInt(e,10),e.indexOf("%")!==-1&&(n=n/100*t.parentNode[s])):n=e,n}const Go=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);function Wk(e,t){return Go(e).getPropertyValue(t)}const Hk=["top","right","bottom","left"];function In(e,t,s){const n={};s=s?"-"+s:"";for(let i=0;i<4;i++){const a=Hk[i];n[a]=parseFloat(e[t+"-"+a+s])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}const Uk=(e,t,s)=>(e>0||t>0)&&(!s||!s.shadowRoot);function Vk(e,t){const s=e.touches,n=s&&s.length?s[0]:e,{offsetX:i,offsetY:a}=n;let l=!1,o,c;if(Uk(i,a,e.target))o=i,c=a;else{const d=t.getBoundingClientRect();o=n.clientX-d.left,c=n.clientY-d.top,l=!0}return{x:o,y:c,box:l}}function Sn(e,t){if("native"in e)return e;const{canvas:s,currentDevicePixelRatio:n}=t,i=Go(s),a=i.boxSizing==="border-box",l=In(i,"padding"),o=In(i,"border","width"),{x:c,y:d,box:u}=Vk(e,s),h=l.left+(u&&o.left),m=l.top+(u&&o.top);let{width:v,height:x}=t;return a&&(v-=l.width+o.width,x-=l.height+o.height),{x:Math.round((c-h)/v*s.width/n),y:Math.round((d-m)/x*s.height/n)}}function qk(e,t,s){let n,i;if(t===void 0||s===void 0){const a=e&&Mh(e);if(!a)t=e.clientWidth,s=e.clientHeight;else{const l=a.getBoundingClientRect(),o=Go(a),c=In(o,"border","width"),d=In(o,"padding");t=l.width-d.width-c.width,s=l.height-d.height-c.height,n=go(o.maxWidth,a,"clientWidth"),i=go(o.maxHeight,a,"clientHeight")}}return{width:t,height:s,maxWidth:n||xo,maxHeight:i||xo}}const nl=e=>Math.round(e*10)/10;function Yk(e,t,s,n){const i=Go(e),a=In(i,"margin"),l=go(i.maxWidth,e,"clientWidth")||xo,o=go(i.maxHeight,e,"clientHeight")||xo,c=qk(e,t,s);let{width:d,height:u}=c;if(i.boxSizing==="content-box"){const m=In(i,"border","width"),v=In(i,"padding");d-=v.width+m.width,u-=v.height+m.height}return d=Math.max(0,d-a.width),u=Math.max(0,n?d/n:u-a.height),d=nl(Math.min(d,l,c.maxWidth)),u=nl(Math.min(u,o,c.maxHeight)),d&&!u&&(u=nl(d/2)),(t!==void 0||s!==void 0)&&n&&c.height&&u>c.height&&(u=c.height,d=nl(Math.floor(u*n))),{width:d,height:u}}function Jf(e,t,s){const n=t||1,i=Math.floor(e.height*n),a=Math.floor(e.width*n);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const l=e.canvas;return l.style&&(s||!l.style.height&&!l.style.width)&&(l.style.height=`${e.height}px`,l.style.width=`${e.width}px`),e.currentDevicePixelRatio!==n||l.height!==i||l.width!==a?(e.currentDevicePixelRatio=n,l.height=i,l.width=a,e.ctx.setTransform(n,0,0,n,0,0),!0):!1}const Xk=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};Eh()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return e}();function Zf(e,t){const s=Wk(e,t),n=s&&s.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function Cn(e,t,s,n){return{x:e.x+s*(t.x-e.x),y:e.y+s*(t.y-e.y)}}function Qk(e,t,s,n){return{x:e.x+s*(t.x-e.x),y:n==="middle"?s<.5?e.y:t.y:n==="after"?s<1?e.y:t.y:s>0?t.y:e.y}}function Kk(e,t,s,n){const i={x:e.cp2x,y:e.cp2y},a={x:t.cp1x,y:t.cp1y},l=Cn(e,i,s),o=Cn(i,a,s),c=Cn(a,t,s),d=Cn(l,o,s),u=Cn(o,c,s);return Cn(d,u,s)}const Gk=function(e,t){return{x(s){return e+e+t-s},setWidth(s){t=s},textAlign(s){return s==="center"?s:s==="right"?"left":"right"},xPlus(s,n){return s-n},leftForLtr(s,n){return s-n}}},Jk=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,t){return e+t},leftForLtr(e,t){return e}}};function _r(e,t,s){return e?Gk(t,s):Jk()}function Cy(e,t){let s,n;(t==="ltr"||t==="rtl")&&(s=e.canvas.style,n=[s.getPropertyValue("direction"),s.getPropertyPriority("direction")],s.setProperty("direction",t,"important"),e.prevTextDirection=n)}function Py(e,t){t!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function Ey(e){return e==="angle"?{between:ha,compare:G_,normalize:ot}:{between:qs,compare:(t,s)=>t-s,normalize:t=>t}}function ex({start:e,end:t,count:s,loop:n,style:i}){return{start:e%s,end:t%s,loop:n&&(t-e+1)%s===0,style:i}}function Zk(e,t,s){const{property:n,start:i,end:a}=s,{between:l,normalize:o}=Ey(n),c=t.length;let{start:d,end:u,loop:h}=e,m,v;if(h){for(d+=c,u+=c,m=0,v=c;m<v&&l(o(t[d%c][n]),i,a);++m)d--,u--;d%=c,u%=c}return u<d&&(u+=c),{start:d,end:u,loop:h,style:e.style}}function eS(e,t,s){if(!s)return[e];const{property:n,start:i,end:a}=s,l=t.length,{compare:o,between:c,normalize:d}=Ey(n),{start:u,end:h,loop:m,style:v}=Zk(e,t,s),x=[];let y=!1,b=null,f,p,g;const j=()=>c(i,g,f)&&o(i,g)!==0,w=()=>o(a,f)===0||c(a,g,f),_=()=>y||j(),k=()=>!y||w();for(let P=u,E=u;P<=h;++P)p=t[P%l],!p.skip&&(f=d(p[n]),f!==g&&(y=c(f,i,a),b===null&&_()&&(b=o(f,i)===0?P:E),b!==null&&k()&&(x.push(ex({start:b,end:P,loop:m,count:l,style:v})),b=null),E=P,g=f));return b!==null&&x.push(ex({start:b,end:h,loop:m,count:l,style:v})),x}function tS(e,t){const s=[],n=e.segments;for(let i=0;i<n.length;i++){const a=eS(n[i],e.points,t);a.length&&s.push(...a)}return s}function sS(e,t,s,n){let i=0,a=t-1;if(s&&!n)for(;i<t&&!e[i].skip;)i++;for(;i<t&&e[i].skip;)i++;for(i%=t,s&&(a+=i);a>i&&e[a%t].skip;)a--;return a%=t,{start:i,end:a}}function nS(e,t,s,n){const i=e.length,a=[];let l=t,o=e[t],c;for(c=t+1;c<=s;++c){const d=e[c%i];d.skip||d.stop?o.skip||(n=!1,a.push({start:t%i,end:(c-1)%i,loop:n}),t=l=d.stop?c:null):(l=c,o.skip&&(t=c)),o=d}return l!==null&&a.push({start:t%i,end:l%i,loop:n}),a}function rS(e,t){const s=e.points,n=e.options.spanGaps,i=s.length;if(!i)return[];const a=!!e._loop,{start:l,end:o}=sS(s,i,a,n);if(n===!0)return tx(e,[{start:l,end:o,loop:a}],s,t);const c=o<l?o+i:o,d=!!e._fullLoop&&l===0&&o===i-1;return tx(e,nS(s,l,c,d),s,t)}function tx(e,t,s,n){return!n||!n.setContext||!s?t:iS(e,t,s,n)}function iS(e,t,s,n){const i=e._chart.getContext(),a=sx(e.options),{_datasetIndex:l,options:{spanGaps:o}}=e,c=s.length,d=[];let u=a,h=t[0].start,m=h;function v(x,y,b,f){const p=o?-1:1;if(x!==y){for(x+=c;s[x%c].skip;)x-=p;for(;s[y%c].skip;)y+=p;x%c!==y%c&&(d.push({start:x%c,end:y%c,loop:b,style:f}),u=f,h=y%c)}}for(const x of t){h=o?h:x.start;let y=s[h%c],b;for(m=h+1;m<=x.end;m++){const f=s[m%c];b=sx(n.setContext(pn(i,{type:"segment",p0:y,p1:f,p0DataIndex:(m-1)%c,p1DataIndex:m%c,datasetIndex:l}))),aS(b,u)&&v(h,m-1,x.loop,u),y=f,u=b}h<m-1&&v(h,m-1,x.loop,u)}return d}function sx(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function aS(e,t){if(!t)return!1;const s=[],n=function(i,a){return wh(a)?(s.includes(a)||s.push(a),s.indexOf(a)):a};return JSON.stringify(e,n)!==JSON.stringify(t,n)}function rl(e,t,s){return e.options.clip?e[s]:t[s]}function lS(e,t){const{xScale:s,yScale:n}=e;return s&&n?{left:rl(s,t,"left"),right:rl(s,t,"right"),top:rl(n,t,"top"),bottom:rl(n,t,"bottom")}:t}function oS(e,t){const s=t._clip;if(s.disabled)return!1;const n=lS(t,e.chartArea);return{left:s.left===!1?0:n.left-(s.left===!0?0:s.left),right:s.right===!1?e.width:n.right+(s.right===!0?0:s.right),top:s.top===!1?0:n.top-(s.top===!0?0:s.top),bottom:s.bottom===!1?e.height:n.bottom+(s.bottom===!0?0:s.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class cS{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,s,n,i){const a=s.listeners[i],l=s.duration;a.forEach(o=>o({chart:t,initial:s.initial,numSteps:l,currentStep:Math.min(n-s.start,l)}))}_refresh(){this._request||(this._running=!0,this._request=gy.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let s=0;this._charts.forEach((n,i)=>{if(!n.running||!n.items.length)return;const a=n.items;let l=a.length-1,o=!1,c;for(;l>=0;--l)c=a[l],c._active?(c._total>n.duration&&(n.duration=c._total),c.tick(t),o=!0):(a[l]=a[a.length-1],a.pop());o&&(i.draw(),this._notify(i,n,t,"progress")),a.length||(n.running=!1,this._notify(i,n,t,"complete"),n.initial=!1),s+=a.length}),this._lastDate=t,s===0&&(this._running=!1)}_getAnims(t){const s=this._charts;let n=s.get(t);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},s.set(t,n)),n}listen(t,s,n){this._getAnims(t).listeners[s].push(n)}add(t,s){!s||!s.length||this._getAnims(t).items.push(...s)}has(t){return this._getAnims(t).items.length>0}start(t){const s=this._charts.get(t);s&&(s.running=!0,s.start=Date.now(),s.duration=s.items.reduce((n,i)=>Math.max(n,i._duration),0),this._refresh())}running(t){if(!this._running)return!1;const s=this._charts.get(t);return!(!s||!s.running||!s.items.length)}stop(t){const s=this._charts.get(t);if(!s||!s.items.length)return;const n=s.items;let i=n.length-1;for(;i>=0;--i)n[i].cancel();s.items=[],this._notify(t,s,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var cs=new cS;const nx="transparent",dS={boolean(e,t,s){return s>.5?t:e},color(e,t,s){const n=Yf(e||nx),i=n.valid&&Yf(t||nx);return i&&i.valid?i.mix(n,s).hexString():t},number(e,t,s){return e+(t-e)*s}};class uS{constructor(t,s,n,i){const a=s[n];i=tl([t.to,i,a,t.from]);const l=tl([t.from,a,i]);this._active=!0,this._fn=t.fn||dS[t.type||typeof l],this._easing=Ri[t.easing]||Ri.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=s,this._prop=n,this._from=l,this._to=i,this._promises=void 0}active(){return this._active}update(t,s,n){if(this._active){this._notify(!1);const i=this._target[this._prop],a=n-this._start,l=this._duration-a;this._start=n,this._duration=Math.floor(Math.max(l,t.duration)),this._total+=a,this._loop=!!t.loop,this._to=tl([t.to,s,i,t.from]),this._from=tl([t.from,i,s])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const s=t-this._start,n=this._duration,i=this._prop,a=this._from,l=this._loop,o=this._to;let c;if(this._active=a!==o&&(l||s<n),!this._active){this._target[i]=o,this._notify(!0);return}if(s<0){this._target[i]=a;return}c=s/n%2,c=l&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[i]=this._fn(a,o,c)}wait(){const t=this._promises||(this._promises=[]);return new Promise((s,n)=>{t.push({res:s,rej:n})})}_notify(t){const s=t?"res":"rej",n=this._promises||[];for(let i=0;i<n.length;i++)n[i][s]()}}class My{constructor(t,s){this._chart=t,this._properties=new Map,this.configure(s)}configure(t){if(!oe(t))return;const s=Object.keys(Se.animation),n=this._properties;Object.getOwnPropertyNames(t).forEach(i=>{const a=t[i];if(!oe(a))return;const l={};for(const o of s)l[o]=a[o];(ve(a.properties)&&a.properties||[i]).forEach(o=>{(o===i||!n.has(o))&&n.set(o,l)})})}_animateOptions(t,s){const n=s.options,i=mS(t,n);if(!i)return[];const a=this._createAnimations(i,n);return n.$shared&&hS(t.options.$animations,n).then(()=>{t.options=n},()=>{}),a}_createAnimations(t,s){const n=this._properties,i=[],a=t.$animations||(t.$animations={}),l=Object.keys(s),o=Date.now();let c;for(c=l.length-1;c>=0;--c){const d=l[c];if(d.charAt(0)==="$")continue;if(d==="options"){i.push(...this._animateOptions(t,s));continue}const u=s[d];let h=a[d];const m=n.get(d);if(h)if(m&&h.active()){h.update(m,u,o);continue}else h.cancel();if(!m||!m.duration){t[d]=u;continue}a[d]=h=new uS(m,t,d,u),i.push(h)}return i}update(t,s){if(this._properties.size===0){Object.assign(t,s);return}const n=this._createAnimations(t,s);if(n.length)return cs.add(this._chart,n),!0}}function hS(e,t){const s=[],n=Object.keys(t);for(let i=0;i<n.length;i++){const a=e[n[i]];a&&a.active()&&s.push(a.wait())}return Promise.all(s)}function mS(e,t){if(!t)return;let s=e.options;if(!s){e.options=t;return}return s.$shared&&(e.options=s=Object.assign({},s,{$shared:!1,$animations:{}})),s}function rx(e,t){const s=e&&e.options||{},n=s.reverse,i=s.min===void 0?t:0,a=s.max===void 0?t:0;return{start:n?a:i,end:n?i:a}}function fS(e,t,s){if(s===!1)return!1;const n=rx(e,s),i=rx(t,s);return{top:i.end,right:n.end,bottom:i.start,left:n.start}}function xS(e){let t,s,n,i;return oe(e)?(t=e.top,s=e.right,n=e.bottom,i=e.left):t=s=n=i=e,{top:t,right:s,bottom:n,left:i,disabled:e===!1}}function Ty(e,t){const s=[],n=e._getSortedDatasetMetas(t);let i,a;for(i=0,a=n.length;i<a;++i)s.push(n[i].index);return s}function ix(e,t,s,n={}){const i=e.keys,a=n.mode==="single";let l,o,c,d;if(t===null)return;let u=!1;for(l=0,o=i.length;l<o;++l){if(c=+i[l],c===s){if(u=!0,n.all)continue;break}d=e.values[c],ze(d)&&(a||t===0||ls(t)===ls(d))&&(t+=d)}return!u&&!n.all?0:t}function pS(e,t){const{iScale:s,vScale:n}=t,i=s.axis==="x"?"x":"y",a=n.axis==="x"?"x":"y",l=Object.keys(e),o=new Array(l.length);let c,d,u;for(c=0,d=l.length;c<d;++c)u=l[c],o[c]={[i]:u,[a]:e[u]};return o}function Oc(e,t){const s=e&&e.options.stacked;return s||s===void 0&&t.stack!==void 0}function gS(e,t,s){return`${e.id}.${t.id}.${s.stack||s.type}`}function yS(e){const{min:t,max:s,minDefined:n,maxDefined:i}=e.getUserBounds();return{min:n?t:Number.NEGATIVE_INFINITY,max:i?s:Number.POSITIVE_INFINITY}}function vS(e,t,s){const n=e[t]||(e[t]={});return n[s]||(n[s]={})}function ax(e,t,s,n){for(const i of t.getMatchingVisibleMetas(n).reverse()){const a=e[i.index];if(s&&a>0||!s&&a<0)return i.index}return null}function lx(e,t){const{chart:s,_cachedMeta:n}=e,i=s._stacks||(s._stacks={}),{iScale:a,vScale:l,index:o}=n,c=a.axis,d=l.axis,u=gS(a,l,n),h=t.length;let m;for(let v=0;v<h;++v){const x=t[v],{[c]:y,[d]:b}=x,f=x._stacks||(x._stacks={});m=f[d]=vS(i,u,y),m[o]=b,m._top=ax(m,l,!0,n.type),m._bottom=ax(m,l,!1,n.type);const p=m._visualValues||(m._visualValues={});p[o]=b}}function Fc(e,t){const s=e.scales;return Object.keys(s).filter(n=>s[n].axis===t).shift()}function bS(e,t){return pn(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function jS(e,t,s){return pn(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:s,index:t,mode:"default",type:"data"})}function ii(e,t){const s=e.controller.index,n=e.vScale&&e.vScale.axis;if(n){t=t||e._parsed;for(const i of t){const a=i._stacks;if(!a||a[n]===void 0||a[n][s]===void 0)return;delete a[n][s],a[n]._visualValues!==void 0&&a[n]._visualValues[s]!==void 0&&delete a[n]._visualValues[s]}}}const Ic=e=>e==="reset"||e==="none",ox=(e,t)=>t?e:Object.assign({},e),wS=(e,t,s)=>e&&!t.hidden&&t._stacked&&{keys:Ty(s,!0),values:null};class zn{constructor(t,s){this.chart=t,this._ctx=t.ctx,this.index=s,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=Oc(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&ii(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,s=this._cachedMeta,n=this.getDataset(),i=(h,m,v,x)=>h==="x"?m:h==="r"?x:v,a=s.xAxisID=se(n.xAxisID,Fc(t,"x")),l=s.yAxisID=se(n.yAxisID,Fc(t,"y")),o=s.rAxisID=se(n.rAxisID,Fc(t,"r")),c=s.indexAxis,d=s.iAxisID=i(c,a,l,o),u=s.vAxisID=i(c,l,a,o);s.xScale=this.getScaleForId(a),s.yScale=this.getScaleForId(l),s.rScale=this.getScaleForId(o),s.iScale=this.getScaleForId(d),s.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const s=this._cachedMeta;return t===s.iScale?s.vScale:s.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&Uf(this._data,this),t._stacked&&ii(t)}_dataCheck(){const t=this.getDataset(),s=t.data||(t.data=[]),n=this._data;if(oe(s)){const i=this._cachedMeta;this._data=pS(s,i)}else if(n!==s){if(n){Uf(n,this);const i=this._cachedMeta;ii(i),i._parsed=[]}s&&Object.isExtensible(s)&&tk(s,this),this._syncList=[],this._data=s}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const s=this._cachedMeta,n=this.getDataset();let i=!1;this._dataCheck();const a=s._stacked;s._stacked=Oc(s.vScale,s),s.stack!==n.stack&&(i=!0,ii(s),s.stack=n.stack),this._resyncElements(t),(i||a!==s._stacked)&&(lx(this,s._parsed),s._stacked=Oc(s.vScale,s))}configure(){const t=this.chart.config,s=t.datasetScopeKeys(this._type),n=t.getOptionScopes(this.getDataset(),s,!0);this.options=t.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,s){const{_cachedMeta:n,_data:i}=this,{iScale:a,_stacked:l}=n,o=a.axis;let c=t===0&&s===i.length?!0:n._sorted,d=t>0&&n._parsed[t-1],u,h,m;if(this._parsing===!1)n._parsed=i,n._sorted=!0,m=i;else{ve(i[t])?m=this.parseArrayData(n,i,t,s):oe(i[t])?m=this.parseObjectData(n,i,t,s):m=this.parsePrimitiveData(n,i,t,s);const v=()=>h[o]===null||d&&h[o]<d[o];for(u=0;u<s;++u)n._parsed[u+t]=h=m[u],c&&(v()&&(c=!1),d=h);n._sorted=c}l&&lx(this,m)}parsePrimitiveData(t,s,n,i){const{iScale:a,vScale:l}=t,o=a.axis,c=l.axis,d=a.getLabels(),u=a===l,h=new Array(i);let m,v,x;for(m=0,v=i;m<v;++m)x=m+n,h[m]={[o]:u||a.parse(d[x],x),[c]:l.parse(s[x],x)};return h}parseArrayData(t,s,n,i){const{xScale:a,yScale:l}=t,o=new Array(i);let c,d,u,h;for(c=0,d=i;c<d;++c)u=c+n,h=s[u],o[c]={x:a.parse(h[0],u),y:l.parse(h[1],u)};return o}parseObjectData(t,s,n,i){const{xScale:a,yScale:l}=t,{xAxisKey:o="x",yAxisKey:c="y"}=this._parsing,d=new Array(i);let u,h,m,v;for(u=0,h=i;u<h;++u)m=u+n,v=s[m],d[u]={x:a.parse(Yn(v,o),m),y:l.parse(Yn(v,c),m)};return d}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,s,n){const i=this.chart,a=this._cachedMeta,l=s[t.axis],o={keys:Ty(i,!0),values:s._stacks[t.axis]._visualValues};return ix(o,l,a.index,{mode:n})}updateRangeFromParsed(t,s,n,i){const a=n[s.axis];let l=a===null?NaN:a;const o=i&&n._stacks[s.axis];i&&o&&(i.values=o,l=ix(i,a,this._cachedMeta.index)),t.min=Math.min(t.min,l),t.max=Math.max(t.max,l)}getMinMax(t,s){const n=this._cachedMeta,i=n._parsed,a=n._sorted&&t===n.iScale,l=i.length,o=this._getOtherScale(t),c=wS(s,n,this.chart),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:h}=yS(o);let m,v;function x(){v=i[m];const y=v[o.axis];return!ze(v[t.axis])||u>y||h<y}for(m=0;m<l&&!(!x()&&(this.updateRangeFromParsed(d,t,v,c),a));++m);if(a){for(m=l-1;m>=0;--m)if(!x()){this.updateRangeFromParsed(d,t,v,c);break}}return d}getAllParsedValues(t){const s=this._cachedMeta._parsed,n=[];let i,a,l;for(i=0,a=s.length;i<a;++i)l=s[i][t.axis],ze(l)&&n.push(l);return n}getMaxOverflow(){return!1}getLabelAndValue(t){const s=this._cachedMeta,n=s.iScale,i=s.vScale,a=this.getParsed(t);return{label:n?""+n.getLabelForValue(a[n.axis]):"",value:i?""+i.getLabelForValue(a[i.axis]):""}}_update(t){const s=this._cachedMeta;this.update(t||"default"),s._clip=xS(se(this.options.clip,fS(s.xScale,s.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,s=this.chart,n=this._cachedMeta,i=n.data||[],a=s.chartArea,l=[],o=this._drawStart||0,c=this._drawCount||i.length-o,d=this.options.drawActiveElementsOnTop;let u;for(n.dataset&&n.dataset.draw(t,a,o,c),u=o;u<o+c;++u){const h=i[u];h.hidden||(h.active&&d?l.push(h):h.draw(t,a))}for(u=0;u<l.length;++u)l[u].draw(t,a)}getStyle(t,s){const n=s?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(t||0,n)}getContext(t,s,n){const i=this.getDataset();let a;if(t>=0&&t<this._cachedMeta.data.length){const l=this._cachedMeta.data[t];a=l.$context||(l.$context=jS(this.getContext(),t,l)),a.parsed=this.getParsed(t),a.raw=i.data[t],a.index=a.dataIndex=t}else a=this.$context||(this.$context=bS(this.chart.getContext(),this.index)),a.dataset=i,a.index=a.datasetIndex=this.index;return a.active=!!s,a.mode=n,a}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,s){return this._resolveElementOptions(this.dataElementType.id,s,t)}_resolveElementOptions(t,s="default",n){const i=s==="active",a=this._cachedDataOpts,l=t+"-"+s,o=a[l],c=this.enableOptionSharing&&da(n);if(o)return ox(o,c);const d=this.chart.config,u=d.datasetElementScopeKeys(this._type,t),h=i?[`${t}Hover`,"hover",t,""]:[t,""],m=d.getOptionScopes(this.getDataset(),u),v=Object.keys(Se.elements[t]),x=()=>this.getContext(n,i,s),y=d.resolveNamedOptions(m,v,x,h);return y.$shared&&(y.$shared=c,a[l]=Object.freeze(ox(y,c))),y}_resolveAnimations(t,s,n){const i=this.chart,a=this._cachedDataOpts,l=`animation-${s}`,o=a[l];if(o)return o;let c;if(i.options.animation!==!1){const u=this.chart.config,h=u.datasetAnimationScopeKeys(this._type,s),m=u.getOptionScopes(this.getDataset(),h);c=u.createResolver(m,this.getContext(t,n,s))}const d=new My(i,c&&c.animations);return c&&c._cacheable&&(a[l]=Object.freeze(d)),d}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,s){return!s||Ic(t)||this.chart._animationsDisabled}_getSharedOptions(t,s){const n=this.resolveDataElementOptions(t,s),i=this._sharedOptions,a=this.getSharedOptions(n),l=this.includeOptions(s,a)||a!==i;return this.updateSharedOptions(a,s,n),{sharedOptions:a,includeOptions:l}}updateElement(t,s,n,i){Ic(i)?Object.assign(t,n):this._resolveAnimations(s,i).update(t,n)}updateSharedOptions(t,s,n){t&&!Ic(s)&&this._resolveAnimations(void 0,s).update(t,n)}_setStyle(t,s,n,i){t.active=i;const a=this.getStyle(s,i);this._resolveAnimations(s,n,i).update(t,{options:!i&&this.getSharedOptions(a)||a})}removeHoverStyle(t,s,n){this._setStyle(t,n,"active",!1)}setHoverStyle(t,s,n){this._setStyle(t,n,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const s=this._data,n=this._cachedMeta.data;for(const[o,c,d]of this._syncList)this[o](c,d);this._syncList=[];const i=n.length,a=s.length,l=Math.min(a,i);l&&this.parse(0,l),a>i?this._insertElements(i,a-i,t):a<i&&this._removeElements(a,i-a)}_insertElements(t,s,n=!0){const i=this._cachedMeta,a=i.data,l=t+s;let o;const c=d=>{for(d.length+=s,o=d.length-1;o>=l;o--)d[o]=d[o-s]};for(c(a),o=t;o<l;++o)a[o]=new this.dataElementType;this._parsing&&c(i._parsed),this.parse(t,s),n&&this.updateElements(a,t,s,"reset")}updateElements(t,s,n,i){}_removeElements(t,s){const n=this._cachedMeta;if(this._parsing){const i=n._parsed.splice(t,s);n._stacked&&ii(n,i)}n.data.splice(t,s)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[s,n,i]=t;this[s](n,i)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,s){s&&this._sync(["_removeElements",t,s]);const n=arguments.length-2;n&&this._sync(["_insertElements",t,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}V(zn,"defaults",{}),V(zn,"datasetElementType",null),V(zn,"dataElementType",null);function NS(e,t){if(!e._cache.$bar){const s=e.getMatchingVisibleMetas(t);let n=[];for(let i=0,a=s.length;i<a;i++)n=n.concat(s[i].controller.getAllParsedValues(e));e._cache.$bar=py(n.sort((i,a)=>i-a))}return e._cache.$bar}function _S(e){const t=e.iScale,s=NS(t,e.type);let n=t._length,i,a,l,o;const c=()=>{l===32767||l===-32768||(da(o)&&(n=Math.min(n,Math.abs(l-o)||n)),o=l)};for(i=0,a=s.length;i<a;++i)l=t.getPixelForValue(s[i]),c();for(o=void 0,i=0,a=t.ticks.length;i<a;++i)l=t.getPixelForTick(i),c();return n}function kS(e,t,s,n){const i=s.barThickness;let a,l;return le(i)?(a=t.min*s.categoryPercentage,l=s.barPercentage):(a=i*n,l=1),{chunk:a/n,ratio:l,start:t.pixels[e]-a/2}}function SS(e,t,s,n){const i=t.pixels,a=i[e];let l=e>0?i[e-1]:null,o=e<i.length-1?i[e+1]:null;const c=s.categoryPercentage;l===null&&(l=a-(o===null?t.end-t.start:o-a)),o===null&&(o=a+a-l);const d=a-(a-Math.min(l,o))/2*c;return{chunk:Math.abs(o-l)/2*c/n,ratio:s.barPercentage,start:d}}function CS(e,t,s,n){const i=s.parse(e[0],n),a=s.parse(e[1],n),l=Math.min(i,a),o=Math.max(i,a);let c=l,d=o;Math.abs(l)>Math.abs(o)&&(c=o,d=l),t[s.axis]=d,t._custom={barStart:c,barEnd:d,start:i,end:a,min:l,max:o}}function Dy(e,t,s,n){return ve(e)?CS(e,t,s,n):t[s.axis]=s.parse(e,n),t}function cx(e,t,s,n){const i=e.iScale,a=e.vScale,l=i.getLabels(),o=i===a,c=[];let d,u,h,m;for(d=s,u=s+n;d<u;++d)m=t[d],h={},h[i.axis]=o||i.parse(l[d],d),c.push(Dy(m,h,a,d));return c}function zc(e){return e&&e.barStart!==void 0&&e.barEnd!==void 0}function PS(e,t,s){return e!==0?ls(e):(t.isHorizontal()?1:-1)*(t.min>=s?1:-1)}function ES(e){let t,s,n,i,a;return e.horizontal?(t=e.base>e.x,s="left",n="right"):(t=e.base<e.y,s="bottom",n="top"),t?(i="end",a="start"):(i="start",a="end"),{start:s,end:n,reverse:t,top:i,bottom:a}}function MS(e,t,s,n){let i=t.borderSkipped;const a={};if(!i){e.borderSkipped=a;return}if(i===!0){e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:l,end:o,reverse:c,top:d,bottom:u}=ES(e);i==="middle"&&s&&(e.enableBorderRadius=!0,(s._top||0)===n?i=d:(s._bottom||0)===n?i=u:(a[dx(u,l,o,c)]=!0,i=d)),a[dx(i,l,o,c)]=!0,e.borderSkipped=a}function dx(e,t,s,n){return n?(e=TS(e,t,s),e=ux(e,s,t)):e=ux(e,t,s),e}function TS(e,t,s){return e===t?s:e===s?t:e}function ux(e,t,s){return e==="start"?t:e==="end"?s:e}function DS(e,{inflateAmount:t},s){e.inflateAmount=t==="auto"?s===1?.33:0:t}class El extends zn{parsePrimitiveData(t,s,n,i){return cx(t,s,n,i)}parseArrayData(t,s,n,i){return cx(t,s,n,i)}parseObjectData(t,s,n,i){const{iScale:a,vScale:l}=t,{xAxisKey:o="x",yAxisKey:c="y"}=this._parsing,d=a.axis==="x"?o:c,u=l.axis==="x"?o:c,h=[];let m,v,x,y;for(m=n,v=n+i;m<v;++m)y=s[m],x={},x[a.axis]=a.parse(Yn(y,d),m),h.push(Dy(Yn(y,u),x,l,m));return h}updateRangeFromParsed(t,s,n,i){super.updateRangeFromParsed(t,s,n,i);const a=n._custom;a&&s===this._cachedMeta.vScale&&(t.min=Math.min(t.min,a.min),t.max=Math.max(t.max,a.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const s=this._cachedMeta,{iScale:n,vScale:i}=s,a=this.getParsed(t),l=a._custom,o=zc(l)?"["+l.start+", "+l.end+"]":""+i.getLabelForValue(a[i.axis]);return{label:""+n.getLabelForValue(a[n.axis]),value:o}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const s=this._cachedMeta;this.updateElements(s.data,0,s.data.length,t)}updateElements(t,s,n,i){const a=i==="reset",{index:l,_cachedMeta:{vScale:o}}=this,c=o.getBasePixel(),d=o.isHorizontal(),u=this._getRuler(),{sharedOptions:h,includeOptions:m}=this._getSharedOptions(s,i);for(let v=s;v<s+n;v++){const x=this.getParsed(v),y=a||le(x[o.axis])?{base:c,head:c}:this._calculateBarValuePixels(v),b=this._calculateBarIndexPixels(v,u),f=(x._stacks||{})[o.axis],p={horizontal:d,base:y.base,enableBorderRadius:!f||zc(x._custom)||l===f._top||l===f._bottom,x:d?y.head:b.center,y:d?b.center:y.head,height:d?b.size:Math.abs(y.size),width:d?Math.abs(y.size):b.size};m&&(p.options=h||this.resolveDataElementOptions(v,t[v].active?"active":i));const g=p.options||t[v].options;MS(p,g,f,l),DS(p,g,u.ratio),this.updateElement(t[v],v,p,i)}}_getStacks(t,s){const{iScale:n}=this._cachedMeta,i=n.getMatchingVisibleMetas(this._type).filter(u=>u.controller.options.grouped),a=n.options.stacked,l=[],o=this._cachedMeta.controller.getParsed(s),c=o&&o[n.axis],d=u=>{const h=u._parsed.find(v=>v[n.axis]===c),m=h&&h[u.vScale.axis];if(le(m)||isNaN(m))return!0};for(const u of i)if(!(s!==void 0&&d(u))&&((a===!1||l.indexOf(u.stack)===-1||a===void 0&&u.stack===void 0)&&l.push(u.stack),u.index===t))break;return l.length||l.push(void 0),l}_getStackCount(t){return this._getStacks(void 0,t).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const t=this.chart.scales,s=this.chart.options.indexAxis;return Object.keys(t).filter(n=>t[n].axis===s).shift()}_getAxis(){const t={},s=this.getFirstScaleIdForIndexAxis();for(const n of this.chart.data.datasets)t[se(this.chart.options.indexAxis==="x"?n.xAxisID:n.yAxisID,s)]=!0;return Object.keys(t)}_getStackIndex(t,s,n){const i=this._getStacks(t,n),a=s!==void 0?i.indexOf(s):-1;return a===-1?i.length-1:a}_getRuler(){const t=this.options,s=this._cachedMeta,n=s.iScale,i=[];let a,l;for(a=0,l=s.data.length;a<l;++a)i.push(n.getPixelForValue(this.getParsed(a)[n.axis],a));const o=t.barThickness;return{min:o||_S(s),pixels:i,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:t.grouped,ratio:o?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:s,_stacked:n,index:i},options:{base:a,minBarLength:l}}=this,o=a||0,c=this.getParsed(t),d=c._custom,u=zc(d);let h=c[s.axis],m=0,v=n?this.applyStack(s,c,n):h,x,y;v!==h&&(m=v-h,v=h),u&&(h=d.barStart,v=d.barEnd-d.barStart,h!==0&&ls(h)!==ls(d.barEnd)&&(m=0),m+=h);const b=!le(a)&&!u?a:m;let f=s.getPixelForValue(b);if(this.chart.getDataVisibility(t)?x=s.getPixelForValue(m+v):x=f,y=x-f,Math.abs(y)<l){y=PS(y,s,o)*l,h===o&&(f-=y/2);const p=s.getPixelForDecimal(0),g=s.getPixelForDecimal(1),j=Math.min(p,g),w=Math.max(p,g);f=Math.max(Math.min(f,w),j),x=f+y,n&&!u&&(c._stacks[s.axis]._visualValues[i]=s.getValueForPixel(x)-s.getValueForPixel(f))}if(f===s.getPixelForValue(o)){const p=ls(y)*s.getLineWidthForValue(o)/2;f+=p,y-=p}return{size:y,base:f,head:x,center:x+y/2}}_calculateBarIndexPixels(t,s){const n=s.scale,i=this.options,a=i.skipNull,l=se(i.maxBarThickness,1/0);let o,c;const d=this._getAxisCount();if(s.grouped){const u=a?this._getStackCount(t):s.stackCount,h=i.barThickness==="flex"?SS(t,s,i,u*d):kS(t,s,i,u*d),m=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,v=this._getAxis().indexOf(se(m,this.getFirstScaleIdForIndexAxis())),x=this._getStackIndex(this.index,this._cachedMeta.stack,a?t:void 0)+v;o=h.start+h.chunk*x+h.chunk/2,c=Math.min(l,h.chunk*h.ratio)}else o=n.getPixelForValue(this.getParsed(t)[n.axis],t),c=Math.min(l,s.min*s.ratio);return{base:o-c/2,head:o+c/2,center:o,size:c}}draw(){const t=this._cachedMeta,s=t.vScale,n=t.data,i=n.length;let a=0;for(;a<i;++a)this.getParsed(a)[s.axis]!==null&&!n[a].hidden&&n[a].draw(this._ctx)}}V(El,"id","bar"),V(El,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),V(El,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function RS(e,t,s){let n=1,i=1,a=0,l=0;if(t<be){const o=e,c=o+t,d=Math.cos(o),u=Math.sin(o),h=Math.cos(c),m=Math.sin(c),v=(g,j,w)=>ha(g,o,c,!0)?1:Math.max(j,j*s,w,w*s),x=(g,j,w)=>ha(g,o,c,!0)?-1:Math.min(j,j*s,w,w*s),y=v(0,d,h),b=v(Pe,u,m),f=x(de,d,h),p=x(de+Pe,u,m);n=(y-f)/2,i=(b-p)/2,a=-(y+f)/2,l=-(b+p)/2}return{ratioX:n,ratioY:i,offsetX:a,offsetY:l}}class gi extends zn{constructor(t,s){super(t,s),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,s){const n=this.getDataset().data,i=this._cachedMeta;if(this._parsing===!1)i._parsed=n;else{let a=c=>+n[c];if(oe(n[t])){const{key:c="value"}=this._parsing;a=d=>+Yn(n[d],c)}let l,o;for(l=t,o=t+s;l<o;++l)i._parsed[l]=a(l)}}_getRotation(){return ns(this.options.rotation-90)}_getCircumference(){return ns(this.options.circumference)}_getRotationExtents(){let t=be,s=-be;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)&&this.chart.getDatasetMeta(n).type===this._type){const i=this.chart.getDatasetMeta(n).controller,a=i._getRotation(),l=i._getCircumference();t=Math.min(t,a),s=Math.max(s,a+l)}return{rotation:t,circumference:s-t}}update(t){const s=this.chart,{chartArea:n}=s,i=this._cachedMeta,a=i.data,l=this.getMaxBorderWidth()+this.getMaxOffset(a)+this.options.spacing,o=Math.max((Math.min(n.width,n.height)-l)/2,0),c=Math.min(B_(this.options.cutout,o),1),d=this._getRingWeight(this.index),{circumference:u,rotation:h}=this._getRotationExtents(),{ratioX:m,ratioY:v,offsetX:x,offsetY:y}=RS(h,u,c),b=(n.width-l)/m,f=(n.height-l)/v,p=Math.max(Math.min(b,f)/2,0),g=uy(this.options.radius,p),j=Math.max(g*c,0),w=(g-j)/this._getVisibleDatasetWeightTotal();this.offsetX=x*g,this.offsetY=y*g,i.total=this.calculateTotal(),this.outerRadius=g-w*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-w*d,0),this.updateElements(a,0,a.length,t)}_circumference(t,s){const n=this.options,i=this._cachedMeta,a=this._getCircumference();return s&&n.animation.animateRotate||!this.chart.getDataVisibility(t)||i._parsed[t]===null||i.data[t].hidden?0:this.calculateCircumference(i._parsed[t]*a/be)}updateElements(t,s,n,i){const a=i==="reset",l=this.chart,o=l.chartArea,d=l.options.animation,u=(o.left+o.right)/2,h=(o.top+o.bottom)/2,m=a&&d.animateScale,v=m?0:this.innerRadius,x=m?0:this.outerRadius,{sharedOptions:y,includeOptions:b}=this._getSharedOptions(s,i);let f=this._getRotation(),p;for(p=0;p<s;++p)f+=this._circumference(p,a);for(p=s;p<s+n;++p){const g=this._circumference(p,a),j=t[p],w={x:u+this.offsetX,y:h+this.offsetY,startAngle:f,endAngle:f+g,circumference:g,outerRadius:x,innerRadius:v};b&&(w.options=y||this.resolveDataElementOptions(p,j.active?"active":i)),f+=g,this.updateElement(j,p,w,i)}}calculateTotal(){const t=this._cachedMeta,s=t.data;let n=0,i;for(i=0;i<s.length;i++){const a=t._parsed[i];a!==null&&!isNaN(a)&&this.chart.getDataVisibility(i)&&!s[i].hidden&&(n+=Math.abs(a))}return n}calculateCircumference(t){const s=this._cachedMeta.total;return s>0&&!isNaN(t)?be*(Math.abs(t)/s):0}getLabelAndValue(t){const s=this._cachedMeta,n=this.chart,i=n.data.labels||[],a=Qo(s._parsed[t],n.options.locale);return{label:i[t]||"",value:a}}getMaxBorderWidth(t){let s=0;const n=this.chart;let i,a,l,o,c;if(!t){for(i=0,a=n.data.datasets.length;i<a;++i)if(n.isDatasetVisible(i)){l=n.getDatasetMeta(i),t=l.data,o=l.controller;break}}if(!t)return 0;for(i=0,a=t.length;i<a;++i)c=o.resolveDataElementOptions(i),c.borderAlign!=="inner"&&(s=Math.max(s,c.borderWidth||0,c.hoverBorderWidth||0));return s}getMaxOffset(t){let s=0;for(let n=0,i=t.length;n<i;++n){const a=this.resolveDataElementOptions(n);s=Math.max(s,a.offset||0,a.hoverOffset||0)}return s}_getRingWeightOffset(t){let s=0;for(let n=0;n<t;++n)this.chart.isDatasetVisible(n)&&(s+=this._getRingWeight(n));return s}_getRingWeight(t){return Math.max(se(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}V(gi,"id","doughnut"),V(gi,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),V(gi,"descriptors",{_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")}),V(gi,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const s=t.data;if(s.labels.length&&s.datasets.length){const{labels:{pointStyle:n,color:i}}=t.legend.options;return s.labels.map((a,l)=>{const c=t.getDatasetMeta(0).controller.getStyle(l);return{text:a,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:i,lineWidth:c.borderWidth,pointStyle:n,hidden:!t.getDataVisibility(l),index:l}})}return[]}},onClick(t,s,n){n.chart.toggleDataVisibility(s.index),n.chart.update()}}}});class Ml extends zn{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const s=this._cachedMeta,{dataset:n,data:i=[],_dataset:a}=s,l=this.chart._animationsDisabled;let{start:o,count:c}=rk(s,i,l);this._drawStart=o,this._drawCount=c,ik(s)&&(o=0,c=i.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!a._decimated,n.points=i;const d=this.resolveDatasetElementOptions(t);this.options.showLine||(d.borderWidth=0),d.segment=this.options.segment,this.updateElement(n,void 0,{animated:!l,options:d},t),this.updateElements(i,o,c,t)}updateElements(t,s,n,i){const a=i==="reset",{iScale:l,vScale:o,_stacked:c,_dataset:d}=this._cachedMeta,{sharedOptions:u,includeOptions:h}=this._getSharedOptions(s,i),m=l.axis,v=o.axis,{spanGaps:x,segment:y}=this.options,b=ua(x)?x:Number.POSITIVE_INFINITY,f=this.chart._animationsDisabled||a||i==="none",p=s+n,g=t.length;let j=s>0&&this.getParsed(s-1);for(let w=0;w<g;++w){const _=t[w],k=f?_:{};if(w<s||w>=p){k.skip=!0;continue}const P=this.getParsed(w),E=le(P[v]),C=k[m]=l.getPixelForValue(P[m],w),R=k[v]=a||E?o.getBasePixel():o.getPixelForValue(c?this.applyStack(o,P,c):P[v],w);k.skip=isNaN(C)||isNaN(R)||E,k.stop=w>0&&Math.abs(P[m]-j[m])>b,y&&(k.parsed=P,k.raw=d.data[w]),h&&(k.options=u||this.resolveDataElementOptions(w,_.active?"active":i)),f||this.updateElement(_,w,k,i),j=P}}getMaxOverflow(){const t=this._cachedMeta,s=t.dataset,n=s.options&&s.options.borderWidth||0,i=t.data||[];if(!i.length)return n;const a=i[0].size(this.resolveDataElementOptions(0)),l=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(n,a,l)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}V(Ml,"id","line"),V(Ml,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),V(Ml,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});function bn(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Th{constructor(t){V(this,"options");this.options=t||{}}static override(t){Object.assign(Th.prototype,t)}init(){}formats(){return bn()}parse(){return bn()}format(){return bn()}add(){return bn()}diff(){return bn()}startOf(){return bn()}endOf(){return bn()}}var AS={_date:Th};function LS(e,t,s,n){const{controller:i,data:a,_sorted:l}=e,o=i._cachedMeta.iScale,c=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(o&&t===o.axis&&t!=="r"&&l&&a.length){const d=o._reversePixels?Z_:An;if(n){if(i._sharedOptions){const u=a[0],h=typeof u.getRange=="function"&&u.getRange(t);if(h){const m=d(a,t,s-h),v=d(a,t,s+h);return{lo:m.lo,hi:v.hi}}}}else{const u=d(a,t,s);if(c){const{vScale:h}=i._cachedMeta,{_parsed:m}=e,v=m.slice(0,u.lo+1).reverse().findIndex(y=>!le(y[h.axis]));u.lo-=Math.max(0,v);const x=m.slice(u.hi).findIndex(y=>!le(y[h.axis]));u.hi+=Math.max(0,x)}return u}}return{lo:0,hi:a.length-1}}function Pa(e,t,s,n,i){const a=e.getSortedVisibleDatasetMetas(),l=s[t];for(let o=0,c=a.length;o<c;++o){const{index:d,data:u}=a[o],{lo:h,hi:m}=LS(a[o],t,l,i);for(let v=h;v<=m;++v){const x=u[v];x.skip||n(x,d,v)}}}function OS(e){const t=e.indexOf("x")!==-1,s=e.indexOf("y")!==-1;return function(n,i){const a=t?Math.abs(n.x-i.x):0,l=s?Math.abs(n.y-i.y):0;return Math.sqrt(Math.pow(a,2)+Math.pow(l,2))}}function Bc(e,t,s,n,i){const a=[];return!i&&!e.isPointInArea(t)||Pa(e,s,t,function(o,c,d){!i&&!js(o,e.chartArea,0)||o.inRange(t.x,t.y,n)&&a.push({element:o,datasetIndex:c,index:d})},!0),a}function FS(e,t,s,n){let i=[];function a(l,o,c){const{startAngle:d,endAngle:u}=l.getProps(["startAngle","endAngle"],n),{angle:h}=fy(l,{x:t.x,y:t.y});ha(h,d,u)&&i.push({element:l,datasetIndex:o,index:c})}return Pa(e,s,t,a),i}function IS(e,t,s,n,i,a){let l=[];const o=OS(s);let c=Number.POSITIVE_INFINITY;function d(u,h,m){const v=u.inRange(t.x,t.y,i);if(n&&!v)return;const x=u.getCenterPoint(i);if(!(!!a||e.isPointInArea(x))&&!v)return;const b=o(t,x);b<c?(l=[{element:u,datasetIndex:h,index:m}],c=b):b===c&&l.push({element:u,datasetIndex:h,index:m})}return Pa(e,s,t,d),l}function $c(e,t,s,n,i,a){return!a&&!e.isPointInArea(t)?[]:s==="r"&&!n?FS(e,t,s,i):IS(e,t,s,n,i,a)}function hx(e,t,s,n,i){const a=[],l=s==="x"?"inXRange":"inYRange";let o=!1;return Pa(e,s,t,(c,d,u)=>{c[l]&&c[l](t[s],i)&&(a.push({element:c,datasetIndex:d,index:u}),o=o||c.inRange(t.x,t.y,i))}),n&&!o?[]:a}var zS={evaluateInteractionItems:Pa,modes:{index(e,t,s,n){const i=Sn(t,e),a=s.axis||"x",l=s.includeInvisible||!1,o=s.intersect?Bc(e,i,a,n,l):$c(e,i,a,!1,n,l),c=[];return o.length?(e.getSortedVisibleDatasetMetas().forEach(d=>{const u=o[0].index,h=d.data[u];h&&!h.skip&&c.push({element:h,datasetIndex:d.index,index:u})}),c):[]},dataset(e,t,s,n){const i=Sn(t,e),a=s.axis||"xy",l=s.includeInvisible||!1;let o=s.intersect?Bc(e,i,a,n,l):$c(e,i,a,!1,n,l);if(o.length>0){const c=o[0].datasetIndex,d=e.getDatasetMeta(c).data;o=[];for(let u=0;u<d.length;++u)o.push({element:d[u],datasetIndex:c,index:u})}return o},point(e,t,s,n){const i=Sn(t,e),a=s.axis||"xy",l=s.includeInvisible||!1;return Bc(e,i,a,n,l)},nearest(e,t,s,n){const i=Sn(t,e),a=s.axis||"xy",l=s.includeInvisible||!1;return $c(e,i,a,s.intersect,n,l)},x(e,t,s,n){const i=Sn(t,e);return hx(e,i,"x",s.intersect,n)},y(e,t,s,n){const i=Sn(t,e);return hx(e,i,"y",s.intersect,n)}}};const Ry=["left","top","right","bottom"];function ai(e,t){return e.filter(s=>s.pos===t)}function mx(e,t){return e.filter(s=>Ry.indexOf(s.pos)===-1&&s.box.axis===t)}function li(e,t){return e.sort((s,n)=>{const i=t?n:s,a=t?s:n;return i.weight===a.weight?i.index-a.index:i.weight-a.weight})}function BS(e){const t=[];let s,n,i,a,l,o;for(s=0,n=(e||[]).length;s<n;++s)i=e[s],{position:a,options:{stack:l,stackWeight:o=1}}=i,t.push({index:s,box:i,pos:a,horizontal:i.isHorizontal(),weight:i.weight,stack:l&&a+l,stackWeight:o});return t}function $S(e){const t={};for(const s of e){const{stack:n,pos:i,stackWeight:a}=s;if(!n||!Ry.includes(i))continue;const l=t[n]||(t[n]={count:0,placed:0,weight:0,size:0});l.count++,l.weight+=a}return t}function WS(e,t){const s=$S(e),{vBoxMaxWidth:n,hBoxMaxHeight:i}=t;let a,l,o;for(a=0,l=e.length;a<l;++a){o=e[a];const{fullSize:c}=o.box,d=s[o.stack],u=d&&o.stackWeight/d.weight;o.horizontal?(o.width=u?u*n:c&&t.availableWidth,o.height=i):(o.width=n,o.height=u?u*i:c&&t.availableHeight)}return s}function HS(e){const t=BS(e),s=li(t.filter(d=>d.box.fullSize),!0),n=li(ai(t,"left"),!0),i=li(ai(t,"right")),a=li(ai(t,"top"),!0),l=li(ai(t,"bottom")),o=mx(t,"x"),c=mx(t,"y");return{fullSize:s,leftAndTop:n.concat(a),rightAndBottom:i.concat(c).concat(l).concat(o),chartArea:ai(t,"chartArea"),vertical:n.concat(i).concat(c),horizontal:a.concat(l).concat(o)}}function fx(e,t,s,n){return Math.max(e[s],t[s])+Math.max(e[n],t[n])}function Ay(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function US(e,t,s,n){const{pos:i,box:a}=s,l=e.maxPadding;if(!oe(i)){s.size&&(e[i]-=s.size);const h=n[s.stack]||{size:0,count:1};h.size=Math.max(h.size,s.horizontal?a.height:a.width),s.size=h.size/h.count,e[i]+=s.size}a.getPadding&&Ay(l,a.getPadding());const o=Math.max(0,t.outerWidth-fx(l,e,"left","right")),c=Math.max(0,t.outerHeight-fx(l,e,"top","bottom")),d=o!==e.w,u=c!==e.h;return e.w=o,e.h=c,s.horizontal?{same:d,other:u}:{same:u,other:d}}function VS(e){const t=e.maxPadding;function s(n){const i=Math.max(t[n]-e[n],0);return e[n]+=i,i}e.y+=s("top"),e.x+=s("left"),s("right"),s("bottom")}function qS(e,t){const s=t.maxPadding;function n(i){const a={left:0,top:0,right:0,bottom:0};return i.forEach(l=>{a[l]=Math.max(t[l],s[l])}),a}return n(e?["left","right"]:["top","bottom"])}function yi(e,t,s,n){const i=[];let a,l,o,c,d,u;for(a=0,l=e.length,d=0;a<l;++a){o=e[a],c=o.box,c.update(o.width||t.w,o.height||t.h,qS(o.horizontal,t));const{same:h,other:m}=US(t,s,o,n);d|=h&&i.length,u=u||m,c.fullSize||i.push(o)}return d&&yi(i,t,s,n)||u}function il(e,t,s,n,i){e.top=s,e.left=t,e.right=t+n,e.bottom=s+i,e.width=n,e.height=i}function xx(e,t,s,n){const i=s.padding;let{x:a,y:l}=t;for(const o of e){const c=o.box,d=n[o.stack]||{count:1,placed:0,weight:1},u=o.stackWeight/d.weight||1;if(o.horizontal){const h=t.w*u,m=d.size||c.height;da(d.start)&&(l=d.start),c.fullSize?il(c,i.left,l,s.outerWidth-i.right-i.left,m):il(c,t.left+d.placed,l,h,m),d.start=l,d.placed+=h,l=c.bottom}else{const h=t.h*u,m=d.size||c.width;da(d.start)&&(a=d.start),c.fullSize?il(c,a,i.top,m,s.outerHeight-i.bottom-i.top):il(c,a,t.top+d.placed,m,h),d.start=a,d.placed+=h,a=c.right}}t.x=a,t.y=l}var Mt={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(s){t.draw(s)}}]},e.boxes.push(t)},removeBox(e,t){const s=e.boxes?e.boxes.indexOf(t):-1;s!==-1&&e.boxes.splice(s,1)},configure(e,t,s){t.fullSize=s.fullSize,t.position=s.position,t.weight=s.weight},update(e,t,s,n){if(!e)return;const i=et(e.options.layout.padding),a=Math.max(t-i.width,0),l=Math.max(s-i.height,0),o=HS(e.boxes),c=o.vertical,d=o.horizontal;he(e.boxes,y=>{typeof y.beforeLayout=="function"&&y.beforeLayout()});const u=c.reduce((y,b)=>b.box.options&&b.box.options.display===!1?y:y+1,0)||1,h=Object.freeze({outerWidth:t,outerHeight:s,padding:i,availableWidth:a,availableHeight:l,vBoxMaxWidth:a/2/u,hBoxMaxHeight:l/2}),m=Object.assign({},i);Ay(m,et(n));const v=Object.assign({maxPadding:m,w:a,h:l,x:i.left,y:i.top},i),x=WS(c.concat(d),h);yi(o.fullSize,v,h,x),yi(c,v,h,x),yi(d,v,h,x)&&yi(c,v,h,x),VS(v),xx(o.leftAndTop,v,h,x),v.x+=v.w,v.y+=v.h,xx(o.rightAndBottom,v,h,x),e.chartArea={left:v.left,top:v.top,right:v.left+v.w,bottom:v.top+v.h,height:v.h,width:v.w},he(o.chartArea,y=>{const b=y.box;Object.assign(b,e.chartArea),b.update(v.w,v.h,{left:0,top:0,right:0,bottom:0})})}};class Ly{acquireContext(t,s){}releaseContext(t){return!1}addEventListener(t,s,n){}removeEventListener(t,s,n){}getDevicePixelRatio(){return 1}getMaximumSize(t,s,n,i){return s=Math.max(0,s||t.width),n=n||t.height,{width:s,height:Math.max(0,i?Math.floor(s/i):n)}}isAttached(t){return!0}updateConfig(t){}}class YS extends Ly{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const Tl="$chartjs",XS={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},px=e=>e===null||e==="";function QS(e,t){const s=e.style,n=e.getAttribute("height"),i=e.getAttribute("width");if(e[Tl]={initial:{height:n,width:i,style:{display:s.display,height:s.height,width:s.width}}},s.display=s.display||"block",s.boxSizing=s.boxSizing||"border-box",px(i)){const a=Zf(e,"width");a!==void 0&&(e.width=a)}if(px(n))if(e.style.height==="")e.height=e.width/(t||2);else{const a=Zf(e,"height");a!==void 0&&(e.height=a)}return e}const Oy=Xk?{passive:!0}:!1;function KS(e,t,s){e&&e.addEventListener(t,s,Oy)}function GS(e,t,s){e&&e.canvas&&e.canvas.removeEventListener(t,s,Oy)}function JS(e,t){const s=XS[e.type]||e.type,{x:n,y:i}=Sn(e,t);return{type:s,chart:t,native:e,x:n!==void 0?n:null,y:i!==void 0?i:null}}function yo(e,t){for(const s of e)if(s===t||s.contains(t))return!0}function ZS(e,t,s){const n=e.canvas,i=new MutationObserver(a=>{let l=!1;for(const o of a)l=l||yo(o.addedNodes,n),l=l&&!yo(o.removedNodes,n);l&&s()});return i.observe(document,{childList:!0,subtree:!0}),i}function e4(e,t,s){const n=e.canvas,i=new MutationObserver(a=>{let l=!1;for(const o of a)l=l||yo(o.removedNodes,n),l=l&&!yo(o.addedNodes,n);l&&s()});return i.observe(document,{childList:!0,subtree:!0}),i}const fa=new Map;let gx=0;function Fy(){const e=window.devicePixelRatio;e!==gx&&(gx=e,fa.forEach((t,s)=>{s.currentDevicePixelRatio!==e&&t()}))}function t4(e,t){fa.size||window.addEventListener("resize",Fy),fa.set(e,t)}function s4(e){fa.delete(e),fa.size||window.removeEventListener("resize",Fy)}function n4(e,t,s){const n=e.canvas,i=n&&Mh(n);if(!i)return;const a=yy((o,c)=>{const d=i.clientWidth;s(o,c),d<i.clientWidth&&s()},window),l=new ResizeObserver(o=>{const c=o[0],d=c.contentRect.width,u=c.contentRect.height;d===0&&u===0||a(d,u)});return l.observe(i),t4(e,a),l}function Wc(e,t,s){s&&s.disconnect(),t==="resize"&&s4(e)}function r4(e,t,s){const n=e.canvas,i=yy(a=>{e.ctx!==null&&s(JS(a,e))},e);return KS(n,t,i),i}class i4 extends Ly{acquireContext(t,s){const n=t&&t.getContext&&t.getContext("2d");return n&&n.canvas===t?(QS(t,s),n):null}releaseContext(t){const s=t.canvas;if(!s[Tl])return!1;const n=s[Tl].initial;["height","width"].forEach(a=>{const l=n[a];le(l)?s.removeAttribute(a):s.setAttribute(a,l)});const i=n.style||{};return Object.keys(i).forEach(a=>{s.style[a]=i[a]}),s.width=s.width,delete s[Tl],!0}addEventListener(t,s,n){this.removeEventListener(t,s);const i=t.$proxies||(t.$proxies={}),l={attach:ZS,detach:e4,resize:n4}[s]||r4;i[s]=l(t,s,n)}removeEventListener(t,s){const n=t.$proxies||(t.$proxies={}),i=n[s];if(!i)return;({attach:Wc,detach:Wc,resize:Wc}[s]||GS)(t,s,i),n[s]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,s,n,i){return Yk(t,s,n,i)}isAttached(t){const s=t&&Mh(t);return!!(s&&s.isConnected)}}function a4(e){return!Eh()||typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas?YS:i4}class qt{constructor(){V(this,"x");V(this,"y");V(this,"active",!1);V(this,"options");V(this,"$animations")}tooltipPosition(t){const{x:s,y:n}=this.getProps(["x","y"],t);return{x:s,y:n}}hasValue(){return ua(this.x)&&ua(this.y)}getProps(t,s){const n=this.$animations;if(!s||!n)return this;const i={};return t.forEach(a=>{i[a]=n[a]&&n[a].active()?n[a]._to:this[a]}),i}}V(qt,"defaults",{}),V(qt,"defaultRoutes");function l4(e,t){const s=e.options.ticks,n=o4(e),i=Math.min(s.maxTicksLimit||n,n),a=s.major.enabled?d4(t):[],l=a.length,o=a[0],c=a[l-1],d=[];if(l>i)return u4(t,d,a,l/i),d;const u=c4(a,t,i);if(l>0){let h,m;const v=l>1?Math.round((c-o)/(l-1)):null;for(al(t,d,u,le(v)?0:o-v,o),h=0,m=l-1;h<m;h++)al(t,d,u,a[h],a[h+1]);return al(t,d,u,c,le(v)?t.length:c+v),d}return al(t,d,u),d}function o4(e){const t=e.options.offset,s=e._tickSize(),n=e._length/s+(t?0:1),i=e._maxLength/s;return Math.floor(Math.min(n,i))}function c4(e,t,s){const n=h4(e),i=t.length/s;if(!n)return Math.max(i,1);const a=X_(n);for(let l=0,o=a.length-1;l<o;l++){const c=a[l];if(c>i)return c}return Math.max(i,1)}function d4(e){const t=[];let s,n;for(s=0,n=e.length;s<n;s++)e[s].major&&t.push(s);return t}function u4(e,t,s,n){let i=0,a=s[0],l;for(n=Math.ceil(n),l=0;l<e.length;l++)l===a&&(t.push(e[l]),i++,a=s[i*n])}function al(e,t,s,n,i){const a=se(n,0),l=Math.min(se(i,e.length),e.length);let o=0,c,d,u;for(s=Math.ceil(s),i&&(c=i-n,s=c/Math.floor(c/s)),u=a;u<0;)o++,u=Math.round(a+o*s);for(d=Math.max(a,0);d<l;d++)d===u&&(t.push(e[d]),o++,u=Math.round(a+o*s))}function h4(e){const t=e.length;let s,n;if(t<2)return!1;for(n=e[0],s=1;s<t;++s)if(e[s]-e[s-1]!==n)return!1;return n}const m4=e=>e==="left"?"right":e==="right"?"left":e,yx=(e,t,s)=>t==="top"||t==="left"?e[t]+s:e[t]-s,vx=(e,t)=>Math.min(t||e,e);function bx(e,t){const s=[],n=e.length/t,i=e.length;let a=0;for(;a<i;a+=n)s.push(e[Math.floor(a)]);return s}function f4(e,t,s){const n=e.ticks.length,i=Math.min(t,n-1),a=e._startPixel,l=e._endPixel,o=1e-6;let c=e.getPixelForTick(i),d;if(!(s&&(n===1?d=Math.max(c-a,l-c):t===0?d=(e.getPixelForTick(1)-c)/2:d=(c-e.getPixelForTick(i-1))/2,c+=i<t?d:-d,c<a-o||c>l+o)))return c}function x4(e,t){he(e,s=>{const n=s.gc,i=n.length/2;let a;if(i>t){for(a=0;a<i;++a)delete s.data[n[a]];n.splice(0,i)}})}function oi(e){return e.drawTicks?e.tickLength:0}function jx(e,t){if(!e.display)return 0;const s=Oe(e.font,t),n=et(e.padding);return(ve(e.text)?e.text.length:1)*s.lineHeight+n.height}function p4(e,t){return pn(e,{scale:t,type:"scale"})}function g4(e,t,s){return pn(e,{tick:s,index:t,type:"tick"})}function y4(e,t,s){let n=jh(e);return(s&&t!=="right"||!s&&t==="right")&&(n=m4(n)),n}function v4(e,t,s,n){const{top:i,left:a,bottom:l,right:o,chart:c}=e,{chartArea:d,scales:u}=c;let h=0,m,v,x;const y=l-i,b=o-a;if(e.isHorizontal()){if(v=Qe(n,a,o),oe(s)){const f=Object.keys(s)[0],p=s[f];x=u[f].getPixelForValue(p)+y-t}else s==="center"?x=(d.bottom+d.top)/2+y-t:x=yx(e,s,t);m=o-a}else{if(oe(s)){const f=Object.keys(s)[0],p=s[f];v=u[f].getPixelForValue(p)-b+t}else s==="center"?v=(d.left+d.right)/2-b+t:v=yx(e,s,t);x=Qe(n,l,i),h=s==="left"?-Pe:Pe}return{titleX:v,titleY:x,maxWidth:m,rotation:h}}class Jn extends qt{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,s){return t}getUserBounds(){let{_userMin:t,_userMax:s,_suggestedMin:n,_suggestedMax:i}=this;return t=pt(t,Number.POSITIVE_INFINITY),s=pt(s,Number.NEGATIVE_INFINITY),n=pt(n,Number.POSITIVE_INFINITY),i=pt(i,Number.NEGATIVE_INFINITY),{min:pt(t,n),max:pt(s,i),minDefined:ze(t),maxDefined:ze(s)}}getMinMax(t){let{min:s,max:n,minDefined:i,maxDefined:a}=this.getUserBounds(),l;if(i&&a)return{min:s,max:n};const o=this.getMatchingVisibleMetas();for(let c=0,d=o.length;c<d;++c)l=o[c].controller.getMinMax(this,t),i||(s=Math.min(s,l.min)),a||(n=Math.max(n,l.max));return s=a&&s>n?n:s,n=i&&s>n?s:n,{min:pt(s,pt(n,s)),max:pt(n,pt(s,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){fe(this.options.beforeUpdate,[this])}update(t,s,n){const{beginAtZero:i,grace:a,ticks:l}=this.options,o=l.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=s,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=kk(this,a,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const c=o<this.ticks.length;this._convertTicksToLabels(c?bx(this.ticks,o):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),l.display&&(l.autoSkip||l.source==="auto")&&(this.ticks=l4(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,s,n;this.isHorizontal()?(s=this.left,n=this.right):(s=this.top,n=this.bottom,t=!t),this._startPixel=s,this._endPixel=n,this._reversePixels=t,this._length=n-s,this._alignToPixels=this.options.alignToPixels}afterUpdate(){fe(this.options.afterUpdate,[this])}beforeSetDimensions(){fe(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){fe(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),fe(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){fe(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const s=this.options.ticks;let n,i,a;for(n=0,i=t.length;n<i;n++)a=t[n],a.label=fe(s.callback,[a.value,n,t],this)}afterTickToLabelConversion(){fe(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){fe(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,s=t.ticks,n=vx(this.ticks.length,t.ticks.maxTicksLimit),i=s.minRotation||0,a=s.maxRotation;let l=i,o,c,d;if(!this._isVisible()||!s.display||i>=a||n<=1||!this.isHorizontal()){this.labelRotation=i;return}const u=this._getLabelSizes(),h=u.widest.width,m=u.highest.height,v=Je(this.chart.width-h,0,this.maxWidth);o=t.offset?this.maxWidth/n:v/(n-1),h+6>o&&(o=v/(n-(t.offset?.5:1)),c=this.maxHeight-oi(t.grid)-s.padding-jx(t.title,this.chart.options.font),d=Math.sqrt(h*h+m*m),l=vh(Math.min(Math.asin(Je((u.highest.height+6)/o,-1,1)),Math.asin(Je(c/d,-1,1))-Math.asin(Je(m/d,-1,1)))),l=Math.max(i,Math.min(a,l))),this.labelRotation=l}afterCalculateLabelRotation(){fe(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){fe(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:s,options:{ticks:n,title:i,grid:a}}=this,l=this._isVisible(),o=this.isHorizontal();if(l){const c=jx(i,s.options.font);if(o?(t.width=this.maxWidth,t.height=oi(a)+c):(t.height=this.maxHeight,t.width=oi(a)+c),n.display&&this.ticks.length){const{first:d,last:u,widest:h,highest:m}=this._getLabelSizes(),v=n.padding*2,x=ns(this.labelRotation),y=Math.cos(x),b=Math.sin(x);if(o){const f=n.mirror?0:b*h.width+y*m.height;t.height=Math.min(this.maxHeight,t.height+f+v)}else{const f=n.mirror?0:y*h.width+b*m.height;t.width=Math.min(this.maxWidth,t.width+f+v)}this._calculatePadding(d,u,b,y)}}this._handleMargins(),o?(this.width=this._length=s.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=s.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,s,n,i){const{ticks:{align:a,padding:l},position:o}=this.options,c=this.labelRotation!==0,d=o!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1);let m=0,v=0;c?d?(m=i*t.width,v=n*s.height):(m=n*t.height,v=i*s.width):a==="start"?v=s.width:a==="end"?m=t.width:a!=="inner"&&(m=t.width/2,v=s.width/2),this.paddingLeft=Math.max((m-u+l)*this.width/(this.width-u),0),this.paddingRight=Math.max((v-h+l)*this.width/(this.width-h),0)}else{let u=s.height/2,h=t.height/2;a==="start"?(u=0,h=t.height):a==="end"&&(u=s.height,h=0),this.paddingTop=u+l,this.paddingBottom=h+l}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){fe(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:s}=this.options;return s==="top"||s==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let s,n;for(s=0,n=t.length;s<n;s++)le(t[s].label)&&(t.splice(s,1),n--,s--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const s=this.options.ticks.sampleSize;let n=this.ticks;s<n.length&&(n=bx(n,s)),this._labelSizes=t=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,s,n){const{ctx:i,_longestTextCache:a}=this,l=[],o=[],c=Math.floor(s/vx(s,n));let d=0,u=0,h,m,v,x,y,b,f,p,g,j,w;for(h=0;h<s;h+=c){if(x=t[h].label,y=this._resolveTickFontOptions(h),i.font=b=y.string,f=a[b]=a[b]||{data:{},gc:[]},p=y.lineHeight,g=j=0,!le(x)&&!ve(x))g=po(i,f.data,f.gc,g,x),j=p;else if(ve(x))for(m=0,v=x.length;m<v;++m)w=x[m],!le(w)&&!ve(w)&&(g=po(i,f.data,f.gc,g,w),j+=p);l.push(g),o.push(j),d=Math.max(g,d),u=Math.max(j,u)}x4(a,s);const _=l.indexOf(d),k=o.indexOf(u),P=E=>({width:l[E]||0,height:o[E]||0});return{first:P(0),last:P(s-1),widest:P(_),highest:P(k),widths:l,heights:o}}getLabelForValue(t){return t}getPixelForValue(t,s){return NaN}getValueForPixel(t){}getPixelForTick(t){const s=this.ticks;return t<0||t>s.length-1?null:this.getPixelForValue(s[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const s=this._startPixel+t*this._length;return J_(this._alignToPixels?vn(this.chart,s,0):s)}getDecimalForPixel(t){const s=(t-this._startPixel)/this._length;return this._reversePixels?1-s:s}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:s}=this;return t<0&&s<0?s:t>0&&s>0?t:0}getContext(t){const s=this.ticks||[];if(t>=0&&t<s.length){const n=s[t];return n.$context||(n.$context=g4(this.getContext(),t,n))}return this.$context||(this.$context=p4(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,s=ns(this.labelRotation),n=Math.abs(Math.cos(s)),i=Math.abs(Math.sin(s)),a=this._getLabelSizes(),l=t.autoSkipPadding||0,o=a?a.widest.width+l:0,c=a?a.highest.height+l:0;return this.isHorizontal()?c*n>o*i?o/n:c/i:c*i<o*n?c/n:o/i}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const s=this.axis,n=this.chart,i=this.options,{grid:a,position:l,border:o}=i,c=a.offset,d=this.isHorizontal(),h=this.ticks.length+(c?1:0),m=oi(a),v=[],x=o.setContext(this.getContext()),y=x.display?x.width:0,b=y/2,f=function(M){return vn(n,M,y)};let p,g,j,w,_,k,P,E,C,R,I,H;if(l==="top")p=f(this.bottom),k=this.bottom-m,E=p-b,R=f(t.top)+b,H=t.bottom;else if(l==="bottom")p=f(this.top),R=t.top,H=f(t.bottom)-b,k=p+b,E=this.top+m;else if(l==="left")p=f(this.right),_=this.right-m,P=p-b,C=f(t.left)+b,I=t.right;else if(l==="right")p=f(this.left),C=t.left,I=f(t.right)-b,_=p+b,P=this.left+m;else if(s==="x"){if(l==="center")p=f((t.top+t.bottom)/2+.5);else if(oe(l)){const M=Object.keys(l)[0],B=l[M];p=f(this.chart.scales[M].getPixelForValue(B))}R=t.top,H=t.bottom,k=p+b,E=k+m}else if(s==="y"){if(l==="center")p=f((t.left+t.right)/2);else if(oe(l)){const M=Object.keys(l)[0],B=l[M];p=f(this.chart.scales[M].getPixelForValue(B))}_=p-b,P=_-m,C=t.left,I=t.right}const Q=se(i.ticks.maxTicksLimit,h),Z=Math.max(1,Math.ceil(h/Q));for(g=0;g<h;g+=Z){const M=this.getContext(g),B=a.setContext(M),S=o.setContext(M),A=B.lineWidth,$=B.color,X=S.dash||[],K=S.dashOffset,L=B.tickWidth,U=B.tickColor,J=B.tickBorderDash||[],F=B.tickBorderDashOffset;j=f4(this,g,c),j!==void 0&&(w=vn(n,j,A),d?_=P=C=I=w:k=E=R=H=w,v.push({tx1:_,ty1:k,tx2:P,ty2:E,x1:C,y1:R,x2:I,y2:H,width:A,color:$,borderDash:X,borderDashOffset:K,tickWidth:L,tickColor:U,tickBorderDash:J,tickBorderDashOffset:F}))}return this._ticksLength=h,this._borderValue=p,v}_computeLabelItems(t){const s=this.axis,n=this.options,{position:i,ticks:a}=n,l=this.isHorizontal(),o=this.ticks,{align:c,crossAlign:d,padding:u,mirror:h}=a,m=oi(n.grid),v=m+u,x=h?-u:v,y=-ns(this.labelRotation),b=[];let f,p,g,j,w,_,k,P,E,C,R,I,H="middle";if(i==="top")_=this.bottom-x,k=this._getXAxisLabelAlignment();else if(i==="bottom")_=this.top+x,k=this._getXAxisLabelAlignment();else if(i==="left"){const Z=this._getYAxisLabelAlignment(m);k=Z.textAlign,w=Z.x}else if(i==="right"){const Z=this._getYAxisLabelAlignment(m);k=Z.textAlign,w=Z.x}else if(s==="x"){if(i==="center")_=(t.top+t.bottom)/2+v;else if(oe(i)){const Z=Object.keys(i)[0],M=i[Z];_=this.chart.scales[Z].getPixelForValue(M)+v}k=this._getXAxisLabelAlignment()}else if(s==="y"){if(i==="center")w=(t.left+t.right)/2-v;else if(oe(i)){const Z=Object.keys(i)[0],M=i[Z];w=this.chart.scales[Z].getPixelForValue(M)}k=this._getYAxisLabelAlignment(m).textAlign}s==="y"&&(c==="start"?H="top":c==="end"&&(H="bottom"));const Q=this._getLabelSizes();for(f=0,p=o.length;f<p;++f){g=o[f],j=g.label;const Z=a.setContext(this.getContext(f));P=this.getPixelForTick(f)+a.labelOffset,E=this._resolveTickFontOptions(f),C=E.lineHeight,R=ve(j)?j.length:1;const M=R/2,B=Z.color,S=Z.textStrokeColor,A=Z.textStrokeWidth;let $=k;l?(w=P,k==="inner"&&(f===p-1?$=this.options.reverse?"left":"right":f===0?$=this.options.reverse?"right":"left":$="center"),i==="top"?d==="near"||y!==0?I=-R*C+C/2:d==="center"?I=-Q.highest.height/2-M*C+C:I=-Q.highest.height+C/2:d==="near"||y!==0?I=C/2:d==="center"?I=Q.highest.height/2-M*C:I=Q.highest.height-R*C,h&&(I*=-1),y!==0&&!Z.showLabelBackdrop&&(w+=C/2*Math.sin(y))):(_=P,I=(1-R)*C/2);let X;if(Z.showLabelBackdrop){const K=et(Z.backdropPadding),L=Q.heights[f],U=Q.widths[f];let J=I-K.top,F=0-K.left;switch(H){case"middle":J-=L/2;break;case"bottom":J-=L;break}switch(k){case"center":F-=U/2;break;case"right":F-=U;break;case"inner":f===p-1?F-=U:f>0&&(F-=U/2);break}X={left:F,top:J,width:U+K.width,height:L+K.height,color:Z.backdropColor}}b.push({label:j,font:E,textOffset:I,options:{rotation:y,color:B,strokeColor:S,strokeWidth:A,textAlign:$,textBaseline:H,translation:[w,_],backdrop:X}})}return b}_getXAxisLabelAlignment(){const{position:t,ticks:s}=this.options;if(-ns(this.labelRotation))return t==="top"?"left":"right";let i="center";return s.align==="start"?i="left":s.align==="end"?i="right":s.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(t){const{position:s,ticks:{crossAlign:n,mirror:i,padding:a}}=this.options,l=this._getLabelSizes(),o=t+a,c=l.widest.width;let d,u;return s==="left"?i?(u=this.right+a,n==="near"?d="left":n==="center"?(d="center",u+=c/2):(d="right",u+=c)):(u=this.right-o,n==="near"?d="right":n==="center"?(d="center",u-=c/2):(d="left",u=this.left)):s==="right"?i?(u=this.left+a,n==="near"?d="right":n==="center"?(d="center",u-=c/2):(d="left",u-=c)):(u=this.left+o,n==="near"?d="left":n==="center"?(d="center",u+=c/2):(d="right",u=this.right)):d="right",{textAlign:d,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,s=this.options.position;if(s==="left"||s==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(s==="top"||s==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:s},left:n,top:i,width:a,height:l}=this;s&&(t.save(),t.fillStyle=s,t.fillRect(n,i,a,l),t.restore())}getLineWidthForValue(t){const s=this.options.grid;if(!this._isVisible()||!s.display)return 0;const i=this.ticks.findIndex(a=>a.value===t);return i>=0?s.setContext(this.getContext(i)).lineWidth:0}drawGrid(t){const s=this.options.grid,n=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let a,l;const o=(c,d,u)=>{!u.width||!u.color||(n.save(),n.lineWidth=u.width,n.strokeStyle=u.color,n.setLineDash(u.borderDash||[]),n.lineDashOffset=u.borderDashOffset,n.beginPath(),n.moveTo(c.x,c.y),n.lineTo(d.x,d.y),n.stroke(),n.restore())};if(s.display)for(a=0,l=i.length;a<l;++a){const c=i[a];s.drawOnChartArea&&o({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),s.drawTicks&&o({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:s,options:{border:n,grid:i}}=this,a=n.setContext(this.getContext()),l=n.display?a.width:0;if(!l)return;const o=i.setContext(this.getContext(0)).lineWidth,c=this._borderValue;let d,u,h,m;this.isHorizontal()?(d=vn(t,this.left,l)-l/2,u=vn(t,this.right,o)+o/2,h=m=c):(h=vn(t,this.top,l)-l/2,m=vn(t,this.bottom,o)+o/2,d=u=c),s.save(),s.lineWidth=a.width,s.strokeStyle=a.color,s.beginPath(),s.moveTo(d,h),s.lineTo(u,m),s.stroke(),s.restore()}drawLabels(t){if(!this.options.ticks.display)return;const n=this.ctx,i=this._computeLabelArea();i&&Nh(n,i);const a=this.getLabelItems(t);for(const l of a){const o=l.options,c=l.font,d=l.label,u=l.textOffset;Qn(n,d,0,u,c,o)}i&&_h(n)}drawTitle(){const{ctx:t,options:{position:s,title:n,reverse:i}}=this;if(!n.display)return;const a=Oe(n.font),l=et(n.padding),o=n.align;let c=a.lineHeight/2;s==="bottom"||s==="center"||oe(s)?(c+=l.bottom,ve(n.text)&&(c+=a.lineHeight*(n.text.length-1))):c+=l.top;const{titleX:d,titleY:u,maxWidth:h,rotation:m}=v4(this,c,s,o);Qn(t,n.text,0,0,a,{color:n.color,maxWidth:h,rotation:m,textAlign:y4(o,s,i),textBaseline:"middle",translation:[d,u]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,s=t.ticks&&t.ticks.z||0,n=se(t.grid&&t.grid.z,-1),i=se(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==Jn.prototype.draw?[{z:s,draw:a=>{this.draw(a)}}]:[{z:n,draw:a=>{this.drawBackground(),this.drawGrid(a),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:s,draw:a=>{this.drawLabels(a)}}]}getMatchingVisibleMetas(t){const s=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",i=[];let a,l;for(a=0,l=s.length;a<l;++a){const o=s[a];o[n]===this.id&&(!t||o.type===t)&&i.push(o)}return i}_resolveTickFontOptions(t){const s=this.options.ticks.setContext(this.getContext(t));return Oe(s.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class ll{constructor(t,s,n){this.type=t,this.scope=s,this.override=n,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const s=Object.getPrototypeOf(t);let n;w4(s)&&(n=this.register(s));const i=this.items,a=t.id,l=this.scope+"."+a;if(!a)throw new Error("class does not have id: "+t);return a in i||(i[a]=t,b4(t,l,n),this.override&&Se.override(t.id,t.overrides)),l}get(t){return this.items[t]}unregister(t){const s=this.items,n=t.id,i=this.scope;n in s&&delete s[n],i&&n in Se[i]&&(delete Se[i][n],this.override&&delete Xn[n])}}function b4(e,t,s){const n=ca(Object.create(null),[s?Se.get(s):{},Se.get(t),e.defaults]);Se.set(t,n),e.defaultRoutes&&j4(t,e.defaultRoutes),e.descriptors&&Se.describe(t,e.descriptors)}function j4(e,t){Object.keys(t).forEach(s=>{const n=s.split("."),i=n.pop(),a=[e].concat(n).join("."),l=t[s].split("."),o=l.pop(),c=l.join(".");Se.route(a,i,c,o)})}function w4(e){return"id"in e&&"defaults"in e}class N4{constructor(){this.controllers=new ll(zn,"datasets",!0),this.elements=new ll(qt,"elements"),this.plugins=new ll(Object,"plugins"),this.scales=new ll(Jn,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,s,n){[...s].forEach(i=>{const a=n||this._getRegistryForType(i);n||a.isForType(i)||a===this.plugins&&i.id?this._exec(t,a,i):he(i,l=>{const o=n||this._getRegistryForType(l);this._exec(t,o,l)})})}_exec(t,s,n){const i=yh(t);fe(n["before"+i],[],n),s[t](n),fe(n["after"+i],[],n)}_getRegistryForType(t){for(let s=0;s<this._typedRegistries.length;s++){const n=this._typedRegistries[s];if(n.isForType(t))return n}return this.plugins}_get(t,s,n){const i=s.get(t);if(i===void 0)throw new Error('"'+t+'" is not a registered '+n+".");return i}}var es=new N4;class _4{constructor(){this._init=[]}notify(t,s,n,i){s==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const a=i?this._descriptors(t).filter(i):this._descriptors(t),l=this._notify(a,t,s,n);return s==="afterDestroy"&&(this._notify(a,t,"stop"),this._notify(this._init,t,"uninstall")),l}_notify(t,s,n,i){i=i||{};for(const a of t){const l=a.plugin,o=l[n],c=[s,i,a.options];if(fe(o,c,l)===!1&&i.cancelable)return!1}return!0}invalidate(){le(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const s=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),s}_createDescriptors(t,s){const n=t&&t.config,i=se(n.options&&n.options.plugins,{}),a=k4(n);return i===!1&&!s?[]:C4(t,a,i,s)}_notifyStateChanges(t){const s=this._oldCache||[],n=this._cache,i=(a,l)=>a.filter(o=>!l.some(c=>o.plugin.id===c.plugin.id));this._notify(i(s,n),t,"stop"),this._notify(i(n,s),t,"start")}}function k4(e){const t={},s=[],n=Object.keys(es.plugins.items);for(let a=0;a<n.length;a++)s.push(es.getPlugin(n[a]));const i=e.plugins||[];for(let a=0;a<i.length;a++){const l=i[a];s.indexOf(l)===-1&&(s.push(l),t[l.id]=!0)}return{plugins:s,localIds:t}}function S4(e,t){return!t&&e===!1?null:e===!0?{}:e}function C4(e,{plugins:t,localIds:s},n,i){const a=[],l=e.getContext();for(const o of t){const c=o.id,d=S4(n[c],i);d!==null&&a.push({plugin:o,options:P4(e.config,{plugin:o,local:s[c]},d,l)})}return a}function P4(e,{plugin:t,local:s},n,i){const a=e.pluginScopeKeys(t),l=e.getOptionScopes(n,a);return s&&t.defaults&&l.push(t.defaults),e.createResolver(l,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Zd(e,t){const s=Se.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||s.indexAxis||"x"}function E4(e,t){let s=e;return e==="_index_"?s=t:e==="_value_"&&(s=t==="x"?"y":"x"),s}function M4(e,t){return e===t?"_index_":"_value_"}function wx(e){if(e==="x"||e==="y"||e==="r")return e}function T4(e){if(e==="top"||e==="bottom")return"x";if(e==="left"||e==="right")return"y"}function eu(e,...t){if(wx(e))return e;for(const s of t){const n=s.axis||T4(s.position)||e.length>1&&wx(e[0].toLowerCase());if(n)return n}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function Nx(e,t,s){if(s[t+"AxisID"]===e)return{axis:t}}function D4(e,t){if(t.data&&t.data.datasets){const s=t.data.datasets.filter(n=>n.xAxisID===e||n.yAxisID===e);if(s.length)return Nx(e,"x",s[0])||Nx(e,"y",s[0])}return{}}function R4(e,t){const s=Xn[e.type]||{scales:{}},n=t.scales||{},i=Zd(e.type,t),a=Object.create(null);return Object.keys(n).forEach(l=>{const o=n[l];if(!oe(o))return console.error(`Invalid scale configuration for scale: ${l}`);if(o._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${l}`);const c=eu(l,o,D4(l,e),Se.scales[o.type]),d=M4(c,i),u=s.scales||{};a[l]=Ti(Object.create(null),[{axis:c},o,u[c],u[d]])}),e.data.datasets.forEach(l=>{const o=l.type||e.type,c=l.indexAxis||Zd(o,t),u=(Xn[o]||{}).scales||{};Object.keys(u).forEach(h=>{const m=E4(h,c),v=l[m+"AxisID"]||m;a[v]=a[v]||Object.create(null),Ti(a[v],[{axis:m},n[v],u[h]])})}),Object.keys(a).forEach(l=>{const o=a[l];Ti(o,[Se.scales[o.type],Se.scale])}),a}function Iy(e){const t=e.options||(e.options={});t.plugins=se(t.plugins,{}),t.scales=R4(e,t)}function zy(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function A4(e){return e=e||{},e.data=zy(e.data),Iy(e),e}const _x=new Map,By=new Set;function ol(e,t){let s=_x.get(e);return s||(s=t(),_x.set(e,s),By.add(s)),s}const ci=(e,t,s)=>{const n=Yn(t,s);n!==void 0&&e.add(n)};class L4{constructor(t){this._config=A4(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=zy(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),Iy(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return ol(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,s){return ol(`${t}.transition.${s}`,()=>[[`datasets.${t}.transitions.${s}`,`transitions.${s}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,s){return ol(`${t}-${s}`,()=>[[`datasets.${t}.elements.${s}`,`datasets.${t}`,`elements.${s}`,""]])}pluginScopeKeys(t){const s=t.id,n=this.type;return ol(`${n}-plugin-${s}`,()=>[[`plugins.${s}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,s){const n=this._scopeCache;let i=n.get(t);return(!i||s)&&(i=new Map,n.set(t,i)),i}getOptionScopes(t,s,n){const{options:i,type:a}=this,l=this._cachedScopes(t,n),o=l.get(s);if(o)return o;const c=new Set;s.forEach(u=>{t&&(c.add(t),u.forEach(h=>ci(c,t,h))),u.forEach(h=>ci(c,i,h)),u.forEach(h=>ci(c,Xn[a]||{},h)),u.forEach(h=>ci(c,Se,h)),u.forEach(h=>ci(c,Gd,h))});const d=Array.from(c);return d.length===0&&d.push(Object.create(null)),By.has(s)&&l.set(s,d),d}chartOptionScopes(){const{options:t,type:s}=this;return[t,Xn[s]||{},Se.datasets[s]||{},{type:s},Se,Gd]}resolveNamedOptions(t,s,n,i=[""]){const a={$shared:!0},{resolver:l,subPrefixes:o}=kx(this._resolverCache,t,i);let c=l;if(F4(l,s)){a.$shared=!1,n=dn(n)?n():n;const d=this.createResolver(t,n,o);c=Ar(l,n,d)}for(const d of s)a[d]=c[d];return a}createResolver(t,s,n=[""],i){const{resolver:a}=kx(this._resolverCache,t,n);return oe(s)?Ar(a,s,void 0,i):a}}function kx(e,t,s){let n=e.get(t);n||(n=new Map,e.set(t,n));const i=s.join();let a=n.get(i);return a||(a={resolver:Sh(t,s),subPrefixes:s.filter(o=>!o.toLowerCase().includes("hover"))},n.set(i,a)),a}const O4=e=>oe(e)&&Object.getOwnPropertyNames(e).some(t=>dn(e[t]));function F4(e,t){const{isScriptable:s,isIndexable:n}=wy(e);for(const i of t){const a=s(i),l=n(i),o=(l||a)&&e[i];if(a&&(dn(o)||O4(o))||l&&ve(o))return!0}return!1}var I4="4.5.0";const z4=["top","bottom","left","right","chartArea"];function Sx(e,t){return e==="top"||e==="bottom"||z4.indexOf(e)===-1&&t==="x"}function Cx(e,t){return function(s,n){return s[e]===n[e]?s[t]-n[t]:s[e]-n[e]}}function Px(e){const t=e.chart,s=t.options.animation;t.notifyPlugins("afterRender"),fe(s&&s.onComplete,[e],t)}function B4(e){const t=e.chart,s=t.options.animation;fe(s&&s.onProgress,[e],t)}function $y(e){return Eh()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const Dl={},Ex=e=>{const t=$y(e);return Object.values(Dl).filter(s=>s.canvas===t).pop()};function $4(e,t,s){const n=Object.keys(e);for(const i of n){const a=+i;if(a>=t){const l=e[i];delete e[i],(s>0||a>t)&&(e[a+s]=l)}}}function W4(e,t,s,n){return!s||e.type==="mouseout"?null:n?t:e}var Rs;let Jo=(Rs=class{static register(...t){es.add(...t),Mx()}static unregister(...t){es.remove(...t),Mx()}constructor(t,s){const n=this.config=new L4(s),i=$y(t),a=Ex(i);if(a)throw new Error("Canvas is already in use. Chart with ID '"+a.id+"' must be destroyed before the canvas with ID '"+a.canvas.id+"' can be reused.");const l=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||a4(i)),this.platform.updateConfig(n);const o=this.platform.acquireContext(i,l.aspectRatio),c=o&&o.canvas,d=c&&c.height,u=c&&c.width;if(this.id=z_(),this.ctx=o,this.canvas=c,this.width=u,this.height=d,this._options=l,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new _4,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=sk(h=>this.update(h),l.resizeDelay||0),this._dataChanges=[],Dl[this.id]=this,!o||!c){console.error("Failed to create chart: can't acquire context from the given item");return}cs.listen(this,"complete",Px),cs.listen(this,"progress",B4),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:s},width:n,height:i,_aspectRatio:a}=this;return le(t)?s&&a?a:i?n/i:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return es}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Jf(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Qf(this.canvas,this.ctx),this}stop(){return cs.stop(this),this}resize(t,s){cs.running(this)?this._resizeBeforeDraw={width:t,height:s}:this._resize(t,s)}_resize(t,s){const n=this.options,i=this.canvas,a=n.maintainAspectRatio&&this.aspectRatio,l=this.platform.getMaximumSize(i,t,s,a),o=n.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=l.width,this.height=l.height,this._aspectRatio=this.aspectRatio,Jf(this,o,!0)&&(this.notifyPlugins("resize",{size:l}),fe(n.onResize,[this,l],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){const s=this.options.scales||{};he(s,(n,i)=>{n.id=i})}buildOrUpdateScales(){const t=this.options,s=t.scales,n=this.scales,i=Object.keys(n).reduce((l,o)=>(l[o]=!1,l),{});let a=[];s&&(a=a.concat(Object.keys(s).map(l=>{const o=s[l],c=eu(l,o),d=c==="r",u=c==="x";return{options:o,dposition:d?"chartArea":u?"bottom":"left",dtype:d?"radialLinear":u?"category":"linear"}}))),he(a,l=>{const o=l.options,c=o.id,d=eu(c,o),u=se(o.type,l.dtype);(o.position===void 0||Sx(o.position,d)!==Sx(l.dposition))&&(o.position=l.dposition),i[c]=!0;let h=null;if(c in n&&n[c].type===u)h=n[c];else{const m=es.getScale(u);h=new m({id:c,type:u,ctx:this.ctx,chart:this}),n[h.id]=h}h.init(o,t)}),he(i,(l,o)=>{l||delete n[o]}),he(n,l=>{Mt.configure(this,l,l.options),Mt.addBox(this,l)})}_updateMetasets(){const t=this._metasets,s=this.data.datasets.length,n=t.length;if(t.sort((i,a)=>i.index-a.index),n>s){for(let i=s;i<n;++i)this._destroyDatasetMeta(i);t.splice(s,n-s)}this._sortedMetasets=t.slice(0).sort(Cx("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:s}}=this;t.length>s.length&&delete this._stacks,t.forEach((n,i)=>{s.filter(a=>a===n._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const t=[],s=this.data.datasets;let n,i;for(this._removeUnreferencedMetasets(),n=0,i=s.length;n<i;n++){const a=s[n];let l=this.getDatasetMeta(n);const o=a.type||this.config.type;if(l.type&&l.type!==o&&(this._destroyDatasetMeta(n),l=this.getDatasetMeta(n)),l.type=o,l.indexAxis=a.indexAxis||Zd(o,this.options),l.order=a.order||0,l.index=n,l.label=""+a.label,l.visible=this.isDatasetVisible(n),l.controller)l.controller.updateIndex(n),l.controller.linkScales();else{const c=es.getController(o),{datasetElementType:d,dataElementType:u}=Se.datasets[o];Object.assign(c,{dataElementType:es.getElement(u),datasetElementType:d&&es.getElement(d)}),l.controller=new c(this,n),t.push(l.controller)}}return this._updateMetasets(),t}_resetElements(){he(this.data.datasets,(t,s)=>{this.getDatasetMeta(s).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const s=this.config;s.update();const n=this._options=s.createResolver(s.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const a=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let l=0;for(let d=0,u=this.data.datasets.length;d<u;d++){const{controller:h}=this.getDatasetMeta(d),m=!i&&a.indexOf(h)===-1;h.buildOrUpdateElements(m),l=Math.max(+h.getMaxOverflow(),l)}l=this._minPadding=n.layout.autoPadding?l:0,this._updateLayout(l),i||he(a,d=>{d.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(Cx("z","_idx"));const{_active:o,_lastEvent:c}=this;c?this._eventHandler(c,!0):o.length&&this._updateHoverStyles(o,o,!0),this.render()}_updateScales(){he(this.scales,t=>{Mt.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,s=new Set(Object.keys(this._listeners)),n=new Set(t.events);(!Bf(s,n)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,s=this._getUniformDataChanges()||[];for(const{method:n,start:i,count:a}of s){const l=n==="_removeElements"?-a:a;$4(t,i,l)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const s=this.data.datasets.length,n=a=>new Set(t.filter(l=>l[0]===a).map((l,o)=>o+","+l.splice(1).join(","))),i=n(0);for(let a=1;a<s;a++)if(!Bf(i,n(a)))return;return Array.from(i).map(a=>a.split(",")).map(a=>({method:a[1],start:+a[2],count:+a[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Mt.update(this,this.width,this.height,t);const s=this.chartArea,n=s.width<=0||s.height<=0;this._layers=[],he(this.boxes,i=>{n&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,a)=>{i._idx=a}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let s=0,n=this.data.datasets.length;s<n;++s)this.getDatasetMeta(s).controller.configure();for(let s=0,n=this.data.datasets.length;s<n;++s)this._updateDataset(s,dn(t)?t({datasetIndex:s}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,s){const n=this.getDatasetMeta(t),i={meta:n,index:t,mode:s,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(n.controller._update(s),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(cs.has(this)?this.attached&&!cs.running(this)&&cs.start(this):(this.draw(),Px({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:n,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(n,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const s=this._layers;for(t=0;t<s.length&&s[t].z<=0;++t)s[t].draw(this.chartArea);for(this._drawDatasets();t<s.length;++t)s[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const s=this._sortedMetasets,n=[];let i,a;for(i=0,a=s.length;i<a;++i){const l=s[i];(!t||l.visible)&&n.push(l)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let s=t.length-1;s>=0;--s)this._drawDataset(t[s]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const s=this.ctx,n={meta:t,index:t.index,cancelable:!0},i=oS(this,t);this.notifyPlugins("beforeDatasetDraw",n)!==!1&&(i&&Nh(s,i),t.controller.draw(),i&&_h(s),n.cancelable=!1,this.notifyPlugins("afterDatasetDraw",n))}isPointInArea(t){return js(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,s,n,i){const a=zS.modes[s];return typeof a=="function"?a(this,t,n,i):[]}getDatasetMeta(t){const s=this.data.datasets[t],n=this._metasets;let i=n.filter(a=>a&&a._dataset===s).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:s&&s.order||0,index:t,_dataset:s,_parsed:[],_sorted:!1},n.push(i)),i}getContext(){return this.$context||(this.$context=pn(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const s=this.data.datasets[t];if(!s)return!1;const n=this.getDatasetMeta(t);return typeof n.hidden=="boolean"?!n.hidden:!s.hidden}setDatasetVisibility(t,s){const n=this.getDatasetMeta(t);n.hidden=!s}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,s,n){const i=n?"show":"hide",a=this.getDatasetMeta(t),l=a.controller._resolveAnimations(void 0,i);da(s)?(a.data[s].hidden=!n,this.update()):(this.setDatasetVisibility(t,n),l.update(a,{visible:n}),this.update(o=>o.datasetIndex===t?i:void 0))}hide(t,s){this._updateVisibility(t,s,!1)}show(t,s){this._updateVisibility(t,s,!0)}_destroyDatasetMeta(t){const s=this._metasets[t];s&&s.controller&&s.controller._destroy(),delete this._metasets[t]}_stop(){let t,s;for(this.stop(),cs.remove(this),t=0,s=this.data.datasets.length;t<s;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:s}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),Qf(t,s),this.platform.releaseContext(s),this.canvas=null,this.ctx=null),delete Dl[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,s=this.platform,n=(a,l)=>{s.addEventListener(this,a,l),t[a]=l},i=(a,l,o)=>{a.offsetX=l,a.offsetY=o,this._eventHandler(a)};he(this.options.events,a=>n(a,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,s=this.platform,n=(c,d)=>{s.addEventListener(this,c,d),t[c]=d},i=(c,d)=>{t[c]&&(s.removeEventListener(this,c,d),delete t[c])},a=(c,d)=>{this.canvas&&this.resize(c,d)};let l;const o=()=>{i("attach",o),this.attached=!0,this.resize(),n("resize",a),n("detach",l)};l=()=>{this.attached=!1,i("resize",a),this._stop(),this._resize(0,0),n("attach",o)},s.isAttached(this.canvas)?o():l()}unbindEvents(){he(this._listeners,(t,s)=>{this.platform.removeEventListener(this,s,t)}),this._listeners={},he(this._responsiveListeners,(t,s)=>{this.platform.removeEventListener(this,s,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,s,n){const i=n?"set":"remove";let a,l,o,c;for(s==="dataset"&&(a=this.getDatasetMeta(t[0].datasetIndex),a.controller["_"+i+"DatasetHoverStyle"]()),o=0,c=t.length;o<c;++o){l=t[o];const d=l&&this.getDatasetMeta(l.datasetIndex).controller;d&&d[i+"HoverStyle"](l.element,l.datasetIndex,l.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const s=this._active||[],n=t.map(({datasetIndex:a,index:l})=>{const o=this.getDatasetMeta(a);if(!o)throw new Error("No dataset found at index "+a);return{datasetIndex:a,element:o.data[l],index:l}});!mo(n,s)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,s))}notifyPlugins(t,s,n){return this._plugins.notify(this,t,s,n)}isPluginEnabled(t){return this._plugins._cache.filter(s=>s.plugin.id===t).length===1}_updateHoverStyles(t,s,n){const i=this.options.hover,a=(c,d)=>c.filter(u=>!d.some(h=>u.datasetIndex===h.datasetIndex&&u.index===h.index)),l=a(s,t),o=n?t:a(t,s);l.length&&this.updateHoverStyle(l,i.mode,!1),o.length&&i.mode&&this.updateHoverStyle(o,i.mode,!0)}_eventHandler(t,s){const n={event:t,replay:s,cancelable:!0,inChartArea:this.isPointInArea(t)},i=l=>(l.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",n,i)===!1)return;const a=this._handleEvent(t,s,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,i),(a||n.changed)&&this.render(),this}_handleEvent(t,s,n){const{_active:i=[],options:a}=this,l=s,o=this._getActiveElements(t,i,n,l),c=V_(t),d=W4(t,this._lastEvent,n,c);n&&(this._lastEvent=null,fe(a.onHover,[t,o,this],this),c&&fe(a.onClick,[t,o,this],this));const u=!mo(o,i);return(u||s)&&(this._active=o,this._updateHoverStyles(o,i,s)),this._lastEvent=d,u}_getActiveElements(t,s,n,i){if(t.type==="mouseout")return[];if(!n)return s;const a=this.options.hover;return this.getElementsAtEventForMode(t,a.mode,a,i)}},V(Rs,"defaults",Se),V(Rs,"instances",Dl),V(Rs,"overrides",Xn),V(Rs,"registry",es),V(Rs,"version",I4),V(Rs,"getChart",Ex),Rs);function Mx(){return he(Jo.instances,e=>e._plugins.invalidate())}function H4(e,t,s){const{startAngle:n,x:i,y:a,outerRadius:l,innerRadius:o,options:c}=t,{borderWidth:d,borderJoinStyle:u}=c,h=Math.min(d/l,ot(n-s));if(e.beginPath(),e.arc(i,a,l-d/2,n+h/2,s-h/2),o>0){const m=Math.min(d/o,ot(n-s));e.arc(i,a,o+d/2,s-m/2,n+m/2,!0)}else{const m=Math.min(d/2,l*ot(n-s));if(u==="round")e.arc(i,a,m,s-de/2,n+de/2,!0);else if(u==="bevel"){const v=2*m*m,x=-v*Math.cos(s+de/2)+i,y=-v*Math.sin(s+de/2)+a,b=v*Math.cos(n+de/2)+i,f=v*Math.sin(n+de/2)+a;e.lineTo(x,y),e.lineTo(b,f)}}e.closePath(),e.moveTo(0,0),e.rect(0,0,e.canvas.width,e.canvas.height),e.clip("evenodd")}function U4(e,t,s){const{startAngle:n,pixelMargin:i,x:a,y:l,outerRadius:o,innerRadius:c}=t;let d=i/o;e.beginPath(),e.arc(a,l,o,n-d,s+d),c>i?(d=i/c,e.arc(a,l,c,s+d,n-d,!0)):e.arc(a,l,i,s+Pe,n-Pe),e.closePath(),e.clip()}function V4(e){return kh(e,["outerStart","outerEnd","innerStart","innerEnd"])}function q4(e,t,s,n){const i=V4(e.options.borderRadius),a=(s-t)/2,l=Math.min(a,n*t/2),o=c=>{const d=(s-Math.min(a,c))*n/2;return Je(c,0,Math.min(a,d))};return{outerStart:o(i.outerStart),outerEnd:o(i.outerEnd),innerStart:Je(i.innerStart,0,l),innerEnd:Je(i.innerEnd,0,l)}}function nr(e,t,s,n){return{x:s+e*Math.cos(t),y:n+e*Math.sin(t)}}function vo(e,t,s,n,i,a){const{x:l,y:o,startAngle:c,pixelMargin:d,innerRadius:u}=t,h=Math.max(t.outerRadius+n+s-d,0),m=u>0?u+n+s+d:0;let v=0;const x=i-c;if(n){const Z=u>0?u-n:0,M=h>0?h-n:0,B=(Z+M)/2,S=B!==0?x*B/(B+n):x;v=(x-S)/2}const y=Math.max(.001,x*h-s/de)/h,b=(x-y)/2,f=c+b+v,p=i-b-v,{outerStart:g,outerEnd:j,innerStart:w,innerEnd:_}=q4(t,m,h,p-f),k=h-g,P=h-j,E=f+g/k,C=p-j/P,R=m+w,I=m+_,H=f+w/R,Q=p-_/I;if(e.beginPath(),a){const Z=(E+C)/2;if(e.arc(l,o,h,E,Z),e.arc(l,o,h,Z,C),j>0){const A=nr(P,C,l,o);e.arc(A.x,A.y,j,C,p+Pe)}const M=nr(I,p,l,o);if(e.lineTo(M.x,M.y),_>0){const A=nr(I,Q,l,o);e.arc(A.x,A.y,_,p+Pe,Q+Math.PI)}const B=(p-_/m+(f+w/m))/2;if(e.arc(l,o,m,p-_/m,B,!0),e.arc(l,o,m,B,f+w/m,!0),w>0){const A=nr(R,H,l,o);e.arc(A.x,A.y,w,H+Math.PI,f-Pe)}const S=nr(k,f,l,o);if(e.lineTo(S.x,S.y),g>0){const A=nr(k,E,l,o);e.arc(A.x,A.y,g,f-Pe,E)}}else{e.moveTo(l,o);const Z=Math.cos(E)*h+l,M=Math.sin(E)*h+o;e.lineTo(Z,M);const B=Math.cos(C)*h+l,S=Math.sin(C)*h+o;e.lineTo(B,S)}e.closePath()}function Y4(e,t,s,n,i){const{fullCircles:a,startAngle:l,circumference:o}=t;let c=t.endAngle;if(a){vo(e,t,s,n,c,i);for(let d=0;d<a;++d)e.fill();isNaN(o)||(c=l+(o%be||be))}return vo(e,t,s,n,c,i),e.fill(),c}function X4(e,t,s,n,i){const{fullCircles:a,startAngle:l,circumference:o,options:c}=t,{borderWidth:d,borderJoinStyle:u,borderDash:h,borderDashOffset:m,borderRadius:v}=c,x=c.borderAlign==="inner";if(!d)return;e.setLineDash(h||[]),e.lineDashOffset=m,x?(e.lineWidth=d*2,e.lineJoin=u||"round"):(e.lineWidth=d,e.lineJoin=u||"bevel");let y=t.endAngle;if(a){vo(e,t,s,n,y,i);for(let b=0;b<a;++b)e.stroke();isNaN(o)||(y=l+(o%be||be))}x&&U4(e,t,y),c.selfJoin&&y-l>=de&&v===0&&u!=="miter"&&H4(e,t,y),a||(vo(e,t,s,n,y,i),e.stroke())}class vi extends qt{constructor(s){super();V(this,"circumference");V(this,"endAngle");V(this,"fullCircles");V(this,"innerRadius");V(this,"outerRadius");V(this,"pixelMargin");V(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,s&&Object.assign(this,s)}inRange(s,n,i){const a=this.getProps(["x","y"],i),{angle:l,distance:o}=fy(a,{x:s,y:n}),{startAngle:c,endAngle:d,innerRadius:u,outerRadius:h,circumference:m}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),v=(this.options.spacing+this.options.borderWidth)/2,x=se(m,d-c),y=ha(l,c,d)&&c!==d,b=x>=be||y,f=qs(o,u+v,h+v);return b&&f}getCenterPoint(s){const{x:n,y:i,startAngle:a,endAngle:l,innerRadius:o,outerRadius:c}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],s),{offset:d,spacing:u}=this.options,h=(a+l)/2,m=(o+c+u+d)/2;return{x:n+Math.cos(h)*m,y:i+Math.sin(h)*m}}tooltipPosition(s){return this.getCenterPoint(s)}draw(s){const{options:n,circumference:i}=this,a=(n.offset||0)/4,l=(n.spacing||0)/2,o=n.circular;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=i>be?Math.floor(i/be):0,i===0||this.innerRadius<0||this.outerRadius<0)return;s.save();const c=(this.startAngle+this.endAngle)/2;s.translate(Math.cos(c)*a,Math.sin(c)*a);const d=1-Math.sin(Math.min(de,i||0)),u=a*d;s.fillStyle=n.backgroundColor,s.strokeStyle=n.borderColor,Y4(s,this,u,l,o),X4(s,this,u,l,o),s.restore()}}V(vi,"id","arc"),V(vi,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),V(vi,"defaultRoutes",{backgroundColor:"backgroundColor"}),V(vi,"descriptors",{_scriptable:!0,_indexable:s=>s!=="borderDash"});function Wy(e,t,s=t){e.lineCap=se(s.borderCapStyle,t.borderCapStyle),e.setLineDash(se(s.borderDash,t.borderDash)),e.lineDashOffset=se(s.borderDashOffset,t.borderDashOffset),e.lineJoin=se(s.borderJoinStyle,t.borderJoinStyle),e.lineWidth=se(s.borderWidth,t.borderWidth),e.strokeStyle=se(s.borderColor,t.borderColor)}function Q4(e,t,s){e.lineTo(s.x,s.y)}function K4(e){return e.stepped?pk:e.tension||e.cubicInterpolationMode==="monotone"?gk:Q4}function Hy(e,t,s={}){const n=e.length,{start:i=0,end:a=n-1}=s,{start:l,end:o}=t,c=Math.max(i,l),d=Math.min(a,o),u=i<l&&a<l||i>o&&a>o;return{count:n,start:c,loop:t.loop,ilen:d<c&&!u?n+d-c:d-c}}function G4(e,t,s,n){const{points:i,options:a}=t,{count:l,start:o,loop:c,ilen:d}=Hy(i,s,n),u=K4(a);let{move:h=!0,reverse:m}=n||{},v,x,y;for(v=0;v<=d;++v)x=i[(o+(m?d-v:v))%l],!x.skip&&(h?(e.moveTo(x.x,x.y),h=!1):u(e,y,x,m,a.stepped),y=x);return c&&(x=i[(o+(m?d:0))%l],u(e,y,x,m,a.stepped)),!!c}function J4(e,t,s,n){const i=t.points,{count:a,start:l,ilen:o}=Hy(i,s,n),{move:c=!0,reverse:d}=n||{};let u=0,h=0,m,v,x,y,b,f;const p=j=>(l+(d?o-j:j))%a,g=()=>{y!==b&&(e.lineTo(u,b),e.lineTo(u,y),e.lineTo(u,f))};for(c&&(v=i[p(0)],e.moveTo(v.x,v.y)),m=0;m<=o;++m){if(v=i[p(m)],v.skip)continue;const j=v.x,w=v.y,_=j|0;_===x?(w<y?y=w:w>b&&(b=w),u=(h*u+j)/++h):(g(),e.lineTo(j,w),x=_,h=0,y=b=w),f=w}g()}function tu(e){const t=e.options,s=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!s?J4:G4}function Z4(e){return e.stepped?Qk:e.tension||e.cubicInterpolationMode==="monotone"?Kk:Cn}function eC(e,t,s,n){let i=t._path;i||(i=t._path=new Path2D,t.path(i,s,n)&&i.closePath()),Wy(e,t.options),e.stroke(i)}function tC(e,t,s,n){const{segments:i,options:a}=t,l=tu(t);for(const o of i)Wy(e,a,o.style),e.beginPath(),l(e,t,o,{start:s,end:s+n-1})&&e.closePath(),e.stroke()}const sC=typeof Path2D=="function";function nC(e,t,s,n){sC&&!t.options.segment?eC(e,t,s,n):tC(e,t,s,n)}class bi extends qt{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,s){const n=this.options;if((n.tension||n.cubicInterpolationMode==="monotone")&&!n.stepped&&!this._pointsUpdated){const i=n.spanGaps?this._loop:this._fullLoop;$k(this._points,n,t,i,s),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=rS(this,this.options.segment))}first(){const t=this.segments,s=this.points;return t.length&&s[t[0].start]}last(){const t=this.segments,s=this.points,n=t.length;return n&&s[t[n-1].end]}interpolate(t,s){const n=this.options,i=t[s],a=this.points,l=tS(this,{property:s,start:i,end:i});if(!l.length)return;const o=[],c=Z4(n);let d,u;for(d=0,u=l.length;d<u;++d){const{start:h,end:m}=l[d],v=a[h],x=a[m];if(v===x){o.push(v);continue}const y=Math.abs((i-v[s])/(x[s]-v[s])),b=c(v,x,y,n.stepped);b[s]=t[s],o.push(b)}return o.length===1?o[0]:o}pathSegment(t,s,n){return tu(this)(t,this,s,n)}path(t,s,n){const i=this.segments,a=tu(this);let l=this._loop;s=s||0,n=n||this.points.length-s;for(const o of i)l&=a(t,this,o,{start:s,end:s+n-1});return!!l}draw(t,s,n,i){const a=this.options||{};(this.points||[]).length&&a.borderWidth&&(t.save(),nC(t,this,n,i),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}V(bi,"id","line"),V(bi,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),V(bi,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),V(bi,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"});function Tx(e,t,s,n){const i=e.options,{[s]:a}=e.getProps([s],n);return Math.abs(t-a)<i.radius+i.hitRadius}class Rl extends qt{constructor(s){super();V(this,"parsed");V(this,"skip");V(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,s&&Object.assign(this,s)}inRange(s,n,i){const a=this.options,{x:l,y:o}=this.getProps(["x","y"],i);return Math.pow(s-l,2)+Math.pow(n-o,2)<Math.pow(a.hitRadius+a.radius,2)}inXRange(s,n){return Tx(this,s,"x",n)}inYRange(s,n){return Tx(this,s,"y",n)}getCenterPoint(s){const{x:n,y:i}=this.getProps(["x","y"],s);return{x:n,y:i}}size(s){s=s||this.options||{};let n=s.radius||0;n=Math.max(n,n&&s.hoverRadius||0);const i=n&&s.borderWidth||0;return(n+i)*2}draw(s,n){const i=this.options;this.skip||i.radius<.1||!js(this,n,this.size(i)/2)||(s.strokeStyle=i.borderColor,s.lineWidth=i.borderWidth,s.fillStyle=i.backgroundColor,Jd(s,i,this.x,this.y))}getRange(){const s=this.options||{};return s.radius+s.hitRadius}}V(Rl,"id","point"),V(Rl,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),V(Rl,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function Uy(e,t){const{x:s,y:n,base:i,width:a,height:l}=e.getProps(["x","y","base","width","height"],t);let o,c,d,u,h;return e.horizontal?(h=l/2,o=Math.min(s,i),c=Math.max(s,i),d=n-h,u=n+h):(h=a/2,o=s-h,c=s+h,d=Math.min(n,i),u=Math.max(n,i)),{left:o,top:d,right:c,bottom:u}}function Ys(e,t,s,n){return e?0:Je(t,s,n)}function rC(e,t,s){const n=e.options.borderWidth,i=e.borderSkipped,a=jy(n);return{t:Ys(i.top,a.top,0,s),r:Ys(i.right,a.right,0,t),b:Ys(i.bottom,a.bottom,0,s),l:Ys(i.left,a.left,0,t)}}function iC(e,t,s){const{enableBorderRadius:n}=e.getProps(["enableBorderRadius"]),i=e.options.borderRadius,a=Fn(i),l=Math.min(t,s),o=e.borderSkipped,c=n||oe(i);return{topLeft:Ys(!c||o.top||o.left,a.topLeft,0,l),topRight:Ys(!c||o.top||o.right,a.topRight,0,l),bottomLeft:Ys(!c||o.bottom||o.left,a.bottomLeft,0,l),bottomRight:Ys(!c||o.bottom||o.right,a.bottomRight,0,l)}}function aC(e){const t=Uy(e),s=t.right-t.left,n=t.bottom-t.top,i=rC(e,s/2,n/2),a=iC(e,s/2,n/2);return{outer:{x:t.left,y:t.top,w:s,h:n,radius:a},inner:{x:t.left+i.l,y:t.top+i.t,w:s-i.l-i.r,h:n-i.t-i.b,radius:{topLeft:Math.max(0,a.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,a.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,a.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,a.bottomRight-Math.max(i.b,i.r))}}}}function Hc(e,t,s,n){const i=t===null,a=s===null,o=e&&!(i&&a)&&Uy(e,n);return o&&(i||qs(t,o.left,o.right))&&(a||qs(s,o.top,o.bottom))}function lC(e){return e.topLeft||e.topRight||e.bottomLeft||e.bottomRight}function oC(e,t){e.rect(t.x,t.y,t.w,t.h)}function Uc(e,t,s={}){const n=e.x!==s.x?-t:0,i=e.y!==s.y?-t:0,a=(e.x+e.w!==s.x+s.w?t:0)-n,l=(e.y+e.h!==s.y+s.h?t:0)-i;return{x:e.x+n,y:e.y+i,w:e.w+a,h:e.h+l,radius:e.radius}}class Al extends qt{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:s,options:{borderColor:n,backgroundColor:i}}=this,{inner:a,outer:l}=aC(this),o=lC(l.radius)?ma:oC;t.save(),(l.w!==a.w||l.h!==a.h)&&(t.beginPath(),o(t,Uc(l,s,a)),t.clip(),o(t,Uc(a,-s,l)),t.fillStyle=n,t.fill("evenodd")),t.beginPath(),o(t,Uc(a,s)),t.fillStyle=i,t.fill(),t.restore()}inRange(t,s,n){return Hc(this,t,s,n)}inXRange(t,s){return Hc(this,t,null,s)}inYRange(t,s){return Hc(this,null,t,s)}getCenterPoint(t){const{x:s,y:n,base:i,horizontal:a}=this.getProps(["x","y","base","horizontal"],t);return{x:a?(s+i)/2:s,y:a?n:(n+i)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}V(Al,"id","bar"),V(Al,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),V(Al,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const Dx=(e,t)=>{let{boxHeight:s=t,boxWidth:n=t}=e;return e.usePointStyle&&(s=Math.min(s,t),n=e.pointStyleWidth||Math.min(n,t)),{boxWidth:n,boxHeight:s,itemHeight:Math.max(t,s)}},cC=(e,t)=>e!==null&&t!==null&&e.datasetIndex===t.datasetIndex&&e.index===t.index;class Rx extends qt{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,s,n){this.maxWidth=t,this.maxHeight=s,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let s=fe(t.generateLabels,[this.chart],this)||[];t.filter&&(s=s.filter(n=>t.filter(n,this.chart.data))),t.sort&&(s=s.sort((n,i)=>t.sort(n,i,this.chart.data))),this.options.reverse&&s.reverse(),this.legendItems=s}fit(){const{options:t,ctx:s}=this;if(!t.display){this.width=this.height=0;return}const n=t.labels,i=Oe(n.font),a=i.size,l=this._computeTitleHeight(),{boxWidth:o,itemHeight:c}=Dx(n,a);let d,u;s.font=i.string,this.isHorizontal()?(d=this.maxWidth,u=this._fitRows(l,a,o,c)+10):(u=this.maxHeight,d=this._fitCols(l,i,o,c)+10),this.width=Math.min(d,t.maxWidth||this.maxWidth),this.height=Math.min(u,t.maxHeight||this.maxHeight)}_fitRows(t,s,n,i){const{ctx:a,maxWidth:l,options:{labels:{padding:o}}}=this,c=this.legendHitBoxes=[],d=this.lineWidths=[0],u=i+o;let h=t;a.textAlign="left",a.textBaseline="middle";let m=-1,v=-u;return this.legendItems.forEach((x,y)=>{const b=n+s/2+a.measureText(x.text).width;(y===0||d[d.length-1]+b+2*o>l)&&(h+=u,d[d.length-(y>0?0:1)]=0,v+=u,m++),c[y]={left:0,top:v,row:m,width:b,height:i},d[d.length-1]+=b+o}),h}_fitCols(t,s,n,i){const{ctx:a,maxHeight:l,options:{labels:{padding:o}}}=this,c=this.legendHitBoxes=[],d=this.columnSizes=[],u=l-t;let h=o,m=0,v=0,x=0,y=0;return this.legendItems.forEach((b,f)=>{const{itemWidth:p,itemHeight:g}=dC(n,s,a,b,i);f>0&&v+g+2*o>u&&(h+=m+o,d.push({width:m,height:v}),x+=m+o,y++,m=v=0),c[f]={left:x,top:v,col:y,width:p,height:g},m=Math.max(m,p),v+=g+o}),h+=m,d.push({width:m,height:v}),h}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:s,options:{align:n,labels:{padding:i},rtl:a}}=this,l=_r(a,this.left,this.width);if(this.isHorizontal()){let o=0,c=Qe(n,this.left+i,this.right-this.lineWidths[o]);for(const d of s)o!==d.row&&(o=d.row,c=Qe(n,this.left+i,this.right-this.lineWidths[o])),d.top+=this.top+t+i,d.left=l.leftForLtr(l.x(c),d.width),c+=d.width+i}else{let o=0,c=Qe(n,this.top+t+i,this.bottom-this.columnSizes[o].height);for(const d of s)d.col!==o&&(o=d.col,c=Qe(n,this.top+t+i,this.bottom-this.columnSizes[o].height)),d.top=c,d.left+=this.left+i,d.left=l.leftForLtr(l.x(d.left),d.width),c+=d.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;Nh(t,this),this._draw(),_h(t)}}_draw(){const{options:t,columnSizes:s,lineWidths:n,ctx:i}=this,{align:a,labels:l}=t,o=Se.color,c=_r(t.rtl,this.left,this.width),d=Oe(l.font),{padding:u}=l,h=d.size,m=h/2;let v;this.drawTitle(),i.textAlign=c.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=d.string;const{boxWidth:x,boxHeight:y,itemHeight:b}=Dx(l,h),f=function(_,k,P){if(isNaN(x)||x<=0||isNaN(y)||y<0)return;i.save();const E=se(P.lineWidth,1);if(i.fillStyle=se(P.fillStyle,o),i.lineCap=se(P.lineCap,"butt"),i.lineDashOffset=se(P.lineDashOffset,0),i.lineJoin=se(P.lineJoin,"miter"),i.lineWidth=E,i.strokeStyle=se(P.strokeStyle,o),i.setLineDash(se(P.lineDash,[])),l.usePointStyle){const C={radius:y*Math.SQRT2/2,pointStyle:P.pointStyle,rotation:P.rotation,borderWidth:E},R=c.xPlus(_,x/2),I=k+m;by(i,C,R,I,l.pointStyleWidth&&x)}else{const C=k+Math.max((h-y)/2,0),R=c.leftForLtr(_,x),I=Fn(P.borderRadius);i.beginPath(),Object.values(I).some(H=>H!==0)?ma(i,{x:R,y:C,w:x,h:y,radius:I}):i.rect(R,C,x,y),i.fill(),E!==0&&i.stroke()}i.restore()},p=function(_,k,P){Qn(i,P.text,_,k+b/2,d,{strikethrough:P.hidden,textAlign:c.textAlign(P.textAlign)})},g=this.isHorizontal(),j=this._computeTitleHeight();g?v={x:Qe(a,this.left+u,this.right-n[0]),y:this.top+u+j,line:0}:v={x:this.left+u,y:Qe(a,this.top+j+u,this.bottom-s[0].height),line:0},Cy(this.ctx,t.textDirection);const w=b+u;this.legendItems.forEach((_,k)=>{i.strokeStyle=_.fontColor,i.fillStyle=_.fontColor;const P=i.measureText(_.text).width,E=c.textAlign(_.textAlign||(_.textAlign=l.textAlign)),C=x+m+P;let R=v.x,I=v.y;c.setWidth(this.width),g?k>0&&R+C+u>this.right&&(I=v.y+=w,v.line++,R=v.x=Qe(a,this.left+u,this.right-n[v.line])):k>0&&I+w>this.bottom&&(R=v.x=R+s[v.line].width+u,v.line++,I=v.y=Qe(a,this.top+j+u,this.bottom-s[v.line].height));const H=c.x(R);if(f(H,I,_),R=nk(E,R+x+m,g?R+C:this.right,t.rtl),p(c.x(R),I,_),g)v.x+=C+u;else if(typeof _.text!="string"){const Q=d.lineHeight;v.y+=Vy(_,Q)+u}else v.y+=w}),Py(this.ctx,t.textDirection)}drawTitle(){const t=this.options,s=t.title,n=Oe(s.font),i=et(s.padding);if(!s.display)return;const a=_r(t.rtl,this.left,this.width),l=this.ctx,o=s.position,c=n.size/2,d=i.top+c;let u,h=this.left,m=this.width;if(this.isHorizontal())m=Math.max(...this.lineWidths),u=this.top+d,h=Qe(t.align,h,this.right-m);else{const x=this.columnSizes.reduce((y,b)=>Math.max(y,b.height),0);u=d+Qe(t.align,this.top,this.bottom-x-t.labels.padding-this._computeTitleHeight())}const v=Qe(o,h,h+m);l.textAlign=a.textAlign(jh(o)),l.textBaseline="middle",l.strokeStyle=s.color,l.fillStyle=s.color,l.font=n.string,Qn(l,s.text,v,u,n)}_computeTitleHeight(){const t=this.options.title,s=Oe(t.font),n=et(t.padding);return t.display?s.lineHeight+n.height:0}_getLegendItemAt(t,s){let n,i,a;if(qs(t,this.left,this.right)&&qs(s,this.top,this.bottom)){for(a=this.legendHitBoxes,n=0;n<a.length;++n)if(i=a[n],qs(t,i.left,i.left+i.width)&&qs(s,i.top,i.top+i.height))return this.legendItems[n]}return null}handleEvent(t){const s=this.options;if(!mC(t.type,s))return;const n=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const i=this._hoveredItem,a=cC(i,n);i&&!a&&fe(s.onLeave,[t,i,this],this),this._hoveredItem=n,n&&!a&&fe(s.onHover,[t,n,this],this)}else n&&fe(s.onClick,[t,n,this],this)}}function dC(e,t,s,n,i){const a=uC(n,e,t,s),l=hC(i,n,t.lineHeight);return{itemWidth:a,itemHeight:l}}function uC(e,t,s,n){let i=e.text;return i&&typeof i!="string"&&(i=i.reduce((a,l)=>a.length>l.length?a:l)),t+s.size/2+n.measureText(i).width}function hC(e,t,s){let n=e;return typeof t.text!="string"&&(n=Vy(t,s)),n}function Vy(e,t){const s=e.text?e.text.length:0;return t*s}function mC(e,t){return!!((e==="mousemove"||e==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(e==="click"||e==="mouseup"))}var fC={id:"legend",_element:Rx,start(e,t,s){const n=e.legend=new Rx({ctx:e.ctx,options:s,chart:e});Mt.configure(e,n,s),Mt.addBox(e,n)},stop(e){Mt.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,s){const n=e.legend;Mt.configure(e,n,s),n.options=s},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,s){const n=t.datasetIndex,i=s.chart;i.isDatasetVisible(n)?(i.hide(n),t.hidden=!0):(i.show(n),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:s,pointStyle:n,textAlign:i,color:a,useBorderRadius:l,borderRadius:o}}=e.legend.options;return e._getSortedDatasetMetas().map(c=>{const d=c.controller.getStyle(s?0:void 0),u=et(d.borderWidth);return{text:t[c.index].label,fillStyle:d.backgroundColor,fontColor:a,hidden:!c.visible,lineCap:d.borderCapStyle,lineDash:d.borderDash,lineDashOffset:d.borderDashOffset,lineJoin:d.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:d.borderColor,pointStyle:n||d.pointStyle,rotation:d.rotation,textAlign:i||d.textAlign,borderRadius:l&&(o||d.borderRadius),datasetIndex:c.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class qy extends qt{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,s){const n=this.options;if(this.left=0,this.top=0,!n.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=s;const i=ve(n.text)?n.text.length:1;this._padding=et(n.padding);const a=i*Oe(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=a:this.width=a}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:s,left:n,bottom:i,right:a,options:l}=this,o=l.align;let c=0,d,u,h;return this.isHorizontal()?(u=Qe(o,n,a),h=s+t,d=a-n):(l.position==="left"?(u=n+t,h=Qe(o,i,s),c=de*-.5):(u=a-t,h=Qe(o,s,i),c=de*.5),d=i-s),{titleX:u,titleY:h,maxWidth:d,rotation:c}}draw(){const t=this.ctx,s=this.options;if(!s.display)return;const n=Oe(s.font),a=n.lineHeight/2+this._padding.top,{titleX:l,titleY:o,maxWidth:c,rotation:d}=this._drawArgs(a);Qn(t,s.text,0,0,n,{color:s.color,maxWidth:c,rotation:d,textAlign:jh(s.align),textBaseline:"middle",translation:[l,o]})}}function xC(e,t){const s=new qy({ctx:e.ctx,options:t,chart:e});Mt.configure(e,s,t),Mt.addBox(e,s),e.titleBlock=s}var pC={id:"title",_element:qy,start(e,t,s){xC(e,s)},stop(e){const t=e.titleBlock;Mt.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,s){const n=e.titleBlock;Mt.configure(e,n,s),n.options=s},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const ji={average(e){if(!e.length)return!1;let t,s,n=new Set,i=0,a=0;for(t=0,s=e.length;t<s;++t){const o=e[t].element;if(o&&o.hasValue()){const c=o.tooltipPosition();n.add(c.x),i+=c.y,++a}}return a===0||n.size===0?!1:{x:[...n].reduce((o,c)=>o+c)/n.size,y:i/a}},nearest(e,t){if(!e.length)return!1;let s=t.x,n=t.y,i=Number.POSITIVE_INFINITY,a,l,o;for(a=0,l=e.length;a<l;++a){const c=e[a].element;if(c&&c.hasValue()){const d=c.getCenterPoint(),u=Kd(t,d);u<i&&(i=u,o=c)}}if(o){const c=o.tooltipPosition();s=c.x,n=c.y}return{x:s,y:n}}};function Jt(e,t){return t&&(ve(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function ds(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function gC(e,t){const{element:s,datasetIndex:n,index:i}=t,a=e.getDatasetMeta(n).controller,{label:l,value:o}=a.getLabelAndValue(i);return{chart:e,label:l,parsed:a.getParsed(i),raw:e.data.datasets[n].data[i],formattedValue:o,dataset:a.getDataset(),dataIndex:i,datasetIndex:n,element:s}}function Ax(e,t){const s=e.chart.ctx,{body:n,footer:i,title:a}=e,{boxWidth:l,boxHeight:o}=t,c=Oe(t.bodyFont),d=Oe(t.titleFont),u=Oe(t.footerFont),h=a.length,m=i.length,v=n.length,x=et(t.padding);let y=x.height,b=0,f=n.reduce((j,w)=>j+w.before.length+w.lines.length+w.after.length,0);if(f+=e.beforeBody.length+e.afterBody.length,h&&(y+=h*d.lineHeight+(h-1)*t.titleSpacing+t.titleMarginBottom),f){const j=t.displayColors?Math.max(o,c.lineHeight):c.lineHeight;y+=v*j+(f-v)*c.lineHeight+(f-1)*t.bodySpacing}m&&(y+=t.footerMarginTop+m*u.lineHeight+(m-1)*t.footerSpacing);let p=0;const g=function(j){b=Math.max(b,s.measureText(j).width+p)};return s.save(),s.font=d.string,he(e.title,g),s.font=c.string,he(e.beforeBody.concat(e.afterBody),g),p=t.displayColors?l+2+t.boxPadding:0,he(n,j=>{he(j.before,g),he(j.lines,g),he(j.after,g)}),p=0,s.font=u.string,he(e.footer,g),s.restore(),b+=x.width,{width:b,height:y}}function yC(e,t){const{y:s,height:n}=t;return s<n/2?"top":s>e.height-n/2?"bottom":"center"}function vC(e,t,s,n){const{x:i,width:a}=n,l=s.caretSize+s.caretPadding;if(e==="left"&&i+a+l>t.width||e==="right"&&i-a-l<0)return!0}function bC(e,t,s,n){const{x:i,width:a}=s,{width:l,chartArea:{left:o,right:c}}=e;let d="center";return n==="center"?d=i<=(o+c)/2?"left":"right":i<=a/2?d="left":i>=l-a/2&&(d="right"),vC(d,e,t,s)&&(d="center"),d}function Lx(e,t,s){const n=s.yAlign||t.yAlign||yC(e,s);return{xAlign:s.xAlign||t.xAlign||bC(e,t,s,n),yAlign:n}}function jC(e,t){let{x:s,width:n}=e;return t==="right"?s-=n:t==="center"&&(s-=n/2),s}function wC(e,t,s){let{y:n,height:i}=e;return t==="top"?n+=s:t==="bottom"?n-=i+s:n-=i/2,n}function Ox(e,t,s,n){const{caretSize:i,caretPadding:a,cornerRadius:l}=e,{xAlign:o,yAlign:c}=s,d=i+a,{topLeft:u,topRight:h,bottomLeft:m,bottomRight:v}=Fn(l);let x=jC(t,o);const y=wC(t,c,d);return c==="center"?o==="left"?x+=d:o==="right"&&(x-=d):o==="left"?x-=Math.max(u,m)+i:o==="right"&&(x+=Math.max(h,v)+i),{x:Je(x,0,n.width-t.width),y:Je(y,0,n.height-t.height)}}function cl(e,t,s){const n=et(s.padding);return t==="center"?e.x+e.width/2:t==="right"?e.x+e.width-n.right:e.x+n.left}function Fx(e){return Jt([],ds(e))}function NC(e,t,s){return pn(e,{tooltip:t,tooltipItems:s,type:"tooltip"})}function Ix(e,t){const s=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return s?e.override(s):e}const Yy={beforeTitle:os,title(e){if(e.length>0){const t=e[0],s=t.chart.data.labels,n=s?s.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(n>0&&t.dataIndex<n)return s[t.dataIndex]}return""},afterTitle:os,beforeBody:os,beforeLabel:os,label(e){if(this&&this.options&&this.options.mode==="dataset")return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const s=e.formattedValue;return le(s)||(t+=s),t},labelColor(e){const s=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:s.borderColor,backgroundColor:s.backgroundColor,borderWidth:s.borderWidth,borderDash:s.borderDash,borderDashOffset:s.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const s=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:s.pointStyle,rotation:s.rotation}},afterLabel:os,afterBody:os,beforeFooter:os,footer:os,afterFooter:os};function lt(e,t,s,n){const i=e[t].call(s,n);return typeof i>"u"?Yy[t].call(s,n):i}class su extends qt{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const s=this.chart,n=this.options.setContext(this.getContext()),i=n.enabled&&s.options.animation&&n.animations,a=new My(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(a)),a}getContext(){return this.$context||(this.$context=NC(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,s){const{callbacks:n}=s,i=lt(n,"beforeTitle",this,t),a=lt(n,"title",this,t),l=lt(n,"afterTitle",this,t);let o=[];return o=Jt(o,ds(i)),o=Jt(o,ds(a)),o=Jt(o,ds(l)),o}getBeforeBody(t,s){return Fx(lt(s.callbacks,"beforeBody",this,t))}getBody(t,s){const{callbacks:n}=s,i=[];return he(t,a=>{const l={before:[],lines:[],after:[]},o=Ix(n,a);Jt(l.before,ds(lt(o,"beforeLabel",this,a))),Jt(l.lines,lt(o,"label",this,a)),Jt(l.after,ds(lt(o,"afterLabel",this,a))),i.push(l)}),i}getAfterBody(t,s){return Fx(lt(s.callbacks,"afterBody",this,t))}getFooter(t,s){const{callbacks:n}=s,i=lt(n,"beforeFooter",this,t),a=lt(n,"footer",this,t),l=lt(n,"afterFooter",this,t);let o=[];return o=Jt(o,ds(i)),o=Jt(o,ds(a)),o=Jt(o,ds(l)),o}_createItems(t){const s=this._active,n=this.chart.data,i=[],a=[],l=[];let o=[],c,d;for(c=0,d=s.length;c<d;++c)o.push(gC(this.chart,s[c]));return t.filter&&(o=o.filter((u,h,m)=>t.filter(u,h,m,n))),t.itemSort&&(o=o.sort((u,h)=>t.itemSort(u,h,n))),he(o,u=>{const h=Ix(t.callbacks,u);i.push(lt(h,"labelColor",this,u)),a.push(lt(h,"labelPointStyle",this,u)),l.push(lt(h,"labelTextColor",this,u))}),this.labelColors=i,this.labelPointStyles=a,this.labelTextColors=l,this.dataPoints=o,o}update(t,s){const n=this.options.setContext(this.getContext()),i=this._active;let a,l=[];if(!i.length)this.opacity!==0&&(a={opacity:0});else{const o=ji[n.position].call(this,i,this._eventPosition);l=this._createItems(n),this.title=this.getTitle(l,n),this.beforeBody=this.getBeforeBody(l,n),this.body=this.getBody(l,n),this.afterBody=this.getAfterBody(l,n),this.footer=this.getFooter(l,n);const c=this._size=Ax(this,n),d=Object.assign({},o,c),u=Lx(this.chart,n,d),h=Ox(n,d,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,a={opacity:1,x:h.x,y:h.y,width:c.width,height:c.height,caretX:o.x,caretY:o.y}}this._tooltipItems=l,this.$context=void 0,a&&this._resolveAnimations().update(this,a),t&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:s})}drawCaret(t,s,n,i){const a=this.getCaretPosition(t,n,i);s.lineTo(a.x1,a.y1),s.lineTo(a.x2,a.y2),s.lineTo(a.x3,a.y3)}getCaretPosition(t,s,n){const{xAlign:i,yAlign:a}=this,{caretSize:l,cornerRadius:o}=n,{topLeft:c,topRight:d,bottomLeft:u,bottomRight:h}=Fn(o),{x:m,y:v}=t,{width:x,height:y}=s;let b,f,p,g,j,w;return a==="center"?(j=v+y/2,i==="left"?(b=m,f=b-l,g=j+l,w=j-l):(b=m+x,f=b+l,g=j-l,w=j+l),p=b):(i==="left"?f=m+Math.max(c,u)+l:i==="right"?f=m+x-Math.max(d,h)-l:f=this.caretX,a==="top"?(g=v,j=g-l,b=f-l,p=f+l):(g=v+y,j=g+l,b=f+l,p=f-l),w=g),{x1:b,x2:f,x3:p,y1:g,y2:j,y3:w}}drawTitle(t,s,n){const i=this.title,a=i.length;let l,o,c;if(a){const d=_r(n.rtl,this.x,this.width);for(t.x=cl(this,n.titleAlign,n),s.textAlign=d.textAlign(n.titleAlign),s.textBaseline="middle",l=Oe(n.titleFont),o=n.titleSpacing,s.fillStyle=n.titleColor,s.font=l.string,c=0;c<a;++c)s.fillText(i[c],d.x(t.x),t.y+l.lineHeight/2),t.y+=l.lineHeight+o,c+1===a&&(t.y+=n.titleMarginBottom-o)}}_drawColorBox(t,s,n,i,a){const l=this.labelColors[n],o=this.labelPointStyles[n],{boxHeight:c,boxWidth:d}=a,u=Oe(a.bodyFont),h=cl(this,"left",a),m=i.x(h),v=c<u.lineHeight?(u.lineHeight-c)/2:0,x=s.y+v;if(a.usePointStyle){const y={radius:Math.min(d,c)/2,pointStyle:o.pointStyle,rotation:o.rotation,borderWidth:1},b=i.leftForLtr(m,d)+d/2,f=x+c/2;t.strokeStyle=a.multiKeyBackground,t.fillStyle=a.multiKeyBackground,Jd(t,y,b,f),t.strokeStyle=l.borderColor,t.fillStyle=l.backgroundColor,Jd(t,y,b,f)}else{t.lineWidth=oe(l.borderWidth)?Math.max(...Object.values(l.borderWidth)):l.borderWidth||1,t.strokeStyle=l.borderColor,t.setLineDash(l.borderDash||[]),t.lineDashOffset=l.borderDashOffset||0;const y=i.leftForLtr(m,d),b=i.leftForLtr(i.xPlus(m,1),d-2),f=Fn(l.borderRadius);Object.values(f).some(p=>p!==0)?(t.beginPath(),t.fillStyle=a.multiKeyBackground,ma(t,{x:y,y:x,w:d,h:c,radius:f}),t.fill(),t.stroke(),t.fillStyle=l.backgroundColor,t.beginPath(),ma(t,{x:b,y:x+1,w:d-2,h:c-2,radius:f}),t.fill()):(t.fillStyle=a.multiKeyBackground,t.fillRect(y,x,d,c),t.strokeRect(y,x,d,c),t.fillStyle=l.backgroundColor,t.fillRect(b,x+1,d-2,c-2))}t.fillStyle=this.labelTextColors[n]}drawBody(t,s,n){const{body:i}=this,{bodySpacing:a,bodyAlign:l,displayColors:o,boxHeight:c,boxWidth:d,boxPadding:u}=n,h=Oe(n.bodyFont);let m=h.lineHeight,v=0;const x=_r(n.rtl,this.x,this.width),y=function(P){s.fillText(P,x.x(t.x+v),t.y+m/2),t.y+=m+a},b=x.textAlign(l);let f,p,g,j,w,_,k;for(s.textAlign=l,s.textBaseline="middle",s.font=h.string,t.x=cl(this,b,n),s.fillStyle=n.bodyColor,he(this.beforeBody,y),v=o&&b!=="right"?l==="center"?d/2+u:d+2+u:0,j=0,_=i.length;j<_;++j){for(f=i[j],p=this.labelTextColors[j],s.fillStyle=p,he(f.before,y),g=f.lines,o&&g.length&&(this._drawColorBox(s,t,j,x,n),m=Math.max(h.lineHeight,c)),w=0,k=g.length;w<k;++w)y(g[w]),m=h.lineHeight;he(f.after,y)}v=0,m=h.lineHeight,he(this.afterBody,y),t.y-=a}drawFooter(t,s,n){const i=this.footer,a=i.length;let l,o;if(a){const c=_r(n.rtl,this.x,this.width);for(t.x=cl(this,n.footerAlign,n),t.y+=n.footerMarginTop,s.textAlign=c.textAlign(n.footerAlign),s.textBaseline="middle",l=Oe(n.footerFont),s.fillStyle=n.footerColor,s.font=l.string,o=0;o<a;++o)s.fillText(i[o],c.x(t.x),t.y+l.lineHeight/2),t.y+=l.lineHeight+n.footerSpacing}}drawBackground(t,s,n,i){const{xAlign:a,yAlign:l}=this,{x:o,y:c}=t,{width:d,height:u}=n,{topLeft:h,topRight:m,bottomLeft:v,bottomRight:x}=Fn(i.cornerRadius);s.fillStyle=i.backgroundColor,s.strokeStyle=i.borderColor,s.lineWidth=i.borderWidth,s.beginPath(),s.moveTo(o+h,c),l==="top"&&this.drawCaret(t,s,n,i),s.lineTo(o+d-m,c),s.quadraticCurveTo(o+d,c,o+d,c+m),l==="center"&&a==="right"&&this.drawCaret(t,s,n,i),s.lineTo(o+d,c+u-x),s.quadraticCurveTo(o+d,c+u,o+d-x,c+u),l==="bottom"&&this.drawCaret(t,s,n,i),s.lineTo(o+v,c+u),s.quadraticCurveTo(o,c+u,o,c+u-v),l==="center"&&a==="left"&&this.drawCaret(t,s,n,i),s.lineTo(o,c+h),s.quadraticCurveTo(o,c,o+h,c),s.closePath(),s.fill(),i.borderWidth>0&&s.stroke()}_updateAnimationTarget(t){const s=this.chart,n=this.$animations,i=n&&n.x,a=n&&n.y;if(i||a){const l=ji[t.position].call(this,this._active,this._eventPosition);if(!l)return;const o=this._size=Ax(this,t),c=Object.assign({},l,this._size),d=Lx(s,t,c),u=Ox(t,c,d,s);(i._to!==u.x||a._to!==u.y)&&(this.xAlign=d.xAlign,this.yAlign=d.yAlign,this.width=o.width,this.height=o.height,this.caretX=l.x,this.caretY=l.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(t){const s=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(s);const i={width:this.width,height:this.height},a={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const l=et(s.padding),o=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;s.enabled&&o&&(t.save(),t.globalAlpha=n,this.drawBackground(a,t,i,s),Cy(t,s.textDirection),a.y+=l.top,this.drawTitle(a,t,s),this.drawBody(a,t,s),this.drawFooter(a,t,s),Py(t,s.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,s){const n=this._active,i=t.map(({datasetIndex:o,index:c})=>{const d=this.chart.getDatasetMeta(o);if(!d)throw new Error("Cannot find a dataset at index "+o);return{datasetIndex:o,element:d.data[c],index:c}}),a=!mo(n,i),l=this._positionChanged(i,s);(a||l)&&(this._active=i,this._eventPosition=s,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,s,n=!0){if(s&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,a=this._active||[],l=this._getActiveElements(t,a,s,n),o=this._positionChanged(l,t),c=s||!mo(l,a)||o;return c&&(this._active=l,(i.enabled||i.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,s))),c}_getActiveElements(t,s,n,i){const a=this.options;if(t.type==="mouseout")return[];if(!i)return s.filter(o=>this.chart.data.datasets[o.datasetIndex]&&this.chart.getDatasetMeta(o.datasetIndex).controller.getParsed(o.index)!==void 0);const l=this.chart.getElementsAtEventForMode(t,a.mode,a,n);return a.reverse&&l.reverse(),l}_positionChanged(t,s){const{caretX:n,caretY:i,options:a}=this,l=ji[a.position].call(this,t,s);return l!==!1&&(n!==l.x||i!==l.y)}}V(su,"positioners",ji);var _C={id:"tooltip",_element:su,positioners:ji,afterInit(e,t,s){s&&(e.tooltip=new su({chart:e,options:s}))},beforeUpdate(e,t,s){e.tooltip&&e.tooltip.initialize(s)},reset(e,t,s){e.tooltip&&e.tooltip.initialize(s)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const s={tooltip:t};if(e.notifyPlugins("beforeTooltipDraw",{...s,cancelable:!0})===!1)return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",s)}},afterEvent(e,t){if(e.tooltip){const s=t.replay;e.tooltip.handleEvent(t.event,s,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Yy},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>e!=="filter"&&e!=="itemSort"&&e!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const kC=(e,t,s,n)=>(typeof t=="string"?(s=e.push(t)-1,n.unshift({index:s,label:t})):isNaN(t)&&(s=null),s);function SC(e,t,s,n){const i=e.indexOf(t);if(i===-1)return kC(e,t,s,n);const a=e.lastIndexOf(t);return i!==a?s:i}const CC=(e,t)=>e===null?null:Je(Math.round(e),0,t);function zx(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class nu extends Jn{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const s=this._addedLabels;if(s.length){const n=this.getLabels();for(const{index:i,label:a}of s)n[i]===a&&n.splice(i,1);this._addedLabels=[]}super.init(t)}parse(t,s){if(le(t))return null;const n=this.getLabels();return s=isFinite(s)&&n[s]===t?s:SC(n,t,se(s,t),this._addedLabels),CC(s,n.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:s}=this.getUserBounds();let{min:n,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(n=0),s||(i=this.getLabels().length-1)),this.min=n,this.max=i}buildTicks(){const t=this.min,s=this.max,n=this.options.offset,i=[];let a=this.getLabels();a=t===0&&s===a.length-1?a:a.slice(t,s+1),this._valueRange=Math.max(a.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let l=t;l<=s;l++)i.push({value:l});return i}getLabelForValue(t){return zx.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const s=this.ticks;return t<0||t>s.length-1?null:this.getPixelForValue(s[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}V(nu,"id","category"),V(nu,"defaults",{ticks:{callback:zx}});function PC(e,t){const s=[],{bounds:i,step:a,min:l,max:o,precision:c,count:d,maxTicks:u,maxDigits:h,includeBounds:m}=e,v=a||1,x=u-1,{min:y,max:b}=t,f=!le(l),p=!le(o),g=!le(d),j=(b-y)/(h+1);let w=Wf((b-y)/x/v)*v,_,k,P,E;if(w<1e-14&&!f&&!p)return[{value:y},{value:b}];E=Math.ceil(b/w)-Math.floor(y/w),E>x&&(w=Wf(E*w/x/v)*v),le(c)||(_=Math.pow(10,c),w=Math.ceil(w*_)/_),i==="ticks"?(k=Math.floor(y/w)*w,P=Math.ceil(b/w)*w):(k=y,P=b),f&&p&&a&&K_((o-l)/a,w/1e3)?(E=Math.round(Math.min((o-l)/w,u)),w=(o-l)/E,k=l,P=o):g?(k=f?l:k,P=p?o:P,E=d-1,w=(P-k)/E):(E=(P-k)/w,Di(E,Math.round(E),w/1e3)?E=Math.round(E):E=Math.ceil(E));const C=Math.max(Hf(w),Hf(k));_=Math.pow(10,le(c)?C:c),k=Math.round(k*_)/_,P=Math.round(P*_)/_;let R=0;for(f&&(m&&k!==l?(s.push({value:l}),k<l&&R++,Di(Math.round((k+R*w)*_)/_,l,Bx(l,j,e))&&R++):k<l&&R++);R<E;++R){const I=Math.round((k+R*w)*_)/_;if(p&&I>o)break;s.push({value:I})}return p&&m&&P!==o?s.length&&Di(s[s.length-1].value,o,Bx(o,j,e))?s[s.length-1].value=o:s.push({value:o}):(!p||P===o)&&s.push({value:P}),s}function Bx(e,t,{horizontal:s,minRotation:n}){const i=ns(n),a=(s?Math.sin(i):Math.cos(i))||.001,l=.75*t*(""+e).length;return Math.min(t/a,l)}class bo extends Jn{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,s){return le(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:s,maxDefined:n}=this.getUserBounds();let{min:i,max:a}=this;const l=c=>i=s?i:c,o=c=>a=n?a:c;if(t){const c=ls(i),d=ls(a);c<0&&d<0?o(0):c>0&&d>0&&l(0)}if(i===a){let c=a===0?1:Math.abs(a*.05);o(a+c),t||l(i-c)}this.min=i,this.max=a}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:s,stepSize:n}=t,i;return n?(i=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),s=s||11),s&&(i=Math.min(s,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,s=t.ticks;let n=this.getTickLimit();n=Math.max(2,n);const i={maxTicks:n,bounds:t.bounds,min:t.min,max:t.max,precision:s.precision,step:s.stepSize,count:s.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:s.minRotation||0,includeBounds:s.includeBounds!==!1},a=this._range||this,l=PC(i,a);return t.bounds==="ticks"&&my(l,this,"value"),t.reverse?(l.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),l}configure(){const t=this.ticks;let s=this.min,n=this.max;if(super.configure(),this.options.offset&&t.length){const i=(n-s)/Math.max(t.length-1,1)/2;s-=i,n+=i}this._startValue=s,this._endValue=n,this._valueRange=n-s}getLabelForValue(t){return Qo(t,this.chart.options.locale,this.options.ticks.format)}}class ru extends bo{determineDataLimits(){const{min:t,max:s}=this.getMinMax(!0);this.min=ze(t)?t:0,this.max=ze(s)?s:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),s=t?this.width:this.height,n=ns(this.options.ticks.minRotation),i=(t?Math.sin(n):Math.cos(n))||.001,a=this._resolveTickFontOptions(0);return Math.ceil(s/Math.min(40,a.lineHeight/i))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}V(ru,"id","linear"),V(ru,"defaults",{ticks:{callback:Ko.formatters.numeric}});const xa=e=>Math.floor(Vs(e)),jn=(e,t)=>Math.pow(10,xa(e)+t);function $x(e){return e/Math.pow(10,xa(e))===1}function Wx(e,t,s){const n=Math.pow(10,s),i=Math.floor(e/n);return Math.ceil(t/n)-i}function EC(e,t){const s=t-e;let n=xa(s);for(;Wx(e,t,n)>10;)n++;for(;Wx(e,t,n)<10;)n--;return Math.min(n,xa(e))}function MC(e,{min:t,max:s}){t=pt(e.min,t);const n=[],i=xa(t);let a=EC(t,s),l=a<0?Math.pow(10,Math.abs(a)):1;const o=Math.pow(10,a),c=i>a?Math.pow(10,i):0,d=Math.round((t-c)*l)/l,u=Math.floor((t-c)/o/10)*o*10;let h=Math.floor((d-u)/Math.pow(10,a)),m=pt(e.min,Math.round((c+u+h*Math.pow(10,a))*l)/l);for(;m<s;)n.push({value:m,major:$x(m),significand:h}),h>=10?h=h<15?15:20:h++,h>=20&&(a++,h=2,l=a>=0?1:l),m=Math.round((c+u+h*Math.pow(10,a))*l)/l;const v=pt(e.max,m);return n.push({value:v,major:$x(v),significand:h}),n}class Hx extends Jn{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,s){const n=bo.prototype.parse.apply(this,[t,s]);if(n===0){this._zero=!0;return}return ze(n)&&n>0?n:null}determineDataLimits(){const{min:t,max:s}=this.getMinMax(!0);this.min=ze(t)?Math.max(0,t):null,this.max=ze(s)?Math.max(0,s):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!ze(this._userMin)&&(this.min=t===jn(this.min,0)?jn(this.min,-1):jn(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:s}=this.getUserBounds();let n=this.min,i=this.max;const a=o=>n=t?n:o,l=o=>i=s?i:o;n===i&&(n<=0?(a(1),l(10)):(a(jn(n,-1)),l(jn(i,1)))),n<=0&&a(jn(i,-1)),i<=0&&l(jn(n,1)),this.min=n,this.max=i}buildTicks(){const t=this.options,s={min:this._userMin,max:this._userMax},n=MC(s,this);return t.bounds==="ticks"&&my(n,this,"value"),t.reverse?(n.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),n}getLabelForValue(t){return t===void 0?"0":Qo(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=Vs(t),this._valueRange=Vs(this.max)-Vs(t)}getPixelForValue(t){return(t===void 0||t===0)&&(t=this.min),t===null||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(Vs(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const s=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+s*this._valueRange)}}V(Hx,"id","logarithmic"),V(Hx,"defaults",{ticks:{callback:Ko.formatters.logarithmic,major:{enabled:!0}}});function iu(e){const t=e.ticks;if(t.display&&e.display){const s=et(t.backdropPadding);return se(t.font&&t.font.size,Se.font.size)+s.height}return 0}function TC(e,t,s){return s=ve(s)?s:[s],{w:xk(e,t.string,s),h:s.length*t.lineHeight}}function Ux(e,t,s,n,i){return e===n||e===i?{start:t-s/2,end:t+s/2}:e<n||e>i?{start:t-s,end:t}:{start:t,end:t+s}}function DC(e){const t={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},s=Object.assign({},t),n=[],i=[],a=e._pointLabels.length,l=e.options.pointLabels,o=l.centerPointLabels?de/a:0;for(let c=0;c<a;c++){const d=l.setContext(e.getPointLabelContext(c));i[c]=d.padding;const u=e.getPointPosition(c,e.drawingArea+i[c],o),h=Oe(d.font),m=TC(e.ctx,h,e._pointLabels[c]);n[c]=m;const v=ot(e.getIndexAngle(c)+o),x=Math.round(vh(v)),y=Ux(x,u.x,m.w,0,180),b=Ux(x,u.y,m.h,90,270);RC(s,t,v,y,b)}e.setCenterPoint(t.l-s.l,s.r-t.r,t.t-s.t,s.b-t.b),e._pointLabelItems=OC(e,n,i)}function RC(e,t,s,n,i){const a=Math.abs(Math.sin(s)),l=Math.abs(Math.cos(s));let o=0,c=0;n.start<t.l?(o=(t.l-n.start)/a,e.l=Math.min(e.l,t.l-o)):n.end>t.r&&(o=(n.end-t.r)/a,e.r=Math.max(e.r,t.r+o)),i.start<t.t?(c=(t.t-i.start)/l,e.t=Math.min(e.t,t.t-c)):i.end>t.b&&(c=(i.end-t.b)/l,e.b=Math.max(e.b,t.b+c))}function AC(e,t,s){const n=e.drawingArea,{extra:i,additionalAngle:a,padding:l,size:o}=s,c=e.getPointPosition(t,n+i+l,a),d=Math.round(vh(ot(c.angle+Pe))),u=zC(c.y,o.h,d),h=FC(d),m=IC(c.x,o.w,h);return{visible:!0,x:c.x,y:u,textAlign:h,left:m,top:u,right:m+o.w,bottom:u+o.h}}function LC(e,t){if(!t)return!0;const{left:s,top:n,right:i,bottom:a}=e;return!(js({x:s,y:n},t)||js({x:s,y:a},t)||js({x:i,y:n},t)||js({x:i,y:a},t))}function OC(e,t,s){const n=[],i=e._pointLabels.length,a=e.options,{centerPointLabels:l,display:o}=a.pointLabels,c={extra:iu(a)/2,additionalAngle:l?de/i:0};let d;for(let u=0;u<i;u++){c.padding=s[u],c.size=t[u];const h=AC(e,u,c);n.push(h),o==="auto"&&(h.visible=LC(h,d),h.visible&&(d=h))}return n}function FC(e){return e===0||e===180?"center":e<180?"left":"right"}function IC(e,t,s){return s==="right"?e-=t:s==="center"&&(e-=t/2),e}function zC(e,t,s){return s===90||s===270?e-=t/2:(s>270||s<90)&&(e-=t),e}function BC(e,t,s){const{left:n,top:i,right:a,bottom:l}=s,{backdropColor:o}=t;if(!le(o)){const c=Fn(t.borderRadius),d=et(t.backdropPadding);e.fillStyle=o;const u=n-d.left,h=i-d.top,m=a-n+d.width,v=l-i+d.height;Object.values(c).some(x=>x!==0)?(e.beginPath(),ma(e,{x:u,y:h,w:m,h:v,radius:c}),e.fill()):e.fillRect(u,h,m,v)}}function $C(e,t){const{ctx:s,options:{pointLabels:n}}=e;for(let i=t-1;i>=0;i--){const a=e._pointLabelItems[i];if(!a.visible)continue;const l=n.setContext(e.getPointLabelContext(i));BC(s,l,a);const o=Oe(l.font),{x:c,y:d,textAlign:u}=a;Qn(s,e._pointLabels[i],c,d+o.lineHeight/2,o,{color:l.color,textAlign:u,textBaseline:"middle"})}}function Xy(e,t,s,n){const{ctx:i}=e;if(s)i.arc(e.xCenter,e.yCenter,t,0,be);else{let a=e.getPointPosition(0,t);i.moveTo(a.x,a.y);for(let l=1;l<n;l++)a=e.getPointPosition(l,t),i.lineTo(a.x,a.y)}}function WC(e,t,s,n,i){const a=e.ctx,l=t.circular,{color:o,lineWidth:c}=t;!l&&!n||!o||!c||s<0||(a.save(),a.strokeStyle=o,a.lineWidth=c,a.setLineDash(i.dash||[]),a.lineDashOffset=i.dashOffset,a.beginPath(),Xy(e,s,l,n),a.closePath(),a.stroke(),a.restore())}function HC(e,t,s){return pn(e,{label:s,index:t,type:"pointLabel"})}class dl extends bo{constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=et(iu(this.options)/2),s=this.width=this.maxWidth-t.width,n=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+s/2+t.left),this.yCenter=Math.floor(this.top+n/2+t.top),this.drawingArea=Math.floor(Math.min(s,n)/2)}determineDataLimits(){const{min:t,max:s}=this.getMinMax(!1);this.min=ze(t)&&!isNaN(t)?t:0,this.max=ze(s)&&!isNaN(s)?s:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/iu(this.options))}generateTickLabels(t){bo.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((s,n)=>{const i=fe(this.options.pointLabels.callback,[s,n],this);return i||i===0?i:""}).filter((s,n)=>this.chart.getDataVisibility(n))}fit(){const t=this.options;t.display&&t.pointLabels.display?DC(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,s,n,i){this.xCenter+=Math.floor((t-s)/2),this.yCenter+=Math.floor((n-i)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,s,n,i))}getIndexAngle(t){const s=be/(this._pointLabels.length||1),n=this.options.startAngle||0;return ot(t*s+ns(n))}getDistanceFromCenterForValue(t){if(le(t))return NaN;const s=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*s:(t-this.min)*s}getValueForDistanceFromCenter(t){if(le(t))return NaN;const s=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-s:this.min+s}getPointLabelContext(t){const s=this._pointLabels||[];if(t>=0&&t<s.length){const n=s[t];return HC(this.getContext(),t,n)}}getPointPosition(t,s,n=0){const i=this.getIndexAngle(t)-Pe+n;return{x:Math.cos(i)*s+this.xCenter,y:Math.sin(i)*s+this.yCenter,angle:i}}getPointPositionForValue(t,s){return this.getPointPosition(t,this.getDistanceFromCenterForValue(s))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:s,top:n,right:i,bottom:a}=this._pointLabelItems[t];return{left:s,top:n,right:i,bottom:a}}drawBackground(){const{backgroundColor:t,grid:{circular:s}}=this.options;if(t){const n=this.ctx;n.save(),n.beginPath(),Xy(this,this.getDistanceFromCenterForValue(this._endValue),s,this._pointLabels.length),n.closePath(),n.fillStyle=t,n.fill(),n.restore()}}drawGrid(){const t=this.ctx,s=this.options,{angleLines:n,grid:i,border:a}=s,l=this._pointLabels.length;let o,c,d;if(s.pointLabels.display&&$C(this,l),i.display&&this.ticks.forEach((u,h)=>{if(h!==0||h===0&&this.min<0){c=this.getDistanceFromCenterForValue(u.value);const m=this.getContext(h),v=i.setContext(m),x=a.setContext(m);WC(this,v,c,l,x)}}),n.display){for(t.save(),o=l-1;o>=0;o--){const u=n.setContext(this.getPointLabelContext(o)),{color:h,lineWidth:m}=u;!m||!h||(t.lineWidth=m,t.strokeStyle=h,t.setLineDash(u.borderDash),t.lineDashOffset=u.borderDashOffset,c=this.getDistanceFromCenterForValue(s.reverse?this.min:this.max),d=this.getPointPosition(o,c),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(d.x,d.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,s=this.options,n=s.ticks;if(!n.display)return;const i=this.getIndexAngle(0);let a,l;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(i),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((o,c)=>{if(c===0&&this.min>=0&&!s.reverse)return;const d=n.setContext(this.getContext(c)),u=Oe(d.font);if(a=this.getDistanceFromCenterForValue(this.ticks[c].value),d.showLabelBackdrop){t.font=u.string,l=t.measureText(o.label).width,t.fillStyle=d.backdropColor;const h=et(d.backdropPadding);t.fillRect(-l/2-h.left,-a-u.size/2-h.top,l+h.width,u.size+h.height)}Qn(t,o.label,0,-a,u,{color:d.color,strokeColor:d.textStrokeColor,strokeWidth:d.textStrokeWidth})}),t.restore()}drawTitle(){}}V(dl,"id","radialLinear"),V(dl,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Ko.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}}),V(dl,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),V(dl,"descriptors",{angleLines:{_fallback:"grid"}});const Zo={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},dt=Object.keys(Zo);function Vx(e,t){return e-t}function qx(e,t){if(le(t))return null;const s=e._adapter,{parser:n,round:i,isoWeekday:a}=e._parseOpts;let l=t;return typeof n=="function"&&(l=n(l)),ze(l)||(l=typeof n=="string"?s.parse(l,n):s.parse(l)),l===null?null:(i&&(l=i==="week"&&(ua(a)||a===!0)?s.startOf(l,"isoWeek",a):s.startOf(l,i)),+l)}function Yx(e,t,s,n){const i=dt.length;for(let a=dt.indexOf(e);a<i-1;++a){const l=Zo[dt[a]],o=l.steps?l.steps:Number.MAX_SAFE_INTEGER;if(l.common&&Math.ceil((s-t)/(o*l.size))<=n)return dt[a]}return dt[i-1]}function UC(e,t,s,n,i){for(let a=dt.length-1;a>=dt.indexOf(s);a--){const l=dt[a];if(Zo[l].common&&e._adapter.diff(i,n,l)>=t-1)return l}return dt[s?dt.indexOf(s):0]}function VC(e){for(let t=dt.indexOf(e)+1,s=dt.length;t<s;++t)if(Zo[dt[t]].common)return dt[t]}function Xx(e,t,s){if(!s)e[t]=!0;else if(s.length){const{lo:n,hi:i}=bh(s,t),a=s[n]>=t?s[n]:s[i];e[a]=!0}}function qC(e,t,s,n){const i=e._adapter,a=+i.startOf(t[0].value,n),l=t[t.length-1].value;let o,c;for(o=a;o<=l;o=+i.add(o,1,n))c=s[o],c>=0&&(t[c].major=!0);return t}function Qx(e,t,s){const n=[],i={},a=t.length;let l,o;for(l=0;l<a;++l)o=t[l],i[o]=l,n.push({value:o,major:!1});return a===0||!s?n:qC(e,n,i,s)}class jo extends Jn{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,s={}){const n=t.time||(t.time={}),i=this._adapter=new AS._date(t.adapters.date);i.init(s),Ti(n.displayFormats,i.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(t),this._normalized=s.normalized}parse(t,s){return t===void 0?null:qx(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,s=this._adapter,n=t.time.unit||"day";let{min:i,max:a,minDefined:l,maxDefined:o}=this.getUserBounds();function c(d){!l&&!isNaN(d.min)&&(i=Math.min(i,d.min)),!o&&!isNaN(d.max)&&(a=Math.max(a,d.max))}(!l||!o)&&(c(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&c(this.getMinMax(!1))),i=ze(i)&&!isNaN(i)?i:+s.startOf(Date.now(),n),a=ze(a)&&!isNaN(a)?a:+s.endOf(Date.now(),n)+1,this.min=Math.min(i,a-1),this.max=Math.max(i+1,a)}_getLabelBounds(){const t=this.getLabelTimestamps();let s=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return t.length&&(s=t[0],n=t[t.length-1]),{min:s,max:n}}buildTicks(){const t=this.options,s=t.time,n=t.ticks,i=n.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const a=this.min,l=this.max,o=ek(i,a,l);return this._unit=s.unit||(n.autoSkip?Yx(s.minUnit,this.min,this.max,this._getLabelCapacity(a)):UC(this,o.length,s.minUnit,this.min,this.max)),this._majorUnit=!n.major.enabled||this._unit==="year"?void 0:VC(this._unit),this.initOffsets(i),t.reverse&&o.reverse(),Qx(this,o,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let s=0,n=0,i,a;this.options.offset&&t.length&&(i=this.getDecimalForValue(t[0]),t.length===1?s=1-i:s=(this.getDecimalForValue(t[1])-i)/2,a=this.getDecimalForValue(t[t.length-1]),t.length===1?n=a:n=(a-this.getDecimalForValue(t[t.length-2]))/2);const l=t.length<3?.5:.25;s=Je(s,0,l),n=Je(n,0,l),this._offsets={start:s,end:n,factor:1/(s+1+n)}}_generate(){const t=this._adapter,s=this.min,n=this.max,i=this.options,a=i.time,l=a.unit||Yx(a.minUnit,s,n,this._getLabelCapacity(s)),o=se(i.ticks.stepSize,1),c=l==="week"?a.isoWeekday:!1,d=ua(c)||c===!0,u={};let h=s,m,v;if(d&&(h=+t.startOf(h,"isoWeek",c)),h=+t.startOf(h,d?"day":l),t.diff(n,s,l)>1e5*o)throw new Error(s+" and "+n+" are too far apart with stepSize of "+o+" "+l);const x=i.ticks.source==="data"&&this.getDataTimestamps();for(m=h,v=0;m<n;m=+t.add(m,o,l),v++)Xx(u,m,x);return(m===n||i.bounds==="ticks"||v===1)&&Xx(u,m,x),Object.keys(u).sort(Vx).map(y=>+y)}getLabelForValue(t){const s=this._adapter,n=this.options.time;return n.tooltipFormat?s.format(t,n.tooltipFormat):s.format(t,n.displayFormats.datetime)}format(t,s){const i=this.options.time.displayFormats,a=this._unit,l=s||i[a];return this._adapter.format(t,l)}_tickFormatFunction(t,s,n,i){const a=this.options,l=a.ticks.callback;if(l)return fe(l,[t,s,n],this);const o=a.time.displayFormats,c=this._unit,d=this._majorUnit,u=c&&o[c],h=d&&o[d],m=n[s],v=d&&h&&m&&m.major;return this._adapter.format(t,i||(v?h:u))}generateTickLabels(t){let s,n,i;for(s=0,n=t.length;s<n;++s)i=t[s],i.label=this._tickFormatFunction(i.value,s,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const s=this._offsets,n=this.getDecimalForValue(t);return this.getPixelForDecimal((s.start+n)*s.factor)}getValueForPixel(t){const s=this._offsets,n=this.getDecimalForPixel(t)/s.factor-s.end;return this.min+n*(this.max-this.min)}_getLabelSize(t){const s=this.options.ticks,n=this.ctx.measureText(t).width,i=ns(this.isHorizontal()?s.maxRotation:s.minRotation),a=Math.cos(i),l=Math.sin(i),o=this._resolveTickFontOptions(0).size;return{w:n*a+o*l,h:n*l+o*a}}_getLabelCapacity(t){const s=this.options.time,n=s.displayFormats,i=n[s.unit]||n.millisecond,a=this._tickFormatFunction(t,0,Qx(this,[t],this._majorUnit),i),l=this._getLabelSize(a),o=Math.floor(this.isHorizontal()?this.width/l.w:this.height/l.h)-1;return o>0?o:1}getDataTimestamps(){let t=this._cache.data||[],s,n;if(t.length)return t;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(s=0,n=i.length;s<n;++s)t=t.concat(i[s].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let s,n;if(t.length)return t;const i=this.getLabels();for(s=0,n=i.length;s<n;++s)t.push(qx(this,i[s]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return py(t.sort(Vx))}}V(jo,"id","time"),V(jo,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function ul(e,t,s){let n=0,i=e.length-1,a,l,o,c;s?(t>=e[n].pos&&t<=e[i].pos&&({lo:n,hi:i}=An(e,"pos",t)),{pos:a,time:o}=e[n],{pos:l,time:c}=e[i]):(t>=e[n].time&&t<=e[i].time&&({lo:n,hi:i}=An(e,"time",t)),{time:a,pos:o}=e[n],{time:l,pos:c}=e[i]);const d=l-a;return d?o+(c-o)*(t-a)/d:o}class Kx extends jo{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),s=this._table=this.buildLookupTable(t);this._minPos=ul(s,this.min),this._tableRange=ul(s,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:s,max:n}=this,i=[],a=[];let l,o,c,d,u;for(l=0,o=t.length;l<o;++l)d=t[l],d>=s&&d<=n&&i.push(d);if(i.length<2)return[{time:s,pos:0},{time:n,pos:1}];for(l=0,o=i.length;l<o;++l)u=i[l+1],c=i[l-1],d=i[l],Math.round((u+c)/2)!==d&&a.push({time:d,pos:l/(o-1)});return a}_generate(){const t=this.min,s=this.max;let n=super.getDataTimestamps();return(!n.includes(t)||!n.length)&&n.splice(0,0,t),(!n.includes(s)||n.length===1)&&n.push(s),n.sort((i,a)=>i-a)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const s=this.getDataTimestamps(),n=this.getLabelTimestamps();return s.length&&n.length?t=this.normalize(s.concat(n)):t=s.length?s:n,t=this._cache.all=t,t}getDecimalForValue(t){return(ul(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const s=this._offsets,n=this.getDecimalForPixel(t)/s.factor-s.end;return ul(this._table,n*this._tableRange+this._minPos,!0)}}V(Kx,"id","timeseries"),V(Kx,"defaults",jo.defaults);const Qy="label";function Gx(e,t){typeof e=="function"?e(t):e&&(e.current=t)}function YC(e,t){const s=e.options;s&&t&&Object.assign(s,t)}function Ky(e,t){e.labels=t}function Gy(e,t){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Qy;const n=[];e.datasets=t.map(i=>{const a=e.datasets.find(l=>l[s]===i[s]);return!a||!i.data||n.includes(a)?{...i}:(n.push(a),Object.assign(a,i),a)})}function XC(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Qy;const s={labels:[],datasets:[]};return Ky(s,e.labels),Gy(s,e.datasets,t),s}function QC(e,t){const{height:s=150,width:n=300,redraw:i=!1,datasetIdKey:a,type:l,data:o,options:c,plugins:d=[],fallbackContent:u,updateMode:h,...m}=e,v=N.useRef(null),x=N.useRef(null),y=()=>{v.current&&(x.current=new Jo(v.current,{type:l,data:XC(o,a),options:c&&{...c},plugins:d}),Gx(t,x.current))},b=()=>{Gx(t,null),x.current&&(x.current.destroy(),x.current=null)};return N.useEffect(()=>{!i&&x.current&&c&&YC(x.current,c)},[i,c]),N.useEffect(()=>{!i&&x.current&&Ky(x.current.config.data,o.labels)},[i,o.labels]),N.useEffect(()=>{!i&&x.current&&o.datasets&&Gy(x.current.config.data,o.datasets,a)},[i,o.datasets]),N.useEffect(()=>{x.current&&(i?(b(),setTimeout(y)):x.current.update(h))},[i,c,o.labels,o.datasets,h]),N.useEffect(()=>{x.current&&(b(),setTimeout(y))},[l]),N.useEffect(()=>(y(),()=>b()),[]),ga.createElement("canvas",{ref:v,role:"img",height:s,width:n,...m},u)}const KC=N.forwardRef(QC);function Dh(e,t){return Jo.register(t),N.forwardRef((s,n)=>ga.createElement(KC,{...s,ref:n,type:e}))}const au=Dh("line",Ml),Jx=Dh("bar",El),Li=Dh("doughnut",gi);Jo.register(nu,ru,Rl,bi,pC,_C,fC,Al,vi);const GC=()=>{const[e,t]=N.useState("tasks"),[s,n]=N.useState(null),[i,a]=N.useState([]),[l,o]=N.useState([]),[c,d]=N.useState([]),[u,h]=N.useState([]),[m,v]=N.useState([]),[x,y]=N.useState(null),[b,f]=N.useState(!0),[p,g]=N.useState(""),[j,w]=N.useState("");N.useEffect(()=>{_()},[e]);const _=async()=>{f(!0);try{const S={};if(p&&j&&(S.start=p,S.end=j),e==="tasks"){const[A,$,X,K]=await Promise.all([rr.getStats(S),rr.getStaffPerformance(S),rr.getTaskDistribution(S),rr.getInsights(S)]);n(A.data),a($.data),d(X.data),h(K.data),k(A.data)}else{const A=await bs.getLivestock();v(A.data),P(A.data)}}catch(S){console.error("Error fetching reports data:",S)}finally{f(!1)}},k=S=>{const A=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],$=(S==null?void 0:S.taskCompletionRate)||75,X=A.map((K,L)=>({day:K,completion:Math.max(30,Math.min(100,$+(Math.random()-.5)*20))}));o(X)},P=S=>{const A=S.length,$=S.filter(G=>G.health_status==="healthy").length,X=S.filter(G=>G.health_status==="sick").length,K=S.filter(G=>G.health_status==="quarantine").length,L=S.filter(G=>G.health_status==="deceased").length,U=S.reduce((G,ne)=>(G[ne.species]=(G[ne.species]||0)+1,G),{}),J=S.filter(G=>G.age).map(G=>G.age),F=S.filter(G=>G.weight).map(G=>parseFloat(G.weight)),z=J.length>0?(J.reduce((G,ne)=>G+ne,0)/J.length).toFixed(1):0,ce=F.length>0?(F.reduce((G,ne)=>G+ne,0)/F.length).toFixed(1):0;y({totalLivestock:A,healthyCount:$,sickCount:X,quarantineCount:K,deceasedCount:L,healthRate:A>0?($/A*100).toFixed(1):0,speciesCount:U,averageAge:z,averageWeight:ce})},E=async()=>{try{const S={};if(p&&j&&(S.start=p,S.end=j),e==="tasks"){const A=await rr.exportReport(S),$=new Blob([A.data],{type:"text/csv"}),X=window.URL.createObjectURL($),K=document.createElement("a");K.href=X,K.download="task_report.csv",K.click(),window.URL.revokeObjectURL(X)}else{const A=C(),$=new Blob([A],{type:"text/csv"}),X=window.URL.createObjectURL($),K=document.createElement("a");K.href=X,K.download="livestock_report.csv",K.click(),window.URL.revokeObjectURL(X)}}catch(S){console.error("Export failed:",S)}},C=()=>{const S=["Name","Species","Breed","Age","Weight","Gender","Health Status","Location","Acquisition Date"],A=m.map($=>[$.name||"",$.species||"",$.breed||"",$.age||"",$.weight||"",$.gender||"",$.health_status||"",$.location||"",$.acquisition_date||""]);return[S,...A].map($=>$.join(",")).join(`
`)},R={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top",labels:{font:{family:"Poppins",size:12}}},title:{display:!1}},scales:{y:{beginAtZero:!0,grid:{color:"rgba(0, 0, 0, 0.1)"},ticks:{font:{family:"Inter"}}},x:{grid:{display:!1},ticks:{font:{family:"Inter"}}}}},I={labels:l.map(S=>S.day),datasets:[{label:"Task Completion %",data:l.map(S=>S.completion),borderColor:"#16a34a",backgroundColor:"rgba(22, 163, 74, 0.1)",fill:!0,tension:.4,pointBackgroundColor:"#16a34a",pointBorderColor:"#ffffff",pointBorderWidth:2,pointRadius:6}]},Q=(()=>{if(!c||c.length===0)return{labels:["No Data"],data:[1],backgroundColor:["#e5e7eb"],borderColor:["#d1d5db"]};const S={static:"Daily Tasks",dynamic:"Special Tasks",feeding:"Feeding",health:"Health Checks",maintenance:"Maintenance",cleaning:"Cleaning",breeding:"Breeding",vaccination:"Vaccination",other:"Other"},A=["#22c55e","#3b82f6","#f59e0b","#8b5cf6","#ef4444","#06b6d4","#f97316","#84cc16","#ec4899","#6366f1"],$=["#16a34a","#2563eb","#d97706","#7c3aed","#dc2626","#0891b2","#ea580c","#65a30d","#db2777","#4f46e5"];return{labels:c.map(X=>S[X.category]||X.category),data:c.map(X=>X.count),backgroundColor:A.slice(0,c.length),borderColor:$.slice(0,c.length)}})(),Z={labels:Q.labels,datasets:[{data:Q.data,backgroundColor:Q.backgroundColor,borderColor:Q.borderColor,borderWidth:2}]},M={labels:i.slice(0,5).map(S=>S.full_name.split(" ")[0]),datasets:[{label:"Tasks Completed",data:i.slice(0,5).map(S=>S.tasks_completed||0),backgroundColor:"rgba(22, 163, 74, 0.8)",borderColor:"#16a34a",borderWidth:2,borderRadius:8,borderSkipped:!1},{label:"Efficiency %",data:i.slice(0,5).map(S=>S.efficiency||0),backgroundColor:"rgba(59, 130, 246, 0.8)",borderColor:"#3b82f6",borderWidth:2,borderRadius:8,borderSkipped:!1}]},B={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom",labels:{padding:20,font:{family:"Inter",size:11}}}},cutout:"60%"};return b?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):r.jsxs("div",{className:"space-y-8 max-w-7xl mx-auto px-2 sm:px-4 lg:px-8 py-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6",children:[r.jsx("div",{children:r.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-2",children:"Reports & Analytics"})}),r.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[r.jsx("input",{type:"date",className:"input-field !py-2 text-sm w-auto",value:p,onChange:S=>g(S.target.value)}),r.jsx("input",{type:"date",className:"input-field !py-2 text-sm w-auto",value:j,onChange:S=>w(S.target.value)}),r.jsx("button",{onClick:_,className:"btn-secondary text-sm",children:"Apply Filters"}),r.jsxs("button",{onClick:E,className:"btn-primary text-sm flex items-center space-x-2",children:[r.jsx(fh,{className:"w-4 h-4"}),r.jsx("span",{children:"Export Report"})]})]})]}),r.jsxs("div",{className:"flex border-b border-gray-200",children:[r.jsx("button",{onClick:()=>t("tasks"),className:`py-3 px-4 text-sm font-medium border-b-2 transition-colors duration-200 ${e==="tasks"?"border-primary-600 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Task Reports"}),r.jsx("button",{onClick:()=>t("livestock"),className:`py-3 px-4 text-sm font-medium border-b-2 transition-colors duration-200 ${e==="livestock"?"border-primary-600 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Livestock Reports"})]}),e==="tasks"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[r.jsx("div",{className:"card-enhanced",children:r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:"w-14 h-14 farm-gradient rounded-xl flex items-center justify-center shadow-lg",children:r.jsx(Ns,{className:"w-7 h-7 text-white"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Task Completion Rate"}),r.jsxs("p",{className:"text-3xl font-bold text-gray-900",children:[(s==null?void 0:s.taskCompletionRate)||0,"%"]}),r.jsx("p",{className:"text-xs text-green-600 font-medium",children:"+5.2% vs last week"})]})]})}),r.jsx("div",{className:"card-enhanced",children:r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:"w-14 h-14 sky-gradient rounded-xl flex items-center justify-center shadow-lg",children:r.jsx(Pt,{className:"w-7 h-7 text-white"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Total Tasks"}),r.jsx("p",{className:"text-3xl font-bold text-gray-900",children:(s==null?void 0:s.totalTasks)||0}),r.jsx("p",{className:"text-xs text-blue-600 font-medium",children:"All assigned tasks"})]})]})}),r.jsx("div",{className:"card-enhanced",children:r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-purple-500 to-purple-700 rounded-xl flex items-center justify-center shadow-lg",children:r.jsx(Sa,{className:"w-7 h-7 text-white"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Staff Efficiency"}),r.jsxs("p",{className:"text-3xl font-bold text-gray-900",children:[(s==null?void 0:s.staffEfficiency)||0,"%"]}),r.jsx("p",{className:"text-xs text-purple-600 font-medium",children:"Task completion rate"})]})]})}),r.jsx("div",{className:"card-enhanced",children:r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:"w-14 h-14 earth-gradient rounded-xl flex items-center justify-center shadow-lg",children:r.jsx(O2,{className:"w-7 h-7 text-white"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Productivity Score"}),r.jsx("p",{className:"text-3xl font-bold text-gray-900",children:Math.round(((s==null?void 0:s.taskCompletionRate)||0)*((s==null?void 0:s.staffEfficiency)||0)/100)||0}),r.jsx("p",{className:"text-xs text-orange-600 font-medium",children:"Based on task completion"})]})]})})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[r.jsxs("div",{className:"card-enhanced",children:[r.jsx("div",{className:"flex items-center justify-between mb-6",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-10 h-10 farm-gradient rounded-lg flex items-center justify-center",children:r.jsx(ey,{className:"w-5 h-5 text-white"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Task Completion Trend"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Daily completion rates over time"})]})]})}),r.jsx("div",{className:"h-80",children:r.jsx(au,{data:I,options:R})})]}),r.jsxs("div",{className:"card-enhanced",children:[r.jsx("div",{className:"flex items-center justify-between mb-6",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-10 h-10 sky-gradient rounded-lg flex items-center justify-center",children:r.jsx(sy,{className:"w-5 h-5 text-white"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Task Distribution"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Breakdown by task category"})]})]})}),r.jsx("div",{className:"h-80",children:r.jsx(Li,{data:Z,options:B})})]})]}),r.jsxs("div",{className:"card-enhanced",children:[r.jsx("div",{className:"flex items-center justify-between mb-6",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-lg flex items-center justify-center",children:r.jsx(Pt,{className:"w-5 h-5 text-white"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Staff Performance Overview"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Tasks completed vs efficiency comparison"})]})]})}),r.jsx("div",{className:"h-96",children:r.jsx(Jx,{data:M,options:R})})]}),r.jsxs("div",{className:"card-enhanced",children:[r.jsx("div",{className:"flex items-center justify-between mb-6",children:r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Staff Performance Leaderboard"}),r.jsxs("p",{className:"text-sm text-gray-600",children:["Top performing team members ",p&&j?`(${p} to ${j})`:"(last 7 days)"]})]})}),r.jsxs("div",{className:"space-y-4",children:[i.map((S,A)=>r.jsxs("div",{className:"flex items-center justify-between p-5 bg-gradient-to-r from-gray-50 to-green-50/50 rounded-xl border border-gray-200 hover:shadow-md transition-all duration-200",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs("div",{className:`w-10 h-10 rounded-full flex items-center justify-center text-white font-bold shadow-lg ${A===0?"bg-gradient-to-br from-yellow-400 to-yellow-600":A===1?"bg-gradient-to-br from-gray-400 to-gray-600":A===2?"bg-gradient-to-br from-orange-400 to-orange-600":"bg-gradient-to-br from-gray-300 to-gray-500"}`,children:["#",A+1]}),r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-gray-900",children:S.full_name}),r.jsx("p",{className:"text-sm text-primary-600 font-medium",children:S.role})]})]}),r.jsxs("div",{className:"flex items-center space-x-8 text-right",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Tasks Completed"}),r.jsx("p",{className:"text-xl font-bold text-gray-900",children:S.tasks_completed||0})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Efficiency"}),r.jsxs("p",{className:"text-xl font-bold text-primary-600",children:[S.efficiency||0,"%"]})]})]})]},S.id)),i.length===0&&r.jsxs("div",{className:"text-center py-8 text-gray-500",children:[r.jsx(Pt,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),r.jsx("p",{children:"No staff performance data available for the selected period."})]})]})]})]}),e==="livestock"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[r.jsx("div",{className:"card-enhanced",children:r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-green-500 to-green-700 rounded-xl flex items-center justify-center shadow-lg",children:r.jsx(Bt,{className:"w-7 h-7 text-white"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Total Livestock"}),r.jsx("p",{className:"text-3xl font-bold text-gray-900",children:(x==null?void 0:x.totalLivestock)||0})]})]})}),r.jsx("div",{className:"card-enhanced",children:r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-red-500 to-red-700 rounded-xl flex items-center justify-center shadow-lg",children:r.jsx(Bt,{className:"w-7 h-7 text-white"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Sick Livestock"}),r.jsx("p",{className:"text-3xl font-bold text-gray-900",children:(x==null?void 0:x.sickCount)||0})]})]})}),r.jsx("div",{className:"card-enhanced",children:r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-yellow-500 to-yellow-700 rounded-xl flex items-center justify-center shadow-lg",children:r.jsx(ka,{className:"w-7 h-7 text-white"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Quarantine"}),r.jsx("p",{className:"text-3xl font-bold text-gray-900",children:(x==null?void 0:x.quarantineCount)||0})]})]})}),r.jsx("div",{className:"card-enhanced",children:r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-gray-500 to-gray-700 rounded-xl flex items-center justify-center shadow-lg",children:r.jsx(He,{className:"w-7 h-7 text-white"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Average Age"}),r.jsxs("p",{className:"text-3xl font-bold text-gray-900",children:[(x==null?void 0:x.averageAge)||0," years"]})]})]})})]}),r.jsxs("div",{className:"card-enhanced",children:[r.jsx("div",{className:"flex items-center justify-between mb-6",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-500 to-purple-700 rounded-lg flex items-center justify-center",children:r.jsx(Pt,{className:"w-5 h-5 text-white"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Livestock Distribution by Species"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Breakdown of livestock by species"})]})]})}),r.jsx("div",{className:"h-80",children:r.jsx(Li,{data:{labels:Object.keys((x==null?void 0:x.speciesCount)||{}),datasets:[{data:Object.values((x==null?void 0:x.speciesCount)||{}),backgroundColor:["#22c55e","#3b82f6","#f59e0b","#8b5cf6","#ef4444","#10b981","#6366f1","#8b5cf6","#f59e0b","#3b82f6"],borderColor:["#16a34a","#2563eb","#d97706","#7c3aed","#dc2626","#059669","#4f46e5","#7c3aed","#d97706","#2563eb"],borderWidth:2}]},options:B})})]}),r.jsxs("div",{className:"card-enhanced",children:[r.jsx("div",{className:"flex items-center justify-between mb-6",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-lg flex items-center justify-center",children:r.jsx(Pt,{className:"w-5 h-5 text-white"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Livestock Overview"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Overall health status and average metrics"})]})]})}),r.jsx("div",{className:"h-96",children:r.jsx(Jx,{data:{labels:["Healthy","Sick","Quarantine","Deceased"],datasets:[{label:"Count",data:[(x==null?void 0:x.healthyCount)||0,(x==null?void 0:x.sickCount)||0,(x==null?void 0:x.quarantineCount)||0,(x==null?void 0:x.deceasedCount)||0],backgroundColor:["rgba(22, 163, 74, 0.8)","rgba(239, 68, 68, 0.8)","rgba(163, 163, 163, 0.8)","rgba(139, 92, 246, 0.8)"],borderColor:["#16a34a","#ef4444","#6b7280","#7c3aed"],borderWidth:2}]},options:R})})]}),r.jsxs("div",{className:"card-enhanced",children:[r.jsx("div",{className:"flex items-center justify-between mb-6",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-cyan-600 rounded-lg flex items-center justify-center",children:r.jsx(Bt,{className:"w-5 h-5 text-white"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Livestock Health Status"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Health status distribution"})]})]})}),r.jsx("div",{className:"h-96",children:r.jsx(Li,{data:{labels:["Healthy","Sick","Quarantine","Deceased"],datasets:[{data:[(x==null?void 0:x.healthyCount)||0,(x==null?void 0:x.sickCount)||0,(x==null?void 0:x.quarantineCount)||0,(x==null?void 0:x.deceasedCount)||0],backgroundColor:["rgba(22, 163, 74, 0.8)","rgba(239, 68, 68, 0.8)","rgba(163, 163, 163, 0.8)","rgba(139, 92, 246, 0.8)"],borderColor:["#16a34a","#ef4444","#6b7280","#7c3aed"],borderWidth:2}]},options:B})})]}),r.jsxs("div",{className:"card-enhanced",children:[r.jsx("div",{className:"flex items-center justify-between mb-6",children:r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Livestock Leaderboard"}),r.jsxs("p",{className:"text-sm text-gray-600",children:["Top performing livestock ",p&&j?`(${p} to ${j})`:"(last 7 days)"]})]})}),r.jsxs("div",{className:"space-y-4",children:[m.map((S,A)=>r.jsxs("div",{className:"flex items-center justify-between p-5 bg-gradient-to-r from-gray-50 to-green-50/50 rounded-xl border border-gray-200 hover:shadow-md transition-all duration-200",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs("div",{className:`w-10 h-10 rounded-full flex items-center justify-center text-white font-bold shadow-lg ${A===0?"bg-gradient-to-br from-yellow-400 to-yellow-600":A===1?"bg-gradient-to-br from-gray-400 to-gray-600":A===2?"bg-gradient-to-br from-orange-400 to-orange-600":"bg-gradient-to-br from-gray-300 to-gray-500"}`,children:["#",A+1]}),r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-gray-900",children:S.name||"N/A"}),r.jsx("p",{className:"text-sm text-primary-600 font-medium",children:S.species||"N/A"})]})]}),r.jsxs("div",{className:"flex items-center space-x-8 text-right",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Health Status"}),r.jsx("p",{className:"text-xl font-bold text-gray-900",children:S.health_status||"N/A"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Age"}),r.jsxs("p",{className:"text-xl font-bold text-primary-600",children:[S.age||"N/A"," years"]})]})]})]},S.id)),m.length===0&&r.jsxs("div",{className:"text-center py-8 text-gray-500",children:[r.jsx(Bt,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),r.jsx("p",{children:"No livestock data available for the selected period."})]})]})]})]})]})},JC=()=>{const{user:e}=Fe(),[t,s]=N.useState([]),[n,i]=N.useState(!0),[a,l]=N.useState(""),[o,c]=N.useState(""),[d,u]=N.useState(""),[h,m]=N.useState(""),[v,x]=N.useState(!1),[y,b]=N.useState("create"),[f,p]=N.useState(null),[g,j]=N.useState({name:"",species:"",breed:"",age:"",weight:"",gender:"",health_status:"healthy",location:"",acquisition_date:"",identification_number:"",vaccination_records:[],medical_history:[],feeding_schedule:"",notes:""}),[w,_]=N.useState(""),[k,P]=N.useState({}),E=["Admin","Farm Manager"].includes(e==null?void 0:e.role),C=["Admin","Farm Manager","Veterinary Doctor","Supervisor"].includes(e==null?void 0:e.role),R=["Admin","Farm Manager"].includes(e==null?void 0:e.role);N.useEffect(()=>{I()},[]);const I=async()=>{try{i(!0);const z=await bs.getLivestock();s(z.data),l("")}catch(z){console.error("Failed to fetch livestock:",z),l("Failed to load livestock data. Please try again.")}finally{i(!1)}},H=()=>{b("create"),p(null),j({name:"",species:"",breed:"",age:"",weight:"",gender:"",health_status:"healthy",location:"",acquisition_date:"",identification_number:"",vaccination_records:[],medical_history:[],feeding_schedule:"",notes:""}),_(""),P({}),x(!0)},Q=z=>{b("edit"),p(z),j({name:z.name||"",species:z.species||"",breed:z.breed||"",age:z.age||"",weight:z.weight||"",gender:z.gender||"",health_status:z.health_status||"healthy",location:z.location||"",acquisition_date:z.acquisition_date||"",identification_number:z.identification_number||"",vaccination_records:z.vaccination_records||[],medical_history:z.medical_history||[],feeding_schedule:z.feeding_schedule||"",notes:z.notes||""}),_(""),P({}),x(!0)},Z=z=>{b("view"),p(z),x(!0)},M=async z=>{var ce,G;if(window.confirm("Are you sure you want to delete this livestock record?"))try{await bs.deleteLivestock(z),s(t.filter(ne=>ne.id!==z)),alert("Livestock record deleted successfully")}catch(ne){console.error("Failed to delete livestock:",ne),alert(((G=(ce=ne.response)==null?void 0:ce.data)==null?void 0:G.message)||"Failed to delete livestock record")}},B=async z=>{var ce;z.preventDefault(),_(""),P({});try{let G;y==="create"?(G=await bs.createLivestock(g),s([G.data.livestock,...t]),alert("Livestock record created successfully!")):y==="edit"&&(G=await bs.updateLivestock(f.id,g),s(t.map(ne=>ne.id===f.id?G.data.livestock:ne)),alert("Livestock record updated successfully!")),x(!1)}catch(G){console.error("Form submission error:",G);const ne=(ce=G.response)==null?void 0:ce.data;ne!=null&&ne.field?(P({[ne.field]:ne.message}),_("Please check the highlighted field")):_((ne==null?void 0:ne.message)||"Failed to save livestock record")}},S=z=>{const{name:ce,value:G}=z.target;j({...g,[ce]:G}),k[ce]&&P({...k,[ce]:""})},A=t.filter(z=>{var qe,Ur,Vr,Ea;const ce=((qe=z.name)==null?void 0:qe.toLowerCase().includes(o.toLowerCase()))||((Ur=z.species)==null?void 0:Ur.toLowerCase().includes(o.toLowerCase()))||((Vr=z.identification_number)==null?void 0:Vr.toLowerCase().includes(o.toLowerCase())),G=!d||z.health_status===d,ne=!h||((Ea=z.species)==null?void 0:Ea.toLowerCase())===h.toLowerCase();return ce&&G&&ne}),$=t.length,X=t.filter(z=>z.health_status==="healthy").length,K=t.filter(z=>z.health_status==="sick").length,L=t.filter(z=>z.health_status==="critical").length,U=t.filter(z=>z.health_status==="quarantine").length,J=z=>{switch(z){case"healthy":return"bg-green-100 text-green-800";case"sick":return"bg-red-100 text-red-800";case"quarantine":return"bg-yellow-100 text-yellow-800";case"deceased":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},F=z=>{const ce="w-full border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 transition-colors";return k[z]?`${ce} border-red-500 focus:ring-red-200`:`${ce} border-gray-300 focus:ring-primary-200 focus:border-primary-500`};return n?r.jsx("div",{className:"min-h-screen farm-gradient",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:r.jsxs("div",{className:"animate-pulse",children:[r.jsx("div",{className:"h-8 bg-gray-200 rounded w-48 mb-8"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((z,ce)=>r.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm",children:[r.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-4"}),r.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2 mb-2"}),r.jsx("div",{className:"h-4 bg-gray-200 rounded w-2/3"})]},ce))})]})})}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:"Livestock Management"}),r.jsx("p",{className:"text-gray-600 mt-2",children:"Manage and monitor your farm animals"})]}),E&&r.jsxs("button",{onClick:H,className:"mt-4 sm:mt-0 bg-primary-600 hover:bg-primary-700 text-white px-4 py-2 rounded-xl flex items-center space-x-2 transition-colors",children:[r.jsx(qn,{className:"w-5 h-5"}),r.jsx("span",{children:"Add Livestock"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[r.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Animals"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:$})]}),r.jsx(Ns,{className:"w-8 h-8 text-blue-600"})]})}),r.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Healthy"}),r.jsx("p",{className:"text-2xl font-bold text-green-600",children:X})]}),r.jsx(Bt,{className:"w-8 h-8 text-green-600"})]})}),r.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Sick"}),r.jsx("p",{className:"text-2xl font-bold text-red-600",children:K})]}),r.jsx(Ws,{className:"w-8 h-8 text-red-600"})]})}),r.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Needs Attention"}),r.jsx("p",{className:"text-2xl font-bold text-orange-600",children:L+U})]}),r.jsx(q2,{className:"w-8 h-8 text-orange-600"})]})})]}),a&&r.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-xl text-sm",children:a}),r.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search Animals"}),r.jsxs("div",{className:"relative",children:[r.jsx(Hr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),r.jsx("input",{type:"text",placeholder:"Search by name, species, or ID...",value:o,onChange:z=>c(z.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Filter by Species"}),r.jsxs("select",{value:h,onChange:z=>m(z.target.value),className:"w-full border border-gray-300 rounded-xl px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[r.jsx("option",{value:"",children:"All Species"}),[...new Set(t.map(z=>z.species).filter(Boolean))].map(z=>r.jsx("option",{value:z,children:z},z))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Filter by Health Status"}),r.jsxs("select",{value:d,onChange:z=>u(z.target.value),className:"w-full border border-gray-300 rounded-xl px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[r.jsx("option",{value:"",children:"All Status"}),r.jsx("option",{value:"healthy",children:"Healthy"}),r.jsx("option",{value:"sick",children:"Sick"}),r.jsx("option",{value:"quarantine",children:"Quarantine"}),r.jsx("option",{value:"deceased",children:"Deceased"})]})]}),r.jsx("div",{className:"flex items-end",children:r.jsxs("div",{className:"text-sm text-gray-600",children:[r.jsxs("p",{className:"font-medium",children:["Showing: ",A.length," animals"]}),r.jsxs("p",{children:["Total animals: ",t.length]})]})})]})}),r.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:A.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(Ns,{className:"w-8 h-8 text-gray-400"})}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No livestock found"}),r.jsx("p",{className:"text-gray-600 mb-4",children:t.length===0?"Get started by adding your first animal":"Try adjusting your search criteria"}),E&&t.length===0&&r.jsx("button",{onClick:H,className:"bg-primary-600 hover:bg-primary-700 text-white px-4 py-2 rounded-xl transition-colors",children:"Add Your First Animal"})]}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:A.map(z=>r.jsxs("div",{className:"border border-gray-200 rounded-xl p-6 hover:shadow-md transition-shadow",children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:z.name}),r.jsxs("p",{className:"text-gray-600",children:[z.species," ",z.breed&&`• ${z.breed}`]})]}),r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${J(z.health_status)}`,children:z.health_status})]}),r.jsxs("div",{className:"space-y-2 mb-4",children:[z.identification_number&&r.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[r.jsx(W2,{className:"w-4 h-4 mr-2"}),r.jsx("span",{children:z.identification_number})]}),z.age&&r.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[r.jsx(He,{className:"w-4 h-4 mr-2"}),r.jsxs("span",{children:[z.age," years old"]})]}),z.weight&&r.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[r.jsx(ny,{className:"w-4 h-4 mr-2"}),r.jsxs("span",{children:[z.weight," kg"]})]}),z.location&&r.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[r.jsx(ka,{className:"w-4 h-4 mr-2"}),r.jsx("span",{children:z.location})]})]}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsxs("button",{onClick:()=>Z(z),className:"flex-1 bg-gray-100 hover:bg-gray-200 text-gray-700 px-3 py-2 rounded-lg text-sm font-medium transition-colors flex items-center justify-center space-x-1",children:[r.jsx(Ut,{className:"w-4 h-4"}),r.jsx("span",{children:"View"})]}),C&&r.jsxs("button",{onClick:()=>Q(z),className:"flex-1 bg-primary-100 hover:bg-primary-200 text-primary-700 px-3 py-2 rounded-lg text-sm font-medium transition-colors flex items-center justify-center space-x-1",children:[r.jsx(on,{className:"w-4 h-4"}),r.jsx("span",{children:"Edit"})]}),R&&r.jsx("button",{onClick:()=>M(z.id),className:"bg-red-100 hover:bg-red-200 text-red-700 px-3 py-2 rounded-lg text-sm font-medium transition-colors flex items-center justify-center",children:r.jsx(Hs,{className:"w-4 h-4"})})]})]},z.id))})}),v&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("h2",{className:"text-xl font-semibold",children:[y==="create"&&"Add New Livestock",y==="edit"&&"Edit Livestock",y==="view"&&"Livestock Details"]}),r.jsx("button",{onClick:()=>x(!1),className:"text-gray-400 hover:text-gray-600",children:r.jsx(Ae,{className:"w-6 h-6"})})]}),y==="view"?r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),r.jsx("p",{className:"text-gray-900",children:(f==null?void 0:f.name)||"N/A"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Species"}),r.jsx("p",{className:"text-gray-900",children:(f==null?void 0:f.species)||"N/A"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Breed"}),r.jsx("p",{className:"text-gray-900",children:(f==null?void 0:f.breed)||"N/A"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Gender"}),r.jsx("p",{className:"text-gray-900",children:(f==null?void 0:f.gender)||"N/A"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Age"}),r.jsx("p",{className:"text-gray-900",children:f!=null&&f.age?`${f.age} years`:"N/A"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Weight"}),r.jsx("p",{className:"text-gray-900",children:f!=null&&f.weight?`${f.weight} kg`:"N/A"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Health Status"}),r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${J(f==null?void 0:f.health_status)}`,children:(f==null?void 0:f.health_status)||"N/A"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Location"}),r.jsx("p",{className:"text-gray-900",children:(f==null?void 0:f.location)||"N/A"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Identification Number"}),r.jsx("p",{className:"text-gray-900",children:(f==null?void 0:f.identification_number)||"N/A"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Acquisition Date"}),r.jsx("p",{className:"text-gray-900",children:(f==null?void 0:f.acquisition_date)||"N/A"})]})]}),(f==null?void 0:f.feeding_schedule)&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Feeding Schedule"}),r.jsx("p",{className:"text-gray-900",children:f.feeding_schedule})]}),(f==null?void 0:f.notes)&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),r.jsx("p",{className:"text-gray-900",children:f.notes})]})]}):r.jsxs("form",{onSubmit:B,className:"space-y-4",children:[w&&r.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg text-sm",children:w}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Name ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",name:"name",value:g.name,onChange:S,className:F("name"),placeholder:"Enter animal name"}),k.name&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:k.name})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Species ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",name:"species",value:g.species,onChange:S,className:F("species"),placeholder:"e.g., Cattle, Sheep, Goat"}),k.species&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:k.species})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Breed"}),r.jsx("input",{type:"text",name:"breed",value:g.breed,onChange:S,className:F("breed"),placeholder:"Enter breed"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Gender"}),r.jsxs("select",{name:"gender",value:g.gender,onChange:S,className:F("gender"),children:[r.jsx("option",{value:"",children:"Select gender"}),r.jsx("option",{value:"male",children:"Male"}),r.jsx("option",{value:"female",children:"Female"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Age (years)"}),r.jsx("input",{type:"number",name:"age",value:g.age,onChange:S,min:"0",max:"50",className:F("age"),placeholder:"Enter age"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Weight (kg)"}),r.jsx("input",{type:"number",name:"weight",value:g.weight,onChange:S,min:"0",step:"0.1",className:F("weight"),placeholder:"Enter weight"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Health Status"}),r.jsxs("select",{name:"health_status",value:g.health_status,onChange:S,className:F("health_status"),children:[r.jsx("option",{value:"healthy",children:"Healthy"}),r.jsx("option",{value:"sick",children:"Sick"}),r.jsx("option",{value:"quarantine",children:"Quarantine"}),r.jsx("option",{value:"deceased",children:"Deceased"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Location"}),r.jsx("input",{type:"text",name:"location",value:g.location,onChange:S,className:F("location"),placeholder:"Enter location"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Acquisition Date"}),r.jsx("input",{type:"date",name:"acquisition_date",value:g.acquisition_date,onChange:S,max:new Date().toISOString().split("T")[0],className:F("acquisition_date")})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Identification Number"}),r.jsx("input",{type:"text",name:"identification_number",value:g.identification_number,onChange:S,className:F("identification_number"),placeholder:"Enter ID number"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Feeding Schedule"}),r.jsx("textarea",{name:"feeding_schedule",value:g.feeding_schedule,onChange:S,rows:3,className:F("feeding_schedule"),placeholder:"Enter feeding schedule details"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),r.jsx("textarea",{name:"notes",value:g.notes,onChange:S,rows:3,className:F("notes"),placeholder:"Additional notes or observations"})]}),r.jsxs("div",{className:"flex space-x-3 pt-4",children:[r.jsx("button",{type:"submit",className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-medium transition-colors",children:y==="create"?"Create Livestock":"Update Livestock"}),r.jsx("button",{type:"button",onClick:()=>x(!1),className:"flex-1 bg-gray-300 hover:bg-gray-400 text-gray-700 px-4 py-2 rounded-lg font-medium transition-colors",children:"Cancel"})]})]})]})})]})},ZC=({record:e,mode:t,livestock:s,onRecordSaved:n,onCancel:i})=>{const[a,l]=N.useState({livestock_id:"",record_type:"",record_date:"",description:"",treatment:"",veterinarian:"",cost:"",next_due_date:"",notes:""}),[o,c]=N.useState(!1),[d,u]=N.useState(""),[h,m]=N.useState({}),v=["health_check","vaccination","treatment","breeding","feeding","weight_check","deworming","injury","illness","death","other"];N.useEffect(()=>{var g,j;e&&t==="edit"&&l({livestock_id:((g=e.livestock_id)==null?void 0:g.toString())||"",record_type:e.record_type||"",record_date:e.record_date?e.record_date.split("T")[0]:"",description:e.description||"",treatment:e.treatment||"",veterinarian:e.veterinarian||"",cost:((j=e.cost)==null?void 0:j.toString())||"",next_due_date:e.next_due_date?e.next_due_date.split("T")[0]:"",notes:e.notes||""})},[e,t]);const x=()=>{const g={};return a.livestock_id||(g.livestock_id="Animal selection is required"),a.record_type||(g.record_type="Record type is required"),a.record_date||(g.record_date="Record date is required"),a.description.trim()||(g.description="Description is required"),a.cost&&(isNaN(a.cost)||Number(a.cost)<0)&&(g.cost="Cost must be a valid positive number"),a.record_date&&a.next_due_date&&new Date(a.next_due_date)<=new Date(a.record_date)&&(g.next_due_date="Next due date must be after record date"),m(g),Object.keys(g).length===0},y=g=>{const{name:j,value:w}=g.target;l({...a,[j]:w}),h[j]&&m({...h,[j]:""})},b=async g=>{var j;if(g.preventDefault(),c(!0),u(""),!x()){c(!1);return}try{const w={livestock_id:Number(a.livestock_id),record_type:a.record_type,record_date:a.record_date,description:a.description.trim(),treatment:a.treatment.trim(),veterinarian:a.veterinarian.trim(),cost:a.cost?Number(a.cost):0,next_due_date:a.next_due_date||null,notes:a.notes.trim()};let _;t==="create"?_=await ia.createHealthRecord(w):_=await ia.updateHealthRecord(e.id,w),n&&n(_.data)}catch(w){console.error("Health record save error:",w);const _=(j=w.response)==null?void 0:j.data;_!=null&&_.field?m({[_.field]:_.message}):_!=null&&_.message?u(_.message):u(t==="create"?"Failed to create health record":"Failed to update health record")}finally{c(!1)}},f=g=>{const j="w-full border rounded-xl px-3 py-2 focus:outline-none focus:ring-2 transition-colors";return h[g]?`${j} border-red-500 focus:ring-red-200`:`${j} border-gray-300 focus:ring-primary-200 focus:border-primary-500`},p=g=>g.split("_").map(j=>j.charAt(0).toUpperCase()+j.slice(1)).join(" ");return r.jsxs("form",{onSubmit:b,className:"space-y-4",children:[d&&r.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-xl text-sm",children:d}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Animal ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("select",{name:"livestock_id",value:a.livestock_id,onChange:y,className:f("livestock_id"),children:[r.jsx("option",{value:"",children:"Select animal"}),s.map(g=>r.jsxs("option",{value:g.id,children:[g.name," (",g.species,") - ",g.identification_number||`ID: ${g.id}`]},g.id))]}),h.livestock_id&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:h.livestock_id})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Record Type ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("select",{name:"record_type",value:a.record_type,onChange:y,className:f("record_type"),children:[r.jsx("option",{value:"",children:"Select record type"}),v.map(g=>r.jsx("option",{value:g,children:p(g)},g))]}),h.record_type&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:h.record_type})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Record Date ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"date",name:"record_date",value:a.record_date,onChange:y,className:f("record_date")}),h.record_date&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:h.record_date})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Next Due Date"}),r.jsx("input",{type:"date",name:"next_due_date",value:a.next_due_date,onChange:y,className:f("next_due_date")}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"For vaccinations, treatments, or checkups"}),h.next_due_date&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:h.next_due_date})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Description ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("textarea",{name:"description",value:a.description,onChange:y,rows:3,className:f("description"),placeholder:"Describe the health record details..."}),h.description&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:h.description})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Treatment"}),r.jsx("input",{type:"text",name:"treatment",value:a.treatment,onChange:y,className:f("treatment"),placeholder:"Treatment given (if any)"}),h.treatment&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:h.treatment})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Veterinarian"}),r.jsx("input",{type:"text",name:"veterinarian",value:a.veterinarian,onChange:y,className:f("veterinarian"),placeholder:"Veterinarian name"}),h.veterinarian&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:h.veterinarian})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cost (₦)"}),r.jsx("input",{type:"number",name:"cost",value:a.cost,onChange:y,className:f("cost"),placeholder:"Cost in Naira",min:"0",step:"0.01"}),h.cost&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:h.cost})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),r.jsx("textarea",{name:"notes",value:a.notes,onChange:y,rows:3,className:f("notes"),placeholder:"Additional notes or observations..."}),h.notes&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:h.notes})]})]}),r.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[r.jsx("button",{type:"button",onClick:i,className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-xl transition-colors",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:o,className:"px-4 py-2 bg-primary-600 hover:bg-primary-700 text-white rounded-xl transition-colors disabled:opacity-50",children:o?r.jsxs("span",{className:"flex items-center",children:[r.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),t==="create"?"Creating...":"Updating..."]}):t==="create"?"Create Record":"Update Record"})]})]})},e5=()=>{var K;const{user:e}=Fe(),[t,s]=N.useState([]),[n,i]=N.useState([]),[a,l]=N.useState(!0),[o,c]=N.useState(""),[d,u]=N.useState(""),[h,m]=N.useState(""),[v,x]=N.useState("all"),[y,b]=N.useState(!1),[f,p]=N.useState("create"),[g,j]=N.useState(null);N.useState("");const w=["Admin","Farm Manager","Veterinary Doctor","Supervisor"].includes(e==null?void 0:e.role),_=["Admin","Farm Manager","Supervisor"].includes(e==null?void 0:e.role);N.useEffect(()=>{k()},[]);const k=async()=>{try{l(!0);const[L,U]=await Promise.all([bs.getLivestock(),ia.getHealthRecords()]);s(L.data),i(U.data),c("")}catch(L){console.error("Failed to fetch data:",L),c("Failed to load livestock data. Please try again.");try{const U=await bs.getLivestock();s(U.data),P(U.data)}catch{s([]),i([])}}finally{l(!1)}},P=L=>{const U=[],J=["health_check","vaccination","breeding","feeding","treatment"];L.forEach(F=>{const z=Math.floor(Math.random()*4)+2;for(let ce=0;ce<z;ce++){const G=J[Math.floor(Math.random()*J.length)],ne=Math.floor(Math.random()*90),qe=new Date;qe.setDate(qe.getDate()-ne),U.push({id:`${F.id}_${ce}`,animal_id:F.id,animal_name:F.name,animal_species:F.species,type:G,date:qe.toISOString().split("T")[0],description:E(G,F),notes:C(G),veterinarian:G==="vaccination"||G==="treatment"?"Dr. Johnson":null,next_due:R(G,qe)})}}),U.sort((F,z)=>new Date(z.date)-new Date(F.date)),i(U)},E=(L,U)=>({health_check:`General health examination for ${U.name}`,vaccination:`Vaccination administered to ${U.name}`,breeding:`Breeding activity recorded for ${U.name}`,feeding:`Feeding schedule updated for ${U.name}`,treatment:`Medical treatment provided to ${U.name}`})[L]||"Health record",C=L=>({health_check:"Animal appears healthy, no concerns noted",vaccination:"Vaccine administered, no adverse reactions observed",breeding:"Breeding attempt successful, monitoring required",feeding:"Adjusted feed portion, monitor weight gain",treatment:"Treatment completed, follow-up required"})[L]||"No additional notes",R=(L,U)=>{if(L==="vaccination"){const J=new Date(U);return J.setMonth(J.getMonth()+6),J.toISOString().split("T")[0]}else if(L==="health_check"){const J=new Date(U);return J.setMonth(J.getMonth()+3),J.toISOString().split("T")[0]}return null},I=L=>{switch(L){case"healthy":return"bg-green-100 text-green-700 border-green-200";case"sick":return"bg-red-100 text-red-700 border-red-200";case"under_treatment":return"bg-yellow-100 text-yellow-700 border-yellow-200";case"quarantine":return"bg-orange-100 text-orange-700 border-orange-200";default:return"bg-gray-100 text-gray-700 border-gray-200"}},H=L=>{switch(L){case"health_check":return r.jsx(Bt,{className:"w-4 h-4"});case"vaccination":return r.jsx(Nf,{className:"w-4 h-4"});case"breeding":return r.jsx(pf,{className:"w-4 h-4"});case"feeding":return r.jsx(_f,{className:"w-4 h-4"});case"treatment":return r.jsx(Ns,{className:"w-4 h-4"});default:return r.jsx(Rr,{className:"w-4 h-4"})}},Q=L=>{switch(L){case"health_check":return"bg-blue-100 text-blue-700";case"vaccination":return"bg-purple-100 text-purple-700";case"breeding":return"bg-pink-100 text-pink-700";case"feeding":return"bg-green-100 text-green-700";case"treatment":return"bg-red-100 text-red-700";default:return"bg-gray-100 text-gray-700"}},Z=n.filter(L=>{var ce,G;const U=((ce=L.animal_name)==null?void 0:ce.toLowerCase().includes(d.toLowerCase()))||((G=L.description)==null?void 0:G.toLowerCase().includes(d.toLowerCase())),J=t.find(ne=>ne.id===L.animal_id),F=!h||(J==null?void 0:J.health_status)===h,z=v==="all"||L.type===v;return U&&F&&z}),M=()=>{w&&(p("create"),j(null),b(!0))},B=L=>{w&&(p("edit"),j(L),b(!0))},S=L=>{p("view"),j(L),b(!0)},A=L=>{f==="create"?i([L,...n]):f==="edit"&&i(n.map(U=>U.id===L.id?L:U)),b(!1),j(null)},$=async L=>{if(_&&window.confirm("Are you sure you want to delete this health record? This action cannot be undone."))try{await ia.deleteHealthRecord(L.id),i(n.filter(U=>U.id!==L.id))}catch(U){console.error("Failed to delete health record:",U),c("Failed to delete health record. Please try again.")}},X=()=>{const L=new Date,U=new Date;return U.setDate(L.getDate()+7),n.filter(J=>{if(!J.next_due)return!1;const F=new Date(J.next_due);return F>=L&&F<=U}).slice(0,5)};return a?r.jsx("div",{className:"flex items-center justify-center min-h-96",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Livestock Health Management"}),r.jsx("p",{className:"text-gray-600 mt-2",children:"Track health, vaccinations, breeding, and feeding records"})]}),w&&r.jsxs("button",{onClick:M,className:"mt-4 sm:mt-0 bg-primary-600 hover:bg-primary-700 text-white px-4 py-2 rounded-xl flex items-center space-x-2 transition-colors",children:[r.jsx(qn,{className:"w-5 h-5"}),r.jsx("span",{children:"Add Health Record"})]})]}),o&&r.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-xl",children:o}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 p-6 rounded-xl shadow-sm border border-green-200",children:[r.jsx("div",{className:"flex items-center justify-between mb-4",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"bg-green-100 p-3 rounded-xl",children:r.jsx(We,{className:"w-6 h-6 text-green-600"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Health Status"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Overall herd condition"})]})]})}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-gray-700",children:"Healthy"}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-24 bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:"bg-green-500 h-2 rounded-full",style:{width:`${t.length>0?t.filter(L=>L.health_status==="healthy").length/t.length*100:0}%`}})}),r.jsx("span",{className:"text-sm font-medium text-gray-900",children:t.filter(L=>L.health_status==="healthy").length})]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-gray-700",children:"Under Treatment"}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-24 bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:"bg-yellow-500 h-2 rounded-full",style:{width:`${t.length>0?t.filter(L=>L.health_status==="under_treatment").length/t.length*100:0}%`}})}),r.jsx("span",{className:"text-sm font-medium text-gray-900",children:t.filter(L=>L.health_status==="under_treatment").length})]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-gray-700",children:"Critical"}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-24 bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:"bg-red-500 h-2 rounded-full",style:{width:`${t.length>0?t.filter(L=>L.health_status==="sick"||L.health_status==="quarantine").length/t.length*100:0}%`}})}),r.jsx("span",{className:"text-sm font-medium text-gray-900",children:t.filter(L=>L.health_status==="sick"||L.health_status==="quarantine").length})]})]})]})]}),r.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-indigo-50 p-6 rounded-xl shadow-sm border border-purple-200",children:[r.jsx("div",{className:"flex items-center justify-between mb-4",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"bg-purple-100 p-3 rounded-xl",children:r.jsx(Nf,{className:"w-6 h-6 text-purple-600"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Vaccination Status"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Immunization tracking"})]})]})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"bg-white p-4 rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Due This Week"}),r.jsx("span",{className:"text-xl font-bold text-purple-600",children:X().filter(L=>L.type==="vaccination").length})]}),r.jsx("div",{className:"text-xs text-gray-500",children:X().filter(L=>L.type==="vaccination").length>0?"Vaccinations scheduled":"All vaccinations up to date"})]}),r.jsxs("div",{className:"bg-white p-4 rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Completed This Month"}),r.jsx("span",{className:"text-xl font-bold text-green-600",children:n.filter(L=>{const U=new Date(L.date),J=new Date;return L.type==="vaccination"&&U.getMonth()===J.getMonth()&&U.getFullYear()===J.getFullYear()}).length})]}),r.jsx("div",{className:"text-xs text-gray-500",children:"Recent immunizations"})]})]})]}),r.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-cyan-50 p-6 rounded-xl shadow-sm border border-blue-200",children:[r.jsx("div",{className:"flex items-center justify-between mb-4",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"bg-blue-100 p-3 rounded-xl",children:r.jsx(Ns,{className:"w-6 h-6 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Health Insights"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Recent activity overview"})]})]})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"bg-white p-4 rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Total Health Records"}),r.jsx("span",{className:"text-xl font-bold text-blue-600",children:n.length})]}),r.jsx("div",{className:"text-xs text-gray-500",children:"Comprehensive health tracking"})]}),r.jsxs("div",{className:"bg-white p-4 rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"This Week's Activities"}),r.jsx("span",{className:"text-xl font-bold text-green-600",children:n.filter(L=>{const U=new Date(L.date),J=new Date;return J.setDate(J.getDate()-7),U>=J}).length})]}),r.jsx("div",{className:"text-xs text-gray-500",children:"Recent health interventions"})]})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[r.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200 hover:shadow-md transition-shadow",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("div",{className:"bg-red-100 p-3 rounded-lg",children:r.jsx(Bt,{className:"w-6 h-6 text-red-600"})}),r.jsx("span",{className:"text-2xl font-bold text-gray-900",children:n.filter(L=>L.type==="health_check").length})]}),r.jsx("h4",{className:"text-sm font-semibold text-gray-900 mb-1",children:"Health Checkups"}),r.jsx("p",{className:"text-xs text-gray-600",children:"Regular examinations"})]}),r.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200 hover:shadow-md transition-shadow",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("div",{className:"bg-pink-100 p-3 rounded-lg",children:r.jsx(pf,{className:"w-6 h-6 text-pink-600"})}),r.jsx("span",{className:"text-2xl font-bold text-gray-900",children:n.filter(L=>L.type==="breeding").length})]}),r.jsx("h4",{className:"text-sm font-semibold text-gray-900 mb-1",children:"Breeding Records"}),r.jsx("p",{className:"text-xs text-gray-600",children:"Reproductive health"})]}),r.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200 hover:shadow-md transition-shadow",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("div",{className:"bg-orange-100 p-3 rounded-lg",children:r.jsx(_f,{className:"w-6 h-6 text-orange-600"})}),r.jsx("span",{className:"text-2xl font-bold text-gray-900",children:n.filter(L=>L.type==="feeding").length})]}),r.jsx("h4",{className:"text-sm font-semibold text-gray-900 mb-1",children:"Feeding Logs"}),r.jsx("p",{className:"text-xs text-gray-600",children:"Nutrition tracking"})]}),r.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200 hover:shadow-md transition-shadow",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("div",{className:"bg-yellow-100 p-3 rounded-lg",children:r.jsx(Rr,{className:"w-6 h-6 text-yellow-600"})}),r.jsx("span",{className:"text-2xl font-bold text-gray-900",children:n.filter(L=>L.type==="treatment").length})]}),r.jsx("h4",{className:"text-sm font-semibold text-gray-900 mb-1",children:"Treatments"}),r.jsx("p",{className:"text-xs text-gray-600",children:"Medical interventions"})]})]}),X().length>0&&r.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-xl p-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-yellow-800 mb-3",children:"Upcoming Due Dates"}),r.jsx("div",{className:"space-y-2",children:X().map(L=>r.jsxs("div",{className:"flex items-center justify-between bg-white p-3 rounded-lg",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:`p-2 rounded-lg ${Q(L.type)}`,children:H(L.type)}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-900",children:L.animal_name}),r.jsx("p",{className:"text-sm text-gray-600",children:L.type.replace("_"," ").toUpperCase()})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("p",{className:"text-sm font-medium text-gray-900",children:["Due: ",new Date(L.next_due).toLocaleDateString()]}),r.jsxs("p",{className:"text-xs text-gray-500",children:[Math.ceil((new Date(L.next_due)-new Date)/(1e3*60*60*24))," days"]})]})]},L.id))})]}),r.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search Records"}),r.jsxs("div",{className:"relative",children:[r.jsx(Hr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),r.jsx("input",{type:"text",placeholder:"Search by animal or description...",value:d,onChange:L=>u(L.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Health Status"}),r.jsxs("select",{value:h,onChange:L=>m(L.target.value),className:"w-full border border-gray-300 rounded-xl px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[r.jsx("option",{value:"",children:"All Status"}),r.jsx("option",{value:"healthy",children:"Healthy"}),r.jsx("option",{value:"sick",children:"Sick"}),r.jsx("option",{value:"under_treatment",children:"Under Treatment"}),r.jsx("option",{value:"quarantine",children:"Quarantine"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Record Type"}),r.jsxs("select",{value:v,onChange:L=>x(L.target.value),className:"w-full border border-gray-300 rounded-xl px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[r.jsx("option",{value:"all",children:"All Types"}),r.jsx("option",{value:"health_check",children:"Health Check"}),r.jsx("option",{value:"vaccination",children:"Vaccination"}),r.jsx("option",{value:"breeding",children:"Breeding"}),r.jsx("option",{value:"feeding",children:"Feeding"}),r.jsx("option",{value:"treatment",children:"Treatment"})]})]}),r.jsx("div",{className:"flex items-end",children:r.jsxs("div",{className:"text-sm text-gray-600",children:[r.jsxs("p",{className:"font-medium",children:["Total: ",Z.length," records"]}),r.jsxs("p",{children:["Animals: ",t.length]})]})})]})}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[r.jsxs("div",{className:"p-6 border-b border-gray-200",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Health Records"}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Recent health activities and records"})]}),r.jsx("div",{className:"p-6",children:Z.length===0?r.jsxs("div",{className:"text-center py-8",children:[r.jsx(Bt,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No health records found"}),r.jsx("p",{className:"text-gray-600",children:"No health records match your search criteria."})]}):r.jsx("div",{className:"space-y-4",children:Z.map(L=>{var J;const U=t.find(F=>F.id===L.animal_id);return r.jsx("div",{className:"border border-gray-200 rounded-xl p-4 hover:shadow-md transition-shadow",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex items-start space-x-4",children:[r.jsx("div",{className:`p-3 rounded-lg ${Q(L.type)}`,children:H(L.type)}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[r.jsx("h3",{className:"font-semibold text-gray-900",children:L.animal_name}),r.jsxs("span",{className:"text-sm text-gray-500",children:["(",L.animal_species,")"]}),U&&r.jsx("span",{className:`inline-block px-2 py-1 text-xs font-medium rounded-full border ${I(U.health_status)}`,children:(J=U.health_status)==null?void 0:J.replace("_"," ")})]}),r.jsx("p",{className:"text-gray-900 mb-2",children:L.description}),r.jsx("p",{className:"text-sm text-gray-600 mb-3",children:L.notes}),r.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx(He,{className:"w-4 h-4"}),r.jsx("span",{children:L.date?new Date(L.date).toLocaleDateString():"Date not set"})]}),L.veterinarian&&r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx(Ns,{className:"w-4 h-4"}),r.jsx("span",{children:L.veterinarian})]}),L.next_due&&r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx(Ws,{className:"w-4 h-4"}),r.jsxs("span",{children:["Next due: ",new Date(L.next_due).toLocaleDateString()]})]})]})]})]}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsxs("button",{onClick:()=>S(L),className:"flex-1 bg-gray-100 hover:bg-gray-200 text-gray-700 px-3 py-2 rounded-lg text-sm font-medium transition-colors flex items-center justify-center space-x-1",children:[r.jsx(Ut,{className:"w-4 h-4"}),r.jsx("span",{children:"View"})]}),w&&r.jsxs(r.Fragment,{children:[r.jsxs("button",{onClick:()=>B(L),className:"flex-1 bg-primary-100 hover:bg-primary-200 text-primary-700 px-3 py-2 rounded-lg text-sm font-medium transition-colors flex items-center justify-center space-x-1",children:[r.jsx(on,{className:"w-4 h-4"}),r.jsx("span",{children:"Edit"})]}),_&&r.jsx("button",{onClick:()=>$(L),className:"bg-red-100 hover:bg-red-200 text-red-700 px-3 py-2 rounded-lg text-sm font-medium transition-colors flex items-center justify-center",children:r.jsx(Hs,{className:"w-4 h-4"})})]})]})]})},L.id)})})})]}),y&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:f==="create"?"Add Health Record":f==="edit"?"Edit Health Record":"Health Record Details"}),r.jsx("button",{onClick:()=>b(!1),className:"text-gray-400 hover:text-gray-600",children:r.jsx(Ae,{className:"w-6 h-6"})})]}),f==="view"&&g?r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Animal"}),r.jsx("p",{className:"mt-1 text-sm text-gray-900",children:g.animal_name})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Record Type"}),r.jsx("p",{className:"mt-1 text-sm text-gray-900",children:(K=g.record_type)==null?void 0:K.replace("_"," ")})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Date"}),r.jsx("p",{className:"mt-1 text-sm text-gray-900",children:g.record_date||g.date?new Date(g.record_date||g.date).toLocaleDateString():"Not set"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Veterinarian"}),r.jsx("p",{className:"mt-1 text-sm text-gray-900",children:g.veterinarian||"Not specified"})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),r.jsx("p",{className:"mt-1 text-sm text-gray-900",children:g.description})]}),g.treatment&&r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Treatment"}),r.jsx("p",{className:"mt-1 text-sm text-gray-900",children:g.treatment})]}),g.cost>0&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Cost"}),r.jsxs("p",{className:"mt-1 text-sm text-gray-900",children:["₦",g.cost.toLocaleString("en-NG",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),(g.next_due_date||g.next_due)&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Next Due Date"}),r.jsx("p",{className:"mt-1 text-sm text-gray-900",children:new Date(g.next_due_date||g.next_due).toLocaleDateString()})]}),g.notes&&r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Notes"}),r.jsx("p",{className:"mt-1 text-sm text-gray-900",children:g.notes})]})]}),r.jsx("div",{className:"flex justify-end space-x-3 mt-6",children:r.jsx("button",{onClick:()=>b(!1),className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-xl transition-colors",children:"Close"})})]}):r.jsx(ZC,{record:g,mode:f,livestock:t,onRecordSaved:A,onCancel:()=>b(!1)})]})})]})},t5=({user:e,mode:t,onUserSaved:s,onCancel:n})=>{const{user:i}=Fe(),[a,l]=N.useState({full_name:"",email:"",phone:"",role:"Farm Attendant",password:"",confirmPassword:""}),[o,c]=N.useState(!1),[d,u]=N.useState(""),[h,m]=N.useState({}),v=["Farm Attendant","Veterinary Doctor","Pasture Officer","Admin","Farm Manager","Maintenance Officer","Feed Production Officer","Supervisor","Investor"];(i==null?void 0:i.role)==="Admin"&&v.unshift("Farm Manager","Admin");const y=["Vendor","Contractor","Visitor","Other"].includes(a.role);N.useEffect(()=>{e&&t==="edit"&&l({full_name:e.full_name||"",email:e.email||"",phone:e.phone||"",role:e.role||"Farm Attendant",password:"",confirmPassword:""})},[e,t]);const b=()=>{const j={};return a.full_name.trim()||(j.full_name="Full name is required"),y?a.email.trim()&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a.email)&&(j.email="Please enter a valid email address"):a.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a.email)||(j.email="Please enter a valid email address"):j.email="Email is required",a.role||(j.role="Role is required"),y?a.password&&(a.password.length<6&&(j.password="Password must be at least 6 characters"),a.password!==a.confirmPassword&&(j.confirmPassword="Passwords do not match")):t==="create"?(a.password?a.password.length<6&&(j.password="Password must be at least 6 characters"):j.password="Password is required",a.password!==a.confirmPassword&&(j.confirmPassword="Passwords do not match")):t==="edit"&&a.password&&(a.password.length<6&&(j.password="Password must be at least 6 characters"),a.password!==a.confirmPassword&&(j.confirmPassword="Passwords do not match")),m(j),Object.keys(j).length===0},f=j=>{const{name:w,value:_}=j.target;l({...a,[w]:_}),h[w]&&m({...h,[w]:""})},p=async j=>{var w;if(j.preventDefault(),c(!0),u(""),!b()){c(!1);return}try{const _={full_name:a.full_name,phone:a.phone,role:a.role};a.email.trim()&&(_.email=a.email),(t==="create"||t==="edit"&&a.password)&&(_.password=a.password);let k;t==="create"?k=await ln.createUser(_):k=await ln.updateUser(e.id,_),s&&s(k.data)}catch(_){console.error("User save error:",_);const k=(w=_.response)==null?void 0:w.data;k!=null&&k.field?m({[k.field]:k.message}):k!=null&&k.message?u(k.message):u(t==="create"?"Failed to create user":"Failed to update user")}finally{c(!1)}},g=j=>{const w="w-full border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 transition-colors";return h[j]?`${w} border-red-500 focus:ring-red-200`:`${w} border-gray-300 focus:ring-primary-200 focus:border-primary-500`};return r.jsxs("form",{onSubmit:p,className:"space-y-4",children:[d&&r.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg text-sm",children:d}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Full Name ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",name:"full_name",value:a.full_name,onChange:f,className:g("full_name"),placeholder:"Enter full name"}),h.full_name&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:h.full_name})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Email ",!y&&r.jsx("span",{className:"text-red-500",children:"*"}),y&&r.jsx("span",{className:"text-gray-500 text-xs",children:"(Optional for external users)"})]}),r.jsx("input",{type:"email",name:"email",value:a.email,onChange:f,className:g("email"),placeholder:y?"Enter email address (optional)":"Enter email address"}),h.email&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:h.email})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),r.jsx("input",{type:"tel",name:"phone",value:a.phone,onChange:f,className:g("phone"),placeholder:"Enter phone number"}),h.phone&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:h.phone})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Role ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("select",{name:"role",value:a.role,onChange:f,className:g("role"),children:v.map(j=>r.jsx("option",{value:j,children:j},j))}),h.role&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:h.role})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[t==="create"?"Password":"New Password",t==="create"&&!y&&r.jsx("span",{className:"text-red-500",children:"*"}),y&&r.jsx("span",{className:"text-gray-500 text-xs",children:"(Not required for external users)"})]}),r.jsx("input",{type:"password",name:"password",value:a.password,onChange:f,className:g("password"),placeholder:y?"Enter password (optional)":t==="create"?"Enter password":"Leave blank to keep current password"}),h.password&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:h.password})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[t==="create"?"Confirm Password":"Confirm New Password",t==="create"&&!y&&r.jsx("span",{className:"text-red-500",children:"*"}),y&&r.jsx("span",{className:"text-gray-500 text-xs",children:"(Optional)"})]}),r.jsx("input",{type:"password",name:"confirmPassword",value:a.confirmPassword,onChange:f,className:g("confirmPassword"),placeholder:y?"Confirm password (optional)":"Confirm password"}),h.confirmPassword&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:h.confirmPassword})]})]}),r.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[r.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-xl transition-colors",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:o,className:"px-4 py-2 bg-primary-600 hover:bg-primary-700 text-white rounded-xl transition-colors disabled:opacity-50",children:o?r.jsxs("span",{className:"flex items-center",children:[r.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),t==="create"?"Creating...":"Updating..."]}):t==="create"?"Create User":"Update User"})]})]})},s5=({user:e,mode:t,onUserSaved:s,onCancel:n})=>{const[i,a]=N.useState({full_name:"",phone:"",job_description:"",email:"",company_name:"",address:""}),[l,o]=N.useState(!1),[c,d]=N.useState(""),[u,h]=N.useState({}),m=["Vendor","Contractor","Equipment Supplier","Feed Supplier","Veterinary Service","Transport Service","Maintenance Worker","Consultant","Inspector","Delivery Personnel","Other"];N.useEffect(()=>{e&&t==="edit"&&a({full_name:e.full_name||"",phone:e.phone||"",job_description:e.job_description||e.role||"",email:e.email||"",company_name:e.company_name||"",address:e.address||""})},[e,t]);const v=()=>{const f={};return i.full_name.trim()||(f.full_name="Full name is required"),i.phone.trim()?/^\+?[\d\s\-\(\)]{10,}$/.test(i.phone.replace(/\s+/g,""))||(f.phone="Please enter a valid phone number"):f.phone="Phone number is required",i.job_description.trim()||(f.job_description="Job description/role is required"),i.email.trim()&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(i.email)&&(f.email="Please enter a valid email address"),h(f),Object.keys(f).length===0},x=f=>{const{name:p,value:g}=f.target;a({...i,[p]:g}),u[p]&&h({...u,[p]:""})},y=async f=>{var p;if(f.preventDefault(),o(!0),d(""),!v()){o(!1);return}try{const g={full_name:i.full_name.trim(),phone:i.phone.trim(),role:i.job_description.trim(),job_description:i.job_description.trim(),email:i.email.trim()||null,is_external:!0,company_name:i.company_name.trim()||null,address:i.address.trim()||null};let j;t==="create"?j=await aa.createExternalUser(g):(g.role=i.job_description.trim(),j=await aa.updateExternalUser(e.id,g)),s&&s(j.data)}catch(g){console.error("External user save error:",g);const j=(p=g.response)==null?void 0:p.data;j!=null&&j.field?h({[j.field]:j.message}):j!=null&&j.message?d(j.message):d(t==="create"?"Failed to add external user":"Failed to update external user")}finally{o(!1)}},b=f=>{const p="w-full border rounded-xl px-3 py-2 focus:outline-none focus:ring-2 transition-colors";return u[f]?`${p} border-red-500 focus:ring-red-200`:`${p} border-gray-300 focus:ring-primary-200 focus:border-primary-500`};return r.jsxs("form",{onSubmit:y,className:"space-y-4",children:[c&&r.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-xl text-sm",children:c}),r.jsxs("div",{className:"bg-blue-50 border border-blue-200 text-blue-700 px-4 py-3 rounded-xl text-sm",children:[r.jsx("p",{className:"font-medium",children:"External User Registration"}),r.jsx("p",{className:"text-xs mt-1",children:"External users don't need login credentials. Only basic contact information is required."})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Full Name ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",name:"full_name",value:i.full_name,onChange:x,className:b("full_name"),placeholder:"Enter full name"}),u.full_name&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:u.full_name})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Phone Number ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"tel",name:"phone",value:i.phone,onChange:x,className:b("phone"),placeholder:"Enter phone number"}),u.phone&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:u.phone})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Job Description/Role ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("select",{name:"job_description",value:i.job_description,onChange:x,className:b("job_description"),children:[r.jsx("option",{value:"",children:"Select job role"}),m.map(f=>r.jsx("option",{value:f,children:f},f))]}),i.job_description==="Other"&&r.jsx("input",{type:"text",name:"job_description",value:"",onChange:f=>a({...i,job_description:f.target.value}),className:b("job_description"),placeholder:"Specify other job description"})]}),u.job_description&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:u.job_description})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Email ",r.jsx("span",{className:"text-gray-500 text-xs",children:"(Optional)"})]}),r.jsx("input",{type:"email",name:"email",value:i.email,onChange:x,className:b("email"),placeholder:"Enter email address (optional)"}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Email is optional for external users as they won't access the system directly."}),u.email&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:u.email})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Company Name ",r.jsx("span",{className:"text-gray-500 text-xs",children:"(Optional)"})]}),r.jsx("input",{type:"text",name:"company_name",value:i.company_name,onChange:x,className:b("company_name"),placeholder:"Enter company name (optional)"})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Address ",r.jsx("span",{className:"text-gray-500 text-xs",children:"(Optional)"})]}),r.jsx("input",{type:"text",name:"address",value:i.address,onChange:x,className:b("address"),placeholder:"Enter address (optional)"})]})]}),r.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[r.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-xl transition-colors",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:l,className:"px-4 py-2 bg-primary-600 hover:bg-primary-700 text-white rounded-xl transition-colors disabled:opacity-50",children:l?r.jsxs("span",{className:"flex items-center",children:[r.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),t==="create"?"Adding...":"Updating..."]}):t==="create"?"Add External User":"Update External User"})]})]})},n5=()=>{const{user:e}=Fe(),[t,s]=N.useState([]),[n,i]=N.useState([]),[a,l]=N.useState(!0),[o,c]=N.useState(""),[d,u]=N.useState(""),[h,m]=N.useState(""),[v,x]=N.useState(""),[y,b]=N.useState("all"),[f,p]=N.useState(!1),[g,j]=N.useState(!1),[w,_]=N.useState("create"),[k,P]=N.useState("create"),[E,C]=N.useState(null),R=["Admin","Farm Manager"].includes(e==null?void 0:e.role),I=["Admin","Farm Manager","Farm Attendant","Pasture Officer","Veterinary Doctor","Feed Production Officer"],H=["vendor","contractor","visitor","other","Vendor","Contractor","Visitor","Other"];N.useEffect(()=>{Q(),Z()},[]);const Q=async()=>{try{l(!0);const F=await ln.getUsers();s(F.data),c("")}catch(F){console.error("Failed to fetch staff users:",F),c("Failed to load staff users. Please try again.")}finally{l(!1)}},Z=async()=>{try{l(!0);const F=await aa.getExternalUsers();i(F.data),c("")}catch(F){console.error("Failed to fetch external users:",F),c("Failed to load external users. Please try again.")}finally{l(!1)}},M=F=>I.includes(F)?"staff":"external",B=t.filter(F=>{var G,ne,qe;const z=((G=F.full_name)==null?void 0:G.toLowerCase().includes(h.toLowerCase()))||((ne=F.email)==null?void 0:ne.toLowerCase().includes(h.toLowerCase()))||((qe=F.phone)==null?void 0:qe.includes(h)),ce=!v||F.role===v;return z&&ce}),S=n.filter(F=>{var G,ne,qe;const z=((G=F.full_name)==null?void 0:G.toLowerCase().includes(h.toLowerCase()))||((ne=F.email)==null?void 0:ne.toLowerCase().includes(h.toLowerCase()))||((qe=F.phone)==null?void 0:qe.includes(h)),ce=!v||F.role===v;return z&&ce}),A=F=>({Admin:"bg-red-100 text-red-700 border-red-200","Farm Manager":"bg-blue-100 text-blue-700 border-blue-200","Pasture Manager":"bg-green-100 text-green-700 border-green-200","Farm Attendant":"bg-yellow-100 text-yellow-700 border-yellow-200","Veterinary Doctor":"bg-purple-100 text-purple-700 border-purple-200",Vendor:"bg-orange-100 text-orange-700 border-orange-200",Contractor:"bg-indigo-100 text-indigo-700 border-indigo-200"})[F]||"bg-gray-100 text-gray-700 border-gray-200",$=()=>{R&&(_("create"),C(null),p(!0))},X=()=>{R&&(P("create"),C(null),j(!0))},K=F=>{R&&(M(F.role)==="external"?(P("edit"),C(F),j(!0)):(_("edit"),C(F),p(!0)))},L=F=>{M(F.role)==="external"?(P("view"),C(F),j(!0)):(_("view"),C(F),p(!0))},U=F=>{Q(),p(!1),C(null)},J=F=>{Z(),j(!1),C(null),c(""),u(k==="create"?"External user added successfully.":"External user updated successfully."),setTimeout(()=>u(""),3e3)};return a?r.jsx("div",{className:"flex items-center justify-center min-h-96",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:"User Management"}),r.jsx("p",{className:"text-gray-600 mt-2",children:"Manage staff and external users"})]}),R&&r.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 mt-4 sm:mt-0",children:[r.jsxs("button",{onClick:$,className:"bg-primary-600 hover:bg-primary-700 text-white px-4 py-2 rounded-xl flex items-center space-x-2 transition-colors",children:[r.jsx(qn,{className:"w-5 h-5"}),r.jsx("span",{children:"Add Staff User"})]}),r.jsxs("button",{onClick:X,className:"bg-orange-600 hover:bg-orange-700 text-white px-4 py-2 rounded-xl flex items-center space-x-2 transition-colors",children:[r.jsx(qn,{className:"w-5 h-5"}),r.jsx("span",{children:"Add External User"})]})]})]}),o&&r.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-xl",children:o}),d&&r.jsx("div",{className:"bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded-xl",children:d}),r.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search Users"}),r.jsxs("div",{className:"relative",children:[r.jsx(Hr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),r.jsx("input",{type:"text",placeholder:"Search by name, email, or phone...",value:h,onChange:F=>m(F.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Filter by Role"}),r.jsxs("select",{value:v,onChange:F=>x(F.target.value),className:"w-full border border-gray-300 rounded-xl px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[r.jsx("option",{value:"",children:"All Roles"}),[...I,...H].map(F=>r.jsx("option",{value:F,children:F},F))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Filter by Category"}),r.jsxs("select",{value:y,onChange:F=>b(F.target.value),className:"w-full border border-gray-300 rounded-xl px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[r.jsx("option",{value:"all",children:"All Users"}),r.jsx("option",{value:"staff",children:"Active Staff"}),r.jsx("option",{value:"external",children:"External Users"})]})]}),r.jsx("div",{className:"flex items-end",children:r.jsxs("div",{className:"text-sm text-gray-600",children:[r.jsxs("p",{className:"font-medium",children:["Total: ",B.length+S.length]}),r.jsxs("p",{children:["Staff: ",B.length," | External: ",S.length]})]})})]})}),(y==="all"||y==="staff")&&r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[r.jsxs("div",{className:"p-6 border-b border-gray-200",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(J2,{className:"w-5 h-5 text-green-600"}),r.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Active Staff"}),r.jsx("span",{className:"bg-green-100 text-green-700 px-2 py-1 rounded-full text-sm font-medium",children:B.length})]}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Farm employees and staff members"})]}),r.jsx("div",{className:"p-6",children:B.length===0?r.jsxs("div",{className:"text-center py-8",children:[r.jsx(Pt,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No staff found"}),r.jsx("p",{className:"text-gray-600",children:"No staff members match your search criteria."})]}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:B.map(F=>r.jsxs("div",{className:"border border-gray-200 rounded-xl p-4 hover:shadow-md transition-shadow",children:[r.jsx("div",{className:"flex items-start justify-between mb-3",children:r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-semibold text-gray-900",children:F.full_name}),r.jsx("span",{className:`inline-block px-2 py-1 text-xs font-medium rounded-full border ${A(F.role)}`,children:F.role})]})}),r.jsxs("div",{className:"space-y-2 mb-4",children:[r.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[r.jsx(as,{className:"w-4 h-4"}),r.jsx("span",{children:F.email})]}),F.phone&&r.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[r.jsx(uo,{className:"w-4 h-4"}),r.jsx("span",{children:F.phone})]}),r.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[r.jsx(He,{className:"w-4 h-4"}),r.jsxs("span",{children:["Joined ",F.created_at&&!isNaN(Date.parse(F.created_at))?new Date(F.created_at).toLocaleDateString():"Not available"]})]})]}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsxs("button",{onClick:()=>L(F),className:"flex-1 bg-gray-100 hover:bg-gray-200 text-gray-700 px-3 py-2 rounded-lg text-sm font-medium transition-colors flex items-center justify-center space-x-1",children:[r.jsx(Ut,{className:"w-4 h-4"}),r.jsx("span",{children:"View"})]}),R&&r.jsxs("button",{onClick:()=>K(F),className:"flex-1 bg-primary-100 hover:bg-primary-200 text-primary-700 px-3 py-2 rounded-lg text-sm font-medium transition-colors flex items-center justify-center space-x-1",children:[r.jsx(on,{className:"w-4 h-4"}),r.jsx("span",{children:"Edit"})]})]})]},F.id))})})]}),(y==="all"||y==="external")&&r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[r.jsxs("div",{className:"p-6 border-b border-gray-200",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Z2,{className:"w-5 h-5 text-orange-600"}),r.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"External Users"}),r.jsx("span",{className:"bg-orange-100 text-orange-700 px-2 py-1 rounded-full text-sm font-medium",children:S.length})]}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Vendors, contractors, and other external contacts"})]}),r.jsx("div",{className:"p-6",children:S.length===0?r.jsxs("div",{className:"text-center py-8",children:[r.jsx(Pt,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No external users found"}),r.jsx("p",{className:"text-gray-600",children:"No external users match your search criteria."})]}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:S.map(F=>r.jsxs("div",{className:"border border-gray-200 rounded-xl p-4 hover:shadow-md transition-shadow",children:[r.jsx("div",{className:"flex items-start justify-between mb-3",children:r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-semibold text-gray-900",children:F.full_name}),r.jsx("span",{className:`inline-block px-2 py-1 text-xs font-medium rounded-full border ${A(F.role)}`,children:F.role})]})}),r.jsxs("div",{className:"space-y-2 mb-4",children:[r.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[r.jsx(as,{className:"w-4 h-4"}),r.jsx("span",{children:F.email})]}),F.phone&&r.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[r.jsx(uo,{className:"w-4 h-4"}),r.jsx("span",{children:F.phone})]}),r.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[r.jsx(He,{className:"w-4 h-4"}),r.jsxs("span",{children:["Added ",F.created_at&&!isNaN(Date.parse(F.created_at))?new Date(F.created_at).toLocaleDateString():"Not available"]})]})]}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsxs("button",{onClick:()=>L(F),className:"flex-1 bg-gray-100 hover:bg-gray-200 text-gray-700 px-3 py-2 rounded-lg text-sm font-medium transition-colors flex items-center justify-center space-x-1",children:[r.jsx(Ut,{className:"w-4 h-4"}),r.jsx("span",{children:"View"})]}),R&&r.jsxs("button",{onClick:()=>K(F),className:"flex-1 bg-primary-100 hover:bg-primary-200 text-primary-700 px-3 py-2 rounded-lg text-sm font-medium transition-colors flex items-center justify-center space-x-1",children:[r.jsx(on,{className:"w-4 h-4"}),r.jsx("span",{children:"Edit"})]})]})]},F.id))})})]}),f&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:w==="create"?"Add New User":w==="edit"?"Edit User":"User Details"}),r.jsx("button",{onClick:()=>p(!1),className:"text-gray-400 hover:text-gray-600",children:r.jsx(Ae,{className:"w-6 h-6"})})]}),w==="view"&&E?r.jsx("div",{className:"space-y-4",children:r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Full Name"}),r.jsx("p",{className:"mt-1 text-sm text-gray-900",children:E.full_name})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Role"}),r.jsx("span",{className:`inline-block px-2 py-1 text-xs font-medium rounded-full border ${A(E.role)}`,children:E.role})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),r.jsx("p",{className:"mt-1 text-sm text-gray-900",children:E.email})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Phone"}),r.jsx("p",{className:"mt-1 text-sm text-gray-900",children:E.phone||"Not provided"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Category"}),r.jsx("p",{className:"mt-1 text-sm text-gray-900",children:I.includes(E.role)?"Active Staff":"External User"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Joined Date"}),r.jsx("p",{className:"mt-1 text-sm text-gray-900",children:E.created_at&&!isNaN(Date.parse(E.created_at))?new Date(E.created_at).toLocaleDateString():"Not available"})]})]})}):r.jsx(t5,{user:E,mode:w,onUserSaved:U,onCancel:()=>p(!1)})]})}),g&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:k==="create"?"Add External User":k==="edit"?"Edit External User":"External User Details"}),r.jsx("button",{onClick:()=>j(!1),className:"text-gray-400 hover:text-gray-600",children:r.jsx(Ae,{className:"w-6 h-6"})})]}),k==="view"&&E?r.jsx("div",{className:"space-y-4",children:r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Full Name"}),r.jsx("p",{className:"mt-1 text-sm text-gray-900",children:E.full_name})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Role"}),r.jsx("span",{className:`inline-block px-2 py-1 text-xs font-medium rounded-full border ${A(E.role)}`,children:E.role})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),r.jsx("p",{className:"mt-1 text-sm text-gray-900",children:E.email})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Phone"}),r.jsx("p",{className:"mt-1 text-sm text-gray-900",children:E.phone||"Not provided"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Company Name"}),r.jsx("p",{className:"mt-1 text-sm text-gray-900",children:E.company_name||"Not provided"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Address"}),r.jsx("p",{className:"mt-1 text-sm text-gray-900",children:E.address||"Not provided"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Joined Date"}),r.jsx("p",{className:"mt-1 text-sm text-gray-900",children:E.created_at&&!isNaN(Date.parse(E.created_at))?new Date(E.created_at).toLocaleDateString():"Not available"})]})]})}):r.jsx(s5,{user:E,mode:k,onUserSaved:J,onCancel:()=>j(!1)})]})})]})},r5=({resource:e,mode:t,onResourceSaved:s,onCancel:n})=>{const[i,a]=N.useState({name:"",category:"",current_stock:"",unit:"",min_threshold:"",max_capacity:"",cost_per_unit:"",supplier:"",expiry_date:""}),[l,o]=N.useState(!1),[c,d]=N.useState(""),[u,h]=N.useState({}),[m,v]=N.useState([]),x=["Feed","Seeds","Fertilizer","Medical","Equipment","Tools","Chemicals","Other"],y=["bags","kg","liters","units","boxes","tons","pieces","bottles"];N.useEffect(()=>{b()},[]),N.useEffect(()=>{var w,_,k,P;e&&t==="edit"&&a({name:e.name||"",category:e.category||"",current_stock:((w=e.current_stock)==null?void 0:w.toString())||"",unit:e.unit||"",min_threshold:((_=e.min_threshold)==null?void 0:_.toString())||"",max_capacity:((k=e.max_capacity)==null?void 0:k.toString())||"",cost_per_unit:((P=e.cost_per_unit)==null?void 0:P.toString())||"",supplier:e.supplier||"",expiry_date:e.expiry_date?e.expiry_date.split("T")[0]:""})},[e,t]);const b=async()=>{try{const w=await aa.getSuppliers();v(w.data)}catch(w){console.error("Failed to fetch suppliers:",w),v([])}},f=()=>{const w={};return i.name.trim()||(w.name="Resource name is required"),i.category||(w.category="Category is required"),(!i.current_stock||isNaN(i.current_stock)||Number(i.current_stock)<0)&&(w.current_stock="Valid current stock is required"),i.unit.trim()||(w.unit="Unit is required"),i.min_threshold&&(isNaN(i.min_threshold)||Number(i.min_threshold)<0)&&(w.min_threshold="Min threshold must be a valid number"),i.max_capacity&&(isNaN(i.max_capacity)||Number(i.max_capacity)<0)&&(w.max_capacity="Max capacity must be a valid number"),i.cost_per_unit&&(isNaN(i.cost_per_unit)||Number(i.cost_per_unit)<0)&&(w.cost_per_unit="Cost per unit must be a valid number"),h(w),Object.keys(w).length===0},p=w=>{const{name:_,value:k}=w.target;a({...i,[_]:k}),u[_]&&h({...u,[_]:""})},g=async w=>{var _;if(w.preventDefault(),o(!0),d(""),!f()){o(!1);return}try{const k={name:i.name.trim(),category:i.category,current_stock:Number(i.current_stock),unit:i.unit.trim(),min_threshold:i.min_threshold?Number(i.min_threshold):0,max_capacity:i.max_capacity?Number(i.max_capacity):0,cost_per_unit:i.cost_per_unit?Number(i.cost_per_unit):0,supplier:i.supplier.trim(),expiry_date:i.expiry_date||null};let P;t==="create"?P=await na.createResource(k):P=await na.updateResource(e.id,k),s&&s(P.data)}catch(k){console.error("Resource save error:",k);const P=(_=k.response)==null?void 0:_.data;P!=null&&P.field?h({[P.field]:P.message}):P!=null&&P.message?d(P.message):d(t==="create"?"Failed to create resource":"Failed to update resource")}finally{o(!1)}},j=w=>{const _="w-full border rounded-xl px-3 py-2 focus:outline-none focus:ring-2 transition-colors";return u[w]?`${_} border-red-500 focus:ring-red-200`:`${_} border-gray-300 focus:ring-primary-200 focus:border-primary-500`};return r.jsxs("form",{onSubmit:g,className:"space-y-4",children:[c&&r.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-xl text-sm",children:c}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Resource Name ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",name:"name",value:i.name,onChange:p,className:j("name"),placeholder:"Enter resource name"}),u.name&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:u.name})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Category ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("select",{name:"category",value:i.category,onChange:p,className:j("category"),children:[r.jsx("option",{value:"",children:"Select category"}),x.map(w=>r.jsx("option",{value:w,children:w},w))]}),u.category&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:u.category})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Current Stock ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"number",name:"current_stock",value:i.current_stock,onChange:p,className:j("current_stock"),placeholder:"Enter current stock",min:"0",step:"0.01"}),u.current_stock&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:u.current_stock})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Unit ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("select",{name:"unit",value:i.unit,onChange:p,className:j("unit"),children:[r.jsx("option",{value:"",children:"Select unit"}),y.map(w=>r.jsx("option",{value:w,children:w},w))]}),u.unit&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:u.unit})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Min Threshold"}),r.jsx("input",{type:"number",name:"min_threshold",value:i.min_threshold,onChange:p,className:j("min_threshold"),placeholder:"Minimum stock level",min:"0",step:"0.01"}),u.min_threshold&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:u.min_threshold})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Max Capacity"}),r.jsx("input",{type:"number",name:"max_capacity",value:i.max_capacity,onChange:p,className:j("max_capacity"),placeholder:"Maximum storage capacity",min:"0",step:"0.01"}),u.max_capacity&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:u.max_capacity})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cost per Unit (₦)"}),r.jsx("input",{type:"number",name:"cost_per_unit",value:i.cost_per_unit,onChange:p,className:j("cost_per_unit"),placeholder:"Cost in Naira",min:"0",step:"0.01"}),u.cost_per_unit&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:u.cost_per_unit})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Supplier"}),r.jsxs("select",{name:"supplier",value:i.supplier,onChange:p,className:j("supplier"),children:[r.jsx("option",{value:"",children:"Select supplier"}),m.map(w=>r.jsxs("option",{value:w.company_name||w.full_name,children:[w.company_name||w.full_name,w.specialization&&` - ${w.specialization}`,w.rating>0&&` (${w.rating}★)`]},w.id))]}),u.supplier&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:u.supplier})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Expiry Date"}),r.jsx("input",{type:"date",name:"expiry_date",value:i.expiry_date,onChange:p,className:j("expiry_date")})]})]}),r.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[r.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-xl transition-colors",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:l,className:"px-4 py-2 bg-primary-600 hover:bg-primary-700 text-white rounded-xl transition-colors disabled:opacity-50",children:l?r.jsxs("span",{className:"flex items-center",children:[r.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),t==="create"?"Creating...":"Updating..."]}):t==="create"?"Create Resource":"Update Resource"})]})]})},i5=()=>{const{user:e}=Fe(),[t,s]=N.useState([]),[n,i]=N.useState(!0),[a,l]=N.useState(""),[o,c]=N.useState(""),[d,u]=N.useState(""),[h,m]=N.useState(""),[v,x]=N.useState(!1),[y,b]=N.useState("create"),[f,p]=N.useState(null),g=["Admin","Farm Manager"].includes(e==null?void 0:e.role);N.useEffect(()=>{j()},[]);const j=async()=>{try{i(!0);const M=await na.getResources();s(M.data),l("")}catch(M){console.error("Failed to fetch resources:",M),l("Failed to load resources. Please try again."),s([{id:1,name:"Chicken Feed",category:"Feed",current_stock:45,unit:"bags",min_threshold:20,max_capacity:100,cost_per_unit:10200,supplier:"AgriSupply Co.",last_updated:"2024-01-15T10:30:00Z",expiry_date:"2024-03-15",status:"in_stock"},{id:2,name:"Corn Seeds",category:"Seeds",current_stock:8,unit:"kg",min_threshold:10,max_capacity:50,cost_per_unit:4800,supplier:"SeedPro Ltd.",last_updated:"2024-01-10T14:20:00Z",expiry_date:"2024-06-30",status:"low_stock"},{id:3,name:"Fertilizer NPK",category:"Fertilizer",current_stock:0,unit:"bags",min_threshold:5,max_capacity:30,cost_per_unit:14e3,supplier:"FertMax Solutions",last_updated:"2024-01-08T09:15:00Z",expiry_date:"2024-12-31",status:"out_of_stock"},{id:4,name:"Veterinary Supplies",category:"Medical",current_stock:25,unit:"units",min_threshold:15,max_capacity:50,cost_per_unit:3500,supplier:"VetCare Supplies",last_updated:"2024-01-12T16:45:00Z",expiry_date:"2024-08-15",status:"in_stock"}])}finally{i(!1)}},w=M=>{switch(M){case"in_stock":return"bg-green-100 text-green-700 border-green-200";case"low_stock":return"bg-yellow-100 text-yellow-700 border-yellow-200";case"out_of_stock":return"bg-red-100 text-red-700 border-red-200";default:return"bg-gray-100 text-gray-700 border-gray-200"}},_=M=>{switch(M){case"in_stock":return r.jsx(Sa,{className:"w-4 h-4"});case"low_stock":return r.jsx(Ws,{className:"w-4 h-4"});case"out_of_stock":return r.jsx(K2,{className:"w-4 h-4"});default:return r.jsx(Pl,{className:"w-4 h-4"})}},k=t.filter(M=>{var $,X,K;const B=(($=M.name)==null?void 0:$.toLowerCase().includes(o.toLowerCase()))||((X=M.category)==null?void 0:X.toLowerCase().includes(o.toLowerCase()))||((K=M.supplier)==null?void 0:K.toLowerCase().includes(o.toLowerCase())),S=!d||M.category===d,A=!h||M.status===h;return B&&S&&A}),P=[...new Set(t.map(M=>M.category))],E=t.reduce((M,B)=>M+B.current_stock*B.cost_per_unit,0),C=t.filter(M=>M.status==="low_stock"||M.status==="out_of_stock").length,R=()=>{g&&(b("create"),p(null),x(!0))},I=M=>{g&&(b("edit"),p(M),x(!0))},H=M=>{b("view"),p(M),x(!0)},Q=M=>{y==="create"?s([M,...t]):y==="edit"&&s(t.map(B=>B.id===M.id?M:B)),x(!1),p(null)},Z=async M=>{if(g&&window.confirm(`Are you sure you want to delete "${M.name}"? This action cannot be undone.`))try{await na.deleteResource(M.id),s(t.filter(B=>B.id!==M.id))}catch(B){console.error("Failed to delete resource:",B),l("Failed to delete resource. Please try again.")}};return n?r.jsx("div",{className:"flex items-center justify-center min-h-96",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:"Farm Resources & Inventory"}),r.jsx("p",{className:"text-gray-600 mt-2",children:"Track and manage farm supplies, feed, seeds, and equipment"})]}),g&&r.jsxs("button",{onClick:R,className:"mt-4 sm:mt-0 bg-primary-600 hover:bg-primary-700 text-white px-4 py-2 rounded-xl flex items-center space-x-2 transition-colors",children:[r.jsx(qn,{className:"w-5 h-5"}),r.jsx("span",{children:"Add Resource"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[r.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Items"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.length})]}),r.jsx(Pl,{className:"w-8 h-8 text-blue-600"})]})}),r.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Value"}),r.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["₦",E.toLocaleString("en-NG",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),r.jsx(ny,{className:"w-8 h-8 text-green-600"})]})}),r.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Low Stock Alerts"}),r.jsx("p",{className:"text-2xl font-bold text-red-600",children:C})]}),r.jsx(Ws,{className:"w-8 h-8 text-red-600"})]})}),r.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Categories"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:P.length})]}),r.jsx(Yo,{className:"w-8 h-8 text-purple-600"})]})})]}),r.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search Resources"}),r.jsxs("div",{className:"relative",children:[r.jsx(Hr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),r.jsx("input",{type:"text",placeholder:"Search by name, category, or supplier...",value:o,onChange:M=>c(M.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Filter by Category"}),r.jsxs("select",{value:d,onChange:M=>u(M.target.value),className:"w-full border border-gray-300 rounded-xl px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[r.jsx("option",{value:"",children:"All Categories"}),P.map(M=>r.jsx("option",{value:M,children:M},M))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Filter by Status"}),r.jsxs("select",{value:h,onChange:M=>m(M.target.value),className:"w-full border border-gray-300 rounded-xl px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[r.jsx("option",{value:"",children:"All Status"}),r.jsx("option",{value:"in_stock",children:"In Stock"}),r.jsx("option",{value:"low_stock",children:"Low Stock"}),r.jsx("option",{value:"out_of_stock",children:"Out of Stock"})]})]}),r.jsx("div",{className:"flex items-end",children:r.jsxs("div",{className:"text-sm text-gray-600",children:[r.jsxs("p",{className:"font-medium",children:["Showing: ",k.length," items"]}),r.jsxs("p",{children:["Value: ₦",k.reduce((M,B)=>M+B.current_stock*B.cost_per_unit,0).toLocaleString("en-NG",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})})]})}),r.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:r.jsx("div",{className:"p-6",children:k.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(Pl,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No resources found"}),r.jsx("p",{className:"text-gray-600",children:t.length===0?"Get started by adding your first resource.":"Try adjusting your search criteria."}),g&&t.length===0&&r.jsx("button",{onClick:R,className:"mt-4 bg-primary-600 hover:bg-primary-700 text-white px-4 py-2 rounded-xl transition-colors",children:"Add First Resource"})]}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:k.map(M=>r.jsxs("div",{className:"border border-gray-200 rounded-xl p-6 hover:shadow-md transition-shadow",children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:M.name}),r.jsx("p",{className:"text-sm text-gray-600",children:M.category})]}),r.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 text-xs font-medium rounded-full border ${w(M.status)}`,children:[_(M.status),M.status.replace("_"," ")]})]}),r.jsxs("div",{className:"space-y-3 mb-4",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Current Stock:"}),r.jsxs("span",{className:"font-semibold text-gray-900",children:[M.current_stock," ",M.unit]})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Min Threshold:"}),r.jsxs("span",{className:"text-sm text-gray-700",children:[M.min_threshold," ",M.unit]})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Unit Cost:"}),r.jsxs("span",{className:"text-sm text-gray-700",children:["₦",M.cost_per_unit.toLocaleString("en-NG",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Total Value:"}),r.jsxs("span",{className:"font-semibold text-gray-900",children:["₦",(M.current_stock*M.cost_per_unit).toLocaleString("en-NG",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),r.jsxs("div",{className:"border-t pt-2",children:[r.jsxs("p",{className:"text-xs text-gray-500",children:["Supplier: ",M.supplier]}),r.jsxs("p",{className:"text-xs text-gray-500",children:["Updated: ",new Date(M.last_updated).toLocaleDateString()]})]})]}),r.jsxs("div",{className:"mb-4",children:[r.jsxs("div",{className:"flex justify-between text-xs text-gray-600 mb-1",children:[r.jsx("span",{children:"Stock Level"}),r.jsxs("span",{children:[Math.round(M.current_stock/M.max_capacity*100),"%"]})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:`h-2 rounded-full ${M.current_stock<=M.min_threshold?"bg-red-500":M.current_stock<=M.min_threshold*1.5?"bg-yellow-500":"bg-green-500"}`,style:{width:`${Math.min(M.current_stock/M.max_capacity*100,100)}%`}})})]}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsxs("button",{onClick:()=>H(M),className:"flex-1 bg-gray-100 hover:bg-gray-200 text-gray-700 px-3 py-2 rounded-lg text-sm font-medium transition-colors flex items-center justify-center space-x-1",children:[r.jsx(Ut,{className:"w-4 h-4"}),r.jsx("span",{children:"View"})]}),g&&r.jsxs(r.Fragment,{children:[r.jsxs("button",{onClick:()=>I(M),className:"flex-1 bg-primary-100 hover:bg-primary-200 text-primary-700 px-3 py-2 rounded-lg text-sm font-medium transition-colors flex items-center justify-center space-x-1",children:[r.jsx(on,{className:"w-4 h-4"}),r.jsx("span",{children:"Edit"})]}),r.jsx("button",{onClick:()=>Z(M),className:"bg-red-100 hover:bg-red-200 text-red-700 px-3 py-2 rounded-lg text-sm font-medium transition-colors flex items-center justify-center",children:r.jsx(Hs,{className:"w-4 h-4"})})]})]})]},M.id))})})}),v&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:y==="create"?"Add New Resource":y==="edit"?"Edit Resource":"Resource Details"}),r.jsx("button",{onClick:()=>x(!1),className:"text-gray-400 hover:text-gray-600",children:r.jsx(Ae,{className:"w-6 h-6"})})]}),y==="view"&&f?r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Resource Name"}),r.jsx("p",{className:"mt-1 text-sm text-gray-900",children:f.name})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Category"}),r.jsx("p",{className:"mt-1 text-sm text-gray-900",children:f.category})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Current Stock"}),r.jsxs("p",{className:"mt-1 text-sm text-gray-900",children:[f.current_stock," ",f.unit]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Status"}),r.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 text-xs font-medium rounded-full border ${w(f.status)}`,children:[_(f.status),f.status.replace("_"," ")]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Supplier"}),r.jsx("p",{className:"mt-1 text-sm text-gray-900",children:f.supplier})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Cost per Unit"}),r.jsxs("p",{className:"mt-1 text-sm text-gray-900",children:["₦",f.cost_per_unit.toLocaleString("en-NG",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Expiry Date"}),r.jsx("p",{className:"mt-1 text-sm text-gray-900",children:f.expiry_date?new Date(f.expiry_date).toLocaleDateString():"No expiry date"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Total Value"}),r.jsxs("p",{className:"mt-1 text-sm text-gray-900",children:["₦",(f.current_stock*f.cost_per_unit).toLocaleString("en-NG",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]}),r.jsx("div",{className:"flex justify-end space-x-3 mt-6",children:r.jsx("button",{onClick:()=>x(!1),className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-xl transition-colors",children:"Close"})})]}):r.jsx(r5,{resource:f,mode:y,onResourceSaved:Q,onCancel:()=>x(!1)})]})})]})},a5=()=>{var a;const[e,t]=N.useState("overview"),[s,n]=N.useState(!1),i=[{id:"overview",name:"Overview",icon:Tc},{id:"livestock",name:"Livestock Areas",icon:ka},{id:"crops",name:"Crop Fields",icon:bf},{id:"equipment",name:"Equipment",icon:Ae},{id:"infrastructure",name:"Infrastructure",icon:Qa}];return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Farm Map"}),r.jsx("p",{className:"text-gray-600 mt-2",children:"Interactive map showing farm layout and locations"})]}),r.jsxs("button",{onClick:()=>n(!0),className:"mt-4 sm:mt-0 bg-primary-600 hover:bg-primary-700 text-white px-4 py-2 rounded-xl flex items-center space-x-2 transition-colors",children:[r.jsx(H2,{className:"w-5 h-5"}),r.jsx("span",{children:"Map Info"})]})]}),r.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:r.jsx("div",{className:"flex flex-wrap gap-2",children:i.map(l=>{const o=l.icon;return r.jsxs("button",{onClick:()=>t(l.id),className:`flex items-center space-x-2 px-4 py-2 rounded-xl text-sm font-medium transition-colors ${e===l.id?"bg-primary-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[r.jsx(o,{className:"w-4 h-4"}),r.jsx("span",{children:l.name})]},l.id)})})}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 h-[600px] relative overflow-hidden",children:[r.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gradient-to-br from-green-50 to-blue-50",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Tc,{className:"w-16 h-16 text-green-600 mx-auto mb-4"}),r.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Interactive Farm Map"}),r.jsx("p",{className:"text-gray-600 max-w-md mx-auto mb-6",children:"This will display a comprehensive interactive map of your farm with different layers showing livestock areas, crop fields, equipment locations, and infrastructure."}),r.jsxs("div",{className:"space-y-2 text-sm text-gray-500",children:[r.jsx("p",{children:"🗺️ Real-time location tracking"}),r.jsx("p",{children:"🚜 Equipment positioning"}),r.jsx("p",{children:"🐄 Livestock area monitoring"}),r.jsx("p",{children:"🌾 Field boundary mapping"}),r.jsx("p",{children:"🏠 Infrastructure layout"})]})]})}),r.jsxs("div",{className:"absolute top-4 right-4 bg-white rounded-lg shadow-lg p-4 max-w-xs",children:[r.jsxs("h4",{className:"font-semibold text-gray-900 mb-3",children:["Current Layer: ",(a=i.find(l=>l.id===e))==null?void 0:a.name]}),r.jsxs("div",{className:"space-y-2 text-sm",children:[e==="overview"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),r.jsx("span",{children:"Farm Boundaries"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),r.jsx("span",{children:"Water Sources"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-3 h-3 bg-brown-500 rounded-full"}),r.jsx("span",{children:"Buildings"})]})]}),e==="livestock"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full"}),r.jsx("span",{children:"Cattle Areas"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-3 h-3 bg-yellow-500 rounded-full"}),r.jsx("span",{children:"Poultry Areas"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-3 h-3 bg-purple-500 rounded-full"}),r.jsx("span",{children:"Grazing Zones"})]})]}),e==="crops"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-3 h-3 bg-green-400 rounded-full"}),r.jsx("span",{children:"Active Fields"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-3 h-3 bg-brown-400 rounded-full"}),r.jsx("span",{children:"Fallow Land"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-3 h-3 bg-orange-400 rounded-full"}),r.jsx("span",{children:"Harvest Ready"})]})]}),e==="equipment"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Tractor,{className:"w-3 h-3 text-blue-600"}),r.jsx("span",{children:"Active Equipment"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-3 h-3 bg-gray-500 rounded-full"}),r.jsx("span",{children:"Parked Equipment"})]})]}),e==="infrastructure"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Qa,{className:"w-3 h-3 text-brown-600"}),r.jsx("span",{children:"Buildings"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(eN,{className:"w-3 h-3 text-yellow-600"}),r.jsx("span",{children:"Utilities"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-3 h-3 bg-gray-600 rounded-full"}),r.jsx("span",{children:"Roads/Paths"})]})]})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[r.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Area"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"245 acres"})]}),r.jsx(Tc,{className:"w-8 h-8 text-green-600"})]})}),r.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Fields"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"12"})]}),r.jsx(bf,{className:"w-8 h-8 text-blue-600"})]})}),r.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Livestock Areas"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"8"})]}),r.jsx(Qa,{className:"w-8 h-8 text-brown-600"})]})}),r.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Equipment Points"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"15"})]}),r.jsx(Qa,{className:"w-8 h-8 text-orange-600"})]})})]}),s&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Farm Map Features"}),r.jsx("button",{onClick:()=>n(!1),className:"text-gray-400 hover:text-gray-600",children:r.jsx(Ae,{className:"w-6 h-6"})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Planned Features"}),r.jsxs("ul",{className:"space-y-2 text-sm text-gray-600",children:[r.jsx("li",{children:"• GPS integration for real-time equipment tracking"}),r.jsx("li",{children:"• Satellite imagery overlay with field boundaries"}),r.jsx("li",{children:"• Interactive markers for livestock, equipment, and infrastructure"}),r.jsx("li",{children:"• Weather overlay showing precipitation and temperature zones"}),r.jsx("li",{children:"• Soil type mapping and crop rotation planning"}),r.jsx("li",{children:"• Historical data visualization and analysis"}),r.jsx("li",{children:"• Mobile app integration for field updates"}),r.jsx("li",{children:"• Integration with IoT sensors for environmental monitoring"})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Layer Information"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-700",children:"Overview Layer"}),r.jsx("p",{className:"text-gray-600",children:"Complete farm layout with boundaries and main features"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-700",children:"Livestock Layer"}),r.jsx("p",{className:"text-gray-600",children:"Animal locations, grazing areas, and enclosures"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-700",children:"Crops Layer"}),r.jsx("p",{className:"text-gray-600",children:"Field boundaries, crop types, and growth stages"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-700",children:"Equipment Layer"}),r.jsx("p",{className:"text-gray-600",children:"Machinery locations and maintenance areas"})]})]})]})]}),r.jsx("div",{className:"flex justify-end mt-6",children:r.jsx("button",{onClick:()=>n(!1),className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-xl transition-colors",children:"Close"})})]})})]})},l5=({planting:e,mode:t,onPlantingSaved:s,onCancel:n})=>{const[i,a]=N.useState({crop_name:"",variety:"",planting_date:"",expected_harvest_date:"",area_planted:"",location:"",growth_stage:"planted",plant_spacing:"",row_spacing:"",irrigation_schedule:"",irrigation_method:"",notes:""}),[l,o]=N.useState(!1),[c,d]=N.useState(""),[u,h]=N.useState({}),m=["planted","germinated","seedling","vegetative","flowering","fruiting","mature","harvested"],v=["Corn","Wheat","Rice","Soybeans","Tomatoes","Potatoes","Carrots","Onions","Lettuce","Peppers","Beans","Cassava","Yam","Plantain"];N.useEffect(()=>{var p;e&&t==="edit"&&a({crop_name:e.crop_name||"",variety:e.variety||"",planting_date:e.planting_date?e.planting_date.split("T")[0]:"",expected_harvest_date:e.expected_harvest_date?e.expected_harvest_date.split("T")[0]:"",area_planted:((p=e.area_planted)==null?void 0:p.toString())||"",location:e.location||"",growth_stage:e.growth_stage||"planted",plant_spacing:e.plant_spacing||"",row_spacing:e.row_spacing||"",irrigation_schedule:e.irrigation_schedule||"",irrigation_method:e.irrigation_method||"",notes:e.notes||""})},[e,t]);const x=()=>{const p={};return i.crop_name.trim()||(p.crop_name="Crop name is required"),i.planting_date||(p.planting_date="Planting date is required"),(!i.area_planted||isNaN(i.area_planted)||Number(i.area_planted)<=0)&&(p.area_planted="Valid area planted is required"),i.planting_date&&i.expected_harvest_date&&new Date(i.expected_harvest_date)<=new Date(i.planting_date)&&(p.expected_harvest_date="Harvest date must be after planting date"),h(p),Object.keys(p).length===0},y=p=>{const{name:g,value:j}=p.target;a({...i,[g]:j}),u[g]&&h({...u,[g]:""})},b=async p=>{var g;if(p.preventDefault(),o(!0),d(""),!x()){o(!1);return}try{const j={crop_name:i.crop_name==="other"?(i.custom_crop_name||"").trim():i.crop_name.trim(),variety:i.variety.trim(),planting_date:i.planting_date,expected_harvest_date:i.expected_harvest_date||null,area_planted:Number(i.area_planted),location:i.location.trim(),growth_stage:i.growth_stage,plant_spacing:i.plant_spacing.trim(),row_spacing:i.row_spacing.trim(),irrigation_schedule:i.irrigation_schedule.trim(),irrigation_method:i.irrigation_method.trim(),notes:i.notes.trim()};let w;t==="create"?w=await ra.createPlanting(j):w=await ra.updatePlanting(e.id,j),s&&s(w.data)}catch(j){console.error("Planting save error:",j);const w=(g=j.response)==null?void 0:g.data;w!=null&&w.field?h({[w.field]:w.message}):w!=null&&w.message?d(w.message):d(t==="create"?"Failed to create planting record":"Failed to update planting record")}finally{o(!1)}},f=p=>{const g="w-full border rounded-xl px-3 py-2 focus:outline-none focus:ring-2 transition-colors";return u[p]?`${g} border-red-500 focus:ring-red-200`:`${g} border-gray-300 focus:ring-primary-200 focus:border-primary-500`};return r.jsxs("form",{onSubmit:b,className:"space-y-4",children:[c&&r.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-xl text-sm",children:c}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Crop Name ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("select",{name:"crop_name",value:i.crop_name,onChange:y,className:f("crop_name"),children:[r.jsx("option",{value:"",children:"Select crop"}),v.map(p=>r.jsx("option",{value:p,children:p},p)),r.jsx("option",{value:"other",children:"Other (specify below)"})]}),i.crop_name==="other"&&r.jsx("input",{type:"text",name:"custom_crop_name",value:i.custom_crop_name||"",onChange:p=>a({...i,custom_crop_name:p.target.value}),className:f("crop_name"),placeholder:"Enter crop name"})]}),u.crop_name&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:u.crop_name})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Variety"}),r.jsx("input",{type:"text",name:"variety",value:i.variety,onChange:y,className:f("variety"),placeholder:"Enter variety (optional)"}),u.variety&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:u.variety})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Planting Date ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"date",name:"planting_date",value:i.planting_date,onChange:y,className:f("planting_date")}),u.planting_date&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:u.planting_date})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Expected Harvest Date"}),r.jsx("input",{type:"date",name:"expected_harvest_date",value:i.expected_harvest_date,onChange:y,className:f("expected_harvest_date")}),u.expected_harvest_date&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:u.expected_harvest_date})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Area Planted (hectares) ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"number",name:"area_planted",value:i.area_planted,onChange:y,className:f("area_planted"),placeholder:"Enter area in hectares",min:"0.01",step:"0.01"}),u.area_planted&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:u.area_planted})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Location"}),r.jsx("input",{type:"text",name:"location",value:i.location,onChange:y,className:f("location"),placeholder:"Field/plot location"}),u.location&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:u.location})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Growth Stage"}),r.jsx("select",{name:"growth_stage",value:i.growth_stage,onChange:y,className:f("growth_stage"),children:m.map(p=>r.jsx("option",{value:p,children:p.charAt(0).toUpperCase()+p.slice(1)},p))}),u.growth_stage&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:u.growth_stage})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Plant Spacing (cm)"}),r.jsx("input",{type:"number",name:"plant_spacing",value:i.plant_spacing,onChange:y,className:f("plant_spacing"),placeholder:"e.g., 30",min:"1",step:"1"}),u.plant_spacing&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:u.plant_spacing})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Row Spacing (cm)"}),r.jsx("input",{type:"number",name:"row_spacing",value:i.row_spacing,onChange:y,className:f("row_spacing"),placeholder:"e.g., 75",min:"1",step:"1"}),u.row_spacing&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:u.row_spacing})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Irrigation Method"}),r.jsxs("select",{name:"irrigation_method",value:i.irrigation_method,onChange:y,className:f("irrigation_method"),children:[r.jsx("option",{value:"",children:"Select irrigation method"}),r.jsx("option",{value:"drip",children:"Drip Irrigation"}),r.jsx("option",{value:"sprinkler",children:"Sprinkler"}),r.jsx("option",{value:"furrow",children:"Furrow"}),r.jsx("option",{value:"flood",children:"Flood"}),r.jsx("option",{value:"manual",children:"Manual Watering"}),r.jsx("option",{value:"rainfed",children:"Rain-fed"})]}),u.irrigation_method&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:u.irrigation_method})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Irrigation Schedule"}),r.jsx("input",{type:"text",name:"irrigation_schedule",value:i.irrigation_schedule,onChange:y,className:f("irrigation_schedule"),placeholder:"e.g., Every 2 days, Twice weekly"}),u.irrigation_schedule&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:u.irrigation_schedule})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),r.jsx("textarea",{name:"notes",value:i.notes,onChange:y,rows:3,className:f("notes"),placeholder:"Any additional notes about this planting..."}),u.notes&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:u.notes})]})]}),r.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[r.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-xl transition-colors",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:l,className:"px-4 py-2 bg-primary-600 hover:bg-primary-700 text-white rounded-xl transition-colors disabled:opacity-50",children:l?r.jsxs("span",{className:"flex items-center",children:[r.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),t==="create"?"Creating...":"Updating..."]}):t==="create"?"Create Planting":"Update Planting"})]})]})},o5=()=>{const{user:e}=Fe(),[t,s]=N.useState([]),[n,i]=N.useState(!0),[a,l]=N.useState(""),[o,c]=N.useState(""),[d,u]=N.useState(""),[h,m]=N.useState(""),[v,x]=N.useState(!1),[y,b]=N.useState("create"),[f,p]=N.useState(null),g=["Admin","Farm Manager"].includes(e==null?void 0:e.role);N.useEffect(()=>{j()},[]);const j=async()=>{try{i(!0);const M=await ra.getPlantings();s(M.data),l("")}catch(M){console.error("Failed to fetch plantings:",M),l("Failed to load plantings. Please try again."),s([{id:1,crop_name:"Corn",variety:"Sweet Corn - Golden Bantam",location:"North Field A",area_planted:5.2,planting_date:"2024-03-15",expected_harvest_date:"2024-07-15",growth_stage:"flowering",status:"active",notes:"Growth is excellent, showing early signs of flowering"},{id:2,crop_name:"Tomatoes",variety:"Roma Tomatoes",location:"Greenhouse B",area_planted:2.1,planting_date:"2024-02-20",expected_harvest_date:"2024-06-20",growth_stage:"fruiting",status:"active",notes:"Some plants showing signs of blight, treatment applied"}])}finally{i(!1)}},w=M=>{switch(M){case"healthy":return"bg-green-100 text-green-700 border-green-200";case"needs_attention":return"bg-yellow-100 text-yellow-700 border-yellow-200";case"ready_for_harvest":return"bg-blue-100 text-blue-700 border-blue-200";case"diseased":return"bg-red-100 text-red-700 border-red-200";default:return"bg-gray-100 text-gray-700 border-gray-200"}},_=M=>{switch(M){case"seedling":return"bg-green-50 text-green-600";case"vegetative":return"bg-blue-50 text-blue-600";case"flowering":return"bg-purple-50 text-purple-600";case"fruiting":return"bg-orange-50 text-orange-600";case"maturation":return"bg-yellow-50 text-yellow-600";default:return"bg-gray-50 text-gray-600"}},k=t.filter(M=>{var $,X,K;const B=(($=M.crop_name)==null?void 0:$.toLowerCase().includes(o.toLowerCase()))||((X=M.variety)==null?void 0:X.toLowerCase().includes(o.toLowerCase()))||((K=M.field_location)==null?void 0:K.toLowerCase().includes(o.toLowerCase())),S=!d||M.growth_stage===d,A=!h||M.crop_name===h;return B&&S&&A}),P=[...new Set(t.map(M=>M.crop_name))],E=t.reduce((M,B)=>M+B.area_planted,0),C=t.filter(M=>M.status==="ready_for_harvest").length,R=()=>{g&&(b("create"),p(null),x(!0))},I=M=>{g&&(b("edit"),p(M),x(!0))},H=M=>{b("view"),p(M),x(!0)},Q=M=>{y==="create"?s([M,...t]):y==="edit"&&s(t.map(B=>B.id===M.id?M:B)),x(!1),p(null)},Z=async M=>{if(g&&window.confirm(`Are you sure you want to delete the "${M.crop_name}" planting? This action cannot be undone.`))try{await ra.deletePlanting(M.id),s(t.filter(B=>B.id!==M.id))}catch(B){console.error("Failed to delete planting:",B),l("Failed to delete planting. Please try again.")}};return n?r.jsx("div",{className:"flex items-center justify-center min-h-96",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[r.jsx("div",{children:r.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:"Planting Tracker"})}),g&&r.jsxs("button",{onClick:R,className:"mt-4 sm:mt-0 bg-primary-600 hover:bg-primary-700 text-white px-4 py-2 rounded-xl flex items-center space-x-2 transition-colors",children:[r.jsx(qn,{className:"w-5 h-5"}),r.jsx("span",{children:"Add Planting"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[r.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Plantings"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.length})]}),r.jsx(Xd,{className:"w-8 h-8 text-green-600"})]})}),r.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Area"}),r.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[Number(E||0).toFixed(1)," acres"]})]}),r.jsx(wf,{className:"w-8 h-8 text-blue-600"})]})}),r.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Ready for Harvest"}),r.jsx("p",{className:"text-2xl font-bold text-green-600",children:C})]}),r.jsx(We,{className:"w-8 h-8 text-green-600"})]})}),r.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Crop Varieties"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:P.length})]}),r.jsx(Yo,{className:"w-8 h-8 text-purple-600"})]})})]}),r.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search Plantings"}),r.jsxs("div",{className:"relative",children:[r.jsx(Hr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),r.jsx("input",{type:"text",placeholder:"Search by crop, variety, or location...",value:o,onChange:M=>c(M.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Filter by Crop"}),r.jsxs("select",{value:h,onChange:M=>m(M.target.value),className:"w-full border border-gray-300 rounded-xl px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[r.jsx("option",{value:"",children:"All Crops"}),P.map(M=>r.jsx("option",{value:M,children:M},M))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Filter by Growth Stage"}),r.jsxs("select",{value:d,onChange:M=>u(M.target.value),className:"w-full border border-gray-300 rounded-xl px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[r.jsx("option",{value:"",children:"All Growth Stages"}),r.jsx("option",{value:"seedling",children:"Seedling"}),r.jsx("option",{value:"vegetative",children:"Vegetative"}),r.jsx("option",{value:"flowering",children:"Flowering"}),r.jsx("option",{value:"fruiting",children:"Fruiting"}),r.jsx("option",{value:"maturation",children:"Maturation"})]})]}),r.jsx("div",{className:"flex items-end",children:r.jsxs("div",{className:"text-sm text-gray-600",children:[r.jsxs("p",{className:"font-medium",children:["Showing: ",k.length," plantings"]}),r.jsxs("p",{children:["  Area: ",Number(k.reduce((M,B)=>M+(Number(B.area_planted)||0),0)).toFixed(1)," acres"]})]})})]})}),r.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:r.jsx("div",{className:"p-6",children:k.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(Xd,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No plantings found"}),r.jsx("p",{className:"text-gray-600",children:t.length===0?"Get started by recording your first planting.":"Try adjusting your search criteria."}),g&&t.length===0&&r.jsx("button",{onClick:R,className:"mt-4 bg-primary-600 hover:bg-primary-700 text-white px-4 py-2 rounded-xl transition-colors",children:"Record First Planting"})]}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:k.map(M=>r.jsxs("div",{className:"border border-gray-200 rounded-xl p-6 hover:shadow-md transition-shadow",children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:M.crop_name}),r.jsx("p",{className:"text-sm text-gray-600",children:M.variety})]}),r.jsx("span",{className:`inline-block px-2 py-1 text-xs font-medium rounded-full border ${w(M.status)}`,children:M.status.replace("_"," ")})]}),r.jsxs("div",{className:"space-y-3 mb-4",children:[r.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[r.jsx(ka,{className:"w-4 h-4"}),r.jsx("span",{children:M.field_location})]}),r.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[r.jsx(wf,{className:"w-4 h-4"}),r.jsxs("span",{children:[M.area_planted," acres"]})]}),r.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[r.jsx(He,{className:"w-4 h-4"}),r.jsxs("span",{children:["Planted: ",new Date(M.planting_date).toLocaleDateString()]})]}),r.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[r.jsx(fs,{className:"w-4 h-4"}),r.jsxs("span",{children:["Harvest: ",M.expected_harvest_date?new Date(M.expected_harvest_date).toLocaleDateString():"Not set"]})]}),r.jsx("div",{className:"border-t pt-2",children:r.jsx("span",{className:`inline-block px-2 py-1 text-xs font-medium rounded-full ${_(M.growth_stage)}`,children:M.growth_stage.replace("_"," ")})})]}),M.notes&&r.jsx("div",{className:"mb-4 p-3 bg-gray-50 rounded-lg",children:r.jsxs("p",{className:"text-xs text-gray-600 italic",children:['"',M.notes,'"']})}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsxs("button",{onClick:()=>H(M),className:"flex-1 bg-gray-100 hover:bg-gray-200 text-gray-700 px-3 py-2 rounded-lg text-sm font-medium transition-colors flex items-center justify-center space-x-1",children:[r.jsx(Ut,{className:"w-4 h-4"}),r.jsx("span",{children:"View"})]}),g&&r.jsxs(r.Fragment,{children:[r.jsxs("button",{onClick:()=>I(M),className:"flex-1 bg-primary-100 hover:bg-primary-200 text-primary-700 px-3 py-2 rounded-lg text-sm font-medium transition-colors flex items-center justify-center space-x-1",children:[r.jsx(on,{className:"w-4 h-4"}),r.jsx("span",{children:"Update"})]}),r.jsx("button",{onClick:()=>Z(M),className:"bg-red-100 hover:bg-red-200 text-red-700 px-3 py-2 rounded-lg text-sm font-medium transition-colors flex items-center justify-center",children:r.jsx(Hs,{className:"w-4 h-4"})})]})]})]},M.id))})})}),v&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:y==="create"?"Record New Planting":y==="edit"?"Update Planting":"Planting Details"}),r.jsx("button",{onClick:()=>x(!1),className:"text-gray-400 hover:text-gray-600",children:r.jsx(Ae,{className:"w-6 h-6"})})]}),y==="view"&&f?r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Crop Name"}),r.jsx("p",{className:"mt-1 text-sm text-gray-900",children:f.crop_name})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Variety"}),r.jsx("p",{className:"mt-1 text-sm text-gray-900",children:f.variety||"Not specified"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Location"}),r.jsx("p",{className:"mt-1 text-sm text-gray-900",children:f.location||"Not specified"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Area Planted"}),r.jsxs("p",{className:"mt-1 text-sm text-gray-900",children:[f.area_planted," hectares"]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Growth Stage"}),r.jsx("span",{className:`inline-block px-2 py-1 text-xs font-medium rounded-full ${_(f.growth_stage)}`,children:f.growth_stage.charAt(0).toUpperCase()+f.growth_stage.slice(1)})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Growth Stage"}),r.jsx("span",{className:`inline-block px-2 py-1 text-xs font-medium rounded-full ${_(f.growth_stage)}`,children:f.growth_stage.replace("_"," ")})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Spacing"}),r.jsx("p",{className:"mt-1 text-sm text-gray-900",children:f.spacing})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Planting Depth"}),r.jsx("p",{className:"mt-1 text-sm text-gray-900",children:f.depth})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Irrigation Schedule"}),r.jsx("p",{className:"mt-1 text-sm text-gray-900",children:f.irrigation_schedule})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Fertilizer"}),r.jsx("p",{className:"mt-1 text-sm text-gray-900",children:f.fertilizer_applied})]})]}),f.notes&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Notes"}),r.jsx("p",{className:"mt-1 text-sm text-gray-900 bg-gray-50 p-3 rounded-lg",children:f.notes})]}),r.jsx("div",{className:"flex justify-end space-x-3 mt-6",children:r.jsx("button",{onClick:()=>x(!1),className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-xl transition-colors",children:"Close"})})]}):r.jsx(l5,{planting:f,mode:y,onPlantingSaved:Q,onCancel:()=>x(!1)})]})})]})},c5=()=>{const[e,t]=N.useState(null),[s,n]=N.useState(!1),[i,a]=N.useState(!1);N.useEffect(()=>{(()=>{if(window.matchMedia("(display-mode: standalone)").matches){a(!0);return}if(window.navigator.standalone===!0){a(!0);return}})();const c=u=>{u.preventDefault(),t(u),n(!0)},d=u=>{n(!1),a(!0),t(null)};return window.addEventListener("beforeinstallprompt",c),window.addEventListener("appinstalled",d),()=>{window.removeEventListener("beforeinstallprompt",c),window.removeEventListener("appinstalled",d)}},[]);const l=async()=>{e&&(e.prompt(),await e.userChoice,t(null),n(!1))};return i||!s?null:r.jsx("div",{className:"fixed bottom-4 right-4 bg-white shadow-lg rounded-lg p-4 z-50 max-w-sm animate-in slide-in-from-bottom-4 duration-300",children:r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx("div",{className:"flex-shrink-0 p-2 bg-primary-100 rounded-lg",children:r.jsx(fh,{className:"w-5 h-5 text-primary-600"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-sm font-medium text-gray-900 mb-3",children:"Install the Livestock Management App for a better experience!"}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("button",{className:"px-4 py-2 bg-primary-600 hover:bg-primary-700 text-white text-sm font-medium rounded-lg transition-colors duration-200",onClick:l,children:"Install"}),r.jsx("button",{className:"px-4 py-2 text-gray-500 hover:text-gray-700 text-sm font-medium transition-colors duration-200",onClick:()=>n(!1),children:"Maybe later"})]})]})]})})},d5=()=>{const[e,t]=N.useState({name:"",email:"",phone:"",avatar:""}),[s,n]=N.useState(""),[i,a]=N.useState(!1),[l,o]=N.useState(!1),[c,d]=N.useState({current:"",new:"",confirm:""}),[u,h]=N.useState(!1),[m,v]=N.useState({}),[x,y]=N.useState(!1),[b,f]=N.useState(""),p="BNHDRbAjLIrCvsBN1AIZpWClyCqUAUPq9ae46_TgiLy2uY4CGWmozC_cjdLIJtTX-Pg8Zsk0AZzlENIH-YqHMq8";N.useEffect(()=>{async function R(){try{const I=await ln.getProfile();t({name:I.data.full_name,email:I.data.email,phone:I.data.phone,avatar:I.data.avatar||""}),v({push:I.data.notif_push??!1,email:I.data.notif_email??!0,morningTime:I.data.notif_morning??"08:00",eveningTime:I.data.notif_evening??"18:00"})}catch{}}R()},[]);const g=R=>{t({...e,[R.target.name]:R.target.value})},j=R=>{const I=R.target.files[0];I&&n(URL.createObjectURL(I))},w=async()=>{y(!0),f(""),y(!1),a(!1),f("Profile updated successfully!"),setTimeout(()=>f(""),3e3)},_=R=>{d({...c,[R.target.name]:R.target.value})},k=async()=>{y(!0),f(""),y(!1),o(!1),d({current:"",new:"",confirm:""}),f("Password changed successfully!"),setTimeout(()=>f(""),3e3)},P=async()=>{if("serviceWorker"in navigator&&"PushManager"in window){const R=await navigator.serviceWorker.ready;if(await Notification.requestPermission()!=="granted"){alert("Permission denied for push notifications.");return}const H=await R.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:p});await fetch("/api/notifications/subscribe",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(H)}),alert("Push notifications enabled!")}},E=R=>{const{name:I,value:H,type:Q,checked:Z}=R.target;I==="push"&&Z&&P(),v({...m,[I]:Q==="checkbox"?Z:H})},C=async()=>{y(!0),f("");try{await ln.updateNotifications({push:m.push,email:m.email,morningTime:m.morningTime,eveningTime:m.eveningTime}),m.push&&await P(),f("Notification settings updated!")}catch{f("Failed to update notification settings.")}y(!1),h(!1),setTimeout(()=>f(""),3e3)};return r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:r.jsx("div",{children:r.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:"Profile Settings"})})}),b&&r.jsxs("div",{className:"bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded-xl text-sm flex items-center",children:[r.jsx(Xa,{className:"w-5 h-5 mr-2"}),b]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"lg:col-span-2",children:[r.jsxs("div",{className:"card-enhanced",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-xl flex items-center justify-center",children:r.jsx(zt,{className:"w-5 h-5 text-blue-600"})}),r.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Personal Information"})]}),!i&&r.jsxs("button",{onClick:()=>a(!0),className:"bg-primary-600 hover:bg-primary-700 text-white px-4 py-2 rounded-xl flex items-center space-x-2 transition-colors",children:[r.jsx(jf,{className:"w-4 h-4"}),r.jsx("span",{children:"Edit"})]})]}),r.jsxs("div",{className:"flex items-center mb-6",children:[r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"w-20 h-20 rounded-full bg-gradient-to-br from-primary-400 to-primary-600 p-1",children:r.jsx("div",{className:"w-full h-full rounded-full bg-white p-1",children:s||e.avatar?r.jsx("img",{src:s||e.avatar,alt:"Profile Avatar",className:"w-full h-full rounded-full object-cover"}):r.jsx("div",{className:"w-full h-full rounded-full bg-slate-100 flex items-center justify-center",children:r.jsx(zt,{className:"w-8 h-8 text-slate-400"})})})}),i&&r.jsxs("label",{className:"absolute -bottom-2 -right-2 p-2 bg-primary-600 hover:bg-primary-700 rounded-full cursor-pointer transition-colors shadow-lg",children:[r.jsx(En,{className:"w-4 h-4 text-white"}),r.jsx("input",{type:"file",accept:"image/*",onChange:j,className:"hidden"})]})]}),r.jsxs("div",{className:"ml-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-slate-800",children:e.name}),r.jsx("p",{className:"text-slate-600",children:e.email})]})]}),i?r.jsxs("div",{className:"space-y-4 animate-in slide-in-from-top-2 duration-300",children:[r.jsxs("div",{className:"relative",children:[r.jsx(zt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-slate-400"}),r.jsx("input",{type:"text",name:"name",value:e.name,onChange:g,placeholder:"Full Name",className:"w-full pl-12 pr-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-all"})]}),r.jsxs("div",{className:"relative",children:[r.jsx(as,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-slate-400"}),r.jsx("input",{type:"email",name:"email",value:e.email,onChange:g,placeholder:"Email Address",className:"w-full pl-12 pr-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-all"})]}),r.jsxs("div",{className:"relative",children:[r.jsx(uo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-slate-400"}),r.jsx("input",{type:"tel",name:"phone",value:e.phone,onChange:g,placeholder:"Phone Number",className:"w-full pl-12 pr-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-all"})]}),r.jsxs("div",{className:"flex space-x-3 pt-2",children:[r.jsxs("button",{onClick:w,disabled:x,className:"flex-1 flex items-center justify-center space-x-2 px-6 py-3 bg-gradient-to-r from-primary-600 to-primary-700 hover:from-primary-700 hover:to-primary-800 text-white rounded-xl transition-all duration-200 hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed shadow-lg",children:[x?r.jsx("div",{className:"w-5 h-5 border-2 border-white/20 border-t-white rounded-full animate-spin"}):r.jsx(Xa,{className:"w-5 h-5"}),r.jsx("span",{children:x?"Saving...":"Save Changes"})]}),r.jsx("button",{onClick:()=>a(!1),className:"px-6 py-3 bg-slate-100 hover:bg-slate-200 text-slate-700 rounded-xl transition-all duration-200 hover:scale-105",children:r.jsx(Ae,{className:"w-5 h-5"})})]})]}):r.jsxs("div",{className:"space-y-4 animate-in fade-in duration-300",children:[r.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-slate-50 rounded-xl",children:[r.jsx(zt,{className:"w-5 h-5 text-slate-500"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-slate-500",children:"Name"}),r.jsx("p",{className:"font-medium text-slate-800",children:e.name})]})]}),r.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-slate-50 rounded-xl",children:[r.jsx(as,{className:"w-5 h-5 text-slate-500"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-slate-500",children:"Email"}),r.jsx("p",{className:"font-medium text-slate-800",children:e.email})]})]}),r.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-slate-50 rounded-xl",children:[r.jsx(uo,{className:"w-5 h-5 text-slate-500"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-slate-500",children:"Phone"}),r.jsx("p",{className:"font-medium text-slate-800",children:e.phone})]})]})]})]}),r.jsxs("div",{className:"bg-white/80 backdrop-blur-sm mt-4 rounded-2xl shadow-xl border border-white/20 p-8 hover:shadow-2xl transition-all duration-300",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"p-2 bg-slate-100 rounded-xl",children:r.jsx(xs,{className:"w-6 h-6 text-slate-600"})}),r.jsx("h2",{className:"text-2xl font-semibold text-slate-800",children:"Security"})]}),!l&&r.jsxs("button",{onClick:()=>o(!0),className:"flex items-center space-x-2 px-4 py-2 bg-slate-50 hover:bg-slate-100 text-slate-600 rounded-xl transition-all duration-200 hover:scale-105",children:[r.jsx(xs,{className:"w-4 h-4"}),r.jsx("span",{children:"Change"})]})]}),l?r.jsxs("div",{className:"space-y-4 animate-in slide-in-from-top-2 duration-300",children:[r.jsxs("div",{className:"relative",children:[r.jsx(xs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-slate-400"}),r.jsx("input",{type:"password",name:"current",value:c.current,onChange:_,placeholder:"Current Password",className:"w-full pl-12 pr-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-all"})]}),r.jsxs("div",{className:"relative",children:[r.jsx(xs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-slate-400"}),r.jsx("input",{type:"password",name:"new",value:c.new,onChange:_,placeholder:"New Password",className:"w-full pl-12 pr-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-all"})]}),r.jsxs("div",{className:"relative",children:[r.jsx(xs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-slate-400"}),r.jsx("input",{type:"password",name:"confirm",value:c.confirm,onChange:_,placeholder:"Confirm New Password",className:"w-full pl-12 pr-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-all"})]}),r.jsxs("div",{className:"flex space-x-3 pt-2",children:[r.jsxs("button",{onClick:k,disabled:x,className:"flex-1 flex items-center justify-center space-x-2 px-6 py-3 bg-gradient-to-r from-primary-600 to-primary-700 hover:from-primary-700 hover:to-primary-800 text-white rounded-xl transition-all duration-200 hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed shadow-lg",children:[x?r.jsx("div",{className:"w-5 h-5 border-2 border-white/20 border-t-white rounded-full animate-spin"}):r.jsx(Xa,{className:"w-5 h-5"}),r.jsx("span",{children:x?"Changing...":"Update Password"})]}),r.jsx("button",{onClick:()=>o(!1),className:"px-6 py-3 bg-slate-100 hover:bg-slate-200 text-slate-700 rounded-xl transition-all duration-200 hover:scale-105",children:r.jsx(Ae,{className:"w-5 h-5"})})]})]}):r.jsxs("div",{className:"p-4 bg-slate-50 rounded-xl text-center",children:[r.jsx(xs,{className:"w-12 h-12 mx-auto text-slate-400 mb-3"}),r.jsx("p",{className:"text-slate-600",children:"Your password is secure"}),r.jsx("p",{className:"text-sm text-slate-500",children:"Last changed 30 days ago"})]})]})]}),r.jsxs("div",{className:"mt-6 bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-white/20 p-8 hover:shadow-2xl transition-all duration-300",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"p-2 bg-primary-100 rounded-xl",children:r.jsx(gf,{className:"w-6 h-6 text-primary-600"})}),r.jsx("h2",{className:"text-2xl font-semibold text-slate-800",children:"Notifications"})]}),!u&&r.jsxs("button",{onClick:()=>h(!0),className:"flex items-center space-x-2 px-4 py-2 bg-primary-50 hover:bg-primary-100 text-primary-600 rounded-xl transition-all duration-200 hover:scale-105",children:[r.jsx(jf,{className:"w-4 h-4"}),r.jsx("span",{children:"Edit"})]})]}),u?r.jsxs("div",{className:"grid md:grid-cols-2 gap-6 animate-in slide-in-from-top-2 duration-300",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-slate-700 mb-3",children:"Preferences"}),r.jsxs("label",{className:"flex items-center space-x-3 p-3 bg-slate-50 rounded-xl cursor-pointer hover:bg-slate-100 transition-colors",children:[r.jsx("input",{type:"checkbox",name:"push",checked:m.push,onChange:E,className:"w-5 h-5 text-primary-600 border-2 border-slate-300 rounded focus:ring-primary-500 focus:ring-2"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-slate-800",children:"Push Notifications"}),r.jsx("p",{className:"text-sm text-slate-600",children:"Receive notifications on your device"})]})]}),r.jsxs("label",{className:"flex items-center space-x-3 p-3 bg-slate-50 rounded-xl cursor-pointer hover:bg-slate-100 transition-colors",children:[r.jsx("input",{type:"checkbox",name:"email",checked:m.email,onChange:E,className:"w-5 h-5 text-primary-600 border-2 border-slate-300 rounded focus:ring-primary-500 focus:ring-2"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-slate-800",children:"Email Notifications"}),r.jsx("p",{className:"text-sm text-slate-600",children:"Receive updates via email"})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-slate-700 mb-3",children:"Schedule"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Morning Summary"}),r.jsx("input",{type:"time",name:"morningTime",value:m.morningTime,onChange:E,className:"w-full px-4 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200 bg-slate-50 focus:bg-white"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Evening Summary"}),r.jsx("input",{type:"time",name:"eveningTime",value:m.eveningTime,onChange:E,className:"w-full px-4 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200 bg-slate-50 focus:bg-white"})]})]})]}),r.jsxs("div",{className:"md:col-span-2 flex space-x-3 pt-4",children:[r.jsxs("button",{onClick:C,disabled:x,className:"flex-1 flex items-center justify-center space-x-2 px-6 py-3 bg-gradient-to-r from-primary-600 to-primary-700 hover:from-primary-700 hover:to-primary-800 text-white rounded-xl transition-all duration-200 hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed shadow-lg",children:[x?r.jsx("div",{className:"w-5 h-5 border-2 border-white/20 border-t-white rounded-full animate-spin"}):r.jsx(Xa,{className:"w-5 h-5"}),r.jsx("span",{children:x?"Saving...":"Save Settings"})]}),r.jsxs("button",{onClick:P,className:"flex-1 flex items-center justify-center space-x-2 px-6 py-3 bg-gradient-to-r from-slate-600 to-slate-700 hover:from-slate-700 hover:to-slate-800 text-white rounded-xl transition-all duration-200 hover:scale-105 shadow-lg",children:[r.jsx(gf,{className:"w-5 h-5"}),r.jsx("span",{children:"Subscribe to Push"})]}),r.jsx("button",{onClick:()=>h(!1),className:"px-6 py-3 bg-slate-100 hover:bg-slate-200 text-slate-700 rounded-xl transition-all duration-200 hover:scale-105",children:r.jsx(Ae,{className:"w-5 h-5"})})]})]}):r.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-4 animate-in fade-in duration-300",children:[r.jsxs("div",{className:"p-4 bg-slate-50 rounded-xl",children:[r.jsx("p",{className:"text-sm text-slate-500 mb-1",children:"Push Notifications"}),r.jsx("p",{className:"font-semibold text-slate-800",children:m.push?"Enabled":"Disabled"})]}),r.jsxs("div",{className:"p-4 bg-slate-50 rounded-xl",children:[r.jsx("p",{className:"text-sm text-slate-500 mb-1",children:"Email Notifications"}),r.jsx("p",{className:"font-semibold text-slate-800",children:m.email?"Enabled":"Disabled"})]}),r.jsxs("div",{className:"p-4 bg-slate-50 rounded-xl",children:[r.jsx("p",{className:"text-sm text-slate-500 mb-1",children:"Morning Summary"}),r.jsx("p",{className:"font-semibold text-slate-800",children:m.morningTime})]}),r.jsxs("div",{className:"p-4 bg-slate-50 rounded-xl",children:[r.jsx("p",{className:"text-sm text-slate-500 mb-1",children:"Evening Summary"}),r.jsx("p",{className:"font-semibold text-slate-800",children:m.eveningTime})]})]})]})]})]})},u5=()=>r.jsx("div",{className:"min-h-screen bg-primary-50 flex items-center justify-center px-4 sm:px-6 lg:px-8",children:r.jsx("div",{className:"max-w-md w-full bg-farm-50 space-y-8",children:r.jsxs("div",{className:"card-enhanced text-center",children:[r.jsx("div",{className:"w-16 h-16 bg-farm-100 rounded-full flex items-center justify-center mx-auto mb-6 shadow-lg",children:r.jsx(We,{className:"w-8 h-8 text-green-600"})}),r.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4",children:"Registration Successful!"}),r.jsxs("div",{className:"rounded-2xl overflow-hidden shadow-lg mb-8 mt-8",children:[r.jsxs("div",{className:"bg-gradient-to-r from-green-600 to-green-400 flex items-center px-4 py-3",children:[r.jsx(as,{className:"w-6 h-6 text-white mr-3"}),r.jsx("span",{className:"text-white font-semibold text-base",children:"What happens next?"})]}),r.jsx("div",{className:"bg-green-50 px-6 py-5",children:r.jsxs("ul",{className:"space-y-2 text-green-800 text-sm list-disc list-inside pl-2",children:[r.jsx("li",{children:r.jsx("span",{className:"font-medium",children:"Your account will be reviewed and approved by our team"})}),r.jsx("li",{children:r.jsx("span",{className:"font-medium",children:"You'll receive an email notification once approved"})}),r.jsx("li",{children:r.jsx("span",{className:"font-medium",children:"After approval, you can login and access the app"})})]})})]}),r.jsxs(bt,{to:"/login",className:"btn-primary w-full flex items-center justify-center space-x-2",children:[r.jsx(Ps,{className:"w-4 h-4"}),r.jsx("span",{children:"Back to Login"})]})]})})}),h5=()=>{var b,f,p,g,j,w,_,k,P;const{user:e}=Fe(),[t,s]=N.useState(!0),[n,i]=N.useState(""),[a,l]=N.useState({portfolio:null,kpis:null,allocatedAnimals:[],healthCoverage:0,mortalityRate:0,totalInvestment:0,expectedReturns:0}),[o,c]=N.useState({from:new Date(Date.now()-90*24*60*60*1e3).toISOString().split("T")[0],to:new Date().toISOString().split("T")[0]}),d=(e==null?void 0:e.role)==="Investor";N.useEffect(()=>{d&&u()},[d,o]);const u=async()=>{try{if(s(!0),navigator.onLine)try{const C=(await xi.getInvestors()).data.find(M=>M.user_id===e.id);if(!C){i("No investor profile found. Please contact administration.");return}const[R,I,H]=await Promise.all([xi.getInvestorDashboard(C.id),xi.getInvestorKPIs(C.id,o),xi.getInvestorAllocations(C.id)]),Z=(await bs.getLivestock()).data.filter(M=>H.data.some(B=>B.animal_id===M.id));l({portfolio:R.data,kpis:I.data,allocatedAnimals:Z,healthCoverage:I.data.healthCoverage||0,mortalityRate:I.data.mortalityRate||0,totalInvestment:C.investment_amount||0,expectedReturns:C.expected_return_percentage||0})}catch(E){throw E}else throw new Error("Offline mode");i("")}catch(E){console.error("Failed to fetch investor dashboard:",E);try{const C=await ms.livestock();l(R=>({...R,allocatedAnimals:C||[]})),i("Limited data available offline. Connect to internet for full dashboard.")}catch{i("Failed to load dashboard data. Please check your connection.")}}finally{s(!1)}},h=async E=>{var C;try{const R=await qg.exportReport(E,{investor_id:(C=a.portfolio)==null?void 0:C.id,...o}),I=window.URL.createObjectURL(new Blob([R.data])),H=document.createElement("a");H.href=I,H.setAttribute("download",`investor-${E}-${o.from}-${o.to}.pdf`),document.body.appendChild(H),H.click(),H.remove(),alert("Report exported successfully!")}catch(R){console.error("Failed to export report:",R),alert("Failed to export report. Please try again.")}},m={labels:["Vaccinated","Not Vaccinated"],datasets:[{data:[a.healthCoverage,100-a.healthCoverage],backgroundColor:["#16a34a","#ef4444"],borderWidth:0}]},v={labels:[...new Set(a.allocatedAnimals.map(E=>E.species))],datasets:[{data:[...new Set(a.allocatedAnimals.map(E=>E.species))].map(E=>a.allocatedAnimals.filter(C=>C.species===E).length),backgroundColor:["#3b82f6","#8b5cf6","#f59e0b","#ef4444","#10b981"],borderWidth:0}]},x={labels:((f=(b=a.kpis)==null?void 0:b.mortalityTrend)==null?void 0:f.map(E=>E.month))||[],datasets:[{label:"Mortality Rate (%)",data:((g=(p=a.kpis)==null?void 0:p.mortalityTrend)==null?void 0:g.map(E=>E.rate))||[],borderColor:"#ef4444",backgroundColor:"rgba(239, 68, 68, 0.1)",fill:!0,tension:.4}]},y={labels:((w=(j=a.kpis)==null?void 0:j.performanceHistory)==null?void 0:w.map(E=>E.month))||[],datasets:[{label:"Portfolio Value",data:((k=(_=a.kpis)==null?void 0:_.performanceHistory)==null?void 0:k.map(E=>E.value))||[],borderColor:"#16a34a",backgroundColor:"rgba(22, 163, 74, 0.1)",fill:!0,tension:.4}]};return d?t?r.jsx("div",{className:"flex items-center justify-center min-h-96",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Investor Dashboard"}),r.jsx("p",{className:"text-gray-600 mt-2",children:"Monitor your livestock investment portfolio"})]}),r.jsxs("div",{className:"mt-4 sm:mt-0 flex items-center space-x-4",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("input",{type:"date",value:o.from,onChange:E=>c(C=>({...C,from:E.target.value})),className:"border border-gray-300 rounded-lg px-3 py-2 text-sm"}),r.jsx("span",{className:"text-gray-500",children:"to"}),r.jsx("input",{type:"date",value:o.to,onChange:E=>c(C=>({...C,to:E.target.value})),className:"border border-gray-300 rounded-lg px-3 py-2 text-sm"})]}),r.jsxs("button",{onClick:()=>h("investor"),className:"bg-primary-600 hover:bg-primary-700 text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[r.jsx(fh,{className:"w-4 h-4"}),r.jsx("span",{children:"Export"})]})]})]}),n&&r.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 text-yellow-700 px-4 py-3 rounded-xl flex items-center",children:[r.jsx(Ws,{className:"w-5 h-5 mr-2"}),n]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[r.jsx("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 p-6 rounded-xl shadow-sm border border-green-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-green-700",children:"Total Investment"}),r.jsxs("p",{className:"text-2xl font-bold text-green-900",children:["₦",a.totalInvestment.toLocaleString()]})]}),r.jsx($2,{className:"w-8 h-8 text-green-600"})]})}),r.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-cyan-50 p-6 rounded-xl shadow-sm border border-blue-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-blue-700",children:"Portfolio Animals"}),r.jsx("p",{className:"text-2xl font-bold text-blue-900",children:a.allocatedAnimals.length})]}),r.jsx(Pt,{className:"w-8 h-8 text-blue-600"})]})}),r.jsx("div",{className:"bg-gradient-to-br from-purple-50 to-indigo-50 p-6 rounded-xl shadow-sm border border-purple-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-purple-700",children:"Health Coverage"}),r.jsxs("p",{className:"text-2xl font-bold text-purple-900",children:[a.healthCoverage.toFixed(1),"%"]})]}),r.jsx(Bt,{className:"w-8 h-8 text-purple-600"})]})}),r.jsx("div",{className:"bg-gradient-to-br from-orange-50 to-red-50 p-6 rounded-xl shadow-sm border border-orange-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-orange-700",children:"Mortality Rate"}),r.jsxs("p",{className:"text-2xl font-bold text-orange-900",children:[a.mortalityRate.toFixed(2),"%"]})]}),r.jsx(Ws,{className:"w-8 h-8 text-orange-600"})]})})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[r.jsx(Bt,{className:"w-5 h-5 mr-2 text-green-600"}),"Health Coverage"]}),r.jsx("div",{className:"h-64 flex items-center justify-center",children:r.jsx(Li,{data:m,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom"}}}})})]}),r.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[r.jsx(sy,{className:"w-5 h-5 mr-2 text-blue-600"}),"Species Distribution"]}),r.jsx("div",{className:"h-64 flex items-center justify-center",children:r.jsx(Li,{data:v,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom"}}}})})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[r.jsx(Sa,{className:"w-5 h-5 mr-2 text-green-600"}),"Portfolio Performance"]}),r.jsx("div",{className:"h-64",children:r.jsx(au,{data:y,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}},scales:{y:{beginAtZero:!0,title:{display:!0,text:"Value (₦)"}}}}})})]}),r.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[r.jsx(Ws,{className:"w-5 h-5 mr-2 text-red-600"}),"Mortality Trend"]}),r.jsx("div",{className:"h-64",children:r.jsx(au,{data:x,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}},scales:{y:{beginAtZero:!0,title:{display:!0,text:"Mortality Rate (%)"}}}}})})]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[r.jsxs("div",{className:"p-6 border-b border-gray-200",children:[r.jsxs("h2",{className:"text-xl font-semibold text-gray-900 flex items-center",children:[r.jsx(Ns,{className:"w-5 h-5 mr-2"}),"Portfolio Animals"]}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Detailed view of your allocated animals"})]}),r.jsx("div",{className:"p-6",children:a.allocatedAnimals.length===0?r.jsxs("div",{className:"text-center py-8",children:[r.jsx(Pt,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No animals allocated"}),r.jsx("p",{className:"text-gray-600",children:"Contact administration to allocate animals to your portfolio."})]}):r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b border-gray-200",children:[r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Animal"}),r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Species"}),r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Health Status"}),r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Age"}),r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Weight"}),r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Location"})]})}),r.jsx("tbody",{children:a.allocatedAnimals.map(E=>r.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[r.jsx("td",{className:"py-3 px-4",children:r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-900",children:E.name}),r.jsx("p",{className:"text-sm text-gray-600",children:E.identification_number})]})}),r.jsx("td",{className:"py-3 px-4 capitalize",children:E.species}),r.jsx("td",{className:"py-3 px-4",children:r.jsx("span",{className:`inline-block px-2 py-1 text-xs font-medium rounded-full ${E.health_status==="healthy"?"bg-green-100 text-green-800":E.health_status==="sick"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:E.health_status})}),r.jsx("td",{className:"py-3 px-4",children:E.age?`${E.age} years`:"N/A"}),r.jsx("td",{className:"py-3 px-4",children:E.weight?`${E.weight} kg`:"N/A"}),r.jsx("td",{className:"py-3 px-4",children:E.location||"N/A"})]},E.id))})]})})})]}),r.jsxs("div",{className:"bg-gradient-to-br from-gray-50 to-gray-100 rounded-xl p-6 border border-gray-200",children:[r.jsxs("h2",{className:"text-xl font-semibold text-gray-900 mb-4 flex items-center",children:[r.jsx(Q2,{className:"w-5 h-5 mr-2"}),"Investment Summary"]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"bg-white p-4 rounded-lg",children:[r.jsx("p",{className:"text-sm font-medium text-gray-700 mb-1",children:"Initial Investment"}),r.jsxs("p",{className:"text-xl font-bold text-gray-900",children:["₦",a.totalInvestment.toLocaleString()]})]}),r.jsxs("div",{className:"bg-white p-4 rounded-lg",children:[r.jsx("p",{className:"text-sm font-medium text-gray-700 mb-1",children:"Expected Return"}),r.jsxs("p",{className:"text-xl font-bold text-green-600",children:[a.expectedReturns,"%"]})]}),r.jsxs("div",{className:"bg-white p-4 rounded-lg",children:[r.jsx("p",{className:"text-sm font-medium text-gray-700 mb-1",children:"Investment Period"}),r.jsxs("p",{className:"text-xl font-bold text-gray-900",children:[(P=a.portfolio)!=null&&P.investment_date?Math.floor((Date.now()-new Date(a.portfolio.investment_date))/(1e3*60*60*24)):0," days"]})]})]}),r.jsx("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg border border-blue-200",children:r.jsxs("p",{className:"text-sm text-blue-800",children:[r.jsx("strong",{children:"Note:"})," This dashboard provides real-time insights into your livestock investment portfolio. All data is updated regularly to reflect the current status of your allocated animals and investment performance."]})})]})]}):r.jsx("div",{className:"min-h-screen flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Ws,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),r.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Access Denied"}),r.jsx("p",{className:"text-gray-600",children:"This dashboard is only available to investors."})]})})},st=({children:e})=>{const{user:t,loading:s}=Fe();return s?r.jsx("div",{className:"min-h-screen flex items-center justify-center",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):t?e:r.jsx(ta,{to:"/login"})},wn=({children:e})=>{const{user:t,loading:s}=Fe();return s?r.jsx("div",{className:"min-h-screen flex items-center justify-center",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):t?r.jsx(ta,{to:"/dashboard"}):e},m5=({children:e})=>{const{user:t,loading:s}=Fe();return s?r.jsx("div",{className:"min-h-screen flex items-center justify-center",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):t?t.role==="Admin"||t.role==="Admin User"||t.role==="Farm Manager"?e:r.jsx(ta,{to:"/dashboard"}):r.jsx(ta,{to:"/login"})};function f5(){return r.jsxs(T2,{children:[r.jsx(T1,{children:r.jsxs(N1,{children:[r.jsx(je,{path:"/login",element:r.jsx(wn,{children:r.jsx(tN,{})})}),r.jsx(je,{path:"/register",element:r.jsx(wn,{children:r.jsx(sN,{})})}),r.jsx(je,{path:"/forgot-password",element:r.jsx(wn,{children:r.jsx(nN,{})})}),r.jsx(je,{path:"/reset-password/:token",element:r.jsx(wn,{children:r.jsx(rN,{})})}),r.jsx(je,{path:"/verify-email/:token",element:r.jsx(wn,{children:r.jsx(kf,{})})}),r.jsx(je,{path:"/verify-email",element:r.jsx(wn,{children:r.jsx(kf,{})})}),r.jsx(je,{path:"/registration-successful",element:r.jsx(wn,{children:r.jsx(u5,{})})}),r.jsx(je,{path:"/",element:r.jsx(st,{children:r.jsx(tt,{children:r.jsx(Sf,{})})})}),r.jsx(je,{path:"/dashboard",element:r.jsx(st,{children:r.jsx(tt,{children:r.jsx(Sf,{})})})}),r.jsx(je,{path:"/tasks",element:r.jsx(st,{children:r.jsx(tt,{children:r.jsx(m_,{})})})}),r.jsx(je,{path:"/task-history",element:r.jsx(st,{children:r.jsx(tt,{children:r.jsx(f_,{})})})}),r.jsx(je,{path:"/task-details/:id",element:r.jsx(st,{children:r.jsx(tt,{children:r.jsx(x_,{})})})}),r.jsx(je,{path:"/calendar",element:r.jsx(st,{children:r.jsx(tt,{children:r.jsx(p_,{})})})}),r.jsx(je,{path:"/livestock",element:r.jsx(st,{children:r.jsx(tt,{children:r.jsx(JC,{})})})}),r.jsx(je,{path:"/profile",element:r.jsx(st,{children:r.jsx(tt,{children:r.jsx(d5,{})})})}),r.jsx(je,{path:"/users",element:r.jsx(st,{children:r.jsx(tt,{children:r.jsx(n5,{})})})}),r.jsx(je,{path:"/livestock/health",element:r.jsx(st,{children:r.jsx(tt,{children:r.jsx(e5,{})})})}),r.jsx(je,{path:"/farm-resources",element:r.jsx(st,{children:r.jsx(tt,{children:r.jsx(i5,{})})})}),r.jsx(je,{path:"/farm-map",element:r.jsx(st,{children:r.jsx(tt,{children:r.jsx(a5,{})})})}),r.jsx(je,{path:"/planting-tracker",element:r.jsx(st,{children:r.jsx(tt,{children:r.jsx(o5,{})})})}),r.jsx(je,{path:"/reports",element:r.jsx(st,{children:r.jsx(m5,{children:r.jsx(tt,{children:r.jsx(GC,{})})})})}),r.jsx(je,{path:"/investor-dashboard",element:r.jsx(st,{children:r.jsx(tt,{children:r.jsx(h5,{})})})})]})}),r.jsx(c5,{})]})}"serviceWorker"in navigator&&window.addEventListener("load",async()=>{try{const e=await navigator.serviceWorker.register("/sw.js");console.log("[Main] Service Worker registered successfully:",e.scope),await qo(),console.log("[Main] Offline sync initialized"),navigator.serviceWorker.addEventListener("message",t=>{t.data&&t.data.type==="BACKGROUND_SYNC"&&(console.log("[Main] Background sync triggered by service worker"),Zx(()=>Promise.resolve().then(()=>M2),void 0).then(({syncPendingCalls:s})=>{s()}))})}catch(e){console.error("[Main] Service Worker registration failed:",e)}});Vc.createRoot(document.getElementById("root")).render(r.jsx(ga.StrictMode,{children:r.jsx(f5,{})}));
